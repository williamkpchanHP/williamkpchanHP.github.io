<base target="_blank"><html><head><title>Git</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="https://williamkpchan.github.io/maincss.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.js"></script>
<script src="https://williamkpchan.github.io/lazyload.min.js"></script>
<script type='text/javascript' src='https://williamkpchan.github.io/mainscript.js'></script>
<script src="https://williamkpchan.github.io/commonfunctions.js"></script>
<script src="https://d3js.org/d3.v4.min.js"></script>

<script>
  var showTopicNumber = false;
  var topicEnd = ", ";
  var bookid = "Git"
  var markerName = "h2"
</script>
<style>
body{width:80%;margin-left: 10%; font-size:22px;}
h1, h2 {color: gold;}
strong {color: orange;}
pre{width:100%;}
#toc{color:cyan; font-size:20px;}
img {max-width:90%; display: inline-block; margin-top: 2%;margin-bottom: 1%; border-radius:3px; background-color:#044;}
</style></head><body onkeypress="chkKey()"><center>
<h1>Git</h1>
<a href="#mustWatch" class="red goldbs" target="_self">Must Watch!</a>
<br><br>
<div id="toc"></div></center>
<br><br>
<div id="mustWatch"><center><span class="red">MustWatch</span></center><br>
</div>
<br>

    
<h2><span class="orange">git - the stupid content tracker</span></h2>




<h2><br>synopsis</h2>


<pre><em>git</em> [--version] [--help] [-C &lt;path&gt;] [-c &lt;name&gt;=&lt;value&gt;]
    [--exec-path[=&lt;path&gt;]] [--html-path] [--man-path] [--info-path]
    [-p|--paginate|-P|--no-pager] [--no-replace-objects] [--bare]
    [--git-dir=&lt;path&gt;] [--work-tree=&lt;path&gt;] [--namespace=&lt;name&gt;]
    [--super-prefix=&lt;path&gt;] [--config-env=&lt;name&gt;=&lt;envvar&gt;]
    &lt;command&gt; [&lt;args&gt;]</pre>




<h2>description</h2>


<p>Git is a fast, scalable, distributed revision control system with an
unusually rich command set that provides both high-level operations
and full access to internals.</p>


<p>See <a href="/docs/gittutorial">gittutorial[7]</a> to get started, then see
<a href="/docs/giteveryday">giteveryday[7]</a> for a useful minimum set of
commands.  The <a href="/docs/user-manual">Git User’s Manual</a> has a more
in-depth introduction.</p>


<p>After you mastered the basic concepts, you can come back to this
page to learn what commands Git offers.  You can learn more about
individual Git commands with "git help command".  <a href="/docs/gitcli">gitcli[7]</a>
manual page gives you an overview of the command-line command syntax.</p>


<p>A formatted and hyperlinked copy of the latest Git documentation
can be viewed at <a href="https://git.github.io/htmldocs/git.html">https://git.github.io/htmldocs/git.html</a>
or <a href="https://git-scm.com/docs">https://git-scm.com/docs</a>.</p>




<h2>options</h2>


<dl>
<dt> --version </dt>
<dd>
<p>Prints the Git suite version that the <em>git</em> program came from.</p>

<p>This option is internally converted to <code>git version ...</code> and accepts
the same options as the <a href="/docs/git-version">git-version[1]</a> command. If <code>--help</code> is
also given, it takes precedence over <code>--version</code>.</p>

</dd>
<dt> --help </dt>
<dd>
<p>Prints the synopsis and a list of the most commonly used
commands. If the option <code>--all</code> or <code>-a</code> is given then all
available commands are printed. If a Git command is named this
option will bring up the manual page for that command.</p>

<p>Other options are available to control how the manual page is
displayed. See <a href="/docs/git-help">git-help[1]</a> for more information,
because <code>git --help ...</code> is converted internally into <code>git
help ...</code>.</p>

</dd>
<dt> -C &lt;path&gt; </dt>
<dd>
<p>Run as if git was started in <em>&lt;path&gt;</em> instead of the current working
directory.  When multiple <code>-C</code> options are given, each subsequent
non-absolute <code>-C &lt;path&gt;</code> is interpreted relative to the preceding <code>-C
&lt;path&gt;</code>.  If <em>&lt;path&gt;</em> is present but empty, e.g. <code>-C ""</code>, then the
current working directory is left unchanged.</p>

<p>This option affects options that expect path name like <code>--git-dir</code> and
<code>--work-tree</code> in that their interpretations of the path names would be
made relative to the working directory caused by the <code>-C</code> option. For
example the following invocations are equivalent:</p>



<pre>git --git-dir=a.git --work-tree=b -C c status
git --git-dir=c/a.git --work-tree=c/b status</pre>


</dd>
<dt> -c &lt;name&gt;=&lt;value&gt; </dt>
<dd>
<p>Pass a configuration parameter to the command. The value
given will override values from configuration files.
The &lt;name&gt; is expected in the same format as listed by
<em>git config</em> (subkeys separated by dots).</p>

<p>Note that omitting the <code>=</code> in <code>git -c foo.bar ...</code> is allowed and sets
<code>foo.bar</code> to the boolean true value (just like <code>[foo]bar</code> would in a
config file). Including the equals but with an empty value (like <code>git -c
foo.bar= ...</code>) sets <code>foo.bar</code> to the empty string which <code>git config
--type=bool</code> will convert to <code>false</code>.</p>

</dd>
<dt> --config-env=&lt;name&gt;=&lt;envvar&gt; </dt>
<dd>
<p>Like <code>-c &lt;name&gt;=&lt;value&gt;</code>, give configuration variable
<em>&lt;name&gt;</em> a value, where &lt;envvar&gt; is the name of an
environment variable from which to retrieve the value. Unlike
<code>-c</code> there is no shortcut for directly setting the value to an
empty string, instead the environment variable itself must be
set to the empty string.  It is an error if the <code>&lt;envvar&gt;</code> does not exist
in the environment. <code>&lt;envvar&gt;</code> may not contain an equals sign
to avoid ambiguity with <code>&lt;name&gt;</code> containing one.</p>

<p>This is useful for cases where you want to pass transitory
configuration options to git, but are doing so on OS’s where
other processes might be able to read your cmdline
(e.g. <code>/proc/self/cmdline</code>), but not your environ
(e.g. <code>/proc/self/environ</code>). That behavior is the default on
Linux, but may not be on your system.</p>


<p>Note that this might add security for variables such as
<code>http.extraHeader</code> where the sensitive information is part of
the value, but not e.g. <code>url.&lt;base&gt;.insteadOf</code> where the
sensitive information can be part of the key.</p>

</dd>
<dt> --exec-path[=&lt;path&gt;] </dt>
<dd>
<p>Path to wherever your core Git programs are installed.
This can also be controlled by setting the GIT_EXEC_PATH
environment variable. If no path is given, <em>git</em> will print
the current setting and then exit.</p>
</dd>
<dt> --html-path </dt>
<dd>
<p>Print the path, without trailing slash, where Git’s HTML
documentation is installed and exit.</p>
</dd>
<dt> --man-path </dt>
<dd>
<p>Print the manpath (see <code>man(1)</code>) for the man pages for
this version of Git and exit.</p>
</dd>
<dt> --info-path </dt>
<dd>
<p>Print the path where the Info files documenting this
version of Git are installed and exit.</p>
</dd>
<dt> -p </dt>
<dt> --paginate </dt>
<dd>
<p>Pipe all output into <em>less</em> (or if set, $PAGER) if standard
output is a terminal.  This overrides the <code>pager.&lt;cmd&gt;</code>
configuration options (see the "Configuration Mechanism" section
below).</p>
</dd>
<dt> -P </dt>
<dt> --no-pager </dt>
<dd>
<p>Do not pipe Git output into a pager.</p>
</dd>
<dt> --git-dir=&lt;path&gt; </dt>
<dd>
<p>Set the path to the repository (".git" directory). This can also be
controlled by setting the <code>GIT_DIR</code> environment variable. It can be
an absolute path or relative path to current working directory.</p>

<p>Specifying the location of the ".git" directory using this
option (or <code>GIT_DIR</code> environment variable) turns off the
repository discovery that tries to find a directory with
".git" subdirectory (which is how the repository and the
top-level of the working tree are discovered), and tells Git
that you are at the top level of the working tree.  If you
are not at the top-level directory of the working tree, you
should tell Git where the top-level of the working tree is,
with the <code>--work-tree=&lt;path&gt;</code> option (or <code>GIT_WORK_TREE</code>
environment variable)</p>


<p>If you just want to run git as if it was started in <code>&lt;path&gt;</code> then use
<code>git -C &lt;path&gt;</code>.</p>

</dd>
<dt> --work-tree=&lt;path&gt; </dt>
<dd>
<p>Set the path to the working tree. It can be an absolute path
or a path relative to the current working directory.
This can also be controlled by setting the GIT_WORK_TREE
environment variable and the core.worktree configuration
variable (see core.worktree in <a href="/docs/git-config">git-config[1]</a> for a
more detailed discussion).</p>
</dd>
<dt> --namespace=&lt;path&gt; </dt>
<dd>
<p>Set the Git namespace.  See <a href="/docs/gitnamespaces">gitnamespaces[7]</a> for more
details.  Equivalent to setting the <code>GIT_NAMESPACE</code> environment
variable.</p>
</dd>
<dt> --super-prefix=&lt;path&gt; </dt>
<dd>
<p>Currently for internal use only.  Set a prefix which gives a path from
above a repository down to its root.  One use is to give submodules
context about the superproject that invoked it.</p>
</dd>
<dt> --bare </dt>
<dd>
<p>Treat the repository as a bare repository.  If GIT_DIR
environment is not set, it is set to the current working
directory.</p>
</dd>
<dt> --no-replace-objects </dt>
<dd>
<p>Do not use replacement refs to replace Git objects. See
<a href="/docs/git-replace">git-replace[1]</a> for more information.</p>
</dd>
<dt> --literal-pathspecs </dt>
<dd>
<p>Treat pathspecs literally (i.e. no globbing, no pathspec magic).
This is equivalent to setting the <code>GIT_LITERAL_PATHSPECS</code> environment
variable to <code>1</code>.</p>
</dd>
<dt> --glob-pathspecs </dt>
<dd>
<p>Add "glob" magic to all pathspec. This is equivalent to setting
the <code>GIT_GLOB_PATHSPECS</code> environment variable to <code>1</code>. Disabling
globbing on individual pathspecs can be done using pathspec
magic ":(literal)"</p>
</dd>
<dt> --noglob-pathspecs </dt>
<dd>
<p>Add "literal" magic to all pathspec. This is equivalent to setting
the <code>GIT_NOGLOB_PATHSPECS</code> environment variable to <code>1</code>. Enabling
globbing on individual pathspecs can be done using pathspec
magic ":(glob)"</p>
</dd>
<dt> --icase-pathspecs </dt>
<dd>
<p>Add "icase" magic to all pathspec. This is equivalent to setting
the <code>GIT_ICASE_PATHSPECS</code> environment variable to <code>1</code>.</p>
</dd>
<dt> --no-optional-locks </dt>
<dd>
<p>Do not perform optional operations that require locks. This is
equivalent to setting the <code>GIT_OPTIONAL_LOCKS</code> to <code>0</code>.</p>
</dd>
<dt> --list-cmds=group[,group…<U+200B>] </dt>
<dd>
<p>List commands by group. This is an internal/experimental
option and may change or be removed in the future. Supported
groups are: builtins, parseopt (builtin commands that use
parse-options), main (all commands in libexec directory),
others (all other commands in <code>$PATH</code> that have git- prefix),
list-&lt;category&gt; (see categories in command-list.txt),
nohelpers (exclude helper commands), alias and config
(retrieve command list from config variable completion.commands)</p>
</dd>
</dl>




<h2>git commands</h2>


<p>We divide Git into high level ("porcelain") commands and low level
("plumbing") commands.</p>




<h2>High-level commands (porcelain)</h2>


<p>We separate the porcelain commands into the main commands and some
ancillary user utilities.</p>


<h3>
Main porcelain commands</h3>

<dl>
<dt> <a href="/docs/git-add">git-add[1]</a> </dt>
<dd>
<p>Add file contents to the index</p>
</dd>
<dt> <a href="/docs/git-am">git-am[1]</a> </dt>
<dd>
<p>Apply a series of patches from a mailbox</p>
</dd>
<dt> <a href="/docs/git-archive">git-archive[1]</a> </dt>
<dd>
<p>Create an archive of files from a named tree</p>
</dd>
<dt> <a href="/docs/git-bisect">git-bisect[1]</a> </dt>
<dd>
<p>Use binary search to find the commit that introduced a bug</p>
</dd>
<dt> <a href="/docs/git-branch">git-branch[1]</a> </dt>
<dd>
<p>List, create, or delete branches</p>
</dd>
<dt> <a href="/docs/git-bundle">git-bundle[1]</a> </dt>
<dd>
<p>Move objects and refs by archive</p>
</dd>
<dt> <a href="/docs/git-checkout">git-checkout[1]</a> </dt>
<dd>
<p>Switch branches or restore working tree files</p>
</dd>
<dt> <a href="/docs/git-cherry-pick">git-cherry-pick[1]</a> </dt>
<dd>
<p>Apply the changes introduced by some existing commits</p>
</dd>
<dt> <a href="/docs/git-citool">git-citool[1]</a> </dt>
<dd>
<p>Graphical alternative to git-commit</p>
</dd>
<dt> <a href="/docs/git-clean">git-clean[1]</a> </dt>
<dd>
<p>Remove untracked files from the working tree</p>
</dd>
<dt> <a href="/docs/git-clone">git-clone[1]</a> </dt>
<dd>
<p>Clone a repository into a new directory</p>
</dd>
<dt> <a href="/docs/git-commit">git-commit[1]</a> </dt>
<dd>
<p>Record changes to the repository</p>
</dd>
<dt> <a href="/docs/git-describe">git-describe[1]</a> </dt>
<dd>
<p>Give an object a human readable name based on an available ref</p>
</dd>
<dt> <a href="/docs/git-diff">git-diff[1]</a> </dt>
<dd>
<p>Show changes between commits, commit and working tree, etc</p>
</dd>
<dt> <a href="/docs/git-fetch">git-fetch[1]</a> </dt>
<dd>
<p>Download objects and refs from another repository</p>
</dd>
<dt> <a href="/docs/git-format-patch">git-format-patch[1]</a> </dt>
<dd>
<p>Prepare patches for e-mail submission</p>
</dd>
<dt> <a href="/docs/git-gc">git-gc[1]</a> </dt>
<dd>
<p>Cleanup unnecessary files and optimize the local repository</p>
</dd>
<dt> <a href="/docs/git-grep">git-grep[1]</a> </dt>
<dd>
<p>Print lines matching a pattern</p>
</dd>
<dt> <a href="/docs/git-gui">git-gui[1]</a> </dt>
<dd>
<p>A portable graphical interface to Git</p>
</dd>
<dt> <a href="/docs/git-init">git-init[1]</a> </dt>
<dd>
<p>Create an empty Git repository or reinitialize an existing one</p>
</dd>
<dt> <a href="/docs/git-log">git-log[1]</a> </dt>
<dd>
<p>Show commit logs</p>
</dd>
<dt> <a href="/docs/git-maintenance">git-maintenance[1]</a> </dt>
<dd>
<p>Run tasks to optimize Git repository data</p>
</dd>
<dt> <a href="/docs/git-merge">git-merge[1]</a> </dt>
<dd>
<p>Join two or more development histories together</p>
</dd>
<dt> <a href="/docs/git-mv">git-mv[1]</a> </dt>
<dd>
<p>Move or rename a file, a directory, or a symlink</p>
</dd>
<dt> <a href="/docs/git-notes">git-notes[1]</a> </dt>
<dd>
<p>Add or inspect object notes</p>
</dd>
<dt> <a href="/docs/git-pull">git-pull[1]</a> </dt>
<dd>
<p>Fetch from and integrate with another repository or a local branch</p>
</dd>
<dt> <a href="/docs/git-push">git-push[1]</a> </dt>
<dd>
<p>Update remote refs along with associated objects</p>
</dd>
<dt> <a href="/docs/git-range-diff">git-range-diff[1]</a> </dt>
<dd>
<p>Compare two commit ranges (e.g. two versions of a branch)</p>
</dd>
<dt> <a href="/docs/git-rebase">git-rebase[1]</a> </dt>
<dd>
<p>Reapply commits on top of another base tip</p>
</dd>
<dt> <a href="/docs/git-reset">git-reset[1]</a> </dt>
<dd>
<p>Reset current HEAD to the specified state</p>
</dd>
<dt> <a href="/docs/git-restore">git-restore[1]</a> </dt>
<dd>
<p>Restore working tree files</p>
</dd>
<dt> <a href="/docs/git-revert">git-revert[1]</a> </dt>
<dd>
<p>Revert some existing commits</p>
</dd>
<dt> <a href="/docs/git-rm">git-rm[1]</a> </dt>
<dd>
<p>Remove files from the working tree and from the index</p>
</dd>
<dt> <a href="/docs/git-shortlog">git-shortlog[1]</a> </dt>
<dd>
<p>Summarize <em>git log</em> output</p>
</dd>
<dt> <a href="/docs/git-show">git-show[1]</a> </dt>
<dd>
<p>Show various types of objects</p>
</dd>
<dt> <a href="/docs/git-sparse-checkout">git-sparse-checkout[1]</a> </dt>
<dd>
<p>Initialize and modify the sparse-checkout</p>
</dd>
<dt> <a href="/docs/git-stash">git-stash[1]</a> </dt>
<dd>
<p>Stash the changes in a dirty working directory away</p>
</dd>
<dt> <a href="/docs/git-status">git-status[1]</a> </dt>
<dd>
<p>Show the working tree status</p>
</dd>
<dt> <a href="/docs/git-submodule">git-submodule[1]</a> </dt>
<dd>
<p>Initialize, update or inspect submodules</p>
</dd>
<dt> <a href="/docs/git-switch">git-switch[1]</a> </dt>
<dd>
<p>Switch branches</p>
</dd>
<dt> <a href="/docs/git-tag">git-tag[1]</a> </dt>
<dd>
<p>Create, list, delete or verify a tag object signed with GPG</p>
</dd>
<dt> <a href="/docs/git-worktree">git-worktree[1]</a> </dt>
<dd>
<p>Manage multiple working trees</p>
</dd>
<dt> <a href="/docs/gitk">gitk[1]</a> </dt>
<dd>
<p>The Git repository browser</p>
</dd>
</dl>



<h3>
Ancillary Commands</h3>

<p>Manipulators:</p>


<dl>
<dt> <a href="/docs/git-config">git-config[1]</a> </dt>
<dd>
<p>Get and set repository or global options</p>
</dd>
<dt> <a href="/docs/git-fast-export">git-fast-export[1]</a> </dt>
<dd>
<p>Git data exporter</p>
</dd>
<dt> <a href="/docs/git-fast-import">git-fast-import[1]</a> </dt>
<dd>
<p>Backend for fast Git data importers</p>
</dd>
<dt> <a href="/docs/git-filter-branch">git-filter-branch[1]</a> </dt>
<dd>
<p>Rewrite branches</p>
</dd>
<dt> <a href="/docs/git-mergetool">git-mergetool[1]</a> </dt>
<dd>
<p>Run merge conflict resolution tools to resolve merge conflicts</p>
</dd>
<dt> <a href="/docs/git-pack-refs">git-pack-refs[1]</a> </dt>
<dd>
<p>Pack heads and tags for efficient repository access</p>
</dd>
<dt> <a href="/docs/git-prune">git-prune[1]</a> </dt>
<dd>
<p>Prune all unreachable objects from the object database</p>
</dd>
<dt> <a href="/docs/git-reflog">git-reflog[1]</a> </dt>
<dd>
<p>Manage reflog information</p>
</dd>
<dt> <a href="/docs/git-remote">git-remote[1]</a> </dt>
<dd>
<p>Manage set of tracked repositories</p>
</dd>
<dt> <a href="/docs/git-repack">git-repack[1]</a> </dt>
<dd>
<p>Pack unpacked objects in a repository</p>
</dd>
<dt> <a href="/docs/git-replace">git-replace[1]</a> </dt>
<dd>
<p>Create, list, delete refs to replace objects</p>
</dd>
</dl>


<p>Interrogators:</p>


<dl>
<dt> <a href="/docs/git-annotate">git-annotate[1]</a> </dt>
<dd>
<p>Annotate file lines with commit information</p>
</dd>
<dt> <a href="/docs/git-blame">git-blame[1]</a> </dt>
<dd>
<p>Show what revision and author last modified each line of a file</p>
</dd>
<dt> <a href="/docs/git-bugreport">git-bugreport[1]</a> </dt>
<dd>
<p>Collect information for user to file a bug report</p>
</dd>
<dt> <a href="/docs/git-count-objects">git-count-objects[1]</a> </dt>
<dd>
<p>Count unpacked number of objects and their disk consumption</p>
</dd>
<dt> <a href="/docs/git-difftool">git-difftool[1]</a> </dt>
<dd>
<p>Show changes using common diff tools</p>
</dd>
<dt> <a href="/docs/git-fsck">git-fsck[1]</a> </dt>
<dd>
<p>Verifies the connectivity and validity of the objects in the database</p>
</dd>
<dt> <a href="/docs/git-help">git-help[1]</a> </dt>
<dd>
<p>Display help information about Git</p>
</dd>
<dt> <a href="/docs/git-instaweb">git-instaweb[1]</a> </dt>
<dd>
<p>Instantly browse your working repository in gitweb</p>
</dd>
<dt> <a href="/docs/git-merge-tree">git-merge-tree[1]</a> </dt>
<dd>
<p>Show three-way merge without touching index</p>
</dd>
<dt> <a href="/docs/git-rerere">git-rerere[1]</a> </dt>
<dd>
<p>Reuse recorded resolution of conflicted merges</p>
</dd>
<dt> <a href="/docs/git-show-branch">git-show-branch[1]</a> </dt>
<dd>
<p>Show branches and their commits</p>
</dd>
<dt> <a href="/docs/git-verify-commit">git-verify-commit[1]</a> </dt>
<dd>
<p>Check the GPG signature of commits</p>
</dd>
<dt> <a href="/docs/git-verify-tag">git-verify-tag[1]</a> </dt>
<dd>
<p>Check the GPG signature of tags</p>
</dd>
<dt> <a href="/docs/git-whatchanged">git-whatchanged[1]</a> </dt>
<dd>
<p>Show logs with difference each commit introduces</p>
</dd>
<dt> <a href="/docs/gitweb">gitweb[1]</a> </dt>
<dd>
<p>Git web interface (web frontend to Git repositories)</p>
</dd>
</dl>



<h3>
Interacting with Others</h3>

<p>These commands are to interact with foreign SCM and with other
people via patch over e-mail.</p>


<dl>
<dt> <a href="/docs/git-archimport">git-archimport[1]</a> </dt>
<dd>
<p>Import a GNU Arch repository into Git</p>
</dd>
<dt> <a href="/docs/git-cvsexportcommit">git-cvsexportcommit[1]</a> </dt>
<dd>
<p>Export a single commit to a CVS checkout</p>
</dd>
<dt> <a href="/docs/git-cvsimport">git-cvsimport[1]</a> </dt>
<dd>
<p>Salvage your data out of another SCM people love to hate</p>
</dd>
<dt> <a href="/docs/git-cvsserver">git-cvsserver[1]</a> </dt>
<dd>
<p>A CVS server emulator for Git</p>
</dd>
<dt> <a href="/docs/git-imap-send">git-imap-send[1]</a> </dt>
<dd>
<p>Send a collection of patches from stdin to an IMAP folder</p>
</dd>
<dt> <a href="/docs/git-p4">git-p4[1]</a> </dt>
<dd>
<p>Import from and submit to Perforce repositories</p>
</dd>
<dt> <a href="/docs/git-quiltimport">git-quiltimport[1]</a> </dt>
<dd>
<p>Applies a quilt patchset onto the current branch</p>
</dd>
<dt> <a href="/docs/git-request-pull">git-request-pull[1]</a> </dt>
<dd>
<p>Generates a summary of pending changes</p>
</dd>
<dt> <a href="/docs/git-send-email">git-send-email[1]</a> </dt>
<dd>
<p>Send a collection of patches as emails</p>
</dd>
<dt> <a href="/docs/git-svn">git-svn[1]</a> </dt>
<dd>
<p>Bidirectional operation between a Subversion repository and Git</p>
</dd>
</dl>



<h3>
Reset, restore and revert</h3>

<p>There are three commands with similar names: <code>git reset</code>,
<code>git restore</code> and <code>git revert</code>.</p>


<ul>
<li>
<p><a href="/docs/git-revert">git-revert[1]</a> is about making a new commit that reverts the
changes made by other commits.</p>
</li>
<li>
<p><a href="/docs/git-restore">git-restore[1]</a> is about restoring files in the working tree
from either the index or another commit. This command does not
update your branch. The command can also be used to restore files in
the index from another commit.</p>
</li>
<li>
<p><a href="/docs/git-reset">git-reset[1]</a> is about updating your branch, moving the tip
in order to add or remove commits from the branch. This operation
changes the commit history.</p>

<p><code>git reset</code> can also be used to restore the index, overlapping with
<code>git restore</code>.</p>

</li>
</ul>





<h2>Low-level commands (plumbing)</h2>


<p>Although Git includes its
own porcelain layer, its low-level commands are sufficient to support
development of alternative porcelains.  Developers of such porcelains
might start by reading about <a href="/docs/git-update-index">git-update-index[1]</a> and
<a href="/docs/git-read-tree">git-read-tree[1]</a>.</p>


<p>The interface (input, output, set of options and the semantics)
to these low-level commands are meant to be a lot more stable
than Porcelain level commands, because these commands are
primarily for scripted use.  The interface to Porcelain commands
on the other hand are subject to change in order to improve the
end user experience.</p>


<p>The following description divides
the low-level commands into commands that manipulate objects (in
the repository, index, and working tree), commands that interrogate and
compare objects, and commands that move objects and references between
repositories.</p>


<h3>
Manipulation commands</h3>

<dl>
<dt> <a href="/docs/git-apply">git-apply[1]</a> </dt>
<dd>
<p>Apply a patch to files and/or to the index</p>
</dd>
<dt> <a href="/docs/git-checkout-index">git-checkout-index[1]</a> </dt>
<dd>
<p>Copy files from the index to the working tree</p>
</dd>
<dt> <a href="/docs/git-commit-graph">git-commit-graph[1]</a> </dt>
<dd>
<p>Write and verify Git commit-graph files</p>
</dd>
<dt> <a href="/docs/git-commit-tree">git-commit-tree[1]</a> </dt>
<dd>
<p>Create a new commit object</p>
</dd>
<dt> <a href="/docs/git-hash-object">git-hash-object[1]</a> </dt>
<dd>
<p>Compute object ID and optionally creates a blob from a file</p>
</dd>
<dt> <a href="/docs/git-index-pack">git-index-pack[1]</a> </dt>
<dd>
<p>Build pack index file for an existing packed archive</p>
</dd>
<dt> <a href="/docs/git-merge-file">git-merge-file[1]</a> </dt>
<dd>
<p>Run a three-way file merge</p>
</dd>
<dt> <a href="/docs/git-merge-index">git-merge-index[1]</a> </dt>
<dd>
<p>Run a merge for files needing merging</p>
</dd>
<dt> <a href="/docs/git-mktag">git-mktag[1]</a> </dt>
<dd>
<p>Creates a tag object with extra validation</p>
</dd>
<dt> <a href="/docs/git-mktree">git-mktree[1]</a> </dt>
<dd>
<p>Build a tree-object from ls-tree formatted text</p>
</dd>
<dt> <a href="/docs/git-multi-pack-index">git-multi-pack-index[1]</a> </dt>
<dd>
<p>Write and verify multi-pack-indexes</p>
</dd>
<dt> <a href="/docs/git-pack-objects">git-pack-objects[1]</a> </dt>
<dd>
<p>Create a packed archive of objects</p>
</dd>
<dt> <a href="/docs/git-prune-packed">git-prune-packed[1]</a> </dt>
<dd>
<p>Remove extra objects that are already in pack files</p>
</dd>
<dt> <a href="/docs/git-read-tree">git-read-tree[1]</a> </dt>
<dd>
<p>Reads tree information into the index</p>
</dd>
<dt> <a href="/docs/git-symbolic-ref">git-symbolic-ref[1]</a> </dt>
<dd>
<p>Read, modify and delete symbolic refs</p>
</dd>
<dt> <a href="/docs/git-unpack-objects">git-unpack-objects[1]</a> </dt>
<dd>
<p>Unpack objects from a packed archive</p>
</dd>
<dt> <a href="/docs/git-update-index">git-update-index[1]</a> </dt>
<dd>
<p>Register file contents in the working tree to the index</p>
</dd>
<dt> <a href="/docs/git-update-ref">git-update-ref[1]</a> </dt>
<dd>
<p>Update the object name stored in a ref safely</p>
</dd>
<dt> <a href="/docs/git-write-tree">git-write-tree[1]</a> </dt>
<dd>
<p>Create a tree object from the current index</p>
</dd>
</dl>



<h3>
Interrogation commands</h3>

<dl>
<dt> <a href="/docs/git-cat-file">git-cat-file[1]</a> </dt>
<dd>
<p>Provide content or type and size information for repository objects</p>
</dd>
<dt> <a href="/docs/git-cherry">git-cherry[1]</a> </dt>
<dd>
<p>Find commits yet to be applied to upstream</p>
</dd>
<dt> <a href="/docs/git-diff-files">git-diff-files[1]</a> </dt>
<dd>
<p>Compares files in the working tree and the index</p>
</dd>
<dt> <a href="/docs/git-diff-index">git-diff-index[1]</a> </dt>
<dd>
<p>Compare a tree to the working tree or index</p>
</dd>
<dt> <a href="/docs/git-diff-tree">git-diff-tree[1]</a> </dt>
<dd>
<p>Compares the content and mode of blobs found via two tree objects</p>
</dd>
<dt> <a href="/docs/git-for-each-ref">git-for-each-ref[1]</a> </dt>
<dd>
<p>Output information on each ref</p>
</dd>
<dt> <a href="/docs/git-for-each-repo">git-for-each-repo[1]</a> </dt>
<dd>
<p>Run a Git command on a list of repositories</p>
</dd>
<dt> <a href="/docs/git-get-tar-commit-id">git-get-tar-commit-id[1]</a> </dt>
<dd>
<p>Extract commit ID from an archive created using git-archive</p>
</dd>
<dt> <a href="/docs/git-ls-files">git-ls-files[1]</a> </dt>
<dd>
<p>Show information about files in the index and the working tree</p>
</dd>
<dt> <a href="/docs/git-ls-remote">git-ls-remote[1]</a> </dt>
<dd>
<p>List references in a remote repository</p>
</dd>
<dt> <a href="/docs/git-ls-tree">git-ls-tree[1]</a> </dt>
<dd>
<p>List the contents of a tree object</p>
</dd>
<dt> <a href="/docs/git-merge-base">git-merge-base[1]</a> </dt>
<dd>
<p>Find as good common ancestors as possible for a merge</p>
</dd>
<dt> <a href="/docs/git-name-rev">git-name-rev[1]</a> </dt>
<dd>
<p>Find symbolic names for given revs</p>
</dd>
<dt> <a href="/docs/git-pack-redundant">git-pack-redundant[1]</a> </dt>
<dd>
<p>Find redundant pack files</p>
</dd>
<dt> <a href="/docs/git-rev-list">git-rev-list[1]</a> </dt>
<dd>
<p>Lists commit objects in reverse chronological order</p>
</dd>
<dt> <a href="/docs/git-rev-parse">git-rev-parse[1]</a> </dt>
<dd>
<p>Pick out and massage parameters</p>
</dd>
<dt> <a href="/docs/git-show-index">git-show-index[1]</a> </dt>
<dd>
<p>Show packed archive index</p>
</dd>
<dt> <a href="/docs/git-show-ref">git-show-ref[1]</a> </dt>
<dd>
<p>List references in a local repository</p>
</dd>
<dt> <a href="/docs/git-unpack-file">git-unpack-file[1]</a> </dt>
<dd>
<p>Creates a temporary file with a blob’s contents</p>
</dd>
<dt> <a href="/docs/git-var">git-var[1]</a> </dt>
<dd>
<p>Show a Git logical variable</p>
</dd>
<dt> <a href="/docs/git-verify-pack">git-verify-pack[1]</a> </dt>
<dd>
<p>Validate packed Git archive files</p>
</dd>
</dl>


<p>In general, the interrogate commands do not touch the files in
the working tree.</p>



<h3>
Syncing repositories</h3>

<dl>
<dt> <a href="/docs/git-daemon">git-daemon[1]</a> </dt>
<dd>
<p>A really simple server for Git repositories</p>
</dd>
<dt> <a href="/docs/git-fetch-pack">git-fetch-pack[1]</a> </dt>
<dd>
<p>Receive missing objects from another repository</p>
</dd>
<dt> <a href="/docs/git-http-backend">git-http-backend[1]</a> </dt>
<dd>
<p>Server side implementation of Git over HTTP</p>
</dd>
<dt> <a href="/docs/git-send-pack">git-send-pack[1]</a> </dt>
<dd>
<p>Push objects over Git protocol to another repository</p>
</dd>
<dt> <a href="/docs/git-update-server-info">git-update-server-info[1]</a> </dt>
<dd>
<p>Update auxiliary info file to help dumb servers</p>
</dd>
</dl>


<p>The following are helper commands used by the above; end users
typically do not use them directly.</p>


<dl>
<dt> <a href="/docs/git-http-fetch">git-http-fetch[1]</a> </dt>
<dd>
<p>Download from a remote Git repository via HTTP</p>
</dd>
<dt> <a href="/docs/git-http-push">git-http-push[1]</a> </dt>
<dd>
<p>Push objects over HTTP/DAV to another repository</p>
</dd>
<dt> <a href="/docs/git-receive-pack">git-receive-pack[1]</a> </dt>
<dd>
<p>Receive what is pushed into the repository</p>
</dd>
<dt> <a href="/docs/git-shell">git-shell[1]</a> </dt>
<dd>
<p>Restricted login shell for Git-only SSH access</p>
</dd>
<dt> <a href="/docs/git-upload-archive">git-upload-archive[1]</a> </dt>
<dd>
<p>Send archive back to git-archive</p>
</dd>
<dt> <a href="/docs/git-upload-pack">git-upload-pack[1]</a> </dt>
<dd>
<p>Send objects packed back to git-fetch-pack</p>
</dd>
</dl>



<h3>
Internal helper commands</h3>

<p>These are internal helper commands used by other commands; end
users typically do not use them directly.</p>


<dl>
<dt> <a href="/docs/git-check-attr">git-check-attr[1]</a> </dt>
<dd>
<p>Display gitattributes information</p>
</dd>
<dt> <a href="/docs/git-check-ignore">git-check-ignore[1]</a> </dt>
<dd>
<p>Debug gitignore / exclude files</p>
</dd>
<dt> <a href="/docs/git-check-mailmap">git-check-mailmap[1]</a> </dt>
<dd>
<p>Show canonical names and email addresses of contacts</p>
</dd>
<dt> <a href="/docs/git-check-ref-format">git-check-ref-format[1]</a> </dt>
<dd>
<p>Ensures that a reference name is well formed</p>
</dd>
<dt> <a href="/docs/git-column">git-column[1]</a> </dt>
<dd>
<p>Display data in columns</p>
</dd>
<dt> <a href="/docs/git-credential">git-credential[1]</a> </dt>
<dd>
<p>Retrieve and store user credentials</p>
</dd>
<dt> <a href="/docs/git-credential-cache">git-credential-cache[1]</a> </dt>
<dd>
<p>Helper to temporarily store passwords in memory</p>
</dd>
<dt> <a href="/docs/git-credential-store">git-credential-store[1]</a> </dt>
<dd>
<p>Helper to store credentials on disk</p>
</dd>
<dt> <a href="/docs/git-fmt-merge-msg">git-fmt-merge-msg[1]</a> </dt>
<dd>
<p>Produce a merge commit message</p>
</dd>
<dt> <a href="/docs/git-interpret-trailers">git-interpret-trailers[1]</a> </dt>
<dd>
<p>Add or parse structured information in commit messages</p>
</dd>
<dt> <a href="/docs/git-mailinfo">git-mailinfo[1]</a> </dt>
<dd>
<p>Extracts patch and authorship from a single e-mail message</p>
</dd>
<dt> <a href="/docs/git-mailsplit">git-mailsplit[1]</a> </dt>
<dd>
<p>Simple UNIX mbox splitter program</p>
</dd>
<dt> <a href="/docs/git-merge-one-file">git-merge-one-file[1]</a> </dt>
<dd>
<p>The standard helper program to use with git-merge-index</p>
</dd>
<dt> <a href="/docs/git-patch-id">git-patch-id[1]</a> </dt>
<dd>
<p>Compute unique ID for a patch</p>
</dd>
<dt> <a href="/docs/git-sh-i18n">git-sh-i18n[1]</a> </dt>
<dd>
<p>Git’s i18n setup code for shell scripts</p>
</dd>
<dt> <a href="/docs/git-sh-setup">git-sh-setup[1]</a> </dt>
<dd>
<p>Common Git shell script setup code</p>
</dd>
<dt> <a href="/docs/git-stripspace">git-stripspace[1]</a> </dt>
<dd>
<p>Remove unnecessary whitespace</p>
</dd>
</dl>





<h2>Guides</h2>


<p>The following documentation pages are guides about Git concepts.</p>


<dl>
<dt> <a href="/docs/gitattributes">gitattributes[5]</a> </dt>
<dd>
<p>Defining attributes per path</p>
</dd>
<dt> <a href="/docs/gitcli">gitcli[7]</a> </dt>
<dd>
<p>Git command-line interface and conventions</p>
</dd>
<dt> <a href="/docs/gitcore-tutorial">gitcore-tutorial[7]</a> </dt>
<dd>
<p>A Git core tutorial for developers</p>
</dd>
<dt> <a href="/docs/gitcredentials">gitcredentials[7]</a> </dt>
<dd>
<p>Providing usernames and passwords to Git</p>
</dd>
<dt> <a href="/docs/gitcvs-migration">gitcvs-migration[7]</a> </dt>
<dd>
<p>Git for CVS users</p>
</dd>
<dt> <a href="/docs/gitdiffcore">gitdiffcore[7]</a> </dt>
<dd>
<p>Tweaking diff output</p>
</dd>
<dt> <a href="/docs/giteveryday">giteveryday[7]</a> </dt>
<dd>
<p>A useful minimum set of commands for Everyday Git</p>
</dd>
<dt> <a href="/docs/gitfaq">gitfaq[7]</a> </dt>
<dd>
<p>Frequently asked questions about using Git</p>
</dd>
<dt> <a href="/docs/gitglossary">gitglossary[7]</a> </dt>
<dd>
<p>A Git Glossary</p>
</dd>
<dt> <a href="/docs/githooks">githooks[5]</a> </dt>
<dd>
<p>Hooks used by Git</p>
</dd>
<dt> <a href="/docs/gitignore">gitignore[5]</a> </dt>
<dd>
<p>Specifies intentionally untracked files to ignore</p>
</dd>
<dt> <a href="/docs/gitmailmap">gitmailmap[5]</a> </dt>
<dd>
<p>Map author/committer names and/or E-Mail addresses</p>
</dd>
<dt> <a href="/docs/gitmodules">gitmodules[5]</a> </dt>
<dd>
<p>Defining submodule properties</p>
</dd>
<dt> <a href="/docs/gitnamespaces">gitnamespaces[7]</a> </dt>
<dd>
<p>Git namespaces</p>
</dd>
<dt> <a href="/docs/gitremote-helpers">gitremote-helpers[7]</a> </dt>
<dd>
<p>Helper programs to interact with remote repositories</p>
</dd>
<dt> <a href="/docs/gitrepository-layout">gitrepository-layout[5]</a> </dt>
<dd>
<p>Git Repository Layout</p>
</dd>
<dt> <a href="/docs/gitrevisions">gitrevisions[7]</a> </dt>
<dd>
<p>Specifying revisions and ranges for Git</p>
</dd>
<dt> <a href="/docs/gitsubmodules">gitsubmodules[7]</a> </dt>
<dd>
<p>Mounting one repository inside another</p>
</dd>
<dt> <a href="/docs/gittutorial">gittutorial[7]</a> </dt>
<dd>
<p>A tutorial introduction to Git</p>
</dd>
<dt> <a href="/docs/gittutorial-2">gittutorial-2[7]</a> </dt>
<dd>
<p>A tutorial introduction to Git: part two</p>
</dd>
<dt> <a href="/docs/gitworkflows">gitworkflows[7]</a> </dt>
<dd>
<p>An overview of recommended workflows with Git</p>
</dd>
</dl>




<h2>Configuration Mechanism</h2>


<p>Git uses a simple text format to store customizations that are per
repository and are per user.  Such a configuration file may look
like this:</p>



<pre>#
# A '#' or ';' character indicates a comment.
#

; core variables
[core]
	; Don't trust file modes
	filemode = false

; user identity
[user]
	name = "Junio C Hamano"
	email = "gitster@pobox.com"</pre>



<p>Various commands read from the configuration file and adjust
their operation accordingly.  See <a href="/docs/git-config">git-config[1]</a> for a
list and more details about the configuration mechanism.</p>




<h2>Identifier Terminology</h2>


<dl>
<dt> &lt;object&gt; </dt>
<dd>
<p>Indicates the object name for any type of object.</p>
</dd>
<dt> &lt;blob&gt; </dt>
<dd>
<p>Indicates a blob object name.</p>
</dd>
<dt> &lt;tree&gt; </dt>
<dd>
<p>Indicates a tree object name.</p>
</dd>
<dt> &lt;commit&gt; </dt>
<dd>
<p>Indicates a commit object name.</p>
</dd>
<dt> &lt;tree-ish&gt; </dt>
<dd>
<p>Indicates a tree, commit or tag object name.  A
command that takes a &lt;tree-ish&gt; argument ultimately wants to
operate on a &lt;tree&gt; object but automatically dereferences
&lt;commit&gt; and &lt;tag&gt; objects that point at a &lt;tree&gt;.</p>
</dd>
<dt> &lt;commit-ish&gt; </dt>
<dd>
<p>Indicates a commit or tag object name.  A
command that takes a &lt;commit-ish&gt; argument ultimately wants to
operate on a &lt;commit&gt; object but automatically dereferences
&lt;tag&gt; objects that point at a &lt;commit&gt;.</p>
</dd>
<dt> &lt;type&gt; </dt>
<dd>
<p>Indicates that an object type is required.
Currently one of: <code>blob</code>, <code>tree</code>, <code>commit</code>, or <code>tag</code>.</p>
</dd>
<dt> &lt;file&gt; </dt>
<dd>
<p>Indicates a filename - almost always relative to the
root of the tree structure <code>GIT_INDEX_FILE</code> describes.</p>
</dd>
</dl>




<h2>Symbolic Identifiers</h2>


<p>Any Git command accepting any &lt;object&gt; can also use the following
symbolic notation:</p>


<dl>
<dt> HEAD </dt>
<dd>
<p>indicates the head of the current branch.</p>
</dd>
<dt> &lt;tag&gt; </dt>
<dd>
<p>a valid tag <em>name</em>
(i.e. a <code>refs/tags/&lt;tag&gt;</code> reference).</p>
</dd>
<dt> &lt;head&gt; </dt>
<dd>
<p>a valid head <em>name</em>
(i.e. a <code>refs/heads/&lt;head&gt;</code> reference).</p>
</dd>
</dl>


<p>For a more complete list of ways to spell object names, see
"SPECIFYING REVISIONS" section in <a href="/docs/gitrevisions">gitrevisions[7]</a>.</p>




<h2>File/Directory Structure</h2>


<p>Please see the <a href="/docs/gitrepository-layout">gitrepository-layout[5]</a> document.</p>


<p>Read <a href="/docs/githooks">githooks[5]</a> for more details about each hook.</p>


<p>Higher level SCMs may provide and manage additional information in the
<code>$GIT_DIR</code>.</p>




<h2>Terminology</h2>


<p>Please see <a href="/docs/gitglossary">gitglossary[7]</a>.</p>




<h2>Environment Variables</h2>


<p>Various Git commands use the following environment variables:</p>


<h3>
The Git Repository</h3>

<p>These environment variables apply to <em>all</em> core Git commands. Nb: it
is worth noting that they may be used/overridden by SCMS sitting above
Git so take care if using a foreign front-end.</p>


<dl>
<dt> <code>GIT_INDEX_FILE</code> </dt>
<dd>
<p>This environment allows the specification of an alternate
index file. If not specified, the default of <code>$GIT_DIR/index</code>
is used.</p>
</dd>
<dt> <code>GIT_INDEX_VERSION</code> </dt>
<dd>
<p>This environment variable allows the specification of an index
version for new repositories.  It won’t affect existing index
files.  By default index file version 2 or 3 is used. See
<a href="/docs/git-update-index">git-update-index[1]</a> for more information.</p>
</dd>
<dt> <code>GIT_OBJECT_DIRECTORY</code> </dt>
<dd>
<p>If the object storage directory is specified via this
environment variable then the sha1 directories are created
underneath - otherwise the default <code>$GIT_DIR/objects</code>
directory is used.</p>
</dd>
<dt> <code>GIT_ALTERNATE_OBJECT_DIRECTORIES</code> </dt>
<dd>
<p>Due to the immutable nature of Git objects, old objects can be
archived into shared, read-only directories. This variable
specifies a ":" separated (on Windows ";" separated) list
of Git object directories which can be used to search for Git
objects. New objects will not be written to these directories.</p>

<p>Entries that begin with <code>"</code> (double-quote) will be interpreted
as C-style quoted paths, removing leading and trailing
double-quotes and respecting backslash escapes. E.g., the value
<code>"path-with-\"-and-:-in-it":vanilla-path</code> has two paths:
<code>path-with-"-and-:-in-it</code> and <code>vanilla-path</code>.</p>

</dd>
<dt> <code>GIT_DIR</code> </dt>
<dd>
<p>If the <code>GIT_DIR</code> environment variable is set then it
specifies a path to use instead of the default <code>.git</code>
for the base of the repository.
The <code>--git-dir</code> command-line option also sets this value.</p>
</dd>
<dt> <code>GIT_WORK_TREE</code> </dt>
<dd>
<p>Set the path to the root of the working tree.
This can also be controlled by the <code>--work-tree</code> command-line
option and the core.worktree configuration variable.</p>
</dd>
<dt> <code>GIT_NAMESPACE</code> </dt>
<dd>
<p>Set the Git namespace; see <a href="/docs/gitnamespaces">gitnamespaces[7]</a> for details.
The <code>--namespace</code> command-line option also sets this value.</p>
</dd>
<dt> <code>GIT_CEILING_DIRECTORIES</code> </dt>
<dd>
<p>This should be a colon-separated list of absolute paths.  If
set, it is a list of directories that Git should not chdir up
into while looking for a repository directory (useful for
excluding slow-loading network directories).  It will not
exclude the current working directory or a GIT_DIR set on the
command line or in the environment.  Normally, Git has to read
the entries in this list and resolve any symlink that
might be present in order to compare them with the current
directory.  However, if even this access is slow, you
can add an empty entry to the list to tell Git that the
subsequent entries are not symlinks and needn’t be resolved;
e.g.,
<code>GIT_CEILING_DIRECTORIES=/maybe/symlink::/very/slow/non/symlink</code>.</p>
</dd>
<dt> <code>GIT_DISCOVERY_ACROSS_FILESYSTEM</code> </dt>
<dd>
<p>When run in a directory that does not have ".git" repository
directory, Git tries to find such a directory in the parent
directories to find the top of the working tree, but by default it
does not cross filesystem boundaries.  This environment variable
can be set to true to tell Git not to stop at filesystem
boundaries.  Like <code>GIT_CEILING_DIRECTORIES</code>, this will not affect
an explicit repository directory set via <code>GIT_DIR</code> or on the
command line.</p>
</dd>
<dt> <code>GIT_COMMON_DIR</code> </dt>
<dd>
<p>If this variable is set to a path, non-worktree files that are
normally in $GIT_DIR will be taken from this path
instead. Worktree-specific files such as HEAD or index are
taken from $GIT_DIR. See <a href="/docs/gitrepository-layout">gitrepository-layout[5]</a> and
<a href="/docs/git-worktree">git-worktree[1]</a> for
details. This variable has lower precedence than other path
variables such as GIT_INDEX_FILE, GIT_OBJECT_DIRECTORY…<U+200B></p>
</dd>
<dt> <code>GIT_DEFAULT_HASH</code> </dt>
<dd>
<p>If this variable is set, the default hash algorithm for new
repositories will be set to this value. This value is currently
ignored when cloning; the setting of the remote repository
is used instead. The default is "sha1". THIS VARIABLE IS
EXPERIMENTAL! See <code>--object-format</code> in <a href="/docs/git-init">git-init[1]</a>.</p>
</dd>
</dl>



<h3>
Git Commits</h3>

<dl>
<dt> <code>GIT_AUTHOR_NAME</code> </dt>
<dd>
<p>The human-readable name used in the author identity when creating commit or
tag objects, or when writing reflogs. Overrides the <code>user.name</code> and
<code>author.name</code> configuration settings.</p>
</dd>
<dt> <code>GIT_AUTHOR_EMAIL</code> </dt>
<dd>
<p>The email address used in the author identity when creating commit or
tag objects, or when writing reflogs. Overrides the <code>user.email</code> and
<code>author.email</code> configuration settings.</p>
</dd>
<dt> <code>GIT_AUTHOR_DATE</code> </dt>
<dd>
<p>The date used for the author identity when creating commit or tag objects, or
when writing reflogs. See <a href="/docs/git-commit">git-commit[1]</a> for valid formats.</p>
</dd>
<dt> <code>GIT_COMMITTER_NAME</code> </dt>
<dd>
<p>The human-readable name used in the committer identity when creating commit or
tag objects, or when writing reflogs. Overrides the <code>user.name</code> and
<code>committer.name</code> configuration settings.</p>
</dd>
<dt> <code>GIT_COMMITTER_EMAIL</code> </dt>
<dd>
<p>The email address used in the author identity when creating commit or
tag objects, or when writing reflogs. Overrides the <code>user.email</code> and
<code>committer.email</code> configuration settings.</p>
</dd>
<dt> <code>GIT_COMMITTER_DATE</code> </dt>
<dd>
<p>The date used for the committer identity when creating commit or tag objects, or
when writing reflogs. See <a href="/docs/git-commit">git-commit[1]</a> for valid formats.</p>
</dd>
<dt> <code>EMAIL</code> </dt>
<dd>
<p>The email address used in the author and committer identities if no other
relevant environment variable or configuration setting has been set.</p>
</dd>
</dl>



<h3>
Git Diffs</h3>

<dl>
<dt> <code>GIT_DIFF_OPTS</code> </dt>
<dd>
<p>Only valid setting is "--unified=??" or "-u??" to set the
number of context lines shown when a unified diff is created.
This takes precedence over any "-U" or "--unified" option
value passed on the Git diff command line.</p>
</dd>
<dt> <code>GIT_EXTERNAL_DIFF</code> </dt>
<dd>
<p>When the environment variable <code>GIT_EXTERNAL_DIFF</code> is set, the
program named by it is called to generate diffs, and Git
does not use its builtin diff machinery.
For a path that is added, removed, or modified,
<code>GIT_EXTERNAL_DIFF</code> is called with 7 parameters:</p>


<pre>path old-file old-hex old-mode new-file new-hex new-mode</pre>



<p>where:</p>

</dd>
<dt> &lt;old|new&gt;-file </dt>
<dd>
<p>are files GIT_EXTERNAL_DIFF can use to read the
contents of &lt;old|new&gt;,</p>
</dd>
<dt> &lt;old|new&gt;-hex </dt>
<dd>
<p>are the 40-hexdigit SHA-1 hashes,</p>
</dd>
<dt> &lt;old|new&gt;-mode </dt>
<dd>
<p>are the octal representation of the file modes.</p>

<p>The file parameters can point at the user’s working file
(e.g. <code>new-file</code> in "git-diff-files"), <code>/dev/null</code> (e.g. <code>old-file</code>
when a new file is added), or a temporary file (e.g. <code>old-file</code> in the
index).  <code>GIT_EXTERNAL_DIFF</code> should not worry about unlinking the
temporary file --- it is removed when <code>GIT_EXTERNAL_DIFF</code> exits.</p>


<p>For a path that is unmerged, <code>GIT_EXTERNAL_DIFF</code> is called with 1
parameter, &lt;path&gt;.</p>


<p>For each path <code>GIT_EXTERNAL_DIFF</code> is called, two environment variables,
<code>GIT_DIFF_PATH_COUNTER</code> and <code>GIT_DIFF_PATH_TOTAL</code> are set.</p>

</dd>
<dt> <code>GIT_DIFF_PATH_COUNTER</code> </dt>
<dd>
<p>A 1-based counter incremented by one for every path.</p>
</dd>
<dt> <code>GIT_DIFF_PATH_TOTAL</code> </dt>
<dd>
<p>The total number of paths.</p>
</dd>
</dl>



<h3>
other</h3>

<dl>
<dt> <code>GIT_MERGE_VERBOSITY</code> </dt>
<dd>
<p>A number controlling the amount of output shown by
the recursive merge strategy.  Overrides merge.verbosity.
See <a href="/docs/git-merge">git-merge[1]</a></p>
</dd>
<dt> <code>GIT_PAGER</code> </dt>
<dd>
<p>This environment variable overrides <code>$PAGER</code>. If it is set
to an empty string or to the value "cat", Git will not launch
a pager.  See also the <code>core.pager</code> option in
<a href="/docs/git-config">git-config[1]</a>.</p>
</dd>
<dt> <code>GIT_PROGRESS_DELAY</code> </dt>
<dd>
<p>A number controlling how many seconds to delay before showing
optional progress indicators. Defaults to 2.</p>
</dd>
<dt> <code>GIT_EDITOR</code> </dt>
<dd>
<p>This environment variable overrides <code>$EDITOR</code> and <code>$VISUAL</code>.
It is used by several Git commands when, on interactive mode,
an editor is to be launched. See also <a href="/docs/git-var">git-var[1]</a>
and the <code>core.editor</code> option in <a href="/docs/git-config">git-config[1]</a>.</p>
</dd>
<dt> <code>GIT_SEQUENCE_EDITOR</code> </dt>
<dd>
<p>This environment variable overrides the configured Git editor
when editing the todo list of an interactive rebase. See also
<a href="/docs/git-rebase">git-rebase[1]</a> and the <code>sequence.editor</code> option in
<a href="/docs/git-config">git-config[1]</a>.</p>
</dd>
<dt> <code>GIT_SSH</code> </dt>
<dt> <code>GIT_SSH_COMMAND</code> </dt>
<dd>
<p>If either of these environment variables is set then <em>git fetch</em>
and <em>git push</em> will use the specified command instead of <em>ssh</em>
when they need to connect to a remote system.
The command-line parameters passed to the configured command are
determined by the ssh variant.  See <code>ssh.variant</code> option in
<a href="/docs/git-config">git-config[1]</a> for details.</p>

<p><code>$GIT_SSH_COMMAND</code> takes precedence over <code>$GIT_SSH</code>, and is interpreted
by the shell, which allows additional arguments to be included.
<code>$GIT_SSH</code> on the other hand must be just the path to a program
(which can be a wrapper shell script, if additional arguments are
needed).</p>


<p>Usually it is easier to configure any desired options through your
personal <code>.ssh/config</code> file.  Please consult your ssh documentation
for further details.</p>

</dd>
<dt> <code>GIT_SSH_VARIANT</code> </dt>
<dd>
<p>If this environment variable is set, it overrides Git’s autodetection
whether <code>GIT_SSH</code>/<code>GIT_SSH_COMMAND</code>/<code>core.sshCommand</code> refer to OpenSSH,
plink or tortoiseplink. This variable overrides the config setting
<code>ssh.variant</code> that serves the same purpose.</p>
</dd>
<dt> <code>GIT_ASKPASS</code> </dt>
<dd>
<p>If this environment variable is set, then Git commands which need to
acquire passwords or passphrases (e.g. for HTTP or IMAP authentication)
will call this program with a suitable prompt as command-line argument
and read the password from its STDOUT. See also the <code>core.askPass</code>
option in <a href="/docs/git-config">git-config[1]</a>.</p>
</dd>
<dt> <code>GIT_TERMINAL_PROMPT</code> </dt>
<dd>
<p>If this environment variable is set to <code>0</code>, git will not prompt
on the terminal (e.g., when asking for HTTP authentication).</p>
</dd>
<dt> <code>GIT_CONFIG_GLOBAL</code> </dt>
<dt> <code>GIT_CONFIG_SYSTEM</code> </dt>
<dd>
<p>Take the configuration from the given files instead from global or
system-level configuration files. If <code>GIT_CONFIG_SYSTEM</code> is set, the
system config file defined at build time (usually <code>/etc/gitconfig</code>)
will not be read. Likewise, if <code>GIT_CONFIG_GLOBAL</code> is set, neither
<code>$HOME/.gitconfig</code> nor <code>$XDG_CONFIG_HOME/git/config</code> will be read. Can
be set to <code>/dev/null</code> to skip reading configuration files of the
respective level.</p>
</dd>
<dt> <code>GIT_CONFIG_NOSYSTEM</code> </dt>
<dd>
<p>Whether to skip reading settings from the system-wide
<code>$(prefix)/etc/gitconfig</code> file.  This environment variable can
be used along with <code>$HOME</code> and <code>$XDG_CONFIG_HOME</code> to create a
predictable environment for a picky script, or you can set it
temporarily to avoid using a buggy <code>/etc/gitconfig</code> file while
waiting for someone with sufficient permissions to fix it.</p>
</dd>
<dt> <code>GIT_FLUSH</code> </dt>
<dd>
<p>If this environment variable is set to "1", then commands such
as <em>git blame</em> (in incremental mode), <em>git rev-list</em>, <em>git log</em>,
<em>git check-attr</em> and <em>git check-ignore</em> will
force a flush of the output stream after each record have been
flushed. If this
variable is set to "0", the output of these commands will be done
using completely buffered I/O.   If this environment variable is
not set, Git will choose buffered or record-oriented flushing
based on whether stdout appears to be redirected to a file or not.</p>
</dd>
<dt> <code>GIT_TRACE</code> </dt>
<dd>
<p>Enables general trace messages, e.g. alias expansion, built-in
command execution and external command execution.</p>

<p>If this variable is set to "1", "2" or "true" (comparison
is case insensitive), trace messages will be printed to
stderr.</p>


<p>If the variable is set to an integer value greater than 2
and lower than 10 (strictly) then Git will interpret this
value as an open file descriptor and will try to write the
trace messages into this file descriptor.</p>


<p>Alternatively, if the variable is set to an absolute path
(starting with a <em>/</em> character), Git will interpret this
as a file path and will try to append the trace messages
to it.</p>


<p>Unsetting the variable, or setting it to empty, "0" or
"false" (case insensitive) disables trace messages.</p>

</dd>
<dt> <code>GIT_TRACE_FSMONITOR</code> </dt>
<dd>
<p>Enables trace messages for the filesystem monitor extension.
See <code>GIT_TRACE</code> for available trace output options.</p>
</dd>
<dt> <code>GIT_TRACE_PACK_ACCESS</code> </dt>
<dd>
<p>Enables trace messages for all accesses to any packs. For each
access, the pack file name and an offset in the pack is
recorded. This may be helpful for troubleshooting some
pack-related performance problems.
See <code>GIT_TRACE</code> for available trace output options.</p>
</dd>
<dt> <code>GIT_TRACE_PACKET</code> </dt>
<dd>
<p>Enables trace messages for all packets coming in or out of a
given program. This can help with debugging object negotiation
or other protocol issues. Tracing is turned off at a packet
starting with "PACK" (but see <code>GIT_TRACE_PACKFILE</code> below).
See <code>GIT_TRACE</code> for available trace output options.</p>
</dd>
<dt> <code>GIT_TRACE_PACKFILE</code> </dt>
<dd>
<p>Enables tracing of packfiles sent or received by a
given program. Unlike other trace output, this trace is
verbatim: no headers, and no quoting of binary data. You almost
certainly want to direct into a file (e.g.,
<code>GIT_TRACE_PACKFILE=/tmp/my.pack</code>) rather than displaying it on
the terminal or mixing it with other trace output.</p>

<p>Note that this is currently only implemented for the client side
of clones and fetches.</p>

</dd>
<dt> <code>GIT_TRACE_PERFORMANCE</code> </dt>
<dd>
<p>Enables performance related trace messages, e.g. total execution
time of each Git command.
See <code>GIT_TRACE</code> for available trace output options.</p>
</dd>
<dt> <code>GIT_TRACE_REFS</code> </dt>
<dd>
<p>Enables trace messages for operations on the ref database.
See <code>GIT_TRACE</code> for available trace output options.</p>
</dd>
<dt> <code>GIT_TRACE_SETUP</code> </dt>
<dd>
<p>Enables trace messages printing the .git, working tree and current
working directory after Git has completed its setup phase.
See <code>GIT_TRACE</code> for available trace output options.</p>
</dd>
<dt> <code>GIT_TRACE_SHALLOW</code> </dt>
<dd>
<p>Enables trace messages that can help debugging fetching /
cloning of shallow repositories.
See <code>GIT_TRACE</code> for available trace output options.</p>
</dd>
<dt> <code>GIT_TRACE_CURL</code> </dt>
<dd>
<p>Enables a curl full trace dump of all incoming and outgoing data,
including descriptive information, of the git transport protocol.
This is similar to doing curl <code>--trace-ascii</code> on the command line.
See <code>GIT_TRACE</code> for available trace output options.</p>
</dd>
<dt> <code>GIT_TRACE_CURL_NO_DATA</code> </dt>
<dd>
<p>When a curl trace is enabled (see <code>GIT_TRACE_CURL</code> above), do not dump
data (that is, only dump info lines and headers).</p>
</dd>
<dt> <code>GIT_TRACE2</code> </dt>
<dd>
<p>Enables more detailed trace messages from the "trace2" library.
Output from <code>GIT_TRACE2</code> is a simple text-based format for human
readability.</p>

<p>If this variable is set to "1", "2" or "true" (comparison
is case insensitive), trace messages will be printed to
stderr.</p>


<p>If the variable is set to an integer value greater than 2
and lower than 10 (strictly) then Git will interpret this
value as an open file descriptor and will try to write the
trace messages into this file descriptor.</p>


<p>Alternatively, if the variable is set to an absolute path
(starting with a <em>/</em> character), Git will interpret this
as a file path and will try to append the trace messages
to it.  If the path already exists and is a directory, the
trace messages will be written to files (one per process)
in that directory, named according to the last component
of the SID and an optional counter (to avoid filename
collisions).</p>


<p>In addition, if the variable is set to
<code>af_unix:[&lt;socket_type&gt;:]&lt;absolute-pathname&gt;</code>, Git will try
to open the path as a Unix Domain Socket.  The socket type
can be either <code>stream</code> or <code>dgram</code>.</p>


<p>Unsetting the variable, or setting it to empty, "0" or
"false" (case insensitive) disables trace messages.</p>


<p>See <a href="/docs/api-trace2">Trace2 documentation</a>
for full details.</p>

</dd>
<dt> <code>GIT_TRACE2_EVENT</code> </dt>
<dd>
<p>This setting writes a JSON-based format that is suited for machine
interpretation.
See <code>GIT_TRACE2</code> for available trace output options and
<a href="/docs/api-trace2">Trace2 documentation</a> for full details.</p>
</dd>
<dt> <code>GIT_TRACE2_PERF</code> </dt>
<dd>
<p>In addition to the text-based messages available in <code>GIT_TRACE2</code>, this
setting writes a column-based format for understanding nesting
regions.
See <code>GIT_TRACE2</code> for available trace output options and
<a href="/docs/api-trace2">Trace2 documentation</a> for full details.</p>
</dd>
<dt> <code>GIT_TRACE_REDACT</code> </dt>
<dd>
<p>By default, when tracing is activated, Git redacts the values of
cookies, the "Authorization:" header, the "Proxy-Authorization:"
header and packfile URIs. Set this variable to <code>0</code> to prevent this
redaction.</p>
</dd>
<dt> <code>GIT_LITERAL_PATHSPECS</code> </dt>
<dd>
<p>Setting this variable to <code>1</code> will cause Git to treat all
pathspecs literally, rather than as glob patterns. For example,
running <code>GIT_LITERAL_PATHSPECS=1 git log -- '*.c'</code> will search
for commits that touch the path <code>*.c</code>, not any paths that the
glob <code>*.c</code> matches. You might want this if you are feeding
literal paths to Git (e.g., paths previously given to you by
<code>git ls-tree</code>, <code>--raw</code> diff output, etc).</p>
</dd>
<dt> <code>GIT_GLOB_PATHSPECS</code> </dt>
<dd>
<p>Setting this variable to <code>1</code> will cause Git to treat all
pathspecs as glob patterns (aka "glob" magic).</p>
</dd>
<dt> <code>GIT_NOGLOB_PATHSPECS</code> </dt>
<dd>
<p>Setting this variable to <code>1</code> will cause Git to treat all
pathspecs as literal (aka "literal" magic).</p>
</dd>
<dt> <code>GIT_ICASE_PATHSPECS</code> </dt>
<dd>
<p>Setting this variable to <code>1</code> will cause Git to treat all
pathspecs as case-insensitive.</p>
</dd>
<dt> <code>GIT_REFLOG_ACTION</code> </dt>
<dd>
<p>When a ref is updated, reflog entries are created to keep
track of the reason why the ref was updated (which is
typically the name of the high-level command that updated
the ref), in addition to the old and new values of the ref.
A scripted Porcelain command can use set_reflog_action
helper function in <code>git-sh-setup</code> to set its name to this
variable when it is invoked as the top level command by the
end user, to be recorded in the body of the reflog.</p>
</dd>
<dt> <code>GIT_REF_PARANOIA</code> </dt>
<dd>
<p>If set to <code>0</code>, ignore broken or badly named refs when iterating
over lists of refs. Normally Git will try to include any such
refs, which may cause some operations to fail. This is usually
preferable, as potentially destructive operations (e.g.,
<a href="/docs/git-prune">git-prune[1]</a>) are better off aborting rather than
ignoring broken refs (and thus considering the history they
point to as not worth saving). The default value is <code>1</code> (i.e.,
be paranoid about detecting and aborting all operations). You
should not normally need to set this to <code>0</code>, but it may be
useful when trying to salvage data from a corrupted repository.</p>
</dd>
<dt> <code>GIT_ALLOW_PROTOCOL</code> </dt>
<dd>
<p>If set to a colon-separated list of protocols, behave as if
<code>protocol.allow</code> is set to <code>never</code>, and each of the listed
protocols has <code>protocol.&lt;name&gt;.allow</code> set to <code>always</code>
(overriding any existing configuration). In other words, any
protocol not mentioned will be disallowed (i.e., this is a
whitelist, not a blacklist). See the description of
<code>protocol.allow</code> in <a href="/docs/git-config">git-config[1]</a> for more details.</p>
</dd>
<dt> <code>GIT_PROTOCOL_FROM_USER</code> </dt>
<dd>
<p>Set to 0 to prevent protocols used by fetch/push/clone which are
configured to the <code>user</code> state.  This is useful to restrict recursive
submodule initialization from an untrusted repository or for programs
which feed potentially-untrusted URLS to git commands.  See
<a href="/docs/git-config">git-config[1]</a> for more details.</p>
</dd>
<dt> <code>GIT_PROTOCOL</code> </dt>
<dd>
<p>For internal use only.  Used in handshaking the wire protocol.
Contains a colon <em>:</em> separated list of keys with optional values
<em>key[=value]</em>.  Presence of unknown keys and values must be
ignored.</p>

<p>Note that servers may need to be configured to allow this variable to
pass over some transports. It will be propagated automatically when
accessing local repositories (i.e., <code>file://</code> or a filesystem path), as
well as over the <code>git://</code> protocol. For git-over-http, it should work
automatically in most configurations, but see the discussion in
<a href="/docs/git-http-backend">git-http-backend[1]</a>. For git-over-ssh, the ssh server may need
to be configured to allow clients to pass this variable (e.g., by using
<code>AcceptEnv GIT_PROTOCOL</code> with OpenSSH).</p>


<p>This configuration is optional. If the variable is not propagated, then
clients will fall back to the original "v0" protocol (but may miss out
on some performance improvements or features). This variable currently
only affects clones and fetches; it is not yet used for pushes (but may
be in the future).</p>

</dd>
<dt> <code>GIT_OPTIONAL_LOCKS</code> </dt>
<dd>
<p>If set to <code>0</code>, Git will complete any requested operation without
performing any optional sub-operations that require taking a lock.
For example, this will prevent <code>git status</code> from refreshing the
index as a side effect. This is useful for processes running in
the background which do not want to cause lock contention with
other operations on the repository.  Defaults to <code>1</code>.</p>
</dd>
<dt> <code>GIT_REDIRECT_STDIN</code> </dt>
<dt> <code>GIT_REDIRECT_STDOUT</code> </dt>
<dt> <code>GIT_REDIRECT_STDERR</code> </dt>
<dd>
<p>Windows-only: allow redirecting the standard input/output/error
handles to paths specified by the environment variables. This is
particularly useful in multi-threaded applications where the
canonical way to pass standard handles via <code>CreateProcess()</code> is
not an option because it would require the handles to be marked
inheritable (and consequently <strong>every</strong> spawned process would
inherit them, possibly blocking regular Git operations). The
primary intended use case is to use named pipes for communication
(e.g. <code>\\.\pipe\my-git-stdin-123</code>).</p>

<p>Two special values are supported: <code>off</code> will simply close the
corresponding standard handle, and if <code>GIT_REDIRECT_STDERR</code> is
<code>2&gt;&amp;1</code>, standard error will be redirected to the same handle as
standard output.</p>

</dd>
<dt> <code>GIT_PRINT_SHA1_ELLIPSIS</code> (deprecated) </dt>
<dd>
<p>If set to <code>yes</code>, print an ellipsis following an
(abbreviated) SHA-1 value.  This affects indications of
detached HEADs (<a href="/docs/git-checkout">git-checkout[1]</a>) and the raw
diff output (<a href="/docs/git-diff">git-diff[1]</a>).  Printing an
ellipsis in the cases mentioned is no longer considered
adequate and support for it is likely to be removed in the
foreseeable future (along with the variable).</p>
</dd>
</dl>





<h2>Discussion
</h2>


<p>More detail on the following is available from the
<a href="/docs/user-manual#git-concepts">Git concepts chapter of the
user-manual</a> and <a href="/docs/gitcore-tutorial">gitcore-tutorial[7]</a>.</p>


<p>A Git project normally consists of a working directory with a ".git"
subdirectory at the top level.  The .git directory contains, among other
things, a compressed object database representing the complete history
of the project, an "index" file which links that history to the current
contents of the working tree, and named pointers into that history such
as tags and branch heads.</p>


<p>The object database contains objects of three main types: blobs, which
hold file data; trees, which point to blobs and other trees to build up
directory hierarchies; and commits, which each reference a single tree
and some number of parent commits.</p>


<p>The commit, equivalent to what other systems call a "changeset" or
"version", represents a step in the project’s history, and each parent
represents an immediately preceding step.  Commits with more than one
parent represent merges of independent lines of development.</p>


<p>All objects are named by the SHA-1 hash of their contents, normally
written as a string of 40 hex digits.  Such names are globally unique.
The entire history leading up to a commit can be vouched for by signing
just that commit.  A fourth object type, the tag, is provided for this
purpose.</p>


<p>When first created, objects are stored in individual files, but for
efficiency may later be compressed together into "pack files".</p>


<p>Named pointers called refs mark interesting points in history.  A ref
may contain the SHA-1 name of an object or the name of another ref.  Refs
with names beginning <code>ref/head/</code> contain the SHA-1 name of the most
recent commit (or "head") of a branch under development.  SHA-1 names of
tags of interest are stored under <code>ref/tags/</code>.  A special ref named
<code>HEAD</code> contains the name of the currently checked-out branch.</p>


<p>The index file is initialized with a list of all paths and, for each
path, a blob object and a set of attributes.  The blob object represents
the contents of the file as of the head of the current branch.  The
attributes (last modified time, size, etc.) are taken from the
corresponding file in the working tree.  Subsequent changes to the
working tree can be found by comparing these attributes.  The index may
be updated with new content, and new commits may be created from the
content stored in the index.</p>


<p>The index is also capable of storing multiple entries (called "stages")
for a given pathname.  These stages are used to hold the various
unmerged version of a file when a merge is in progress.</p>




<h2>FURTHER DOCUMENTATION</h2>


<p>See the references in the "description" section to get started
using Git.  The following is probably more detail than necessary
for a first-time user.</p>


<p>The <a href="/docs/user-manual#git-concepts">Git concepts chapter of the
user-manual</a> and <a href="/docs/gitcore-tutorial">gitcore-tutorial[7]</a> both provide
introductions to the underlying Git architecture.</p>


<p>See <a href="/docs/gitworkflows">gitworkflows[7]</a> for an overview of recommended workflows.</p>


<p>See also the <a href="/docs/howto-index">howto</a> documents for some useful
examples.</p>


<p>The internals are documented in the
<a href="/docs/api-index">Git API documentation</a>.</p>


<p>Users migrating from CVS may also want to
read <a href="/docs/gitcvs-migration">gitcvs-migration[7]</a>.</p>




<h2>Authors</h2>


<p>Git was started by Linus Torvalds, and is currently maintained by Junio
C Hamano. Numerous contributions have come from the Git mailing list
&lt;<a href="mailto:git@vger.kernel.org">git@vger.kernel.org</a>&gt;.  <a href="http://www.openhub.net/p/git/contributors/summary">http://www.openhub.net/p/git/contributors/summary</a>
gives you a more complete list of contributors.</p>


<p>If you have a clone of git.git itself, the
output of <a href="/docs/git-shortlog">git-shortlog[1]</a> and <a href="/docs/git-blame">git-blame[1]</a> can show you
the authors for specific parts of the project.</p>




<h2>Reporting Bugs</h2>


<p>Report bugs to the Git mailing list &lt;<a href="mailto:git@vger.kernel.org">git@vger.kernel.org</a>&gt; where the
development and maintenance is primarily done.  You do not have to be
subscribed to the list to send a message there.  See the list archive
at <a href="https://lore.kernel.org/git">https://lore.kernel.org/git</a> for previous bug reports and other
discussions.</p>


<p>Issues which are security relevant should be disclosed privately to
the Git Security mailing list &lt;<a href="mailto:git-security@googlegroups.com">git-security@googlegroups.com</a>&gt;.</p>




<h2>SEE ALSO</h2>


<p><a href="/docs/gittutorial">gittutorial[7]</a>, <a href="/docs/gittutorial-2">gittutorial-2[7]</a>,
<a href="/docs/giteveryday">giteveryday[7]</a>, <a href="/docs/gitcvs-migration">gitcvs-migration[7]</a>,
<a href="/docs/gitglossary">gitglossary[7]</a>, <a href="/docs/gitcore-tutorial">gitcore-tutorial[7]</a>,
<a href="/docs/gitcli">gitcli[7]</a>, <a href="/docs/user-manual">The Git User’s Manual</a>,
<a href="/docs/gitworkflows">gitworkflows[7]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-config - Get and set repository or global options</span></h2>




<h2><br>synopsis</h2>


<pre><em>git config</em> [&lt;file-option&gt;] [--type=&lt;type&gt;] [--fixed-value] [--show-origin] [--show-scope] [-z|--null] &lt;name&gt; [&lt;value&gt; [&lt;value-pattern&gt;]]
<em>git config</em> [&lt;file-option&gt;] [--type=&lt;type&gt;] --add &lt;name&gt; &lt;value&gt;
<em>git config</em> [&lt;file-option&gt;] [--type=&lt;type&gt;] [--fixed-value] --replace-all &lt;name&gt; &lt;value&gt; [&lt;value-pattern&gt;]
<em>git config</em> [&lt;file-option&gt;] [--type=&lt;type&gt;] [--show-origin] [--show-scope] [-z|--null] [--fixed-value] --get &lt;name&gt; [&lt;value-pattern&gt;]
<em>git config</em> [&lt;file-option&gt;] [--type=&lt;type&gt;] [--show-origin] [--show-scope] [-z|--null] [--fixed-value] --get-all &lt;name&gt; [&lt;value-pattern&gt;]
<em>git config</em> [&lt;file-option&gt;] [--type=&lt;type&gt;] [--show-origin] [--show-scope] [-z|--null] [--fixed-value] [--name-only] --get-regexp &lt;name-regex&gt; [&lt;value-pattern&gt;]
<em>git config</em> [&lt;file-option&gt;] [--type=&lt;type&gt;] [-z|--null] --get-urlmatch &lt;name&gt; &lt;URL&gt;
<em>git config</em> [&lt;file-option&gt;] [--fixed-value] --unset &lt;name&gt; [&lt;value-pattern&gt;]
<em>git config</em> [&lt;file-option&gt;] [--fixed-value] --unset-all &lt;name&gt; [&lt;value-pattern&gt;]
<em>git config</em> [&lt;file-option&gt;] --rename-section &lt;old-name&gt; &lt;new-name&gt;
<em>git config</em> [&lt;file-option&gt;] --remove-section &lt;name&gt;
<em>git config</em> [&lt;file-option&gt;] [--show-origin] [--show-scope] [-z|--null] [--name-only] -l | --list
<em>git config</em> [&lt;file-option&gt;] --get-color &lt;name&gt; [&lt;default&gt;]
<em>git config</em> [&lt;file-option&gt;] --get-colorbool &lt;name&gt; [&lt;stdout-is-tty&gt;]
<em>git config</em> [&lt;file-option&gt;] -e | --edit</pre>




<h2>description</h2>


<p>You can query/set/replace/unset options with this command. The name is
actually the section and the key separated by a dot, and the value will be
escaped.</p>


<p>Multiple lines can be added to an option by using the <code>--add</code> option.
If you want to update or unset an option which can occur on multiple
lines, a <code>value-pattern</code> (which is an extended regular expression,
unless the <code>--fixed-value</code> option is given) needs to be given.  Only the
existing values that match the pattern are updated or unset.  If
you want to handle the lines that do <strong>not</strong> match the pattern, just
prepend a single exclamation mark in front (see also <a href="#EXAMPLES">EXAMPLES</a>),
but note that this only works when the <code>--fixed-value</code> option is not
in use.</p>


<p>The <code>--type=&lt;type&gt;</code> option instructs <em>git config</em> to ensure that incoming and
outgoing values are canonicalize-able under the given &lt;type&gt;.  If no
<code>--type=&lt;type&gt;</code> is given, no canonicalization will be performed. Callers may
unset an existing <code>--type</code> specifier with <code>--no-type</code>.</p>


<p>When reading, the values are read from the system, global and
repository local configuration files by default, and options
<code>--system</code>, <code>--global</code>, <code>--local</code>, <code>--worktree</code> and
<code>--file &lt;filename&gt;</code> can be used to tell the command to read from only
that location (see <a href="#FILES">FILES</a>).</p>


<p>When writing, the new value is written to the repository local
configuration file by default, and options <code>--system</code>, <code>--global</code>,
<code>--worktree</code>, <code>--file &lt;filename&gt;</code> can be used to tell the command to
write to that location (you can say <code>--local</code> but that is the
default).</p>


<p>This command will fail with non-zero status upon error.  Some exit
codes are:</p>


<ul>
<li>
<p>The section or key is invalid (ret=1),</p>
</li>
<li>
<p>no section or name was provided (ret=2),</p>
</li>
<li>
<p>the config file is invalid (ret=3),</p>
</li>
<li>
<p>the config file cannot be written (ret=4),</p>
</li>
<li>
<p>you try to unset an option which does not exist (ret=5),</p>
</li>
<li>
<p>you try to unset/set an option for which multiple lines match (ret=5), or</p>
</li>
<li>
<p>you try to use an invalid regexp (ret=6).</p>
</li>
</ul>


<p>On success, the command returns the exit code 0.</p>


<p>A list of all available configuration variables can be obtained using the
<code>git help --config</code> command.</p>




<h2>options</h2>


<dl>
<dt> --replace-all </dt>
<dd>
<p>Default behavior is to replace at most one line. This replaces
all lines matching the key (and optionally the <code>value-pattern</code>).</p>
</dd>
<dt> --add </dt>
<dd>
<p>Adds a new line to the option without altering any existing
values.  This is the same as providing <em>^$</em> as the <code>value-pattern</code>
in <code>--replace-all</code>.</p>
</dd>
<dt> --get </dt>
<dd>
<p>Get the value for a given key (optionally filtered by a regex
matching the value). Returns error code 1 if the key was not
found and the last value if multiple key values were found.</p>
</dd>
<dt> --get-all </dt>
<dd>
<p>Like get, but returns all values for a multi-valued key.</p>
</dd>
<dt> --get-regexp </dt>
<dd>
<p>Like --get-all, but interprets the name as a regular expression and
writes out the key names.  Regular expression matching is currently
case-sensitive and done against a canonicalized version of the key
in which section and variable names are lowercased, but subsection
names are not.</p>
</dd>
<dt> --get-urlmatch &lt;name&gt; &lt;URL&gt; </dt>
<dd>
<p>When given a two-part name section.key, the value for
section.&lt;URL&gt;.key whose &lt;URL&gt; part matches the best to the
given URL is returned (if no such key exists, the value for
section.key is used as a fallback).  When given just the
section as name, do so for all the keys in the section and
list them.  Returns error code 1 if no value is found.</p>
</dd>
<dt> --global </dt>
<dd>
<p>For writing options: write to global <code>~/.gitconfig</code> file
rather than the repository <code>.git/config</code>, write to
<code>$XDG_CONFIG_HOME/git/config</code> file if this file exists and the
<code>~/.gitconfig</code> file doesn’t.</p>

<p>For reading options: read only from global <code>~/.gitconfig</code> and from
<code>$XDG_CONFIG_HOME/git/config</code> rather than from all available files.</p>


<p>See also <a href="#FILES">FILES</a>.</p>

</dd>
<dt> --system </dt>
<dd>
<p>For writing options: write to system-wide
<code>$(prefix)/etc/gitconfig</code> rather than the repository
<code>.git/config</code>.</p>

<p>For reading options: read only from system-wide <code>$(prefix)/etc/gitconfig</code>
rather than from all available files.</p>


<p>See also <a href="#FILES">FILES</a>.</p>

</dd>
<dt> --local </dt>
<dd>
<p>For writing options: write to the repository <code>.git/config</code> file.
This is the default behavior.</p>

<p>For reading options: read only from the repository <code>.git/config</code> rather than
from all available files.</p>


<p>See also <a href="#FILES">FILES</a>.</p>

</dd>
<dt> --worktree </dt>
<dd>
<p>Similar to <code>--local</code> except that <code>.git/config.worktree</code> is
read from or written to if <code>extensions.worktreeConfig</code> is
present. If not it’s the same as <code>--local</code>.</p>
</dd>
<dt> -f &lt;config-file&gt; </dt>
<dt> --file &lt;config-file&gt; </dt>
<dd>
<p>For writing options: write to the specified file rather than the
repository <code>.git/config</code>.</p>

<p>For reading options: read only from the specified file rather than from all
available files.</p>


<p>See also <a href="#FILES">FILES</a>.</p>

</dd>
<dt> --blob &lt;blob&gt; </dt>
<dd>
<p>Similar to <code>--file</code> but use the given blob instead of a file. E.g.
you can use <em>master:.gitmodules</em> to read values from the file
<em>.gitmodules</em> in the master branch. See "SPECIFYING REVISIONS"
section in <a href="/docs/gitrevisions">gitrevisions[7]</a> for a more complete list of
ways to spell blob names.</p>
</dd>
<dt> --remove-section </dt>
<dd>
<p>Remove the given section from the configuration file.</p>
</dd>
<dt> --rename-section </dt>
<dd>
<p>Rename the given section to a new name.</p>
</dd>
<dt> --unset </dt>
<dd>
<p>Remove the line matching the key from config file.</p>
</dd>
<dt> --unset-all </dt>
<dd>
<p>Remove all lines matching the key from config file.</p>
</dd>
<dt> -l </dt>
<dt> --list </dt>
<dd>
<p>List all variables set in config file, along with their values.</p>
</dd>
<dt> --fixed-value </dt>
<dd>
<p>When used with the <code>value-pattern</code> argument, treat <code>value-pattern</code> as
an exact string instead of a regular expression. This will restrict
the name/value pairs that are matched to only those where the value
is exactly equal to the <code>value-pattern</code>.</p>
</dd>
<dt> --type &lt;type&gt; </dt>
<dd>
<p><em>git config</em> will ensure that any input or output is valid under the given
type constraint(s), and will canonicalize outgoing values in <code>&lt;type&gt;</code>'s
canonical form.</p>

<p>Valid <code>&lt;type&gt;</code>'s include:</p>


<ul>
<li>
<p><em>bool</em>: canonicalize values as either "true" or "false".</p>
</li>
<li>
<p><em>int</em>: canonicalize values as simple decimal numbers. An optional suffix of
<em>k</em>, <em>m</em>, or <em>g</em> will cause the value to be multiplied by 1024, 1048576, or
1073741824 upon input.</p>
</li>
<li>
<p><em>bool-or-int</em>: canonicalize according to either <em>bool</em> or <em>int</em>, as described
above.</p>
</li>
<li>
<p><em>path</em>: canonicalize by adding a leading <code>~</code> to the value of <code>$HOME</code> and
<code>~user</code> to the home directory for the specified user. This specifier has no
effect when setting the value (but you can use <code>git config section.variable
~/</code> from the command line to let your shell do the expansion.)</p>
</li>
<li>
<p><em>expiry-date</em>: canonicalize by converting from a fixed or relative date-string
to a timestamp. This specifier has no effect when setting the value.</p>
</li>
<li>
<p><em>color</em>: When getting a value, canonicalize by converting to an ANSI color
escape sequence. When setting a value, a sanity-check is performed to ensure
that the given value is canonicalize-able as an ANSI color, but it is written
as-is.</p>
</li>
</ul>

</dd>
<dt> --bool </dt>
<dt> --int </dt>
<dt> --bool-or-int </dt>
<dt> --path </dt>
<dt> --expiry-date </dt>
<dd>
<p>Historical options for selecting a type specifier. Prefer instead <code>--type</code>
(see above).</p>
</dd>
<dt> --no-type </dt>
<dd>
<p>Un-sets the previously set type specifier (if one was previously set). This
option requests that <em>git config</em> not canonicalize the retrieved variable.
<code>--no-type</code> has no effect without <code>--type=&lt;type&gt;</code> or <code>--&lt;type&gt;</code>.</p>
</dd>
<dt> -z </dt>
<dt> --null </dt>
<dd>
<p>For all options that output values and/or keys, always
end values with the null character (instead of a
newline). Use newline instead as a delimiter between
key and value. This allows for secure parsing of the
output without getting confused e.g. by values that
contain line breaks.</p>
</dd>
<dt> --name-only </dt>
<dd>
<p>Output only the names of config variables for <code>--list</code> or
<code>--get-regexp</code>.</p>
</dd>
<dt> --show-origin </dt>
<dd>
<p>Augment the output of all queried config options with the
origin type (file, standard input, blob, command line) and
the actual origin (config file path, ref, or blob id if
applicable).</p>
</dd>
<dt> --show-scope </dt>
<dd>
<p>Similar to <code>--show-origin</code> in that it augments the output of
all queried config options with the scope of that value
(local, global, system, command).</p>
</dd>
<dt> --get-colorbool &lt;name&gt; [&lt;stdout-is-tty&gt;] </dt>
<dd>
<p>Find the color setting for <code>&lt;name&gt;</code> (e.g. <code>color.diff</code>) and output
"true" or "false".  <code>&lt;stdout-is-tty&gt;</code> should be either "true" or
"false", and is taken into account when configuration says
"auto".  If <code>&lt;stdout-is-tty&gt;</code> is missing, then checks the standard
output of the command itself, and exits with status 0 if color
is to be used, or exits with status 1 otherwise.
When the color setting for <code>name</code> is undefined, the command uses
<code>color.ui</code> as fallback.</p>
</dd>
<dt> --get-color &lt;name&gt; [&lt;default&gt;] </dt>
<dd>
<p>Find the color configured for <code>name</code> (e.g. <code>color.diff.new</code>) and
output it as the ANSI color escape sequence to the standard
output.  The optional <code>default</code> parameter is used instead, if
there is no color configured for <code>name</code>.</p>

<p><code>--type=color [--default=&lt;default&gt;]</code> is preferred over <code>--get-color</code>
(but note that <code>--get-color</code> will omit the trailing newline printed by
<code>--type=color</code>).</p>

</dd>
<dt> -e </dt>
<dt> --edit </dt>
<dd>
<p>Opens an editor to modify the specified config file; either
<code>--system</code>, <code>--global</code>, or repository (default).</p>
</dd>
<dt> --[no-]includes </dt>
<dd>
<p>Respect <code>include.*</code> directives in config files when looking up
values. Defaults to <code>off</code> when a specific file is given (e.g.,
using <code>--file</code>, <code>--global</code>, etc) and <code>on</code> when searching all
config files.</p>
</dd>
<dt> --default &lt;value&gt; </dt>
<dd>
<p>When using <code>--get</code>, and the requested variable is not found, behave as if
&lt;value&gt; were the value assigned to the that variable.</p>
</dd>
</dl>




<h2>CONFIGURATION</h2>


<p><code>pager.config</code> is only respected when listing configuration, i.e., when
using <code>--list</code> or any of the <code>--get-*</code> which may return multiple results.
The default is to use a pager.</p>




<h2>FILES</h2>


<p>If not set explicitly with <code>--file</code>, there are four files where
<em>git config</em> will search for configuration options:</p>


<dl>
<dt> $(prefix)/etc/gitconfig </dt>
<dd>
<p>System-wide configuration file.</p>
</dd>
<dt> $XDG_CONFIG_HOME/git/config </dt>
<dd>
<p>Second user-specific configuration file. If $XDG_CONFIG_HOME is not set
or empty, <code>$HOME/.config/git/config</code> will be used. Any single-valued
variable set in this file will be overwritten by whatever is in
<code>~/.gitconfig</code>.  It is a good idea not to create this file if
you sometimes use older versions of Git, as support for this
file was added fairly recently.</p>
</dd>
<dt> ~/.gitconfig </dt>
<dd>
<p>User-specific configuration file. Also called "global"
configuration file.</p>
</dd>
<dt> $GIT_DIR/config </dt>
<dd>
<p>Repository specific configuration file.</p>
</dd>
<dt> $GIT_DIR/config.worktree </dt>
<dd>
<p>This is optional and is only searched when
<code>extensions.worktreeConfig</code> is present in $GIT_DIR/config.</p>
</dd>
</dl>


<p>If no further options are given, all reading options will read all of these
files that are available. If the global or the system-wide configuration
file are not available they will be ignored. If the repository configuration
file is not available or readable, <em>git config</em> will exit with a non-zero
error code. However, in neither case will an error message be issued.</p>


<p>The files are read in the order given above, with last value found taking
precedence over values read earlier.  When multiple values are taken then all
values of a key from all files will be used.</p>


<p>You may override individual configuration parameters when running any git
command by using the <code>-c</code> option. See <a href="/docs/git">git[1]</a> for details.</p>


<p>All writing options will per default write to the repository specific
configuration file. Note that this also affects options like <code>--replace-all</code>
and <code>--unset</code>. <strong><em>git config</em> will only ever change one file at a time</strong>.</p>


<p>You can override these rules using the <code>--global</code>, <code>--system</code>,
<code>--local</code>, <code>--worktree</code>, and <code>--file</code> command-line options; see
<a href="#OPTIONS">OPTIONS</a> above.</p>




<h2>ENVIRONMENT</h2>


<dl>
<dt> GIT_CONFIG_GLOBAL </dt>
<dt> GIT_CONFIG_SYSTEM </dt>
<dd>
<p>Take the configuration from the given files instead from global or
system-level configuration. See <a href="/docs/git">git[1]</a> for details.</p>
</dd>
<dt> GIT_CONFIG_NOSYSTEM </dt>
<dd>
<p>Whether to skip reading settings from the system-wide
$(prefix)/etc/gitconfig file. See <a href="/docs/git">git[1]</a> for details.</p>
</dd>
</dl>


<p>See also <a href="#FILES">FILES</a>.</p>


<dl>
<dt> GIT_CONFIG_COUNT </dt>
<dt> GIT_CONFIG_KEY_&lt;n&gt; </dt>
<dt> GIT_CONFIG_VALUE_&lt;n&gt; </dt>
<dd>
<p>If GIT_CONFIG_COUNT is set to a positive number, all environment pairs
GIT_CONFIG_KEY_&lt;n&gt; and GIT_CONFIG_VALUE_&lt;n&gt; up to that number will be
added to the process’s runtime configuration. The config pairs are
zero-indexed. Any missing key or value is treated as an error. An empty
GIT_CONFIG_COUNT is treated the same as GIT_CONFIG_COUNT=0, namely no
pairs are processed. These environment variables will override values
in configuration files, but will be overridden by any explicit options
passed via <code>git -c</code>.</p>

<p>This is useful for cases where you want to spawn multiple git commands
with a common configuration but cannot depend on a configuration file,
for example when writing scripts.</p>

</dd>
<dt> GIT_CONFIG </dt>
<dd>
<p>If no <code>--file</code> option is provided to <code>git config</code>, use the file
given by <code>GIT_CONFIG</code> as if it were provided via <code>--file</code>. This
variable has no effect on other Git commands, and is mostly for
historical compatibility; there is generally no reason to use it
instead of the <code>--file</code> option.</p>
</dd>
</dl>




<h2>examples</h2>


<p>Given a .git/config like this:</p>



<pre>#
# This is the config file, and
# a '#' or ';' character indicates
# a comment
#

; core variables
[core]
	; Don't trust file modes
	filemode = false

; Our diff algorithm
[diff]
	external = /usr/local/bin/diff-wrapper
	renames = true

; Proxy settings
[core]
	gitproxy=proxy-command for kernel.org
	gitproxy=default-proxy ; for all the rest

; HTTP
[http]
	sslVerify
[http "https://weak.example.com"]
	sslVerify = false
	cookieFile = /tmp/cookie.txt</pre>



<p>you can set the filemode to true with</p>



<pre>% git config core.filemode true</pre>



<p>The hypothetical proxy command entries actually have a postfix to discern
what URL they apply to. Here is how to change the entry for kernel.org
to "ssh".</p>



<pre>% git config core.gitproxy '"ssh" for kernel.org' 'for kernel.org$'</pre>



<p>This makes sure that only the key/value pair for kernel.org is replaced.</p>


<p>To delete the entry for renames, do</p>



<pre>% git config --unset diff.renames</pre>



<p>If you want to delete an entry for a multivar (like core.gitproxy above),
you have to provide a regex matching the value of exactly one line.</p>


<p>To query the value for a given key, do</p>



<pre>% git config --get core.filemode</pre>



<p>or</p>



<pre>% git config core.filemode</pre>



<p>or, to query a multivar:</p>



<pre>% git config --get core.gitproxy "for kernel.org$"</pre>



<p>If you want to know all the values for a multivar, do:</p>



<pre>% git config --get-all core.gitproxy</pre>



<p>If you like to live dangerously, you can replace <strong>all</strong> core.gitproxy by a
new one with</p>



<pre>% git config --replace-all core.gitproxy ssh</pre>



<p>However, if you really only want to replace the line for the default proxy,
i.e. the one without a "for …<U+200B>" postfix, do something like this:</p>



<pre>% git config core.gitproxy ssh '! for '</pre>



<p>To actually match only values with an exclamation mark, you have to</p>



<pre>% git config section.key value '[!]'</pre>



<p>To add a new proxy, without altering any of the existing ones, use</p>



<pre>% git config --add core.gitproxy '"proxy-command" for example.com'</pre>



<p>An example to use customized color from the configuration in your
script:</p>



<pre>#!/bin/sh
WS=$(git config --get-color color.diff.whitespace "blue reverse")
RESET=$(git config --get-color "" "reset")
echo "${WS}your whitespace color or blue reverse${RESET}"</pre>



<p>For URLs in <code>https://weak.example.com</code>, <code>http.sslVerify</code> is set to
false, while it is set to <code>true</code> for all others:</p>



<pre>% git config --type=bool --get-urlmatch http.sslverify https://good.example.com
true
% git config --type=bool --get-urlmatch http.sslverify https://weak.example.com
false
% git config --get-urlmatch http https://weak.example.com
http.cookieFile /tmp/cookie.txt
http.sslverify false</pre>





<h2>CONFIGURATION FILE</h2>


<p>The Git configuration file contains a number of variables that affect
the Git commands' behavior. The files <code>.git/config</code> and optionally
<code>config.worktree</code> (see the "CONFIGURATION FILE" section of
<a href="/docs/git-worktree">git-worktree[1]</a>) in each repository are used to store the
configuration for that repository, and <code>$HOME/.gitconfig</code> is used to
store a per-user configuration as fallback values for the <code>.git/config</code>
file. The file <code>/etc/gitconfig</code> can be used to store a system-wide
default configuration.</p>


<p>The configuration variables are used by both the Git plumbing
and the porcelains. The variables are divided into sections, wherein
the fully qualified variable name of the variable itself is the last
dot-separated segment and the section name is everything before the last
dot. The variable names are case-insensitive, allow only alphanumeric
characters and <code>-</code>, and must start with an alphabetic character.  Some
variables may appear multiple times; we say then that the variable is
multivalued.</p>


<h3>
Syntax</h3>

<p>The syntax is fairly flexible and permissive; whitespaces are mostly
ignored.  The <em>#</em> and <em>;</em> characters begin comments to the end of line,
blank lines are ignored.</p>


<p>The file consists of sections and variables.  A section begins with
the name of the section in square brackets and continues until the next
section begins.  Section names are case-insensitive.  Only alphanumeric
characters, <code>-</code> and <code>.</code> are allowed in section names.  Each variable
must belong to some section, which means that there must be a section
header before the first setting of a variable.</p>


<p>Sections can be further divided into subsections.  To begin a subsection
put its name in double quotes, separated by space from the section name,
in the section header, like in the example below:</p>



<pre>	[section "subsection"]</pre>



<p>Subsection names are case sensitive and can contain any characters except
newline and the null byte. Doublequote <code>"</code> and backslash can be included
by escaping them as <code>\"</code> and <code>\\</code>, respectively. Backslashes preceding
other characters are dropped when reading; for example, <code>\t</code> is read as
<code>t</code> and <code>\0</code> is read as <code>0</code>. Section headers cannot span multiple lines.
Variables may belong directly to a section or to a given subsection. You
can have <code>[section]</code> if you have <code>[section "subsection"]</code>, but you don’t
need to.</p>


<p>There is also a deprecated <code>[section.subsection]</code> syntax. With this
syntax, the subsection name is converted to lower-case and is also
compared case sensitively. These subsection names follow the same
restrictions as section names.</p>


<p>All the other lines (and the remainder of the line after the section
header) are recognized as setting variables, in the form
<em>name = value</em> (or just <em>name</em>, which is a short-hand to say that
the variable is the boolean "true").
The variable names are case-insensitive, allow only alphanumeric characters
and <code>-</code>, and must start with an alphabetic character.</p>


<p>A line that defines a value can be continued to the next line by
ending it with a <code>\</code>; the backslash and the end-of-line are
stripped.  Leading whitespaces after <em>name =</em>, the remainder of the
line after the first comment character <em>#</em> or <em>;</em>, and trailing
whitespaces of the line are discarded unless they are enclosed in
double quotes.  Internal whitespaces within the value are retained
verbatim.</p>


<p>Inside double quotes, double quote <code>"</code> and backslash <code>\</code> characters
must be escaped: use <code>\"</code> for <code>"</code> and <code>\\</code> for <code>\</code>.</p>


<p>The following escape sequences (beside <code>\"</code> and <code>\\</code>) are recognized:
<code>\n</code> for newline character (NL), <code>\t</code> for horizontal tabulation (HT, TAB)
and <code>\b</code> for backspace (BS).  Other char escape sequences (including octal
escape sequences) are invalid.</p>



<h3>
Includes</h3>

<p>The <code>include</code> and <code>includeIf</code> sections allow you to include config
directives from another source. These sections behave identically to
each other with the exception that <code>includeIf</code> sections may be ignored
if their condition does not evaluate to true; see "Conditional includes"
below.</p>


<p>You can include a config file from another by setting the special
<code>include.path</code> (or <code>includeIf.*.path</code>) variable to the name of the file
to be included. The variable takes a pathname as its value, and is
subject to tilde expansion. These variables can be given multiple times.</p>


<p>The contents of the included file are inserted immediately, as if they
had been found at the location of the include directive. If the value of the
variable is a relative path, the path is considered to
be relative to the configuration file in which the include directive
was found.  See below for examples.</p>



<h3>
Conditional includes</h3>

<p>You can include a config file from another conditionally by setting a
<code>includeIf.&lt;condition&gt;.path</code> variable to the name of the file to be
included.</p>


<p>The condition starts with a keyword followed by a colon and some data
whose format and meaning depends on the keyword. Supported keywords
are:</p>


<dl>
<dt> <code>gitdir</code> </dt>
<dd>
<p>The data that follows the keyword <code>gitdir:</code> is used as a glob
pattern. If the location of the .git directory matches the
pattern, the include condition is met.</p>

<p>The .git location may be auto-discovered, or come from <code>$GIT_DIR</code>
environment variable. If the repository is auto discovered via a .git
file (e.g. from submodules, or a linked worktree), the .git location
would be the final location where the .git directory is, not where the
.git file is.</p>


<p>The pattern can contain standard globbing wildcards and two additional
ones, <code>**/</code> and <code>/**</code>, that can match multiple path components. Please
refer to <a href="/docs/gitignore">gitignore[5]</a> for details. For convenience:</p>


<ul>
<li>
<p>If the pattern starts with <code>~/</code>, <code>~</code> will be substituted with the
content of the environment variable <code>HOME</code>.</p>
</li>
<li>
<p>If the pattern starts with <code>./</code>, it is replaced with the directory
containing the current config file.</p>
</li>
<li>
<p>If the pattern does not start with either <code>~/</code>, <code>./</code> or <code>/</code>, <code>**/</code>
will be automatically prepended. For example, the pattern <code>foo/bar</code>
becomes <code>**/foo/bar</code> and would match <code>/any/path/to/foo/bar</code>.</p>
</li>
<li>
<p>If the pattern ends with <code>/</code>, <code>**</code> will be automatically added. For
example, the pattern <code>foo/</code> becomes <code>foo/**</code>. In other words, it
matches "foo" and everything inside, recursively.</p>
</li>
</ul>

</dd>
<dt> <code>gitdir/i</code> </dt>
<dd>
<p>This is the same as <code>gitdir</code> except that matching is done
case-insensitively (e.g. on case-insensitive file systems)</p>
</dd>
<dt> <code>onbranch</code> </dt>
<dd>
<p>The data that follows the keyword <code>onbranch:</code> is taken to be a
pattern with standard globbing wildcards and two additional
ones, <code>**/</code> and <code>/**</code>, that can match multiple path components.
If we are in a worktree where the name of the branch that is
currently checked out matches the pattern, the include condition
is met.</p>

<p>If the pattern ends with <code>/</code>, <code>**</code> will be automatically added. For
example, the pattern <code>foo/</code> becomes <code>foo/**</code>. In other words, it matches
all branches that begin with <code>foo/</code>. This is useful if your branches are
organized hierarchically and you would like to apply a configuration to
all the branches in that hierarchy.</p>

</dd>
</dl>


<p>A few more notes on matching via <code>gitdir</code> and <code>gitdir/i</code>:</p>


<ul>
<li>
<p>Symlinks in <code>$GIT_DIR</code> are not resolved before matching.</p>
</li>
<li>
<p>Both the symlink &amp; realpath versions of paths will be matched
outside of <code>$GIT_DIR</code>. E.g. if ~/git is a symlink to
/mnt/storage/git, both <code>gitdir:~/git</code> and <code>gitdir:/mnt/storage/git</code>
will match.</p>

<p>This was not the case in the initial release of this feature in
v2.13.0, which only matched the realpath version. Configuration that
wants to be compatible with the initial release of this feature needs
to either specify only the realpath version, or both versions.</p>

</li>
<li>
<p>Note that "../" is not special and will match literally, which is
unlikely what you want.</p>
</li>
</ul>



<h3>
Example</h3>


<pre># Core variables
[core]
	; Don't trust file modes
	filemode = false

# Our diff algorithm
[diff]
	external = /usr/local/bin/diff-wrapper
	renames = true

[branch "devel"]
	remote = origin
	merge = refs/heads/devel

# Proxy settings
[core]
	gitProxy="ssh" for "kernel.org"
	gitProxy=default-proxy ; for the rest

[include]
	path = /path/to/foo.inc ; include by absolute path
	path = foo.inc ; find "foo.inc" relative to the current file
	path = ~/foo.inc ; find "foo.inc" in your `$HOME` directory

; include if $GIT_DIR is /path/to/foo/.git
[includeIf "gitdir:/path/to/foo/.git"]
	path = /path/to/foo.inc

; include for all repositories inside /path/to/group
[includeIf "gitdir:/path/to/group/"]
	path = /path/to/foo.inc

; include for all repositories inside $HOME/to/group
[includeIf "gitdir:~/to/group/"]
	path = /path/to/foo.inc

; relative paths are always relative to the including
; file (if the condition is true); their location is not
; affected by the condition
[includeIf "gitdir:/path/to/group/"]
	path = foo.inc

; include only if we are in a worktree where foo-branch is
; currently checked out
[includeIf "onbranch:foo-branch"]
	path = foo.inc</pre>




<h3>
Values</h3>

<p>Values of many variables are treated as a simple string, but there
are variables that take values of specific types and there are rules
as to how to spell them.</p>


<dl>
<dt> boolean </dt>
<dd>
<p>When a variable is said to take a boolean value, many
synonyms are accepted for <em>true</em> and <em>false</em>; these are all
case-insensitive.</p>

<dl>
<dt> true </dt>
<dd>
<p>Boolean true literals are <code>yes</code>, <code>on</code>, <code>true</code>,
and <code>1</code>.  Also, a variable defined without <code>= &lt;value&gt;</code>
is taken as true.</p>
</dd>
<dt> false </dt>
<dd>
<p>Boolean false literals are <code>no</code>, <code>off</code>, <code>false</code>,
<code>0</code> and the empty string.</p>

<p>When converting a value to its canonical form using the <code>--type=bool</code> type
specifier, <em>git config</em> will ensure that the output is "true" or
"false" (spelled in lowercase).</p>

</dd>
</dl>

</dd>
<dt> integer </dt>
<dd>
<p>The value for many variables that specify various sizes can
be suffixed with <code>k</code>, <code>M</code>,…<U+200B> to mean "scale the number by
1024", "by 1024x1024", etc.</p>
</dd>
<dt> color </dt>
<dd>
<p>The value for a variable that takes a color is a list of
colors (at most two, one for foreground and one for background)
and attributes (as many as you want), separated by spaces.</p>

<p>The basic colors accepted are <code>normal</code>, <code>black</code>, <code>red</code>, <code>green</code>,
<code>yellow</code>, <code>blue</code>, <code>magenta</code>, <code>cyan</code>, <code>white</code> and <code>default</code>.  The first
color given is the foreground; the second is the background.  All the
basic colors except <code>normal</code> and <code>default</code> have a bright variant that can
be specified by prefixing the color with <code>bright</code>, like <code>brightred</code>.</p>


<p>The color <code>normal</code> makes no change to the color. It is the same as an
empty string, but can be used as the foreground color when specifying a
background color alone (for example, "normal red").</p>


<p>The color <code>default</code> explicitly resets the color to the terminal default,
for example to specify a cleared background. Although it varies between
terminals, this is usually not the same as setting to "white black".</p>


<p>Colors may also be given as numbers between 0 and 255; these use ANSI
256-color mode (but note that not all terminals may support this).  If
your terminal supports it, you may also specify 24-bit RGB values as
hex, like <code>#ff0ab3</code>.</p>


<p>The accepted attributes are <code>bold</code>, <code>dim</code>, <code>ul</code>, <code>blink</code>, <code>reverse</code>,
<code>italic</code>, and <code>strike</code> (for crossed-out or "strikethrough" letters).
The position of any attributes with respect to the colors
(before, after, or in between), doesn’t matter. Specific attributes may
be turned off by prefixing them with <code>no</code> or <code>no-</code> (e.g., <code>noreverse</code>,
<code>no-ul</code>, etc).</p>


<p>The pseudo-attribute <code>reset</code> resets all colors and attributes before
applying the specified coloring. For example, <code>reset green</code> will result
in a green foreground and default background without any active
attributes.</p>


<p>An empty color string produces no color effect at all. This can be used
to avoid coloring specific elements without disabling color entirely.</p>


<p>For git’s pre-defined color slots, the attributes are meant to be reset
at the beginning of each item in the colored output. So setting
<code>color.decorate.branch</code> to <code>black</code> will paint that branch name in a
plain <code>black</code>, even if the previous thing on the same output line (e.g.
opening parenthesis before the list of branch names in <code>log --decorate</code>
output) is set to be painted with <code>bold</code> or some other attribute.
However, custom log formats may do more complicated and layered
coloring, and the negated forms may be useful there.</p>

</dd>
<dt> pathname </dt>
<dd>
<p>A variable that takes a pathname value can be given a
string that begins with "<code>~/</code>" or "<code>~user/</code>", and the usual
tilde expansion happens to such a string: <code>~/</code>
is expanded to the value of <code>$HOME</code>, and <code>~user/</code> to the
specified user’s home directory.</p>

<p>If a path starts with <code>%(prefix)/</code>, the remainder is interpreted as a
path relative to Git’s "runtime prefix", i.e. relative to the location
where Git itself was installed. For example, <code>%(prefix)/bin/</code> refers to
the directory in which the Git executable itself lives. If Git was
compiled without runtime prefix support, the compiled-in prefix will be
substituted instead. In the unlikely event that a literal path needs to
be specified that should <em>not</em> be expanded, it needs to be prefixed by
<code>./</code>, like so: <code>./%(prefix)/bin</code>.</p>

</dd>
</dl>



<h3>
Variables</h3>

<p>Note that this list is non-comprehensive and not necessarily complete.
For command-specific variables, you will find a more detailed description
in the appropriate manual page.</p>


<p>Other git-related tools may and do use their own variables.  When
inventing new variables for use in your own tool, make sure their
names do not conflict with those that are used by Git itself and
other popular tools, and describe them in your documentation.</p>


<dl>
<dt> advice.* </dt>
<dd>
<p>These variables control various optional help messages designed to
aid new users. All <em>advice.*</em> variables default to <em>true</em>, and you
can tell Git that you do not need help by setting these to <em>false</em>:</p>



<dl>
<dt> fetchShowForcedUpdates </dt>
<dd>
<p>Advice shown when <a href="/docs/git-fetch">git-fetch[1]</a> takes a long time
to calculate forced updates after ref updates, or to warn
that the check is disabled.</p>
</dd>
<dt> pushUpdateRejected </dt>
<dd>
<p>Set this variable to <em>false</em> if you want to disable
<em>pushNonFFCurrent</em>, <em>pushNonFFMatching</em>, <em>pushAlreadyExists</em>,
<em>pushFetchFirst</em>, <em>pushNeedsForce</em>, and <em>pushRefNeedsUpdate</em>
simultaneously.</p>
</dd>
<dt> pushNonFFCurrent </dt>
<dd>
<p>Advice shown when <a href="/docs/git-push">git-push[1]</a> fails due to a
non-fast-forward update to the current branch.</p>
</dd>
<dt> pushNonFFMatching </dt>
<dd>
<p>Advice shown when you ran <a href="/docs/git-push">git-push[1]</a> and pushed
<em>matching refs</em> explicitly (i.e. you used <em>:</em>, or
specified a refspec that isn’t your current branch) and
it resulted in a non-fast-forward error.</p>
</dd>
<dt> pushAlreadyExists </dt>
<dd>
<p>Shown when <a href="/docs/git-push">git-push[1]</a> rejects an update that
does not qualify for fast-forwarding (e.g., a tag.)</p>
</dd>
<dt> pushFetchFirst </dt>
<dd>
<p>Shown when <a href="/docs/git-push">git-push[1]</a> rejects an update that
tries to overwrite a remote ref that points at an
object we do not have.</p>
</dd>
<dt> pushNeedsForce </dt>
<dd>
<p>Shown when <a href="/docs/git-push">git-push[1]</a> rejects an update that
tries to overwrite a remote ref that points at an
object that is not a commit-ish, or make the remote
ref point at an object that is not a commit-ish.</p>
</dd>
<dt> pushUnqualifiedRefname </dt>
<dd>
<p>Shown when <a href="/docs/git-push">git-push[1]</a> gives up trying to
guess based on the source and destination refs what
remote ref namespace the source belongs in, but where
we can still suggest that the user push to either
refs/heads/* or refs/tags/* based on the type of the
source object.</p>
</dd>
<dt> pushRefNeedsUpdate </dt>
<dd>
<p>Shown when <a href="/docs/git-push">git-push[1]</a> rejects a forced update of
a branch when its remote-tracking ref has updates that we
do not have locally.</p>
</dd>
<dt> skippedCherryPicks </dt>
<dd>
<p>Shown when <a href="/docs/git-rebase">git-rebase[1]</a> skips a commit that has already
been cherry-picked onto the upstream branch.</p>
</dd>
<dt> statusAheadBehind </dt>
<dd>
<p>Shown when <a href="/docs/git-status">git-status[1]</a> computes the ahead/behind
counts for a local ref compared to its remote tracking ref,
and that calculation takes longer than expected. Will not
appear if <code>status.aheadBehind</code> is false or the option
<code>--no-ahead-behind</code> is given.</p>
</dd>
<dt> statusHints </dt>
<dd>
<p>Show directions on how to proceed from the current
state in the output of <a href="/docs/git-status">git-status[1]</a>, in
the template shown when writing commit messages in
<a href="/docs/git-commit">git-commit[1]</a>, and in the help message shown
by <a href="/docs/git-switch">git-switch[1]</a> or
<a href="/docs/git-checkout">git-checkout[1]</a> when switching branch.</p>
</dd>
<dt> statusUoption </dt>
<dd>
<p>Advise to consider using the <code>-u</code> option to <a href="/docs/git-status">git-status[1]</a>
when the command takes more than 2 seconds to enumerate untracked
files.</p>
</dd>
<dt> commitBeforeMerge </dt>
<dd>
<p>Advice shown when <a href="/docs/git-merge">git-merge[1]</a> refuses to
merge to avoid overwriting local changes.</p>
</dd>
<dt> resetQuiet </dt>
<dd>
<p>Advice to consider using the <code>--quiet</code> option to <a href="/docs/git-reset">git-reset[1]</a>
when the command takes more than 2 seconds to enumerate unstaged
changes after reset.</p>
</dd>
<dt> resolveConflict </dt>
<dd>
<p>Advice shown by various commands when conflicts
prevent the operation from being performed.</p>
</dd>
<dt> sequencerInUse </dt>
<dd>
<p>Advice shown when a sequencer command is already in progress.</p>
</dd>
<dt> implicitIdentity </dt>
<dd>
<p>Advice on how to set your identity configuration when
your information is guessed from the system username and
domain name.</p>
</dd>
<dt> detachedHead </dt>
<dd>
<p>Advice shown when you used
<a href="/docs/git-switch">git-switch[1]</a> or <a href="/docs/git-checkout">git-checkout[1]</a>
to move to the detach HEAD state, to instruct how to
create a local branch after the fact.</p>
</dd>
<dt> checkoutAmbiguousRemoteBranchName </dt>
<dd>
<p>Advice shown when the argument to
<a href="/docs/git-checkout">git-checkout[1]</a> and <a href="/docs/git-switch">git-switch[1]</a>
ambiguously resolves to a
remote tracking branch on more than one remote in
situations where an unambiguous argument would have
otherwise caused a remote-tracking branch to be
checked out. See the <code>checkout.defaultRemote</code>
configuration variable for how to set a given remote
to used by default in some situations where this
advice would be printed.</p>
</dd>
<dt> amWorkDir </dt>
<dd>
<p>Advice that shows the location of the patch file when
<a href="/docs/git-am">git-am[1]</a> fails to apply it.</p>
</dd>
<dt> rmHints </dt>
<dd>
<p>In case of failure in the output of <a href="/docs/git-rm">git-rm[1]</a>,
show directions on how to proceed from the current state.</p>
</dd>
<dt> addEmbeddedRepo </dt>
<dd>
<p>Advice on what to do when you’ve accidentally added one
git repo inside of another.</p>
</dd>
<dt> ignoredHook </dt>
<dd>
<p>Advice shown if a hook is ignored because the hook is not
set as executable.</p>
</dd>
<dt> waitingForEditor </dt>
<dd>
<p>Print a message to the terminal whenever Git is waiting for
editor input from the user.</p>
</dd>
<dt> nestedTag </dt>
<dd>
<p>Advice shown if a user attempts to recursively tag a tag object.</p>
</dd>
<dt> submoduleAlternateErrorStrategyDie </dt>
<dd>
<p>Advice shown when a submodule.alternateErrorStrategy option
configured to "die" causes a fatal error.</p>
</dd>
<dt> addIgnoredFile </dt>
<dd>
<p>Advice shown if a user attempts to add an ignored file to
the index.</p>
</dd>
<dt> addEmptyPathspec </dt>
<dd>
<p>Advice shown if a user runs the add command without providing
the pathspec parameter.</p>
</dd>
<dt> updateSparsePath </dt>
<dd>
<p>Advice shown when either <a href="/docs/git-add">git-add[1]</a> or <a href="/docs/git-rm">git-rm[1]</a>
is asked to update index entries outside the current sparse
checkout.</p>
</dd>
</dl>



</dd>
<dt> core.fileMode </dt>
<dd>
<p>Tells Git if the executable bit of files in the working tree
is to be honored.</p>

<p>Some filesystems lose the executable bit when a file that is
marked as executable is checked out, or checks out a
non-executable file with executable bit on.
<a href="/docs/git-clone">git-clone[1]</a> or <a href="/docs/git-init">git-init[1]</a> probe the filesystem
to see if it handles the executable bit correctly
and this variable is automatically set as necessary.</p>


<p>A repository, however, may be on a filesystem that handles
the filemode correctly, and this variable is set to <em>true</em>
when created, but later may be made accessible from another
environment that loses the filemode (e.g. exporting ext4 via
CIFS mount, visiting a Cygwin created repository with
Git for Windows or Eclipse).
In such a case it may be necessary to set this variable to <em>false</em>.
See <a href="/docs/git-update-index">git-update-index[1]</a>.</p>


<p>The default is true (when core.filemode is not specified in the config file).</p>

</dd>
<dt> core.hideDotFiles </dt>
<dd>
<p>(Windows-only) If true, mark newly-created directories and files whose
name starts with a dot as hidden.  If <em>dotGitOnly</em>, only the <code>.git/</code>
directory is hidden, but no other files starting with a dot.  The
default mode is <em>dotGitOnly</em>.</p>
</dd>
<dt> core.ignoreCase </dt>
<dd>
<p>Internal variable which enables various workarounds to enable
Git to work better on filesystems that are not case sensitive,
like APFS, HFS+, FAT, NTFS, etc. For example, if a directory listing
finds "makefile" when Git expects "Makefile", Git will assume
it is really the same file, and continue to remember it as
"Makefile".</p>

<p>The default is false, except <a href="/docs/git-clone">git-clone[1]</a> or <a href="/docs/git-init">git-init[1]</a>
will probe and set core.ignoreCase true if appropriate when the repository
is created.</p>


<p>Git relies on the proper configuration of this variable for your operating
and file system. Modifying this value may result in unexpected behavior.</p>

</dd>
<dt> core.precomposeUnicode </dt>
<dd>
<p>This option is only used by Mac OS implementation of Git.
When core.precomposeUnicode=true, Git reverts the unicode decomposition
of filenames done by Mac OS. This is useful when sharing a repository
between Mac OS and Linux or Windows.
(Git for Windows 1.7.10 or higher is needed, or Git under cygwin 1.7).
When false, file names are handled fully transparent by Git,
which is backward compatible with older versions of Git.</p>
</dd>
<dt> core.protectHFS </dt>
<dd>
<p>If set to true, do not allow checkout of paths that would
be considered equivalent to <code>.git</code> on an HFS+ filesystem.
Defaults to <code>true</code> on Mac OS, and <code>false</code> elsewhere.</p>
</dd>
<dt> core.protectNTFS </dt>
<dd>
<p>If set to true, do not allow checkout of paths that would
cause problems with the NTFS filesystem, e.g. conflict with
8.3 "short" names.
Defaults to <code>true</code> on Windows, and <code>false</code> elsewhere.</p>
</dd>
<dt> core.fsmonitor </dt>
<dd>
<p>If set, the value of this variable is used as a command which
will identify all files that may have changed since the
requested date/time. This information is used to speed up git by
avoiding unnecessary processing of files that have not changed.
See the "fsmonitor-watchman" section of <a href="/docs/githooks">githooks[5]</a>.</p>
</dd>
<dt> core.fsmonitorHookVersion </dt>
<dd>
<p>Sets the version of hook that is to be used when calling fsmonitor.
There are currently versions 1 and 2. When this is not set,
version 2 will be tried first and if it fails then version 1
will be tried. Version 1 uses a timestamp as input to determine
which files have changes since that time but some monitors
like watchman have race conditions when used with a timestamp.
Version 2 uses an opaque string so that the monitor can return
something that can be used to determine what files have changed
without race conditions.</p>
</dd>
<dt> core.trustctime </dt>
<dd>
<p>If false, the ctime differences between the index and the
working tree are ignored; useful when the inode change time
is regularly modified by something outside Git (file system
crawlers and some backup systems).
See <a href="/docs/git-update-index">git-update-index[1]</a>. True by default.</p>
</dd>
<dt> core.splitIndex </dt>
<dd>
<p>If true, the split-index feature of the index will be used.
See <a href="/docs/git-update-index">git-update-index[1]</a>. False by default.</p>
</dd>
<dt> core.untrackedCache </dt>
<dd>
<p>Determines what to do about the untracked cache feature of the
index. It will be kept, if this variable is unset or set to
<code>keep</code>. It will automatically be added if set to <code>true</code>. And
it will automatically be removed, if set to <code>false</code>. Before
setting it to <code>true</code>, you should check that mtime is working
properly on your system.
See <a href="/docs/git-update-index">git-update-index[1]</a>. <code>keep</code> by default, unless
<code>feature.manyFiles</code> is enabled which sets this setting to
<code>true</code> by default.</p>
</dd>
<dt> core.checkStat </dt>
<dd>
<p>When missing or is set to <code>default</code>, many fields in the stat
structure are checked to detect if a file has been modified
since Git looked at it.  When this configuration variable is
set to <code>minimal</code>, sub-second part of mtime and ctime, the
uid and gid of the owner of the file, the inode number (and
the device number, if Git was compiled to use it), are
excluded from the check among these fields, leaving only the
whole-second part of mtime (and ctime, if <code>core.trustCtime</code>
is set) and the filesize to be checked.</p>

<p>There are implementations of Git that do not leave usable values in
some fields (e.g. JGit); by excluding these fields from the
comparison, the <code>minimal</code> mode may help interoperability when the
same repository is used by these other systems at the same time.</p>

</dd>
<dt> core.quotePath </dt>
<dd>
<p>Commands that output paths (e.g. <em>ls-files</em>, <em>diff</em>), will
quote "unusual" characters in the pathname by enclosing the
pathname in double-quotes and escaping those characters with
backslashes in the same way C escapes control characters (e.g.
<code>\t</code> for TAB, <code>\n</code> for LF, <code>\\</code> for backslash) or bytes with
values larger than 0x80 (e.g. octal <code>\302\265</code> for "micro" in
UTF-8).  If this variable is set to false, bytes higher than
0x80 are not considered "unusual" any more. Double-quotes,
backslash and control characters are always escaped regardless
of the setting of this variable.  A simple space character is
not considered "unusual".  Many commands can output pathnames
completely verbatim using the <code>-z</code> option. The default value
is true.</p>
</dd>
<dt> core.eol </dt>
<dd>
<p>Sets the line ending type to use in the working directory for
files that are marked as text (either by having the <code>text</code>
attribute set, or by having <code>text=auto</code> and Git auto-detecting
the contents as text).
Alternatives are <em>lf</em>, <em>crlf</em> and <em>native</em>, which uses the platform’s
native line ending.  The default value is <code>native</code>.  See
<a href="/docs/gitattributes">gitattributes[5]</a> for more information on end-of-line
conversion. Note that this value is ignored if <code>core.autocrlf</code>
is set to <code>true</code> or <code>input</code>.</p>
</dd>
<dt> core.safecrlf </dt>
<dd>
<p>If true, makes Git check if converting <code>CRLF</code> is reversible when
end-of-line conversion is active.  Git will verify if a command
modifies a file in the work tree either directly or indirectly.
For example, committing a file followed by checking out the
same file should yield the original file in the work tree.  If
this is not the case for the current setting of
<code>core.autocrlf</code>, Git will reject the file.  The variable can
be set to "warn", in which case Git will only warn about an
irreversible conversion but continue the operation.</p>

<p>CRLF conversion bears a slight chance of corrupting data.
When it is enabled, Git will convert CRLF to LF during commit and LF to
CRLF during checkout.  A file that contains a mixture of LF and
CRLF before the commit cannot be recreated by Git.  For text
files this is the right thing to do: it corrects line endings
such that we have only LF line endings in the repository.
But for binary files that are accidentally classified as text the
conversion can corrupt data.</p>


<p>If you recognize such corruption early you can easily fix it by
setting the conversion type explicitly in .gitattributes.  Right
after committing you still have the original file in your work
tree and this file is not yet corrupted.  You can explicitly tell
Git that this file is binary and Git will handle the file
appropriately.</p>


<p>Unfortunately, the desired effect of cleaning up text files with
mixed line endings and the undesired effect of corrupting binary
files cannot be distinguished.  In both cases CRLFs are removed
in an irreversible way.  For text files this is the right thing
to do because CRLFs are line endings, while for binary files
converting CRLFs corrupts data.</p>


<p>Note, this safety check does not mean that a checkout will generate a
file identical to the original file for a different setting of
<code>core.eol</code> and <code>core.autocrlf</code>, but only for the current one.  For
example, a text file with <code>LF</code> would be accepted with <code>core.eol=lf</code>
and could later be checked out with <code>core.eol=crlf</code>, in which case the
resulting file would contain <code>CRLF</code>, although the original file
contained <code>LF</code>.  However, in both work trees the line endings would be
consistent, that is either all <code>LF</code> or all <code>CRLF</code>, but never mixed.  A
file with mixed line endings would be reported by the <code>core.safecrlf</code>
mechanism.</p>

</dd>
<dt> core.autocrlf </dt>
<dd>
<p>Setting this variable to "true" is the same as setting
the <code>text</code> attribute to "auto" on all files and core.eol to "crlf".
Set to true if you want to have <code>CRLF</code> line endings in your
working directory and the repository has LF line endings.
This variable can be set to <em>input</em>,
in which case no output conversion is performed.</p>
</dd>
<dt> core.checkRoundtripEncoding </dt>
<dd>
<p>A comma and/or whitespace separated list of encodings that Git
performs UTF-8 round trip checks on if they are used in an
<code>working-tree-encoding</code> attribute (see <a href="/docs/gitattributes">gitattributes[5]</a>).
The default value is <code>SHIFT-JIS</code>.</p>
</dd>
<dt> core.symlinks </dt>
<dd>
<p>If false, symbolic links are checked out as small plain files that
contain the link text. <a href="/docs/git-update-index">git-update-index[1]</a> and
<a href="/docs/git-add">git-add[1]</a> will not change the recorded type to regular
file. Useful on filesystems like FAT that do not support
symbolic links.</p>

<p>The default is true, except <a href="/docs/git-clone">git-clone[1]</a> or <a href="/docs/git-init">git-init[1]</a>
will probe and set core.symlinks false if appropriate when the repository
is created.</p>

</dd>
<dt> core.gitProxy </dt>
<dd>
<p>A "proxy command" to execute (as <em>command host port</em>) instead
of establishing direct connection to the remote server when
using the Git protocol for fetching. If the variable value is
in the "COMMAND for DOMAIN" format, the command is applied only
on hostnames ending with the specified domain string. This variable
may be set multiple times and is matched in the given order;
the first match wins.</p>

<p>Can be overridden by the <code>GIT_PROXY_COMMAND</code> environment variable
(which always applies universally, without the special "for"
handling).</p>


<p>The special string <code>none</code> can be used as the proxy command to
specify that no proxy be used for a given domain pattern.
This is useful for excluding servers inside a firewall from
proxy use, while defaulting to a common proxy for external domains.</p>

</dd>
<dt> core.sshCommand </dt>
<dd>
<p>If this variable is set, <code>git fetch</code> and <code>git push</code> will
use the specified command instead of <code>ssh</code> when they need to
connect to a remote system. The command is in the same form as
the <code>GIT_SSH_COMMAND</code> environment variable and is overridden
when the environment variable is set.</p>
</dd>
<dt> core.ignoreStat </dt>
<dd>
<p>If true, Git will avoid using lstat() calls to detect if files have
changed by setting the "assume-unchanged" bit for those tracked files
which it has updated identically in both the index and working tree.</p>

<p>When files are modified outside of Git, the user will need to stage
the modified files explicitly (e.g. see <em>Examples</em> section in
<a href="/docs/git-update-index">git-update-index[1]</a>).
Git will not normally detect changes to those files.</p>


<p>This is useful on systems where lstat() calls are very slow, such as
CIFS/Microsoft Windows.</p>


<p>False by default.</p>

</dd>
<dt> core.preferSymlinkRefs </dt>
<dd>
<p>Instead of the default "symref" format for HEAD
and other symbolic reference files, use symbolic links.
This is sometimes needed to work with old scripts that
expect HEAD to be a symbolic link.</p>
</dd>
<dt> core.alternateRefsCommand </dt>
<dd>
<p>When advertising tips of available history from an alternate, use the shell to
execute the specified command instead of <a href="/docs/git-for-each-ref">git-for-each-ref[1]</a>. The
first argument is the absolute path of the alternate. Output must contain one
hex object id per line (i.e., the same as produced by <code>git for-each-ref
--format='%(objectname)'</code>).</p>

<p>Note that you cannot generally put <code>git for-each-ref</code> directly into the config
value, as it does not take a repository path as an argument (but you can wrap
the command above in a shell script).</p>

</dd>
<dt> core.alternateRefsPrefixes </dt>
<dd>
<p>When listing references from an alternate, list only references that begin
with the given prefix. Prefixes match as if they were given as arguments to
<a href="/docs/git-for-each-ref">git-for-each-ref[1]</a>. To list multiple prefixes, separate them with
whitespace. If <code>core.alternateRefsCommand</code> is set, setting
<code>core.alternateRefsPrefixes</code> has no effect.</p>
</dd>
<dt> core.bare </dt>
<dd>
<p>If true this repository is assumed to be <em>bare</em> and has no
working directory associated with it.  If this is the case a
number of commands that require a working directory will be
disabled, such as <a href="/docs/git-add">git-add[1]</a> or <a href="/docs/git-merge">git-merge[1]</a>.</p>

<p>This setting is automatically guessed by <a href="/docs/git-clone">git-clone[1]</a> or
<a href="/docs/git-init">git-init[1]</a> when the repository was created.  By default a
repository that ends in "/.git" is assumed to be not bare (bare =
false), while all other repositories are assumed to be bare (bare
= true).</p>

</dd>
<dt> core.worktree </dt>
<dd>
<p>Set the path to the root of the working tree.
If <code>GIT_COMMON_DIR</code> environment variable is set, core.worktree
is ignored and not used for determining the root of working tree.
This can be overridden by the <code>GIT_WORK_TREE</code> environment
variable and the <code>--work-tree</code> command-line option.
The value can be an absolute path or relative to the path to
the .git directory, which is either specified by --git-dir
or GIT_DIR, or automatically discovered.
If --git-dir or GIT_DIR is specified but none of
--work-tree, GIT_WORK_TREE and core.worktree is specified,
the current working directory is regarded as the top level
of your working tree.</p>

<p>Note that this variable is honored even when set in a configuration
file in a ".git" subdirectory of a directory and its value differs
from the latter directory (e.g. "/path/to/.git/config" has
core.worktree set to "/different/path"), which is most likely a
misconfiguration.  Running Git commands in the "/path/to" directory will
still use "/different/path" as the root of the work tree and can cause
confusion unless you know what you are doing (e.g. you are creating a
read-only snapshot of the same index to a location different from the
repository’s usual working tree).</p>

</dd>
<dt> core.logAllRefUpdates </dt>
<dd>
<p>Enable the reflog. Updates to a ref &lt;ref&gt; is logged to the file
"<code>$GIT_DIR/logs/&lt;ref&gt;</code>", by appending the new and old
SHA-1, the date/time and the reason of the update, but
only when the file exists.  If this configuration
variable is set to <code>true</code>, missing "<code>$GIT_DIR/logs/&lt;ref&gt;</code>"
file is automatically created for branch heads (i.e. under
<code>refs/heads/</code>), remote refs (i.e. under <code>refs/remotes/</code>),
note refs (i.e. under <code>refs/notes/</code>), and the symbolic ref <code>HEAD</code>.
If it is set to <code>always</code>, then a missing reflog is automatically
created for any ref under <code>refs/</code>.</p>

<p>This information can be used to determine what commit
was the tip of a branch "2 days ago".</p>


<p>This value is true by default in a repository that has
a working directory associated with it, and false by
default in a bare repository.</p>

</dd>
<dt> core.repositoryFormatVersion </dt>
<dd>
<p>Internal variable identifying the repository format and layout
version.</p>
</dd>
<dt> core.sharedRepository </dt>
<dd>
<p>When <em>group</em> (or <em>true</em>), the repository is made shareable between
several users in a group (making sure all the files and objects are
group-writable). When <em>all</em> (or <em>world</em> or <em>everybody</em>), the
repository will be readable by all users, additionally to being
group-shareable. When <em>umask</em> (or <em>false</em>), Git will use permissions
reported by umask(2). When <em>0xxx</em>, where <em>0xxx</em> is an octal number,
files in the repository will have this mode value. <em>0xxx</em> will override
user’s umask value (whereas the other options will only override
requested parts of the user’s umask value). Examples: <em>0660</em> will make
the repo read/write-able for the owner and group, but inaccessible to
others (equivalent to <em>group</em> unless umask is e.g. <em>0022</em>). <em>0640</em> is a
repository that is group-readable but not group-writable.
See <a href="/docs/git-init">git-init[1]</a>. False by default.</p>
</dd>
<dt> core.warnAmbiguousRefs </dt>
<dd>
<p>If true, Git will warn you if the ref name you passed it is ambiguous
and might match multiple refs in the repository. True by default.</p>
</dd>
<dt> core.compression </dt>
<dd>
<p>An integer -1..9, indicating a default compression level.
-1 is the zlib default. 0 means no compression,
and 1..9 are various speed/size tradeoffs, 9 being slowest.
If set, this provides a default to other compression variables,
such as <code>core.looseCompression</code> and <code>pack.compression</code>.</p>
</dd>
<dt> core.looseCompression </dt>
<dd>
<p>An integer -1..9, indicating the compression level for objects that
are not in a pack file. -1 is the zlib default. 0 means no
compression, and 1..9 are various speed/size tradeoffs, 9 being
slowest.  If not set,  defaults to core.compression.  If that is
not set,  defaults to 1 (best speed).</p>
</dd>
<dt> core.packedGitWindowSize </dt>
<dd>
<p>Number of bytes of a pack file to map into memory in a
single mapping operation.  Larger window sizes may allow
your system to process a smaller number of large pack files
more quickly.  Smaller window sizes will negatively affect
performance due to increased calls to the operating system’s
memory manager, but may improve performance when accessing
a large number of large pack files.</p>

<p>Default is 1 MiB if NO_MMAP was set at compile time, otherwise 32
MiB on 32 bit platforms and 1 GiB on 64 bit platforms.  This should
be reasonable for all users/operating systems.  You probably do
not need to adjust this value.</p>


<p>Common unit suffixes of <em>k</em>, <em>m</em>, or <em>g</em> are supported.</p>

</dd>
<dt> core.packedGitLimit </dt>
<dd>
<p>Maximum number of bytes to map simultaneously into memory
from pack files.  If Git needs to access more than this many
bytes at once to complete an operation it will unmap existing
regions to reclaim virtual address space within the process.</p>

<p>Default is 256 MiB on 32 bit platforms and 32 TiB (effectively
unlimited) on 64 bit platforms.
This should be reasonable for all users/operating systems, except on
the largest projects.  You probably do not need to adjust this value.</p>


<p>Common unit suffixes of <em>k</em>, <em>m</em>, or <em>g</em> are supported.</p>

</dd>
<dt> core.deltaBaseCacheLimit </dt>
<dd>
<p>Maximum number of bytes per thread to reserve for caching base objects
that may be referenced by multiple deltified objects.  By storing the
entire decompressed base objects in a cache Git is able
to avoid unpacking and decompressing frequently used base
objects multiple times.</p>

<p>Default is 96 MiB on all platforms.  This should be reasonable
for all users/operating systems, except on the largest projects.
You probably do not need to adjust this value.</p>


<p>Common unit suffixes of <em>k</em>, <em>m</em>, or <em>g</em> are supported.</p>

</dd>
<dt> core.bigFileThreshold </dt>
<dd>
<p>Files larger than this size are stored deflated, without
attempting delta compression.  Storing large files without
delta compression avoids excessive memory usage, at the
slight expense of increased disk usage. Additionally files
larger than this size are always treated as binary.</p>

<p>Default is 512 MiB on all platforms.  This should be reasonable
for most projects as source code and other text files can still
be delta compressed, but larger binary media files won’t be.</p>


<p>Common unit suffixes of <em>k</em>, <em>m</em>, or <em>g</em> are supported.</p>

</dd>
<dt> core.excludesFile </dt>
<dd>
<p>Specifies the pathname to the file that contains patterns to
describe paths that are not meant to be tracked, in addition
to <code>.gitignore</code> (per-directory) and <code>.git/info/exclude</code>.
Defaults to <code>$XDG_CONFIG_HOME/git/ignore</code>.
If <code>$XDG_CONFIG_HOME</code> is either not set or empty, <code>$HOME/.config/git/ignore</code>
is used instead. See <a href="/docs/gitignore">gitignore[5]</a>.</p>
</dd>
<dt> core.askPass </dt>
<dd>
<p>Some commands (e.g. svn and http interfaces) that interactively
ask for a password can be told to use an external program given
via the value of this variable. Can be overridden by the <code>GIT_ASKPASS</code>
environment variable. If not set, fall back to the value of the
<code>SSH_ASKPASS</code> environment variable or, failing that, a simple password
prompt. The external program shall be given a suitable prompt as
command-line argument and write the password on its STDOUT.</p>
</dd>
<dt> core.attributesFile </dt>
<dd>
<p>In addition to <code>.gitattributes</code> (per-directory) and
<code>.git/info/attributes</code>, Git looks into this file for attributes
(see <a href="/docs/gitattributes">gitattributes[5]</a>). Path expansions are made the same
way as for <code>core.excludesFile</code>. Its default value is
<code>$XDG_CONFIG_HOME/git/attributes</code>. If <code>$XDG_CONFIG_HOME</code> is either not
set or empty, <code>$HOME/.config/git/attributes</code> is used instead.</p>
</dd>
<dt> core.hooksPath </dt>
<dd>
<p>By default Git will look for your hooks in the
<code>$GIT_DIR/hooks</code> directory. Set this to different path,
e.g. <code>/etc/git/hooks</code>, and Git will try to find your hooks in
that directory, e.g. <code>/etc/git/hooks/pre-receive</code> instead of
in <code>$GIT_DIR/hooks/pre-receive</code>.</p>

<p>The path can be either absolute or relative. A relative path is
taken as relative to the directory where the hooks are run (see
the "DESCRIPTION" section of <a href="/docs/githooks">githooks[5]</a>).</p>


<p>This configuration variable is useful in cases where you’d like to
centrally configure your Git hooks instead of configuring them on a
per-repository basis, or as a more flexible and centralized
alternative to having an <code>init.templateDir</code> where you’ve changed
default hooks.</p>

</dd>
<dt> core.editor </dt>
<dd>
<p>Commands such as <code>commit</code> and <code>tag</code> that let you edit
messages by launching an editor use the value of this
variable when it is set, and the environment variable
<code>GIT_EDITOR</code> is not set.  See <a href="/docs/git-var">git-var[1]</a>.</p>
</dd>
<dt> core.commentChar </dt>
<dd>
<p>Commands such as <code>commit</code> and <code>tag</code> that let you edit
messages consider a line that begins with this character
commented, and removes them after the editor returns
(default <em>#</em>).</p>

<p>If set to "auto", <code>git-commit</code> would select a character that is not
the beginning character of any line in existing commit messages.</p>

</dd>
<dt> core.filesRefLockTimeout </dt>
<dd>
<p>The length of time, in milliseconds, to retry when trying to
lock an individual reference. Value 0 means not to retry at
all; -1 means to try indefinitely. Default is 100 (i.e.,
retry for 100ms).</p>
</dd>
<dt> core.packedRefsTimeout </dt>
<dd>
<p>The length of time, in milliseconds, to retry when trying to
lock the <code>packed-refs</code> file. Value 0 means not to retry at
all; -1 means to try indefinitely. Default is 1000 (i.e.,
retry for 1 second).</p>
</dd>
<dt> core.pager </dt>
<dd>
<p>Text viewer for use by Git commands (e.g., <em>less</em>).  The value
is meant to be interpreted by the shell.  The order of preference
is the <code>$GIT_PAGER</code> environment variable, then <code>core.pager</code>
configuration, then <code>$PAGER</code>, and then the default chosen at
compile time (usually <em>less</em>).</p>

<p>When the <code>LESS</code> environment variable is unset, Git sets it to <code>FRX</code>
(if <code>LESS</code> environment variable is set, Git does not change it at
all).  If you want to selectively override Git’s default setting
for <code>LESS</code>, you can set <code>core.pager</code> to e.g. <code>less -S</code>.  This will
be passed to the shell by Git, which will translate the final
command to <code>LESS=FRX less -S</code>. The environment does not set the
<code>S</code> option but the command line does, instructing less to truncate
long lines. Similarly, setting <code>core.pager</code> to <code>less -+F</code> will
deactivate the <code>F</code> option specified by the environment from the
command-line, deactivating the "quit if one screen" behavior of
<code>less</code>.  One can specifically activate some flags for particular
commands: for example, setting <code>pager.blame</code> to <code>less -S</code> enables
line truncation only for <code>git blame</code>.</p>


<p>Likewise, when the <code>LV</code> environment variable is unset, Git sets it
to <code>-c</code>.  You can override this setting by exporting <code>LV</code> with
another value or setting <code>core.pager</code> to <code>lv +c</code>.</p>

</dd>
<dt> core.whitespace </dt>
<dd>
<p>A comma separated list of common whitespace problems to
notice.  <em>git diff</em> will use <code>color.diff.whitespace</code> to
highlight them, and <em>git apply --whitespace=error</em> will
consider them as errors.  You can prefix <code>-</code> to disable
any of them (e.g. <code>-trailing-space</code>):</p>

<ul>
<li>
<p><code>blank-at-eol</code> treats trailing whitespaces at the end of the line
as an error (enabled by default).</p>
</li>
<li>
<p><code>space-before-tab</code> treats a space character that appears immediately
before a tab character in the initial indent part of the line as an
error (enabled by default).</p>
</li>
<li>
<p><code>indent-with-non-tab</code> treats a line that is indented with space
characters instead of the equivalent tabs as an error (not enabled by
default).</p>
</li>
<li>
<p><code>tab-in-indent</code> treats a tab character in the initial indent part of
the line as an error (not enabled by default).</p>
</li>
<li>
<p><code>blank-at-eof</code> treats blank lines added at the end of file as an error
(enabled by default).</p>
</li>
<li>
<p><code>trailing-space</code> is a short-hand to cover both <code>blank-at-eol</code> and
<code>blank-at-eof</code>.</p>
</li>
<li>
<p><code>cr-at-eol</code> treats a carriage-return at the end of line as
part of the line terminator, i.e. with it, <code>trailing-space</code>
does not trigger if the character before such a carriage-return
is not a whitespace (not enabled by default).</p>
</li>
<li>
<p><code>tabwidth=&lt;n&gt;</code> tells how many character positions a tab occupies; this
is relevant for <code>indent-with-non-tab</code> and when Git fixes <code>tab-in-indent</code>
errors. The default tab width is 8. Allowed values are 1 to 63.</p>
</li>
</ul>

</dd>
<dt> core.fsyncObjectFiles </dt>
<dd>
<p>This boolean will enable <em>fsync()</em> when writing object files.</p>

<p>This is a total waste of time and effort on a filesystem that orders
data writes properly, but can be useful for filesystems that do not use
journalling (traditional UNIX filesystems) or that only journal metadata
and not file contents (OS X’s HFS+, or Linux ext3 with "data=writeback").</p>

</dd>
<dt> core.preloadIndex </dt>
<dd>
<p>Enable parallel index preload for operations like <em>git diff</em></p>

<p>This can speed up operations like <em>git diff</em> and <em>git status</em> especially
on filesystems like NFS that have weak caching semantics and thus
relatively high IO latencies.  When enabled, Git will do the
index comparison to the filesystem data in parallel, allowing
overlapping IO’s.  Defaults to true.</p>

</dd>
<dt> core.unsetenvvars </dt>
<dd>
<p>Windows-only: comma-separated list of environment variables'
names that need to be unset before spawning any other process.
Defaults to <code>PERL5LIB</code> to account for the fact that Git for
Windows insists on using its own Perl interpreter.</p>
</dd>
<dt> core.restrictinheritedhandles </dt>
<dd>
<p>Windows-only: override whether spawned processes inherit only standard
file handles (<code>stdin</code>, <code>stdout</code> and <code>stderr</code>) or all handles. Can be
<code>auto</code>, <code>true</code> or <code>false</code>. Defaults to <code>auto</code>, which means <code>true</code> on
Windows 7 and later, and <code>false</code> on older Windows versions.</p>
</dd>
<dt> core.createObject </dt>
<dd>
<p>You can set this to <em>link</em>, in which case a hardlink followed by
a delete of the source are used to make sure that object creation
will not overwrite existing objects.</p>

<p>On some file system/operating system combinations, this is unreliable.
Set this config setting to <em>rename</em> there; However, This will remove the
check that makes sure that existing object files will not get overwritten.</p>

</dd>
<dt> core.notesRef </dt>
<dd>
<p>When showing commit messages, also show notes which are stored in
the given ref.  The ref must be fully qualified.  If the given
ref does not exist, it is not an error but means that no
notes should be printed.</p>

<p>This setting defaults to "refs/notes/commits", and it can be overridden by
the <code>GIT_NOTES_REF</code> environment variable.  See <a href="/docs/git-notes">git-notes[1]</a>.</p>

</dd>
<dt> core.commitGraph </dt>
<dd>
<p>If true, then git will read the commit-graph file (if it exists)
to parse the graph structure of commits. Defaults to true. See
<a href="/docs/git-commit-graph">git-commit-graph[1]</a> for more information.</p>
</dd>
<dt> core.useReplaceRefs </dt>
<dd>
<p>If set to <code>false</code>, behave as if the <code>--no-replace-objects</code>
option was given on the command line. See <a href="/docs/git">git[1]</a> and
<a href="/docs/git-replace">git-replace[1]</a> for more information.</p>
</dd>
<dt> core.multiPackIndex </dt>
<dd>
<p>Use the multi-pack-index file to track multiple packfiles using a
single index. See <a href="/docs/git-multi-pack-index">git-multi-pack-index[1]</a> for more
information. Defaults to true.</p>
</dd>
<dt> core.sparseCheckout </dt>
<dd>
<p>Enable "sparse checkout" feature. See <a href="/docs/git-sparse-checkout">git-sparse-checkout[1]</a>
for more information.</p>
</dd>
<dt> core.sparseCheckoutCone </dt>
<dd>
<p>Enables the "cone mode" of the sparse checkout feature. When the
sparse-checkout file contains a limited set of patterns, then this
mode provides significant performance advantages. See
<a href="/docs/git-sparse-checkout">git-sparse-checkout[1]</a> for more information.</p>
</dd>
<dt> core.abbrev </dt>
<dd>
<p>Set the length object names are abbreviated to.  If
unspecified or set to "auto", an appropriate value is
computed based on the approximate number of packed objects
in your repository, which hopefully is enough for
abbreviated object names to stay unique for some time.
If set to "no", no abbreviation is made and the object names
are shown in their full length.
The minimum length is 4.</p>
</dd>
<dt> add.ignoreErrors </dt>
<dt> add.ignore-errors (deprecated) </dt>
<dd>
<p>Tells <em>git add</em> to continue adding files when some files cannot be
added due to indexing errors. Equivalent to the <code>--ignore-errors</code>
option of <a href="/docs/git-add">git-add[1]</a>.  <code>add.ignore-errors</code> is deprecated,
as it does not follow the usual naming convention for configuration
variables.</p>
</dd>
<dt> add.interactive.useBuiltin </dt>
<dd>
<p>[EXPERIMENTAL] Set to <code>true</code> to use the experimental built-in
implementation of the interactive version of <a href="/docs/git-add">git-add[1]</a>
instead of the Perl script version. Is <code>false</code> by default.</p>
</dd>
<dt> alias.* </dt>
<dd>
<p>Command aliases for the <a href="/docs/git">git[1]</a> command wrapper - e.g.
after defining <code>alias.last = cat-file commit HEAD</code>, the invocation
<code>git last</code> is equivalent to <code>git cat-file commit HEAD</code>. To avoid
confusion and troubles with script usage, aliases that
hide existing Git commands are ignored. Arguments are split by
spaces, the usual shell quoting and escaping is supported.
A quote pair or a backslash can be used to quote them.</p>

<p>Note that the first word of an alias does not necessarily have to be a
command. It can be a command-line option that will be passed into the
invocation of <code>git</code>. In particular, this is useful when used with <code>-c</code>
to pass in one-time configurations or <code>-p</code> to force pagination. For example,
<code>loud-rebase = -c commit.verbose=true rebase</code> can be defined such that
running <code>git loud-rebase</code> would be equivalent to
<code>git -c commit.verbose=true rebase</code>. Also, <code>ps = -p status</code> would be a
helpful alias since <code>git ps</code> would paginate the output of <code>git status</code>
where the original command does not.</p>


<p>If the alias expansion is prefixed with an exclamation point,
it will be treated as a shell command.  For example, defining
<code>alias.new = !gitk --all --not ORIG_HEAD</code>, the invocation
<code>git new</code> is equivalent to running the shell command
<code>gitk --all --not ORIG_HEAD</code>.  Note that shell commands will be
executed from the top-level directory of a repository, which may
not necessarily be the current directory.
<code>GIT_PREFIX</code> is set as returned by running <code>git rev-parse --show-prefix</code>
from the original current directory. See <a href="/docs/git-rev-parse">git-rev-parse[1]</a>.</p>

</dd>
<dt> am.keepcr </dt>
<dd>
<p>If true, git-am will call git-mailsplit for patches in mbox format
with parameter <code>--keep-cr</code>. In this case git-mailsplit will
not remove <code>\r</code> from lines ending with <code>\r\n</code>. Can be overridden
by giving <code>--no-keep-cr</code> from the command line.
See <a href="/docs/git-am">git-am[1]</a>, <a href="/docs/git-mailsplit">git-mailsplit[1]</a>.</p>
</dd>
<dt> am.threeWay </dt>
<dd>
<p>By default, <code>git am</code> will fail if the patch does not apply cleanly. When
set to true, this setting tells <code>git am</code> to fall back on 3-way merge if
the patch records the identity of blobs it is supposed to apply to and
we have those blobs available locally (equivalent to giving the <code>--3way</code>
option from the command line). Defaults to <code>false</code>.
See <a href="/docs/git-am">git-am[1]</a>.</p>
</dd>
<dt> apply.ignoreWhitespace </dt>
<dd>
<p>When set to <em>change</em>, tells <em>git apply</em> to ignore changes in
whitespace, in the same way as the <code>--ignore-space-change</code>
option.
When set to one of: no, none, never, false tells <em>git apply</em> to
respect all whitespace differences.
See <a href="/docs/git-apply">git-apply[1]</a>.</p>
</dd>
<dt> apply.whitespace </dt>
<dd>
<p>Tells <em>git apply</em> how to handle whitespaces, in the same way
as the <code>--whitespace</code> option. See <a href="/docs/git-apply">git-apply[1]</a>.</p>
</dd>
<dt> blame.blankBoundary </dt>
<dd>
<p>Show blank commit object name for boundary commits in
<a href="/docs/git-blame">git-blame[1]</a>. This option defaults to false.</p>
</dd>
<dt> blame.coloring </dt>
<dd>
<p>This determines the coloring scheme to be applied to blame
output. It can be <em>repeatedLines</em>, <em>highlightRecent</em>,
or <em>none</em> which is the default.</p>
</dd>
<dt> blame.date </dt>
<dd>
<p>Specifies the format used to output dates in <a href="/docs/git-blame">git-blame[1]</a>.
If unset the iso format is used. For supported values,
see the discussion of the <code>--date</code> option at <a href="/docs/git-log">git-log[1]</a>.</p>
</dd>
<dt> blame.showEmail </dt>
<dd>
<p>Show the author email instead of author name in <a href="/docs/git-blame">git-blame[1]</a>.
This option defaults to false.</p>
</dd>
<dt> blame.showRoot </dt>
<dd>
<p>Do not treat root commits as boundaries in <a href="/docs/git-blame">git-blame[1]</a>.
This option defaults to false.</p>
</dd>
<dt> blame.ignoreRevsFile </dt>
<dd>
<p>Ignore revisions listed in the file, one unabbreviated object name per
line, in <a href="/docs/git-blame">git-blame[1]</a>.  Whitespace and comments beginning with
<code>#</code> are ignored.  This option may be repeated multiple times.  Empty
file names will reset the list of ignored revisions.  This option will
be handled before the command line option <code>--ignore-revs-file</code>.</p>
</dd>
<dt> blame.markUnblamableLines </dt>
<dd>
<p>Mark lines that were changed by an ignored revision that we could not
attribute to another commit with a <em>*</em> in the output of
<a href="/docs/git-blame">git-blame[1]</a>.</p>
</dd>
<dt> blame.markIgnoredLines </dt>
<dd>
<p>Mark lines that were changed by an ignored revision that we attributed to
another commit with a <em>?</em> in the output of <a href="/docs/git-blame">git-blame[1]</a>.</p>
</dd>
<dt> branch.autoSetupMerge </dt>
<dd>
<p>Tells <em>git branch</em>, <em>git switch</em> and <em>git checkout</em> to set up new branches
so that <a href="/docs/git-pull">git-pull[1]</a> will appropriately merge from the
starting point branch. Note that even if this option is not set,
this behavior can be chosen per-branch using the <code>--track</code>
and <code>--no-track</code> options. The valid settings are: <code>false</code><U+2009>—<U+2009>no
automatic setup is done; <code>true</code><U+2009>—<U+2009>automatic setup is done when the
starting point is a remote-tracking branch; <code>always</code><U+2009>—<U+2009>automatic setup is done when the starting point is either a
local branch or remote-tracking branch; <code>inherit</code><U+2009>—<U+2009>if the starting point
has a tracking configuration, it is copied to the new
branch. This option defaults to true.</p>
</dd>
<dt> branch.autoSetupRebase </dt>
<dd>
<p>When a new branch is created with <em>git branch</em>, <em>git switch</em> or <em>git checkout</em>
that tracks another branch, this variable tells Git to set
up pull to rebase instead of merge (see "branch.&lt;name&gt;.rebase").
When <code>never</code>, rebase is never automatically set to true.
When <code>local</code>, rebase is set to true for tracked branches of
other local branches.
When <code>remote</code>, rebase is set to true for tracked branches of
remote-tracking branches.
When <code>always</code>, rebase will be set to true for all tracking
branches.
See "branch.autoSetupMerge" for details on how to set up a
branch to track another branch.
This option defaults to never.</p>
</dd>
<dt> branch.sort </dt>
<dd>
<p>This variable controls the sort ordering of branches when displayed by
<a href="/docs/git-branch">git-branch[1]</a>. Without the "--sort=&lt;value&gt;" option provided, the
value of this variable will be used as the default.
See <a href="/docs/git-for-each-ref">git-for-each-ref[1]</a> field names for valid values.</p>
</dd>
<dt> branch.&lt;name&gt;.remote </dt>
<dd>
<p>When on branch &lt;name&gt;, it tells <em>git fetch</em> and <em>git push</em>
which remote to fetch from/push to.  The remote to push to
may be overridden with <code>remote.pushDefault</code> (for all branches).
The remote to push to, for the current branch, may be further
overridden by <code>branch.&lt;name&gt;.pushRemote</code>.  If no remote is
configured, or if you are not on any branch, it defaults to
<code>origin</code> for fetching and <code>remote.pushDefault</code> for pushing.
Additionally, <code>.</code> (a period) is the current local repository
(a dot-repository), see <code>branch.&lt;name&gt;.merge</code>'s final note below.</p>
</dd>
<dt> branch.&lt;name&gt;.pushRemote </dt>
<dd>
<p>When on branch &lt;name&gt;, it overrides <code>branch.&lt;name&gt;.remote</code> for
pushing.  It also overrides <code>remote.pushDefault</code> for pushing
from branch &lt;name&gt;.  When you pull from one place (e.g. your
upstream) and push to another place (e.g. your own publishing
repository), you would want to set <code>remote.pushDefault</code> to
specify the remote to push to for all branches, and use this
option to override it for a specific branch.</p>
</dd>
<dt> branch.&lt;name&gt;.merge </dt>
<dd>
<p>Defines, together with branch.&lt;name&gt;.remote, the upstream branch
for the given branch. It tells <em>git fetch</em>/<em>git pull</em>/<em>git rebase</em> which
branch to merge and can also affect <em>git push</em> (see push.default).
When in branch &lt;name&gt;, it tells <em>git fetch</em> the default
refspec to be marked for merging in FETCH_HEAD. The value is
handled like the remote part of a refspec, and must match a
ref which is fetched from the remote given by
"branch.&lt;name&gt;.remote".
The merge information is used by <em>git pull</em> (which at first calls
<em>git fetch</em>) to lookup the default branch for merging. Without
this option, <em>git pull</em> defaults to merge the first refspec fetched.
Specify multiple values to get an octopus merge.
If you wish to setup <em>git pull</em> so that it merges into &lt;name&gt; from
another branch in the local repository, you can point
branch.&lt;name&gt;.merge to the desired branch, and use the relative path
setting <code>.</code> (a period) for branch.&lt;name&gt;.remote.</p>
</dd>
<dt> branch.&lt;name&gt;.mergeOptions </dt>
<dd>
<p>Sets default options for merging into branch &lt;name&gt;. The syntax and
supported options are the same as those of <a href="/docs/git-merge">git-merge[1]</a>, but
option values containing whitespace characters are currently not
supported.</p>
</dd>
<dt> branch.&lt;name&gt;.rebase </dt>
<dd>
<p>When true, rebase the branch &lt;name&gt; on top of the fetched branch,
instead of merging the default branch from the default remote when
"git pull" is run. See "pull.rebase" for doing this in a non
branch-specific manner.</p>

<p>When <code>merges</code> (or just <em>m</em>), pass the <code>--rebase-merges</code> option to <em>git rebase</em>
so that the local merge commits are included in the rebase (see
<a href="/docs/git-rebase">git-rebase[1]</a> for details).</p>


<p>When the value is <code>interactive</code> (or just <em>i</em>), the rebase is run in interactive
mode.</p>


<p><strong>NOTE</strong>: this is a possibly dangerous operation; do <strong>not</strong> use
it unless you understand the implications (see <a href="/docs/git-rebase">git-rebase[1]</a>
for details).</p>

</dd>
<dt> branch.&lt;name&gt;.description </dt>
<dd>
<p>Branch description, can be edited with
<code>git branch --edit-description</code>. Branch description is
automatically added in the format-patch cover letter or
request-pull summary.</p>
</dd>
<dt> browser.&lt;tool&gt;.cmd </dt>
<dd>
<p>Specify the command to invoke the specified browser. The
specified command is evaluated in shell with the URLs passed
as arguments. (See <a href="/docs/git-web--browse">git-web--browse[1]</a>.)</p>
</dd>
<dt> browser.&lt;tool&gt;.path </dt>
<dd>
<p>Override the path for the given tool that may be used to
browse HTML help (see <code>-w</code> option in <a href="/docs/git-help">git-help[1]</a>) or a
working repository in gitweb (see <a href="/docs/git-instaweb">git-instaweb[1]</a>).</p>
</dd>
<dt> checkout.defaultRemote </dt>
<dd>
<p>When you run <code>git checkout &lt;something&gt;</code>
or <code>git switch &lt;something&gt;</code> and only have one
remote, it may implicitly fall back on checking out and
tracking e.g. <code>origin/&lt;something&gt;</code>. This stops working as soon
as you have more than one remote with a <code>&lt;something&gt;</code>
reference. This setting allows for setting the name of a
preferred remote that should always win when it comes to
disambiguation. The typical use-case is to set this to
<code>origin</code>.</p>

<p>Currently this is used by <a href="/docs/git-switch">git-switch[1]</a> and
<a href="/docs/git-checkout">git-checkout[1]</a> when <code>git checkout &lt;something&gt;</code>
or <code>git switch &lt;something&gt;</code>
will checkout the <code>&lt;something&gt;</code> branch on another remote,
and by <a href="/docs/git-worktree">git-worktree[1]</a> when <code>git worktree add</code> refers to a
remote branch. This setting might be used for other checkout-like
commands or functionality in the future.</p>

</dd>
<dt> checkout.guess </dt>
<dd>
<p>Provides the default value for the <code>--guess</code> or <code>--no-guess</code>
option in <code>git checkout</code> and <code>git switch</code>. See
<a href="/docs/git-switch">git-switch[1]</a> and <a href="/docs/git-checkout">git-checkout[1]</a>.</p>
</dd>
<dt> checkout.workers </dt>
<dd>
<p>The number of parallel workers to use when updating the working tree.
The default is one, i.e. sequential execution. If set to a value less
than one, Git will use as many workers as the number of logical cores
available. This setting and <code>checkout.thresholdForParallelism</code> affect
all commands that perform checkout. E.g. checkout, clone, reset,
sparse-checkout, etc.</p>

<p>Note: parallel checkout usually delivers better performance for repositories
located on SSDs or over NFS. For repositories on spinning disks and/or machines
with a small number of cores, the default sequential checkout often performs
better. The size and compression level of a repository might also influence how
well the parallel version performs.</p>

</dd>
<dt> checkout.thresholdForParallelism </dt>
<dd>
<p>When running parallel checkout with a small number of files, the cost
of subprocess spawning and inter-process communication might outweigh
the parallelization gains. This setting allows to define the minimum
number of files for which parallel checkout should be attempted. The
default is 100.</p>
</dd>
<dt> clean.requireForce </dt>
<dd>
<p>A boolean to make git-clean do nothing unless given -f,
-i or -n.   Defaults to true.</p>
</dd>
<dt> clone.defaultRemoteName </dt>
<dd>
<p>The name of the remote to create when cloning a repository.  Defaults to
<code>origin</code>, and can be overridden by passing the <code>--origin</code> command-line
option to <a href="/docs/git-clone">git-clone[1]</a>.</p>
</dd>
<dt> clone.rejectShallow </dt>
<dd>
<p>Reject to clone a repository if it is a shallow one, can be overridden by
passing option <code>--reject-shallow</code> in command line. See <a href="/docs/git-clone">git-clone[1]</a></p>
</dd>
<dt> color.advice </dt>
<dd>
<p>A boolean to enable/disable color in hints (e.g. when a push
failed, see <code>advice.*</code> for a list).  May be set to <code>always</code>,
<code>false</code> (or <code>never</code>) or <code>auto</code> (or <code>true</code>), in which case colors
are used only when the error output goes to a terminal. If
unset, then the value of <code>color.ui</code> is used (<code>auto</code> by default).</p>
</dd>
<dt> color.advice.hint </dt>
<dd>
<p>Use customized color for hints.</p>
</dd>
<dt> color.blame.highlightRecent </dt>
<dd>
<p>Specify the line annotation color for <code>git blame --color-by-age</code>
depending upon the age of the line.</p>

<p>This setting should be set to a comma-separated list of color and
date settings, starting and ending with a color, the dates should be
set from oldest to newest. The metadata will be colored with the
specified colors if the line was introduced before the given
timestamp, overwriting older timestamped colors.</p>


<p>Instead of an absolute timestamp relative timestamps work as well,
e.g. <code>2.weeks.ago</code> is valid to address anything older than 2 weeks.</p>


<p>It defaults to <code>blue,12 month ago,white,1 month ago,red</code>, which
colors everything older than one year blue, recent changes between
one month and one year old are kept white, and lines introduced
within the last month are colored red.</p>

</dd>
<dt> color.blame.repeatedLines </dt>
<dd>
<p>Use the specified color to colorize line annotations for
<code>git blame --color-lines</code>, if they come from the same commit as the
preceding line. Defaults to cyan.</p>
</dd>
<dt> color.branch </dt>
<dd>
<p>A boolean to enable/disable color in the output of
<a href="/docs/git-branch">git-branch[1]</a>. May be set to <code>always</code>,
<code>false</code> (or <code>never</code>) or <code>auto</code> (or <code>true</code>), in which case colors are used
only when the output is to a terminal. If unset, then the
value of <code>color.ui</code> is used (<code>auto</code> by default).</p>
</dd>
<dt> color.branch.&lt;slot&gt; </dt>
<dd>
<p>Use customized color for branch coloration. <code>&lt;slot&gt;</code> is one of
<code>current</code> (the current branch), <code>local</code> (a local branch),
<code>remote</code> (a remote-tracking branch in refs/remotes/),
<code>upstream</code> (upstream tracking branch), <code>plain</code> (other
refs).</p>
</dd>
<dt> color.diff </dt>
<dd>
<p>Whether to use ANSI escape sequences to add color to patches.
If this is set to <code>always</code>, <a href="/docs/git-diff">git-diff[1]</a>,
<a href="/docs/git-log">git-log[1]</a>, and <a href="/docs/git-show">git-show[1]</a> will use color
for all patches.  If it is set to <code>true</code> or <code>auto</code>, those
commands will only use color when output is to the terminal.
If unset, then the value of <code>color.ui</code> is used (<code>auto</code> by
default).</p>

<p>This does not affect <a href="/docs/git-format-patch">git-format-patch[1]</a> or the
<em>git-diff-*</em> plumbing commands.  Can be overridden on the
command line with the <code>--color[=&lt;when&gt;]</code> option.</p>

</dd>
<dt> color.diff.&lt;slot&gt; </dt>
<dd>
<p>Use customized color for diff colorization.  <code>&lt;slot&gt;</code> specifies
which part of the patch to use the specified color, and is one
of <code>context</code> (context text - <code>plain</code> is a historical synonym),
<code>meta</code> (metainformation), <code>frag</code>
(hunk header), <em>func</em> (function in hunk header), <code>old</code> (removed lines),
<code>new</code> (added lines), <code>commit</code> (commit headers), <code>whitespace</code>
(highlighting whitespace errors), <code>oldMoved</code> (deleted lines),
<code>newMoved</code> (added lines), <code>oldMovedDimmed</code>, <code>oldMovedAlternative</code>,
<code>oldMovedAlternativeDimmed</code>, <code>newMovedDimmed</code>, <code>newMovedAlternative</code>
<code>newMovedAlternativeDimmed</code> (See the <em>&lt;mode&gt;</em>
setting of <em>--color-moved</em> in <a href="/docs/git-diff">git-diff[1]</a> for details),
<code>contextDimmed</code>, <code>oldDimmed</code>, <code>newDimmed</code>, <code>contextBold</code>,
<code>oldBold</code>, and <code>newBold</code> (see <a href="/docs/git-range-diff">git-range-diff[1]</a> for details).</p>
</dd>
<dt> color.decorate.&lt;slot&gt; </dt>
<dd>
<p>Use customized color for <em>git log --decorate</em> output.  <code>&lt;slot&gt;</code> is one
of <code>branch</code>, <code>remoteBranch</code>, <code>tag</code>, <code>stash</code> or <code>HEAD</code> for local
branches, remote-tracking branches, tags, stash and HEAD, respectively
and <code>grafted</code> for grafted commits.</p>
</dd>
<dt> color.grep </dt>
<dd>
<p>When set to <code>always</code>, always highlight matches.  When <code>false</code> (or
<code>never</code>), never.  When set to <code>true</code> or <code>auto</code>, use color only
when the output is written to the terminal.  If unset, then the
value of <code>color.ui</code> is used (<code>auto</code> by default).</p>
</dd>
<dt> color.grep.&lt;slot&gt; </dt>
<dd>
<p>Use customized color for grep colorization.  <code>&lt;slot&gt;</code> specifies which
part of the line to use the specified color, and is one of</p>



<dl>
<dt> <code>context</code> </dt>
<dd>
<p>non-matching text in context lines (when using <code>-A</code>, <code>-B</code>, or <code>-C</code>)</p>
</dd>
<dt> <code>filename</code> </dt>
<dd>
<p>filename prefix (when not using <code>-h</code>)</p>
</dd>
<dt> <code>function</code> </dt>
<dd>
<p>function name lines (when using <code>-p</code>)</p>
</dd>
<dt> <code>lineNumber</code> </dt>
<dd>
<p>line number prefix (when using <code>-n</code>)</p>
</dd>
<dt> <code>column</code> </dt>
<dd>
<p>column number prefix (when using <code>--column</code>)</p>
</dd>
<dt> <code>match</code> </dt>
<dd>
<p>matching text (same as setting <code>matchContext</code> and <code>matchSelected</code>)</p>
</dd>
<dt> <code>matchContext</code> </dt>
<dd>
<p>matching text in context lines</p>
</dd>
<dt> <code>matchSelected</code> </dt>
<dd>
<p>matching text in selected lines. Also, used to customize the following
<a href="/docs/git-log">git-log[1]</a> subcommands: <code>--grep</code>, <code>--author</code> and <code>--committer</code>.</p>
</dd>
<dt> <code>selected</code> </dt>
<dd>
<p>non-matching text in selected lines. Also, used to customize the
following <a href="/docs/git-log">git-log[1]</a> subcommands: <code>--grep</code>, <code>--author</code> and
<code>--committer</code>.</p>
</dd>
<dt> <code>separator</code> </dt>
<dd>
<p>separators between fields on a line (<code>:</code>, <code>-</code>, and <code>=</code>)
and between hunks (<code>--</code>)</p>
</dd>
</dl>



</dd>
<dt> color.interactive </dt>
<dd>
<p>When set to <code>always</code>, always use colors for interactive prompts
and displays (such as those used by "git-add --interactive" and
"git-clean --interactive"). When false (or <code>never</code>), never.
When set to <code>true</code> or <code>auto</code>, use colors only when the output is
to the terminal. If unset, then the value of <code>color.ui</code> is
used (<code>auto</code> by default).</p>
</dd>
<dt> color.interactive.&lt;slot&gt; </dt>
<dd>
<p>Use customized color for <em>git add --interactive</em> and <em>git clean
--interactive</em> output. <code>&lt;slot&gt;</code> may be <code>prompt</code>, <code>header</code>, <code>help</code>
or <code>error</code>, for four distinct types of normal output from
interactive commands.</p>
</dd>
<dt> color.pager </dt>
<dd>
<p>A boolean to specify whether <code>auto</code> color modes should colorize
output going to the pager. Defaults to true; set this to false
if your pager does not understand ANSI color codes.</p>
</dd>
<dt> color.push </dt>
<dd>
<p>A boolean to enable/disable color in push errors. May be set to
<code>always</code>, <code>false</code> (or <code>never</code>) or <code>auto</code> (or <code>true</code>), in which
case colors are used only when the error output goes to a terminal.
If unset, then the value of <code>color.ui</code> is used (<code>auto</code> by default).</p>
</dd>
<dt> color.push.error </dt>
<dd>
<p>Use customized color for push errors.</p>
</dd>
<dt> color.remote </dt>
<dd>
<p>If set, keywords at the start of the line are highlighted. The
keywords are "error", "warning", "hint" and "success", and are
matched case-insensitively. May be set to <code>always</code>, <code>false</code> (or
<code>never</code>) or <code>auto</code> (or <code>true</code>). If unset, then the value of
<code>color.ui</code> is used (<code>auto</code> by default).</p>
</dd>
<dt> color.remote.&lt;slot&gt; </dt>
<dd>
<p>Use customized color for each remote keyword. <code>&lt;slot&gt;</code> may be
<code>hint</code>, <code>warning</code>, <code>success</code> or <code>error</code> which match the
corresponding keyword.</p>
</dd>
<dt> color.showBranch </dt>
<dd>
<p>A boolean to enable/disable color in the output of
<a href="/docs/git-show-branch">git-show-branch[1]</a>. May be set to <code>always</code>,
<code>false</code> (or <code>never</code>) or <code>auto</code> (or <code>true</code>), in which case colors are used
only when the output is to a terminal. If unset, then the
value of <code>color.ui</code> is used (<code>auto</code> by default).</p>
</dd>
<dt> color.status </dt>
<dd>
<p>A boolean to enable/disable color in the output of
<a href="/docs/git-status">git-status[1]</a>. May be set to <code>always</code>,
<code>false</code> (or <code>never</code>) or <code>auto</code> (or <code>true</code>), in which case colors are used
only when the output is to a terminal. If unset, then the
value of <code>color.ui</code> is used (<code>auto</code> by default).</p>
</dd>
<dt> color.status.&lt;slot&gt; </dt>
<dd>
<p>Use customized color for status colorization. <code>&lt;slot&gt;</code> is
one of <code>header</code> (the header text of the status message),
<code>added</code> or <code>updated</code> (files which are added but not committed),
<code>changed</code> (files which are changed but not added in the index),
<code>untracked</code> (files which are not tracked by Git),
<code>branch</code> (the current branch),
<code>nobranch</code> (the color the <em>no branch</em> warning is shown in, defaulting
to red),
<code>localBranch</code> or <code>remoteBranch</code> (the local and remote branch names,
respectively, when branch and tracking information is displayed in the
status short-format), or
<code>unmerged</code> (files which have unmerged changes).</p>
</dd>
<dt> color.transport </dt>
<dd>
<p>A boolean to enable/disable color when pushes are rejected. May be
set to <code>always</code>, <code>false</code> (or <code>never</code>) or <code>auto</code> (or <code>true</code>), in which
case colors are used only when the error output goes to a terminal.
If unset, then the value of <code>color.ui</code> is used (<code>auto</code> by default).</p>
</dd>
<dt> color.transport.rejected </dt>
<dd>
<p>Use customized color when a push was rejected.</p>
</dd>
<dt> color.ui </dt>
<dd>
<p>This variable determines the default value for variables such
as <code>color.diff</code> and <code>color.grep</code> that control the use of color
per command family. Its scope will expand as more commands learn
configuration to set a default for the <code>--color</code> option.  Set it
to <code>false</code> or <code>never</code> if you prefer Git commands not to use
color unless enabled explicitly with some other configuration
or the <code>--color</code> option. Set it to <code>always</code> if you want all
output not intended for machine consumption to use color, to
<code>true</code> or <code>auto</code> (this is the default since Git 1.8.4) if you
want such output to use color when written to the terminal.</p>
</dd>
<dt> column.ui </dt>
<dd>
<p>Specify whether supported commands should output in columns.
This variable consists of a list of tokens separated by spaces
or commas:</p>

<p>These options control when the feature should be enabled
(defaults to <em>never</em>):</p>




<dl>
<dt> <code>always</code> </dt>
<dd>
<p>always show in columns</p>
</dd>
<dt> <code>never</code> </dt>
<dd>
<p>never show in columns</p>
</dd>
<dt> <code>auto</code> </dt>
<dd>
<p>show in columns if the output is to the terminal</p>
</dd>
</dl>




<p>These options control layout (defaults to <em>column</em>).  Setting any
of these implies <em>always</em> if none of <em>always</em>, <em>never</em>, or <em>auto</em> are
specified.</p>




<dl>
<dt> <code>column</code> </dt>
<dd>
<p>fill columns before rows</p>
</dd>
<dt> <code>row</code> </dt>
<dd>
<p>fill rows before columns</p>
</dd>
<dt> <code>plain</code> </dt>
<dd>
<p>show in one column</p>
</dd>
</dl>




<p>Finally, these options can be combined with a layout option (defaults
to <em>nodense</em>):</p>




<dl>
<dt> <code>dense</code> </dt>
<dd>
<p>make unequal size columns to utilize more space</p>
</dd>
<dt> <code>nodense</code> </dt>
<dd>
<p>make equal size columns</p>
</dd>
</dl>



</dd>
<dt> column.branch </dt>
<dd>
<p>Specify whether to output branch listing in <code>git branch</code> in columns.
See <code>column.ui</code> for details.</p>
</dd>
<dt> column.clean </dt>
<dd>
<p>Specify the layout when list items in <code>git clean -i</code>, which always
shows files and directories in columns. See <code>column.ui</code> for details.</p>
</dd>
<dt> column.status </dt>
<dd>
<p>Specify whether to output untracked files in <code>git status</code> in columns.
See <code>column.ui</code> for details.</p>
</dd>
<dt> column.tag </dt>
<dd>
<p>Specify whether to output tag listing in <code>git tag</code> in columns.
See <code>column.ui</code> for details.</p>
</dd>
<dt> commit.cleanup </dt>
<dd>
<p>This setting overrides the default of the <code>--cleanup</code> option in
<code>git commit</code>. See <a href="/docs/git-commit">git-commit[1]</a> for details. Changing the
default can be useful when you always want to keep lines that begin
with comment character <code>#</code> in your log message, in which case you
would do <code>git config commit.cleanup whitespace</code> (note that you will
have to remove the help lines that begin with <code>#</code> in the commit log
template yourself, if you do this).</p>
</dd>
<dt> commit.gpgSign </dt>
<dd>
<p>A boolean to specify whether all commits should be GPG signed.
Use of this option when doing operations such as rebase can
result in a large number of commits being signed. It may be
convenient to use an agent to avoid typing your GPG passphrase
several times.</p>
</dd>
<dt> commit.status </dt>
<dd>
<p>A boolean to enable/disable inclusion of status information in the
commit message template when using an editor to prepare the commit
message.  Defaults to true.</p>
</dd>
<dt> commit.template </dt>
<dd>
<p>Specify the pathname of a file to use as the template for
new commit messages.</p>
</dd>
<dt> commit.verbose </dt>
<dd>
<p>A boolean or int to specify the level of verbose with <code>git commit</code>.
See <a href="/docs/git-commit">git-commit[1]</a>.</p>
</dd>
<dt> commitGraph.generationVersion </dt>
<dd>
<p>Specifies the type of generation number version to use when writing
or reading the commit-graph file. If version 1 is specified, then
the corrected commit dates will not be written or read. Defaults to
2.</p>
</dd>
<dt> commitGraph.maxNewFilters </dt>
<dd>
<p>Specifies the default value for the <code>--max-new-filters</code> option of <code>git
commit-graph write</code> (c.f., <a href="/docs/git-commit-graph">git-commit-graph[1]</a>).</p>
</dd>
<dt> commitGraph.readChangedPaths </dt>
<dd>
<p>If true, then git will use the changed-path Bloom filters in the
commit-graph file (if it exists, and they are present). Defaults to
true. See <a href="/docs/git-commit-graph">git-commit-graph[1]</a> for more information.</p>
</dd>
<dt> credential.helper </dt>
<dd>
<p>Specify an external helper to be called when a username or
password credential is needed; the helper may consult external
storage to avoid prompting the user for the credentials. This is
normally the name of a credential helper with possible
arguments, but may also be an absolute path with arguments or, if
preceded by <code>!</code>, shell commands.</p>

<p>Note that multiple helpers may be defined. See <a href="/docs/gitcredentials">gitcredentials[7]</a>
for details and examples.</p>

</dd>
<dt> credential.useHttpPath </dt>
<dd>
<p>When acquiring credentials, consider the "path" component of an http
or https URL to be important. Defaults to false. See
<a href="/docs/gitcredentials">gitcredentials[7]</a> for more information.</p>
</dd>
<dt> credential.username </dt>
<dd>
<p>If no username is set for a network authentication, use this username
by default. See credential.&lt;context&gt;.* below, and
<a href="/docs/gitcredentials">gitcredentials[7]</a>.</p>
</dd>
<dt> credential.&lt;url&gt;.* </dt>
<dd>
<p>Any of the credential.* options above can be applied selectively to
some credentials. For example "credential.https://example.com.username"
would set the default username only for https connections to
example.com. See <a href="/docs/gitcredentials">gitcredentials[7]</a> for details on how URLs are
matched.</p>
</dd>
<dt> credentialCache.ignoreSIGHUP </dt>
<dd>
<p>Tell git-credential-cache—<U+200B>daemon to ignore SIGHUP, instead of quitting.</p>
</dd>
<dt> credentialStore.lockTimeoutMS </dt>
<dd>
<p>The length of time, in milliseconds, for git-credential-store to retry
when trying to lock the credentials file. Value 0 means not to retry at
all; -1 means to try indefinitely. Default is 1000 (i.e., retry for
1s).</p>
</dd>
<dt> completion.commands </dt>
<dd>
<p>This is only used by git-completion.bash to add or remove
commands from the list of completed commands. Normally only
porcelain commands and a few select others are completed. You
can add more commands, separated by space, in this
variable. Prefixing the command with <em>-</em> will remove it from
the existing list.</p>
</dd>
<dt> diff.autoRefreshIndex </dt>
<dd>
<p>When using <em>git diff</em> to compare with work tree
files, do not consider stat-only change as changed.
Instead, silently run <code>git update-index --refresh</code> to
update the cached stat information for paths whose
contents in the work tree match the contents in the
index.  This option defaults to true.  Note that this
affects only <em>git diff</em> Porcelain, and not lower level
<em>diff</em> commands such as <em>git diff-files</em>.</p>
</dd>
<dt> diff.dirstat </dt>
<dd>
<p>A comma separated list of <code>--dirstat</code> parameters specifying the
default behavior of the <code>--dirstat</code> option to <a href="/docs/git-diff">git-diff[1]</a>
and friends. The defaults can be overridden on the command line
(using <code>--dirstat=&lt;param1,param2,...&gt;</code>). The fallback defaults
(when not changed by <code>diff.dirstat</code>) are <code>changes,noncumulative,3</code>.
The following parameters are available:</p>



<dl>
<dt> <code>changes</code> </dt>
<dd>
<p>Compute the dirstat numbers by counting the lines that have been
removed from the source, or added to the destination. This ignores
the amount of pure code movements within a file.  In other words,
rearranging lines in a file is not counted as much as other changes.
This is the default behavior when no parameter is given.</p>
</dd>
<dt> <code>lines</code> </dt>
<dd>
<p>Compute the dirstat numbers by doing the regular line-based diff
analysis, and summing the removed/added line counts. (For binary
files, count 64-byte chunks instead, since binary files have no
natural concept of lines). This is a more expensive <code>--dirstat</code>
behavior than the <code>changes</code> behavior, but it does count rearranged
lines within a file as much as other changes. The resulting output
is consistent with what you get from the other <code>--*stat</code> options.</p>
</dd>
<dt> <code>files</code> </dt>
<dd>
<p>Compute the dirstat numbers by counting the number of files changed.
Each changed file counts equally in the dirstat analysis. This is
the computationally cheapest <code>--dirstat</code> behavior, since it does
not have to look at the file contents at all.</p>
</dd>
<dt> <code>cumulative</code> </dt>
<dd>
<p>Count changes in a child directory for the parent directory as well.
Note that when using <code>cumulative</code>, the sum of the percentages
reported may exceed 100%. The default (non-cumulative) behavior can
be specified with the <code>noncumulative</code> parameter.</p>
</dd>
<dt> &lt;limit&gt; </dt>
<dd>
<p>An integer parameter specifies a cut-off percent (3% by default).
Directories contributing less than this percentage of the changes
are not shown in the output.</p>
</dd>
</dl>




<p>Example: The following will count changed files, while ignoring
directories with less than 10% of the total amount of changed files,
and accumulating child directory counts in the parent directories:
<code>files,10,cumulative</code>.</p>

</dd>
<dt> diff.statGraphWidth </dt>
<dd>
<p>Limit the width of the graph part in --stat output. If set, applies
to all commands generating --stat output except format-patch.</p>
</dd>
<dt> diff.context </dt>
<dd>
<p>Generate diffs with &lt;n&gt; lines of context instead of the default
of 3. This value is overridden by the -U option.</p>
</dd>
<dt> diff.interHunkContext </dt>
<dd>
<p>Show the context between diff hunks, up to the specified number
of lines, thereby fusing the hunks that are close to each other.
This value serves as the default for the <code>--inter-hunk-context</code>
command line option.</p>
</dd>
<dt> diff.external </dt>
<dd>
<p>If this config variable is set, diff generation is not
performed using the internal diff machinery, but using the
given command.  Can be overridden with the ‘GIT_EXTERNAL_DIFF’
environment variable.  The command is called with parameters
as described under "git Diffs" in <a href="/docs/git">git[1]</a>.  Note: if
you want to use an external diff program only on a subset of
your files, you might want to use <a href="/docs/gitattributes">gitattributes[5]</a> instead.</p>
</dd>
<dt> diff.ignoreSubmodules </dt>
<dd>
<p>Sets the default value of --ignore-submodules. Note that this
affects only <em>git diff</em> Porcelain, and not lower level <em>diff</em>
commands such as <em>git diff-files</em>. <em>git checkout</em>
and <em>git switch</em> also honor
this setting when reporting uncommitted changes. Setting it to
<em>all</em> disables the submodule summary normally shown by <em>git commit</em>
and <em>git status</em> when <code>status.submoduleSummary</code> is set unless it is
overridden by using the --ignore-submodules command-line option.
The <em>git submodule</em> commands are not affected by this setting.
By default this is set to untracked so that any untracked
submodules are ignored.</p>
</dd>
<dt> diff.mnemonicPrefix </dt>
<dd>
<p>If set, <em>git diff</em> uses a prefix pair that is different from the
standard "a/" and "b/" depending on what is being compared.  When
this configuration is in effect, reverse diff output also swaps
the order of the prefixes:</p>

<dl>
<dt> <code>git diff</code> </dt>
<dd>
<p>compares the (i)ndex and the (w)ork tree;</p>
</dd>
<dt> <code>git diff HEAD</code> </dt>
<dd>
<p>compares a (c)ommit and the (w)ork tree;</p>
</dd>
<dt> <code>git diff --cached</code> </dt>
<dd>
<p>compares a (c)ommit and the (i)ndex;</p>
</dd>
<dt> <code>git diff HEAD:file1 file2</code> </dt>
<dd>
<p>compares an (o)bject and a (w)ork tree entity;</p>
</dd>
<dt> <code>git diff --no-index a b</code> </dt>
<dd>
<p>compares two non-git things (1) and (2).</p>
</dd>
</dl>

</dd>
<dt> diff.noprefix </dt>
<dd>
<p>If set, <em>git diff</em> does not show any source or destination prefix.</p>
</dd>
<dt> diff.relative </dt>
<dd>
<p>If set to <em>true</em>, <em>git diff</em> does not show changes outside of the directory
and show pathnames relative to the current directory.</p>
</dd>
<dt> diff.orderFile </dt>
<dd>
<p>File indicating how to order files within a diff.
See the <em>-O</em> option to <a href="/docs/git-diff">git-diff[1]</a> for details.
If <code>diff.orderFile</code> is a relative pathname, it is treated as
relative to the top of the working tree.</p>
</dd>
<dt> diff.renameLimit </dt>
<dd>
<p>The number of files to consider in the exhaustive portion of
copy/rename detection; equivalent to the <em>git diff</em> option
<code>-l</code>.  If not set, the default value is currently 1000.  This
setting has no effect if rename detection is turned off.</p>
</dd>
<dt> diff.renames </dt>
<dd>
<p>Whether and how Git detects renames.  If set to "false",
rename detection is disabled. If set to "true", basic rename
detection is enabled.  If set to "copies" or "copy", Git will
detect copies, as well.  Defaults to true.  Note that this
affects only <em>git diff</em> Porcelain like <a href="/docs/git-diff">git-diff[1]</a> and
<a href="/docs/git-log">git-log[1]</a>, and not lower level commands such as
<a href="/docs/git-diff-files">git-diff-files[1]</a>.</p>
</dd>
<dt> diff.suppressBlankEmpty </dt>
<dd>
<p>A boolean to inhibit the standard behavior of printing a space
before each empty output line. Defaults to false.</p>
</dd>
<dt> diff.submodule </dt>
<dd>
<p>Specify the format in which differences in submodules are
shown.  The "short" format just shows the names of the commits
at the beginning and end of the range. The "log" format lists
the commits in the range like <a href="/docs/git-submodule">git-submodule[1]</a> <code>summary</code>
does. The "diff" format shows an inline diff of the changed
contents of the submodule. Defaults to "short".</p>
</dd>
<dt> diff.wordRegex </dt>
<dd>
<p>A POSIX Extended Regular Expression used to determine what is a "word"
when performing word-by-word difference calculations.  Character
sequences that match the regular expression are "words", all other
characters are <strong>ignorable</strong> whitespace.</p>
</dd>
<dt> diff.&lt;driver&gt;.command </dt>
<dd>
<p>The custom diff driver command.  See <a href="/docs/gitattributes">gitattributes[5]</a>
for details.</p>
</dd>
<dt> diff.&lt;driver&gt;.xfuncname </dt>
<dd>
<p>The regular expression that the diff driver should use to
recognize the hunk header.  A built-in pattern may also be used.
See <a href="/docs/gitattributes">gitattributes[5]</a> for details.</p>
</dd>
<dt> diff.&lt;driver&gt;.binary </dt>
<dd>
<p>Set this option to true to make the diff driver treat files as
binary.  See <a href="/docs/gitattributes">gitattributes[5]</a> for details.</p>
</dd>
<dt> diff.&lt;driver&gt;.textconv </dt>
<dd>
<p>The command that the diff driver should call to generate the
text-converted version of a file.  The result of the
conversion is used to generate a human-readable diff.  See
<a href="/docs/gitattributes">gitattributes[5]</a> for details.</p>
</dd>
<dt> diff.&lt;driver&gt;.wordRegex </dt>
<dd>
<p>The regular expression that the diff driver should use to
split words in a line.  See <a href="/docs/gitattributes">gitattributes[5]</a> for
details.</p>
</dd>
<dt> diff.&lt;driver&gt;.cachetextconv </dt>
<dd>
<p>Set this option to true to make the diff driver cache the text
conversion outputs.  See <a href="/docs/gitattributes">gitattributes[5]</a> for details.</p>
</dd>
<dt> diff.tool </dt>
<dd>
<p>Controls which diff tool is used by <a href="/docs/git-difftool">git-difftool[1]</a>.
This variable overrides the value configured in <code>merge.tool</code>.
The list below shows the valid built-in values.
Any other value is treated as a custom diff tool and requires
that a corresponding difftool.&lt;tool&gt;.cmd variable is defined.</p>
</dd>
<dt> diff.guitool </dt>
<dd>
<p>Controls which diff tool is used by <a href="/docs/git-difftool">git-difftool[1]</a> when
the -g/--gui flag is specified. This variable overrides the value
configured in <code>merge.guitool</code>. The list below shows the valid
built-in values. Any other value is treated as a custom diff tool
and requires that a corresponding difftool.&lt;guitool&gt;.cmd variable
is defined.</p>

<ul>
<li>
<p>araxis</p>
</li>
<li>
<p>bc</p>
</li>
<li>
<p>codecompare</p>
</li>
<li>
<p>deltawalker</p>
</li>
<li>
<p>diffmerge</p>
</li>
<li>
<p>diffuse</p>
</li>
<li>
<p>ecmerge</p>
</li>
<li>
<p>emerge</p>
</li>
<li>
<p>examdiff</p>
</li>
<li>
<p>guiffy</p>
</li>
<li>
<p>gvimdiff</p>
</li>
<li>
<p>kdiff3</p>
</li>
<li>
<p>kompare</p>
</li>
<li>
<p>meld</p>
</li>
<li>
<p>nvimdiff</p>
</li>
<li>
<p>opendiff</p>
</li>
<li>
<p>p4merge</p>
</li>
<li>
<p>smerge</p>
</li>
<li>
<p>tkdiff</p>
</li>
<li>
<p>vimdiff</p>
</li>
<li>
<p>winmerge</p>
</li>
<li>
<p>xxdiff</p>
</li>
</ul>

</dd>
<dt> diff.indentHeuristic </dt>
<dd>
<p>Set this option to <code>false</code> to disable the default heuristics
that shift diff hunk boundaries to make patches easier to read.</p>
</dd>
<dt> diff.algorithm </dt>
<dd>
<p>Choose a diff algorithm.  The variants are as follows:</p>



<dl>
<dt> <code>default</code>, <code>myers</code> </dt>
<dd>
<p>The basic greedy diff algorithm. Currently, this is the default.</p>
</dd>
<dt> <code>minimal</code> </dt>
<dd>
<p>Spend extra time to make sure the smallest possible diff is
produced.</p>
</dd>
<dt> <code>patience</code> </dt>
<dd>
<p>Use "patience diff" algorithm when generating patches.</p>
</dd>
<dt> <code>histogram</code> </dt>
<dd>
<p>This algorithm extends the patience algorithm to "support
low-occurrence common elements".</p>
</dd>
</dl>



</dd>
<dt> diff.wsErrorHighlight </dt>
<dd>
<p>Highlight whitespace errors in the <code>context</code>, <code>old</code> or <code>new</code>
lines of the diff.  Multiple values are separated by comma,
<code>none</code> resets previous values, <code>default</code> reset the list to
<code>new</code> and <code>all</code> is a shorthand for <code>old,new,context</code>.  The
whitespace errors are colored with <code>color.diff.whitespace</code>.
The command line option <code>--ws-error-highlight=&lt;kind&gt;</code>
overrides this setting.</p>
</dd>
<dt> diff.colorMoved </dt>
<dd>
<p>If set to either a valid <code>&lt;mode&gt;</code> or a true value, moved lines
in a diff are colored differently, for details of valid modes
see <em>--color-moved</em> in <a href="/docs/git-diff">git-diff[1]</a>. If simply set to
true the default color mode will be used. When set to false,
moved lines are not colored.</p>
</dd>
<dt> diff.colorMovedWS </dt>
<dd>
<p>When moved lines are colored using e.g. the <code>diff.colorMoved</code> setting,
this option controls the <code>&lt;mode&gt;</code> how spaces are treated
for details of valid modes see <em>--color-moved-ws</em> in <a href="/docs/git-diff">git-diff[1]</a>.</p>
</dd>
<dt> difftool.&lt;tool&gt;.path </dt>
<dd>
<p>Override the path for the given tool.  This is useful in case
your tool is not in the PATH.</p>
</dd>
<dt> difftool.&lt;tool&gt;.cmd </dt>
<dd>
<p>Specify the command to invoke the specified diff tool.
The specified command is evaluated in shell with the following
variables available:  <em>LOCAL</em> is set to the name of the temporary
file containing the contents of the diff pre-image and <em>REMOTE</em>
is set to the name of the temporary file containing the contents
of the diff post-image.</p>
</dd>
<dt> difftool.prompt </dt>
<dd>
<p>Prompt before each invocation of the diff tool.</p>
</dd>
<dt> extensions.objectFormat </dt>
<dd>
<p>Specify the hash algorithm to use.  The acceptable values are <code>sha1</code> and
<code>sha256</code>.  If not specified, <code>sha1</code> is assumed.  It is an error to specify
this key unless <code>core.repositoryFormatVersion</code> is 1.</p>

<p>Note that this setting should only be set by <a href="/docs/git-init">git-init[1]</a> or
<a href="/docs/git-clone">git-clone[1]</a>.  Trying to change it after initialization will not
work and will produce hard-to-diagnose issues.</p>

</dd>
<dt> fastimport.unpackLimit </dt>
<dd>
<p>If the number of objects imported by <a href="/docs/git-fast-import">git-fast-import[1]</a>
is below this limit, then the objects will be unpacked into
loose object files.  However if the number of imported objects
equals or exceeds this limit then the pack will be stored as a
pack.  Storing the pack from a fast-import can make the import
operation complete faster, especially on slow filesystems.  If
not set, the value of <code>transfer.unpackLimit</code> is used instead.</p>
</dd>
<dt> feature.* </dt>
<dd>
<p>The config settings that start with <code>feature.</code> modify the defaults of
a group of other config settings. These groups are created by the Git
developer community as recommended defaults and are subject to change.
In particular, new config options may be added with different defaults.</p>
</dd>
<dt> feature.experimental </dt>
<dd>
<p>Enable config options that are new to Git, and are being considered for
future defaults. Config settings included here may be added or removed
with each release, including minor version updates. These settings may
have unintended interactions since they are so new. Please enable this
setting if you are interested in providing feedback on experimental
features. The new default values are:</p>

<ul>
<li>
<p><code>fetch.negotiationAlgorithm=skipping</code> may improve fetch negotiation times by
skipping more commits at a time, reducing the number of round trips.</p>
</li>
</ul>

</dd>
<dt> feature.manyFiles </dt>
<dd>
<p>Enable config options that optimize for repos with many files in the
working directory. With many files, commands such as <code>git status</code> and
<code>git checkout</code> may be slow and these new defaults improve performance:</p>

<ul>
<li>
<p><code>index.version=4</code> enables path-prefix compression in the index.</p>
</li>
<li>
<p><code>core.untrackedCache=true</code> enables the untracked cache. This setting assumes
that mtime is working on your machine.</p>
</li>
</ul>

</dd>
<dt> fetch.recurseSubmodules </dt>
<dd>
<p>This option controls whether <code>git fetch</code> (and the underlying fetch
in <code>git pull</code>) will recursively fetch into populated submodules.
This option can be set either to a boolean value or to <em>on-demand</em>.
Setting it to a boolean changes the behavior of fetch and pull to
recurse unconditionally into submodules when set to true or to not
recurse at all when set to false. When set to <em>on-demand</em>, fetch and
pull will only recurse into a populated submodule when its
superproject retrieves a commit that updates the submodule’s
reference.
Defaults to <em>on-demand</em>, or to the value of <em>submodule.recurse</em> if set.</p>
</dd>
<dt> fetch.fsckObjects </dt>
<dd>
<p>If it is set to true, git-fetch-pack will check all fetched
objects. See <code>transfer.fsckObjects</code> for what’s
checked. Defaults to false. If not set, the value of
<code>transfer.fsckObjects</code> is used instead.</p>
</dd>
<dt> fetch.fsck.&lt;msg-id&gt; </dt>
<dd>
<p>Acts like <code>fsck.&lt;msg-id&gt;</code>, but is used by
<a href="/docs/git-fetch-pack">git-fetch-pack[1]</a> instead of <a href="/docs/git-fsck">git-fsck[1]</a>. See
the <code>fsck.&lt;msg-id&gt;</code> documentation for details.</p>
</dd>
<dt> fetch.fsck.skipList </dt>
<dd>
<p>Acts like <code>fsck.skipList</code>, but is used by
<a href="/docs/git-fetch-pack">git-fetch-pack[1]</a> instead of <a href="/docs/git-fsck">git-fsck[1]</a>. See
the <code>fsck.skipList</code> documentation for details.</p>
</dd>
<dt> fetch.unpackLimit </dt>
<dd>
<p>If the number of objects fetched over the Git native
transfer is below this
limit, then the objects will be unpacked into loose object
files. However if the number of received objects equals or
exceeds this limit then the received pack will be stored as
a pack, after adding any missing delta bases.  Storing the
pack from a push can make the push operation complete faster,
especially on slow filesystems.  If not set, the value of
<code>transfer.unpackLimit</code> is used instead.</p>
</dd>
<dt> fetch.prune </dt>
<dd>
<p>If true, fetch will automatically behave as if the <code>--prune</code>
option was given on the command line.  See also <code>remote.&lt;name&gt;.prune</code>
and the PRUNING section of <a href="/docs/git-fetch">git-fetch[1]</a>.</p>
</dd>
<dt> fetch.pruneTags </dt>
<dd>
<p>If true, fetch will automatically behave as if the
<code>refs/tags/*:refs/tags/*</code> refspec was provided when pruning,
if not set already. This allows for setting both this option
and <code>fetch.prune</code> to maintain a 1=1 mapping to upstream
refs. See also <code>remote.&lt;name&gt;.pruneTags</code> and the PRUNING
section of <a href="/docs/git-fetch">git-fetch[1]</a>.</p>
</dd>
<dt> fetch.output </dt>
<dd>
<p>Control how ref update status is printed. Valid values are
<code>full</code> and <code>compact</code>. Default value is <code>full</code>. See section
OUTPUT in <a href="/docs/git-fetch">git-fetch[1]</a> for detail.</p>
</dd>
<dt> fetch.negotiationAlgorithm </dt>
<dd>
<p>Control how information about the commits in the local repository is
sent when negotiating the contents of the packfile to be sent by the
server. Set to "skipping" to use an algorithm that skips commits in an
effort to converge faster, but may result in a larger-than-necessary
packfile; or set to "noop" to not send any information at all, which
will almost certainly result in a larger-than-necessary packfile, but
will skip the negotiation step.
The default is "default" which instructs Git to use the default algorithm
that never skips commits (unless the server has acknowledged it or one
of its descendants). If <code>feature.experimental</code> is enabled, then this
setting defaults to "skipping".
Unknown values will cause <em>git fetch</em> to error out.</p>

<p>See also the <code>--negotiate-only</code> and <code>--negotiation-tip</code> options to
<a href="/docs/git-fetch">git-fetch[1]</a>.</p>

</dd>
<dt> fetch.showForcedUpdates </dt>
<dd>
<p>Set to false to enable <code>--no-show-forced-updates</code> in
<a href="/docs/git-fetch">git-fetch[1]</a> and <a href="/docs/git-pull">git-pull[1]</a> commands.
Defaults to true.</p>
</dd>
<dt> fetch.parallel </dt>
<dd>
<p>Specifies the maximal number of fetch operations to be run in parallel
at a time (submodules, or remotes when the <code>--multiple</code> option of
<a href="/docs/git-fetch">git-fetch[1]</a> is in effect).</p>

<p>A value of 0 will give some reasonable default. If unset, it defaults to 1.</p>


<p>For submodules, this setting can be overridden using the <code>submodule.fetchJobs</code>
config setting.</p>

</dd>
<dt> fetch.writeCommitGraph </dt>
<dd>
<p>Set to true to write a commit-graph after every <code>git fetch</code> command
that downloads a pack-file from a remote. Using the <code>--split</code> option,
most executions will create a very small commit-graph file on top of
the existing commit-graph file(s). Occasionally, these files will
merge and the write may take longer. Having an updated commit-graph
file helps performance of many Git commands, including <code>git merge-base</code>,
<code>git push -f</code>, and <code>git log --graph</code>. Defaults to false.</p>
</dd>
<dt> format.attach </dt>
<dd>
<p>Enable multipart/mixed attachments as the default for
<em>format-patch</em>.  The value can also be a double quoted string
which will enable attachments as the default and set the
value as the boundary.  See the --attach option in
<a href="/docs/git-format-patch">git-format-patch[1]</a>.</p>
</dd>
<dt> format.from </dt>
<dd>
<p>Provides the default value for the <code>--from</code> option to format-patch.
Accepts a boolean value, or a name and email address.  If false,
format-patch defaults to <code>--no-from</code>, using commit authors directly in
the "From:" field of patch mails.  If true, format-patch defaults to
<code>--from</code>, using your committer identity in the "From:" field of patch
mails and including a "From:" field in the body of the patch mail if
different.  If set to a non-boolean value, format-patch uses that
value instead of your committer identity.  Defaults to false.</p>
</dd>
<dt> format.numbered </dt>
<dd>
<p>A boolean which can enable or disable sequence numbers in patch
subjects.  It defaults to "auto" which enables it only if there
is more than one patch.  It can be enabled or disabled for all
messages by setting it to "true" or "false".  See --numbered
option in <a href="/docs/git-format-patch">git-format-patch[1]</a>.</p>
</dd>
<dt> format.headers </dt>
<dd>
<p>Additional email headers to include in a patch to be submitted
by mail.  See <a href="/docs/git-format-patch">git-format-patch[1]</a>.</p>
</dd>
<dt> format.to </dt>
<dt> format.cc </dt>
<dd>
<p>Additional recipients to include in a patch to be submitted
by mail.  See the --to and --cc options in
<a href="/docs/git-format-patch">git-format-patch[1]</a>.</p>
</dd>
<dt> format.subjectPrefix </dt>
<dd>
<p>The default for format-patch is to output files with the <em>[PATCH]</em>
subject prefix. Use this variable to change that prefix.</p>
</dd>
<dt> format.coverFromDescription </dt>
<dd>
<p>The default mode for format-patch to determine which parts of
the cover letter will be populated using the branch’s
description. See the <code>--cover-from-description</code> option in
<a href="/docs/git-format-patch">git-format-patch[1]</a>.</p>
</dd>
<dt> format.signature </dt>
<dd>
<p>The default for format-patch is to output a signature containing
the Git version number. Use this variable to change that default.
Set this variable to the empty string ("") to suppress
signature generation.</p>
</dd>
<dt> format.signatureFile </dt>
<dd>
<p>Works just like format.signature except the contents of the
file specified by this variable will be used as the signature.</p>
</dd>
<dt> format.suffix </dt>
<dd>
<p>The default for format-patch is to output files with the suffix
<code>.patch</code>. Use this variable to change that suffix (make sure to
include the dot if you want it).</p>
</dd>
<dt> format.encodeEmailHeaders </dt>
<dd>
<p>Encode email headers that have non-ASCII characters with
"Q-encoding" (described in RFC 2047) for email transmission.
Defaults to true.</p>
</dd>
<dt> format.pretty </dt>
<dd>
<p>The default pretty format for log/show/whatchanged command,
See <a href="/docs/git-log">git-log[1]</a>, <a href="/docs/git-show">git-show[1]</a>,
<a href="/docs/git-whatchanged">git-whatchanged[1]</a>.</p>
</dd>
<dt> format.thread </dt>
<dd>
<p>The default threading style for <em>git format-patch</em>.  Can be
a boolean value, or <code>shallow</code> or <code>deep</code>.  <code>shallow</code> threading
makes every mail a reply to the head of the series,
where the head is chosen from the cover letter, the
<code>--in-reply-to</code>, and the first patch mail, in this order.
<code>deep</code> threading makes every mail a reply to the previous one.
A true boolean value is the same as <code>shallow</code>, and a false
value disables threading.</p>
</dd>
<dt> format.signOff </dt>
<dd>
<p>A boolean value which lets you enable the <code>-s/--signoff</code> option of
format-patch by default. <strong>Note:</strong> Adding the <code>Signed-off-by</code> trailer to a
patch should be a conscious act and means that you certify you have
the rights to submit this work under the same open source license.
Please see the <em>SubmittingPatches</em> document for further discussion.</p>
</dd>
<dt> format.coverLetter </dt>
<dd>
<p>A boolean that controls whether to generate a cover-letter when
format-patch is invoked, but in addition can be set to "auto", to
generate a cover-letter only when there’s more than one patch.
Default is false.</p>
</dd>
<dt> format.outputDirectory </dt>
<dd>
<p>Set a custom directory to store the resulting files instead of the
current working directory. All directory components will be created.</p>
</dd>
<dt> format.filenameMaxLength </dt>
<dd>
<p>The maximum length of the output filenames generated by the
<code>format-patch</code> command; defaults to 64.  Can be overridden
by the <code>--filename-max-length=&lt;n&gt;</code> command line option.</p>
</dd>
<dt> format.useAutoBase </dt>
<dd>
<p>A boolean value which lets you enable the <code>--base=auto</code> option of
format-patch by default. Can also be set to "whenAble" to allow
enabling <code>--base=auto</code> if a suitable base is available, but to skip
adding base info otherwise without the format dying.</p>
</dd>
<dt> format.notes </dt>
<dd>
<p>Provides the default value for the <code>--notes</code> option to
format-patch. Accepts a boolean value, or a ref which specifies
where to get notes. If false, format-patch defaults to
<code>--no-notes</code>. If true, format-patch defaults to <code>--notes</code>. If
set to a non-boolean value, format-patch defaults to
<code>--notes=&lt;ref&gt;</code>, where <code>ref</code> is the non-boolean value. Defaults
to false.</p>

<p>If one wishes to use the ref <code>ref/notes/true</code>, please use that literal
instead.</p>


<p>This configuration can be specified multiple times in order to allow
multiple notes refs to be included. In that case, it will behave
similarly to multiple <code>--[no-]notes[=]</code> options passed in. That is, a
value of <code>true</code> will show the default notes, a value of <code>&lt;ref&gt;</code> will
also show notes from that notes ref and a value of <code>false</code> will negate
previous configurations and not show notes.</p>


<p>For example,</p>



<pre>[format]
	notes = true
	notes = foo
	notes = false
	notes = bar</pre>



<p>will only show notes from <code>refs/notes/bar</code>.</p>

</dd>
<dt> filter.&lt;driver&gt;.clean </dt>
<dd>
<p>The command which is used to convert the content of a worktree
file to a blob upon checkin.  See <a href="/docs/gitattributes">gitattributes[5]</a> for
details.</p>
</dd>
<dt> filter.&lt;driver&gt;.smudge </dt>
<dd>
<p>The command which is used to convert the content of a blob
object to a worktree file upon checkout.  See
<a href="/docs/gitattributes">gitattributes[5]</a> for details.</p>
</dd>
<dt> fsck.&lt;msg-id&gt; </dt>
<dd>
<p>During fsck git may find issues with legacy data which
wouldn’t be generated by current versions of git, and which
wouldn’t be sent over the wire if <code>transfer.fsckObjects</code> was
set. This feature is intended to support working with legacy
repositories containing such data.</p>

<p>Setting <code>fsck.&lt;msg-id&gt;</code> will be picked up by <a href="/docs/git-fsck">git-fsck[1]</a>, but
to accept pushes of such data set <code>receive.fsck.&lt;msg-id&gt;</code> instead, or
to clone or fetch it set <code>fetch.fsck.&lt;msg-id&gt;</code>.</p>


<p>The rest of the documentation discusses <code>fsck.*</code> for brevity, but the
same applies for the corresponding <code>receive.fsck.*</code> and
<code>fetch.&lt;msg-id&gt;.*</code>. variables.</p>


<p>Unlike variables like <code>color.ui</code> and <code>core.editor</code> the
<code>receive.fsck.&lt;msg-id&gt;</code> and <code>fetch.fsck.&lt;msg-id&gt;</code> variables will not
fall back on the <code>fsck.&lt;msg-id&gt;</code> configuration if they aren’t set. To
uniformly configure the same fsck settings in different circumstances
all three of them they must all set to the same values.</p>


<p>When <code>fsck.&lt;msg-id&gt;</code> is set, errors can be switched to warnings and
vice versa by configuring the <code>fsck.&lt;msg-id&gt;</code> setting where the
<code>&lt;msg-id&gt;</code> is the fsck message ID and the value is one of <code>error</code>,
<code>warn</code> or <code>ignore</code>. For convenience, fsck prefixes the error/warning
with the message ID, e.g. "missingEmail: invalid author/committer
line - missing email" means that setting <code>fsck.missingEmail = ignore</code>
will hide that issue.</p>


<p>In general, it is better to enumerate existing objects with problems
with <code>fsck.skipList</code>, instead of listing the kind of breakages these
problematic objects share to be ignored, as doing the latter will
allow new instances of the same breakages go unnoticed.</p>


<p>Setting an unknown <code>fsck.&lt;msg-id&gt;</code> value will cause fsck to die, but
doing the same for <code>receive.fsck.&lt;msg-id&gt;</code> and <code>fetch.fsck.&lt;msg-id&gt;</code>
will only cause git to warn.</p>

</dd>
<dt> fsck.skipList </dt>
<dd>
<p>The path to a list of object names (i.e. one unabbreviated SHA-1 per
line) that are known to be broken in a non-fatal way and should
be ignored. On versions of Git 2.20 and later comments (<em>#</em>), empty
lines, and any leading and trailing whitespace is ignored. Everything
but a SHA-1 per line will error out on older versions.</p>

<p>This feature is useful when an established project should be accepted
despite early commits containing errors that can be safely ignored
such as invalid committer email addresses.  Note: corrupt objects
cannot be skipped with this setting.</p>


<p>Like <code>fsck.&lt;msg-id&gt;</code> this variable has corresponding
<code>receive.fsck.skipList</code> and <code>fetch.fsck.skipList</code> variants.</p>


<p>Unlike variables like <code>color.ui</code> and <code>core.editor</code> the
<code>receive.fsck.skipList</code> and <code>fetch.fsck.skipList</code> variables will not
fall back on the <code>fsck.skipList</code> configuration if they aren’t set. To
uniformly configure the same fsck settings in different circumstances
all three of them they must all set to the same values.</p>


<p>Older versions of Git (before 2.20) documented that the object names
list should be sorted. This was never a requirement, the object names
could appear in any order, but when reading the list we tracked whether
the list was sorted for the purposes of an internal binary search
implementation, which could save itself some work with an already sorted
list. Unless you had a humongous list there was no reason to go out of
your way to pre-sort the list. After Git version 2.20 a hash implementation
is used instead, so there’s now no reason to pre-sort the list.</p>

</dd>
<dt> gc.aggressiveDepth </dt>
<dd>
<p>The depth parameter used in the delta compression
algorithm used by <em>git gc --aggressive</em>.  This defaults
to 50, which is the default for the <code>--depth</code> option when
<code>--aggressive</code> isn’t in use.</p>

<p>See the documentation for the <code>--depth</code> option in
<a href="/docs/git-repack">git-repack[1]</a> for more details.</p>

</dd>
<dt> gc.aggressiveWindow </dt>
<dd>
<p>The window size parameter used in the delta compression
algorithm used by <em>git gc --aggressive</em>.  This defaults
to 250, which is a much more aggressive window size than
the default <code>--window</code> of 10.</p>

<p>See the documentation for the <code>--window</code> option in
<a href="/docs/git-repack">git-repack[1]</a> for more details.</p>

</dd>
<dt> gc.auto </dt>
<dd>
<p>When there are approximately more than this many loose
objects in the repository, <code>git gc --auto</code> will pack them.
Some Porcelain commands use this command to perform a
light-weight garbage collection from time to time.  The
default value is 6700.</p>

<p>Setting this to 0 disables not only automatic packing based on the
number of loose objects, but any other heuristic <code>git gc --auto</code> will
otherwise use to determine if there’s work to do, such as
<code>gc.autoPackLimit</code>.</p>

</dd>
<dt> gc.autoPackLimit </dt>
<dd>
<p>When there are more than this many packs that are not
marked with <code>*.keep</code> file in the repository, <code>git gc
--auto</code> consolidates them into one larger pack.  The
default value is 50.  Setting this to 0 disables it.
Setting <code>gc.auto</code> to 0 will also disable this.</p>

<p>See the <code>gc.bigPackThreshold</code> configuration variable below. When in
use, it’ll affect how the auto pack limit works.</p>

</dd>
<dt> gc.autoDetach </dt>
<dd>
<p>Make <code>git gc --auto</code> return immediately and run in background
if the system supports it. Default is true.</p>
</dd>
<dt> gc.bigPackThreshold </dt>
<dd>
<p>If non-zero, all packs larger than this limit are kept when
<code>git gc</code> is run. This is very similar to <code>--keep-largest-pack</code>
except that all packs that meet the threshold are kept, not
just the largest pack. Defaults to zero. Common unit suffixes of
<em>k</em>, <em>m</em>, or <em>g</em> are supported.</p>

<p>Note that if the number of kept packs is more than gc.autoPackLimit,
this configuration variable is ignored, all packs except the base pack
will be repacked. After this the number of packs should go below
gc.autoPackLimit and gc.bigPackThreshold should be respected again.</p>


<p>If the amount of memory estimated for <code>git repack</code> to run smoothly is
not available and <code>gc.bigPackThreshold</code> is not set, the largest pack
will also be excluded (this is the equivalent of running <code>git gc</code> with
<code>--keep-largest-pack</code>).</p>

</dd>
<dt> gc.writeCommitGraph </dt>
<dd>
<p>If true, then gc will rewrite the commit-graph file when
<a href="/docs/git-gc">git-gc[1]</a> is run. When using <code>git gc --auto</code>
the commit-graph will be updated if housekeeping is
required. Default is true. See <a href="/docs/git-commit-graph">git-commit-graph[1]</a>
for details.</p>
</dd>
<dt> gc.logExpiry </dt>
<dd>
<p>If the file gc.log exists, then <code>git gc --auto</code> will print
its content and exit with status zero instead of running
unless that file is more than <em>gc.logExpiry</em> old.  Default is
"1.day".  See <code>gc.pruneExpire</code> for more ways to specify its
value.</p>
</dd>
<dt> gc.packRefs </dt>
<dd>
<p>Running <code>git pack-refs</code> in a repository renders it
unclonable by Git versions prior to 1.5.1.2 over dumb
transports such as HTTP.  This variable determines whether
<em>git gc</em> runs <code>git pack-refs</code>. This can be set to <code>notbare</code>
to enable it within all non-bare repos or it can be set to a
boolean value.  The default is <code>true</code>.</p>
</dd>
<dt> gc.pruneExpire </dt>
<dd>
<p>When <em>git gc</em> is run, it will call <em>prune --expire 2.weeks.ago</em>.
Override the grace period with this config variable.  The value
"now" may be used to disable this grace period and always prune
unreachable objects immediately, or "never" may be used to
suppress pruning.  This feature helps prevent corruption when
<em>git gc</em> runs concurrently with another process writing to the
repository; see the "NOTES" section of <a href="/docs/git-gc">git-gc[1]</a>.</p>
</dd>
<dt> gc.worktreePruneExpire </dt>
<dd>
<p>When <em>git gc</em> is run, it calls
<em>git worktree prune --expire 3.months.ago</em>.
This config variable can be used to set a different grace
period. The value "now" may be used to disable the grace
period and prune <code>$GIT_DIR/worktrees</code> immediately, or "never"
may be used to suppress pruning.</p>
</dd>
<dt> gc.reflogExpire </dt>
<dt> gc.&lt;pattern&gt;.reflogExpire </dt>
<dd>
<p><em>git reflog expire</em> removes reflog entries older than
this time; defaults to 90 days. The value "now" expires all
entries immediately, and "never" suppresses expiration
altogether. With "&lt;pattern&gt;" (e.g.
"refs/stash") in the middle the setting applies only to
the refs that match the &lt;pattern&gt;.</p>
</dd>
<dt> gc.reflogExpireUnreachable </dt>
<dt> gc.&lt;pattern&gt;.reflogExpireUnreachable </dt>
<dd>
<p><em>git reflog expire</em> removes reflog entries older than
this time and are not reachable from the current tip;
defaults to 30 days. The value "now" expires all entries
immediately, and "never" suppresses expiration altogether.
With "&lt;pattern&gt;" (e.g. "refs/stash")
in the middle, the setting applies only to the refs that
match the &lt;pattern&gt;.</p>

<p>These types of entries are generally created as a result of using <code>git
commit --amend</code> or <code>git rebase</code> and are the commits prior to the amend
or rebase occurring.  Since these changes are not part of the current
project most users will want to expire them sooner, which is why the
default is more aggressive than <code>gc.reflogExpire</code>.</p>

</dd>
<dt> gc.rerereResolved </dt>
<dd>
<p>Records of conflicted merge you resolved earlier are
kept for this many days when <em>git rerere gc</em> is run.
You can also use more human-readable "1.month.ago", etc.
The default is 60 days.  See <a href="/docs/git-rerere">git-rerere[1]</a>.</p>
</dd>
<dt> gc.rerereUnresolved </dt>
<dd>
<p>Records of conflicted merge you have not resolved are
kept for this many days when <em>git rerere gc</em> is run.
You can also use more human-readable "1.month.ago", etc.
The default is 15 days.  See <a href="/docs/git-rerere">git-rerere[1]</a>.</p>
</dd>
<dt> gitcvs.commitMsgAnnotation </dt>
<dd>
<p>Append this string to each commit message. Set to empty string
to disable this feature. Defaults to "via git-CVS emulator".</p>
</dd>
<dt> gitcvs.enabled </dt>
<dd>
<p>Whether the CVS server interface is enabled for this repository.
See <a href="/docs/git-cvsserver">git-cvsserver[1]</a>.</p>
</dd>
<dt> gitcvs.logFile </dt>
<dd>
<p>Path to a log file where the CVS server interface well…<U+200B> logs
various stuff. See <a href="/docs/git-cvsserver">git-cvsserver[1]</a>.</p>
</dd>
<dt> gitcvs.usecrlfattr </dt>
<dd>
<p>If true, the server will look up the end-of-line conversion
attributes for files to determine the <code>-k</code> modes to use. If
the attributes force Git to treat a file as text,
the <code>-k</code> mode will be left blank so CVS clients will
treat it as text. If they suppress text conversion, the file
will be set with <em>-kb</em> mode, which suppresses any newline munging
the client might otherwise do. If the attributes do not allow
the file type to be determined, then <code>gitcvs.allBinary</code> is
used. See <a href="/docs/gitattributes">gitattributes[5]</a>.</p>
</dd>
<dt> gitcvs.allBinary </dt>
<dd>
<p>This is used if <code>gitcvs.usecrlfattr</code> does not resolve
the correct <em>-kb</em> mode to use. If true, all
unresolved files are sent to the client in
mode <em>-kb</em>. This causes the client to treat them
as binary files, which suppresses any newline munging it
otherwise might do. Alternatively, if it is set to "guess",
then the contents of the file are examined to decide if
it is binary, similar to <code>core.autocrlf</code>.</p>
</dd>
<dt> gitcvs.dbName </dt>
<dd>
<p>Database used by git-cvsserver to cache revision information
derived from the Git repository. The exact meaning depends on the
used database driver, for SQLite (which is the default driver) this
is a filename. Supports variable substitution (see
<a href="/docs/git-cvsserver">git-cvsserver[1]</a> for details). May not contain semicolons (<code>;</code>).
Default: <em>%Ggitcvs.%m.sqlite</em></p>
</dd>
<dt> gitcvs.dbDriver </dt>
<dd>
<p>Used Perl DBI driver. You can specify any available driver
for this here, but it might not work. git-cvsserver is tested
with <em>DBD::SQLite</em>, reported to work with <em>DBD::Pg</em>, and
reported <strong>not</strong> to work with <em>DBD::mysql</em>. Experimental feature.
May not contain double colons (<code>:</code>). Default: <em>SQLite</em>.
See <a href="/docs/git-cvsserver">git-cvsserver[1]</a>.</p>
</dd>
<dt> gitcvs.dbUser, gitcvs.dbPass </dt>
<dd>
<p>Database user and password. Only useful if setting <code>gitcvs.dbDriver</code>,
since SQLite has no concept of database users and/or passwords.
<em>gitcvs.dbUser</em> supports variable substitution (see
<a href="/docs/git-cvsserver">git-cvsserver[1]</a> for details).</p>
</dd>
<dt> gitcvs.dbTableNamePrefix </dt>
<dd>
<p>Database table name prefix.  Prepended to the names of any
database tables used, allowing a single database to be used
for several repositories.  Supports variable substitution (see
<a href="/docs/git-cvsserver">git-cvsserver[1]</a> for details).  Any non-alphabetic
characters will be replaced with underscores.</p>
</dd>
</dl>


<p>All gitcvs variables except for <code>gitcvs.usecrlfattr</code> and
<code>gitcvs.allBinary</code> can also be specified as
<em>gitcvs.&lt;access_method&gt;.&lt;varname&gt;</em> (where <em>access_method</em>
is one of "ext" and "pserver") to make them apply only for the given
access method.</p>


<dl>
<dt> gitweb.category </dt>
<dt> gitweb.description </dt>
<dt> gitweb.owner </dt>
<dt> gitweb.url </dt>
<dd>
<p>See <a href="/docs/gitweb">gitweb[1]</a> for description.</p>
</dd>
<dt> gitweb.avatar </dt>
<dt> gitweb.blame </dt>
<dt> gitweb.grep </dt>
<dt> gitweb.highlight </dt>
<dt> gitweb.patches </dt>
<dt> gitweb.pickaxe </dt>
<dt> gitweb.remote_heads </dt>
<dt> gitweb.showSizes </dt>
<dt> gitweb.snapshot </dt>
<dd>
<p>See <a href="/docs/gitweb.conf">gitweb.conf[5]</a> for description.</p>
</dd>
<dt> grep.lineNumber </dt>
<dd>
<p>If set to true, enable <code>-n</code> option by default.</p>
</dd>
<dt> grep.column </dt>
<dd>
<p>If set to true, enable the <code>--column</code> option by default.</p>
</dd>
<dt> grep.patternType </dt>
<dd>
<p>Set the default matching behavior. Using a value of <em>basic</em>, <em>extended</em>,
<em>fixed</em>, or <em>perl</em> will enable the <code>--basic-regexp</code>, <code>--extended-regexp</code>,
<code>--fixed-strings</code>, or <code>--perl-regexp</code> option accordingly, while the
value <em>default</em> will use the <code>grep.extendedRegexp</code> option to choose
between <em>basic</em> and <em>extended</em>.</p>
</dd>
<dt> grep.extendedRegexp </dt>
<dd>
<p>If set to true, enable <code>--extended-regexp</code> option by default. This
option is ignored when the <code>grep.patternType</code> option is set to a value
other than <em>default</em>.</p>
</dd>
<dt> grep.threads </dt>
<dd>
<p>Number of grep worker threads to use.
See <code>grep.threads</code> in <a href="/docs/git-grep">git-grep[1]</a> for more information.</p>
</dd>
<dt> grep.fallbackToNoIndex </dt>
<dd>
<p>If set to true, fall back to git grep --no-index if git grep
is executed outside of a git repository.  Defaults to false.</p>
</dd>
<dt> gpg.program </dt>
<dd>
<p>Use this custom program instead of "<code>gpg</code>" found on <code>$PATH</code> when
making or verifying a PGP signature. The program must support the
same command-line interface as GPG, namely, to verify a detached
signature, "<code>gpg --verify $signature - &lt;$file</code>" is run, and the
program is expected to signal a good signature by exiting with
code 0, and to generate an ASCII-armored detached signature, the
standard input of "<code>gpg -bsau $key</code>" is fed with the contents to be
signed, and the program is expected to send the result to its
standard output.</p>
</dd>
<dt> gpg.format </dt>
<dd>
<p>Specifies which key format to use when signing with <code>--gpg-sign</code>.
Default is "openpgp". Other possible values are "x509", "ssh".</p>
</dd>
<dt> gpg.&lt;format&gt;.program </dt>
<dd>
<p>Use this to customize the program used for the signing format you
chose. (see <code>gpg.program</code> and <code>gpg.format</code>) <code>gpg.program</code> can still
be used as a legacy synonym for <code>gpg.openpgp.program</code>. The default
value for <code>gpg.x509.program</code> is "gpgsm" and <code>gpg.ssh.program</code> is "ssh-keygen".</p>
</dd>
<dt> gpg.minTrustLevel </dt>
<dd>
<p>Specifies a minimum trust level for signature verification.  If
this option is unset, then signature verification for merge
operations require a key with at least <code>marginal</code> trust.  Other
operations that perform signature verification require a key
with at least <code>undefined</code> trust.  Setting this option overrides
the required trust-level for all operations.  Supported values,
in increasing order of significance:</p>

<ul>
<li>
<p><code>undefined</code></p>
</li>
<li>
<p><code>never</code></p>
</li>
<li>
<p><code>marginal</code></p>
</li>
<li>
<p><code>fully</code></p>
</li>
<li>
<p><code>ultimate</code></p>
</li>
</ul>

</dd>
<dt> gpg.ssh.defaultKeyCommand </dt>
<dd>
<p>This command that will be run when user.signingkey is not set and a ssh
signature is requested. On successful exit a valid ssh public key is
expected in the	first line of its output. To automatically use the first
available key from your ssh-agent set this to "ssh-add -L".</p>
</dd>
<dt> gpg.ssh.allowedSignersFile </dt>
<dd>
<p>A file containing ssh public keys which you are willing to trust.
The file consists of one or more lines of principals followed by an ssh
public key.
e.g.: <code>user1@example.com,user2@example.com ssh-rsa AAAAX1...</code>
See ssh-keygen(1) "ALLOWED SIGNERS" for details.
The principal is only used to identify the key and is available when
verifying a signature.</p>

<p>SSH has no concept of trust levels like gpg does. To be able to differentiate
between valid signatures and trusted signatures the trust level of a signature
verification is set to <code>fully</code> when the public key is present in the allowedSignersFile.
Otherwise the trust level is <code>undefined</code> and git verify-commit/tag will fail.</p>


<p>This file can be set to a location outside of the repository and every developer
maintains their own trust store. A central repository server could generate this
file automatically from ssh keys with push access to verify the code against.
In a corporate setting this file is probably generated at a global location
from automation that already handles developer ssh keys.</p>


<p>A repository that only allows signed commits can store the file
in the repository itself using a path relative to the top-level of the working tree.
This way only committers with an already valid key can add or change keys in the keyring.</p>


<p>Since OpensSSH 8.8 this file allows specifying a key lifetime using valid-after &amp;
valid-before options. Git will mark signatures as valid if the signing key was
valid at the time of the signatures creation. This allows users to change a
signing key without invalidating all previously made signatures.</p>


<p>Using a SSH CA key with the cert-authority option
(see ssh-keygen(1) "CERTIFICATES") is also valid.</p>

</dd>
<dt> gpg.ssh.revocationFile </dt>
<dd>
<p>Either a SSH KRL or a list of revoked public keys (without the principal prefix).
See ssh-keygen(1) for details.
If a public key is found in this file then it will always be treated
as having trust level "never" and signatures will show as invalid.</p>
</dd>
<dt> gui.commitMsgWidth </dt>
<dd>
<p>Defines how wide the commit message window is in the
<a href="/docs/git-gui">git-gui[1]</a>. "75" is the default.</p>
</dd>
<dt> gui.diffContext </dt>
<dd>
<p>Specifies how many context lines should be used in calls to diff
made by the <a href="/docs/git-gui">git-gui[1]</a>. The default is "5".</p>
</dd>
<dt> gui.displayUntracked </dt>
<dd>
<p>Determines if <a href="/docs/git-gui">git-gui[1]</a> shows untracked files
in the file list. The default is "true".</p>
</dd>
<dt> gui.encoding </dt>
<dd>
<p>Specifies the default character encoding to use for displaying of
file contents in <a href="/docs/git-gui">git-gui[1]</a> and <a href="/docs/gitk">gitk[1]</a>.
It can be overridden by setting the <em>encoding</em> attribute
for relevant files (see <a href="/docs/gitattributes">gitattributes[5]</a>).
If this option is not set, the tools default to the
locale encoding.</p>
</dd>
<dt> gui.matchTrackingBranch </dt>
<dd>
<p>Determines if new branches created with <a href="/docs/git-gui">git-gui[1]</a> should
default to tracking remote branches with matching names or
not. Default: "false".</p>
</dd>
<dt> gui.newBranchTemplate </dt>
<dd>
<p>Is used as suggested name when creating new branches using the
<a href="/docs/git-gui">git-gui[1]</a>.</p>
</dd>
<dt> gui.pruneDuringFetch </dt>
<dd>
<p>"true" if <a href="/docs/git-gui">git-gui[1]</a> should prune remote-tracking branches when
performing a fetch. The default value is "false".</p>
</dd>
<dt> gui.trustmtime </dt>
<dd>
<p>Determines if <a href="/docs/git-gui">git-gui[1]</a> should trust the file modification
timestamp or not. By default the timestamps are not trusted.</p>
</dd>
<dt> gui.spellingDictionary </dt>
<dd>
<p>Specifies the dictionary used for spell checking commit messages in
the <a href="/docs/git-gui">git-gui[1]</a>. When set to "none" spell checking is turned
off.</p>
</dd>
<dt> gui.fastCopyBlame </dt>
<dd>
<p>If true, <em>git gui blame</em> uses <code>-C</code> instead of <code>-C -C</code> for original
location detection. It makes blame significantly faster on huge
repositories at the expense of less thorough copy detection.</p>
</dd>
<dt> gui.copyBlameThreshold </dt>
<dd>
<p>Specifies the threshold to use in <em>git gui blame</em> original location
detection, measured in alphanumeric characters. See the
<a href="/docs/git-blame">git-blame[1]</a> manual for more information on copy detection.</p>
</dd>
<dt> gui.blamehistoryctx </dt>
<dd>
<p>Specifies the radius of history context in days to show in
<a href="/docs/gitk">gitk[1]</a> for the selected commit, when the <code>Show History
Context</code> menu item is invoked from <em>git gui blame</em>. If this
variable is set to zero, the whole history is shown.</p>
</dd>
<dt> guitool.&lt;name&gt;.cmd </dt>
<dd>
<p>Specifies the shell command line to execute when the corresponding item
of the <a href="/docs/git-gui">git-gui[1]</a> <code>Tools</code> menu is invoked. This option is
mandatory for every tool. The command is executed from the root of
the working directory, and in the environment it receives the name of
the tool as <code>GIT_GUITOOL</code>, the name of the currently selected file as
<em>FILENAME</em>, and the name of the current branch as <em>CUR_BRANCH</em> (if
the head is detached, <em>CUR_BRANCH</em> is empty).</p>
</dd>
<dt> guitool.&lt;name&gt;.needsFile </dt>
<dd>
<p>Run the tool only if a diff is selected in the GUI. It guarantees
that <em>FILENAME</em> is not empty.</p>
</dd>
<dt> guitool.&lt;name&gt;.noConsole </dt>
<dd>
<p>Run the command silently, without creating a window to display its
output.</p>
</dd>
<dt> guitool.&lt;name&gt;.noRescan </dt>
<dd>
<p>Don’t rescan the working directory for changes after the tool
finishes execution.</p>
</dd>
<dt> guitool.&lt;name&gt;.confirm </dt>
<dd>
<p>Show a confirmation dialog before actually running the tool.</p>
</dd>
<dt> guitool.&lt;name&gt;.argPrompt </dt>
<dd>
<p>Request a string argument from the user, and pass it to the tool
through the <code>ARGS</code> environment variable. Since requesting an
argument implies confirmation, the <em>confirm</em> option has no effect
if this is enabled. If the option is set to <em>true</em>, <em>yes</em>, or <em>1</em>,
the dialog uses a built-in generic prompt; otherwise the exact
value of the variable is used.</p>
</dd>
<dt> guitool.&lt;name&gt;.revPrompt </dt>
<dd>
<p>Request a single valid revision from the user, and set the
<code>REVISION</code> environment variable. In other aspects this option
is similar to <em>argPrompt</em>, and can be used together with it.</p>
</dd>
<dt> guitool.&lt;name&gt;.revUnmerged </dt>
<dd>
<p>Show only unmerged branches in the <em>revPrompt</em> subdialog.
This is useful for tools similar to merge or rebase, but not
for things like checkout or reset.</p>
</dd>
<dt> guitool.&lt;name&gt;.title </dt>
<dd>
<p>Specifies the title to use for the prompt dialog. The default
is the tool name.</p>
</dd>
<dt> guitool.&lt;name&gt;.prompt </dt>
<dd>
<p>Specifies the general prompt string to display at the top of
the dialog, before subsections for <em>argPrompt</em> and <em>revPrompt</em>.
The default value includes the actual command.</p>
</dd>
<dt> help.browser </dt>
<dd>
<p>Specify the browser that will be used to display help in the
<em>web</em> format. See <a href="/docs/git-help">git-help[1]</a>.</p>
</dd>
<dt> help.format </dt>
<dd>
<p>Override the default help format used by <a href="/docs/git-help">git-help[1]</a>.
Values <em>man</em>, <em>info</em>, <em>web</em> and <em>html</em> are supported. <em>man</em> is
the default. <em>web</em> and <em>html</em> are the same.</p>
</dd>
<dt> help.autoCorrect </dt>
<dd>
<p>If git detects typos and can identify exactly one valid command similar
to the error, git will try to suggest the correct command or even
run the suggestion automatically. Possible config values are:</p>

<ul>
<li>
<p>0 (default): show the suggested command.</p>
</li>
<li>
<p>positive number: run the suggested command after specified
deciseconds (0.1 sec).</p>
</li>
<li>
<p>"immediate": run the suggested command immediately.</p>
</li>
<li>
<p>"prompt": show the suggestion and prompt for confirmation to run
the command.</p>
</li>
<li>
<p>"never": don’t run or show any suggested command.</p>
</li>
</ul>

</dd>
<dt> help.htmlPath </dt>
<dd>
<p>Specify the path where the HTML documentation resides. File system paths
and URLs are supported. HTML pages will be prefixed with this path when
help is displayed in the <em>web</em> format. This defaults to the documentation
path of your Git installation.</p>
</dd>
<dt> http.proxy </dt>
<dd>
<p>Override the HTTP proxy, normally configured using the <em>http_proxy</em>,
<em>https_proxy</em>, and <em>all_proxy</em> environment variables (see <code>curl(1)</code>). In
addition to the syntax understood by curl, it is possible to specify a
proxy string with a user name but no password, in which case git will
attempt to acquire one in the same way it does for other credentials. See
<a href="/docs/gitcredentials">gitcredentials[7]</a> for more information. The syntax thus is
<em>[protocol://][user[:password]@]proxyhost[:port]</em>. This can be overridden
on a per-remote basis; see remote.&lt;name&gt;.proxy</p>
</dd>
<dt> http.proxyAuthMethod </dt>
<dd>
<p>Set the method with which to authenticate against the HTTP proxy. This
only takes effect if the configured proxy string contains a user name part
(i.e. is of the form <em>user@host</em> or <em>user@host:port</em>). This can be
overridden on a per-remote basis; see <code>remote.&lt;name&gt;.proxyAuthMethod</code>.
Both can be overridden by the <code>GIT_HTTP_PROXY_AUTHMETHOD</code> environment
variable.  Possible values are:</p>



<ul>
<li>
<p><code>anyauth</code> - Automatically pick a suitable authentication method. It is
assumed that the proxy answers an unauthenticated request with a 407
status code and one or more Proxy-authenticate headers with supported
authentication methods. This is the default.</p>
</li>
<li>
<p><code>basic</code> - HTTP Basic authentication</p>
</li>
<li>
<p><code>digest</code> - HTTP Digest authentication; this prevents the password from being
transmitted to the proxy in clear text</p>
</li>
<li>
<p><code>negotiate</code> - GSS-Negotiate authentication (compare the --negotiate option
of <code>curl(1)</code>)</p>
</li>
<li>
<p><code>ntlm</code> - NTLM authentication (compare the --ntlm option of <code>curl(1)</code>)</p>
</li>
</ul>



</dd>
<dt> http.proxySSLCert </dt>
<dd>
<p>The pathname of a file that stores a client certificate to use to authenticate
with an HTTPS proxy. Can be overridden by the <code>GIT_PROXY_SSL_CERT</code> environment
variable.</p>
</dd>
<dt> http.proxySSLKey </dt>
<dd>
<p>The pathname of a file that stores a private key to use to authenticate with
an HTTPS proxy. Can be overridden by the <code>GIT_PROXY_SSL_KEY</code> environment
variable.</p>
</dd>
<dt> http.proxySSLCertPasswordProtected </dt>
<dd>
<p>Enable Git’s password prompt for the proxy SSL certificate.  Otherwise OpenSSL
will prompt the user, possibly many times, if the certificate or private key
is encrypted. Can be overridden by the <code>GIT_PROXY_SSL_CERT_PASSWORD_PROTECTED</code>
environment variable.</p>
</dd>
<dt> http.proxySSLCAInfo </dt>
<dd>
<p>Pathname to the file containing the certificate bundle that should be used to
verify the proxy with when using an HTTPS proxy. Can be overridden by the
<code>GIT_PROXY_SSL_CAINFO</code> environment variable.</p>
</dd>
<dt> http.emptyAuth </dt>
<dd>
<p>Attempt authentication without seeking a username or password.  This
can be used to attempt GSS-Negotiate authentication without specifying
a username in the URL, as libcurl normally requires a username for
authentication.</p>
</dd>
<dt> http.delegation </dt>
<dd>
<p>Control GSSAPI credential delegation. The delegation is disabled
by default in libcurl since version 7.21.7. Set parameter to tell
the server what it is allowed to delegate when it comes to user
credentials. Used with GSS/kerberos. Possible values are:</p>



<ul>
<li>
<p><code>none</code> - Don’t allow any delegation.</p>
</li>
<li>
<p><code>policy</code> - Delegates if and only if the OK-AS-DELEGATE flag is set in the
Kerberos service ticket, which is a matter of realm policy.</p>
</li>
<li>
<p><code>always</code> - Unconditionally allow the server to delegate.</p>
</li>
</ul>



</dd>
<dt> http.extraHeader </dt>
<dd>
<p>Pass an additional HTTP header when communicating with a server.  If
more than one such entry exists, all of them are added as extra
headers.  To allow overriding the settings inherited from the system
config, an empty value will reset the extra headers to the empty list.</p>
</dd>
<dt> http.cookieFile </dt>
<dd>
<p>The pathname of a file containing previously stored cookie lines,
which should be used
in the Git http session, if they match the server. The file format
of the file to read cookies from should be plain HTTP headers or
the Netscape/Mozilla cookie file format (see <code>curl(1)</code>).
NOTE that the file specified with http.cookieFile is used only as
input unless http.saveCookies is set.</p>
</dd>
<dt> http.saveCookies </dt>
<dd>
<p>If set, store cookies received during requests to the file specified by
http.cookieFile. Has no effect if http.cookieFile is unset.</p>
</dd>
<dt> http.version </dt>
<dd>
<p>Use the specified HTTP protocol version when communicating with a server.
If you want to force the default. The available and default version depend
on libcurl. Currently the possible values of
this option are:</p>

<ul>
<li>
<p>HTTP/2</p>
</li>
<li>
<p>HTTP/1.1</p>
</li>
</ul>

</dd>
<dt> http.sslVersion </dt>
<dd>
<p>The SSL version to use when negotiating an SSL connection, if you
want to force the default.  The available and default version
depend on whether libcurl was built against NSS or OpenSSL and the
particular configuration of the crypto library in use. Internally
this sets the <em>CURLOPT_SSL_VERSION</em> option; see the libcurl
documentation for more details on the format of this option and
for the ssl version supported. Currently the possible values of
this option are:</p>

<ul>
<li>
<p>sslv2</p>
</li>
<li>
<p>sslv3</p>
</li>
<li>
<p>tlsv1</p>
</li>
<li>
<p>tlsv1.0</p>
</li>
<li>
<p>tlsv1.1</p>
</li>
<li>
<p>tlsv1.2</p>
</li>
<li>
<p>tlsv1.3</p>
</li>
</ul>


<p>Can be overridden by the <code>GIT_SSL_VERSION</code> environment variable.
To force git to use libcurl’s default ssl version and ignore any
explicit http.sslversion option, set <code>GIT_SSL_VERSION</code> to the
empty string.</p>

</dd>
<dt> http.sslCipherList </dt>
<dd>
<p>A list of SSL ciphers to use when negotiating an SSL connection.
The available ciphers depend on whether libcurl was built against
NSS or OpenSSL and the particular configuration of the crypto
library in use.  Internally this sets the <em>CURLOPT_SSL_CIPHER_LIST</em>
option; see the libcurl documentation for more details on the format
of this list.</p>

<p>Can be overridden by the <code>GIT_SSL_CIPHER_LIST</code> environment variable.
To force git to use libcurl’s default cipher list and ignore any
explicit http.sslCipherList option, set <code>GIT_SSL_CIPHER_LIST</code> to the
empty string.</p>

</dd>
<dt> http.sslVerify </dt>
<dd>
<p>Whether to verify the SSL certificate when fetching or pushing
over HTTPS. Defaults to true. Can be overridden by the
<code>GIT_SSL_NO_VERIFY</code> environment variable.</p>
</dd>
<dt> http.sslCert </dt>
<dd>
<p>File containing the SSL certificate when fetching or pushing
over HTTPS. Can be overridden by the <code>GIT_SSL_CERT</code> environment
variable.</p>
</dd>
<dt> http.sslKey </dt>
<dd>
<p>File containing the SSL private key when fetching or pushing
over HTTPS. Can be overridden by the <code>GIT_SSL_KEY</code> environment
variable.</p>
</dd>
<dt> http.sslCertPasswordProtected </dt>
<dd>
<p>Enable Git’s password prompt for the SSL certificate.  Otherwise
OpenSSL will prompt the user, possibly many times, if the
certificate or private key is encrypted.  Can be overridden by the
<code>GIT_SSL_CERT_PASSWORD_PROTECTED</code> environment variable.</p>
</dd>
<dt> http.sslCAInfo </dt>
<dd>
<p>File containing the certificates to verify the peer with when
fetching or pushing over HTTPS. Can be overridden by the
<code>GIT_SSL_CAINFO</code> environment variable.</p>
</dd>
<dt> http.sslCAPath </dt>
<dd>
<p>Path containing files with the CA certificates to verify the peer
with when fetching or pushing over HTTPS. Can be overridden
by the <code>GIT_SSL_CAPATH</code> environment variable.</p>
</dd>
<dt> http.sslBackend </dt>
<dd>
<p>Name of the SSL backend to use (e.g. "openssl" or "schannel").
This option is ignored if cURL lacks support for choosing the SSL
backend at runtime.</p>
</dd>
<dt> http.schannelCheckRevoke </dt>
<dd>
<p>Used to enforce or disable certificate revocation checks in cURL
when http.sslBackend is set to "schannel". Defaults to <code>true</code> if
unset. Only necessary to disable this if Git consistently errors
and the message is about checking the revocation status of a
certificate. This option is ignored if cURL lacks support for
setting the relevant SSL option at runtime.</p>
</dd>
<dt> http.schannelUseSSLCAInfo </dt>
<dd>
<p>As of cURL v7.60.0, the Secure Channel backend can use the
certificate bundle provided via <code>http.sslCAInfo</code>, but that would
override the Windows Certificate Store. Since this is not desirable
by default, Git will tell cURL not to use that bundle by default
when the <code>schannel</code> backend was configured via <code>http.sslBackend</code>,
unless <code>http.schannelUseSSLCAInfo</code> overrides this behavior.</p>
</dd>
<dt> http.pinnedpubkey </dt>
<dd>
<p>Public key of the https service. It may either be the filename of
a PEM or DER encoded public key file or a string starting with
<em>sha256//</em> followed by the base64 encoded sha256 hash of the
public key. See also libcurl <em>CURLOPT_PINNEDPUBLICKEY</em>. git will
exit with an error if this option is set but not supported by
cURL.</p>
</dd>
<dt> http.sslTry </dt>
<dd>
<p>Attempt to use AUTH SSL/TLS and encrypted data transfers
when connecting via regular FTP protocol. This might be needed
if the FTP server requires it for security reasons or you wish
to connect securely whenever remote FTP server supports it.
Default is false since it might trigger certificate verification
errors on misconfigured servers.</p>
</dd>
<dt> http.maxRequests </dt>
<dd>
<p>How many HTTP requests to launch in parallel. Can be overridden
by the <code>GIT_HTTP_MAX_REQUESTS</code> environment variable. Default is 5.</p>
</dd>
<dt> http.minSessions </dt>
<dd>
<p>The number of curl sessions (counted across slots) to be kept across
requests. They will not be ended with curl_easy_cleanup() until
http_cleanup() is invoked. If USE_CURL_MULTI is not defined, this
value will be capped at 1. Defaults to 1.</p>
</dd>
<dt> http.postBuffer </dt>
<dd>
<p>Maximum size in bytes of the buffer used by smart HTTP
transports when POSTing data to the remote system.
For requests larger than this buffer size, HTTP/1.1 and
Transfer-Encoding: chunked is used to avoid creating a
massive pack file locally.  Default is 1 MiB, which is
sufficient for most requests.</p>

<p>Note that raising this limit is only effective for disabling chunked
transfer encoding and therefore should be used only where the remote
server or a proxy only supports HTTP/1.0 or is noncompliant with the
HTTP standard.  Raising this is not, in general, an effective solution
for most push problems, but can increase memory consumption
significantly since the entire buffer is allocated even for small
pushes.</p>

</dd>
<dt> http.lowSpeedLimit, http.lowSpeedTime </dt>
<dd>
<p>If the HTTP transfer speed is less than <em>http.lowSpeedLimit</em>
for longer than <em>http.lowSpeedTime</em> seconds, the transfer is aborted.
Can be overridden by the <code>GIT_HTTP_LOW_SPEED_LIMIT</code> and
<code>GIT_HTTP_LOW_SPEED_TIME</code> environment variables.</p>
</dd>
<dt> http.noEPSV </dt>
<dd>
<p>A boolean which disables using of EPSV ftp command by curl.
This can helpful with some "poor" ftp servers which don’t
support EPSV mode. Can be overridden by the <code>GIT_CURL_FTP_NO_EPSV</code>
environment variable. Default is false (curl will use EPSV).</p>
</dd>
<dt> http.userAgent </dt>
<dd>
<p>The HTTP USER_AGENT string presented to an HTTP server.  The default
value represents the version of the client Git such as git/1.7.1.
This option allows you to override this value to a more common value
such as Mozilla/4.0.  This may be necessary, for instance, if
connecting through a firewall that restricts HTTP connections to a set
of common USER_AGENT strings (but not including those like git/1.7.1).
Can be overridden by the <code>GIT_HTTP_USER_AGENT</code> environment variable.</p>
</dd>
<dt> http.followRedirects </dt>
<dd>
<p>Whether git should follow HTTP redirects. If set to <code>true</code>, git
will transparently follow any redirect issued by a server it
encounters. If set to <code>false</code>, git will treat all redirects as
errors. If set to <code>initial</code>, git will follow redirects only for
the initial request to a remote, but not for subsequent
follow-up HTTP requests. Since git uses the redirected URL as
the base for the follow-up requests, this is generally
sufficient. The default is <code>initial</code>.</p>
</dd>
<dt> http.&lt;url&gt;.* </dt>
<dd>
<p>Any of the http.* options above can be applied selectively to some URLs.
For a config key to match a URL, each element of the config key is
compared to that of the URL, in the following order:</p>



<ol>
<li>
<p>Scheme (e.g., <code>https</code> in <code>https://example.com/</code>). This field
must match exactly between the config key and the URL.</p>
</li>
<li>
<p>Host/domain name (e.g., <code>example.com</code> in <code>https://example.com/</code>).
This field must match between the config key and the URL. It is
possible to specify a <code>*</code> as part of the host name to match all subdomains
at this level. <code>https://*.example.com/</code> for example would match
<code>https://foo.example.com/</code>, but not <code>https://foo.bar.example.com/</code>.</p>
</li>
<li>
<p>Port number (e.g., <code>8080</code> in <code>http://example.com:8080/</code>).
This field must match exactly between the config key and the URL.
Omitted port numbers are automatically converted to the correct
default for the scheme before matching.</p>
</li>
<li>
<p>Path (e.g., <code>repo.git</code> in <code>https://example.com/repo.git</code>). The
path field of the config key must match the path field of the URL
either exactly or as a prefix of slash-delimited path elements.  This means
a config key with path <code>foo/</code> matches URL path <code>foo/bar</code>.  A prefix can only
match on a slash (<code>/</code>) boundary.  Longer matches take precedence (so a config
key with path <code>foo/bar</code> is a better match to URL path <code>foo/bar</code> than a config
key with just path <code>foo/</code>).</p>
</li>
<li>
<p>User name (e.g., <code>user</code> in <code>https://user@example.com/repo.git</code>). If
the config key has a user name it must match the user name in the
URL exactly. If the config key does not have a user name, that
config key will match a URL with any user name (including none),
but at a lower precedence than a config key with a user name.</p>
</li>
</ol>




<p>The list above is ordered by decreasing precedence; a URL that matches
a config key’s path is preferred to one that matches its user name. For example,
if the URL is <code>https://user@example.com/foo/bar</code> a config key match of
<code>https://example.com/foo</code> will be preferred over a config key match of
<code>https://user@example.com</code>.</p>


<p>All URLs are normalized before attempting any matching (the password part,
if embedded in the URL, is always ignored for matching purposes) so that
equivalent URLs that are simply spelled differently will match properly.
Environment variable settings always override any matches.  The URLs that are
matched against are those given directly to Git commands.  This means any URLs
visited as a result of a redirection do not participate in matching.</p>

</dd>
<dt> i18n.commitEncoding </dt>
<dd>
<p>Character encoding the commit messages are stored in; Git itself
does not care per se, but this information is necessary e.g. when
importing commits from emails or in the gitk graphical history
browser (and possibly at other places in the future or in other
porcelains). See e.g. <a href="/docs/git-mailinfo">git-mailinfo[1]</a>. Defaults to <em>utf-8</em>.</p>
</dd>
<dt> i18n.logOutputEncoding </dt>
<dd>
<p>Character encoding the commit messages are converted to when
running <em>git log</em> and friends.</p>
</dd>
<dt> imap.folder </dt>
<dd>
<p>The folder to drop the mails into, which is typically the Drafts
folder. For example: "INBOX.Drafts", "INBOX/Drafts" or
"[Gmail]/Drafts". Required.</p>
</dd>
<dt> imap.tunnel </dt>
<dd>
<p>Command used to setup a tunnel to the IMAP server through which
commands will be piped instead of using a direct network connection
to the server. Required when imap.host is not set.</p>
</dd>
<dt> imap.host </dt>
<dd>
<p>A URL identifying the server. Use an <code>imap://</code> prefix for non-secure
connections and an <code>imaps://</code> prefix for secure connections.
Ignored when imap.tunnel is set, but required otherwise.</p>
</dd>
<dt> imap.user </dt>
<dd>
<p>The username to use when logging in to the server.</p>
</dd>
<dt> imap.pass </dt>
<dd>
<p>The password to use when logging in to the server.</p>
</dd>
<dt> imap.port </dt>
<dd>
<p>An integer port number to connect to on the server.
Defaults to 143 for imap:// hosts and 993 for imaps:// hosts.
Ignored when imap.tunnel is set.</p>
</dd>
<dt> imap.sslverify </dt>
<dd>
<p>A boolean to enable/disable verification of the server certificate
used by the SSL/TLS connection. Default is <code>true</code>. Ignored when
imap.tunnel is set.</p>
</dd>
<dt> imap.preformattedHTML </dt>
<dd>
<p>A boolean to enable/disable the use of html encoding when sending
a patch.  An html encoded patch will be bracketed with &lt;pre&gt;
and have a content type of text/html.  Ironically, enabling this
option causes Thunderbird to send the patch as a plain/text,
format=fixed email.  Default is <code>false</code>.</p>
</dd>
<dt> imap.authMethod </dt>
<dd>
<p>Specify authenticate method for authentication with IMAP server.
If Git was built with the NO_CURL option, or if your curl version is older
than 7.34.0, or if you’re running git-imap-send with the <code>--no-curl</code>
option, the only supported method is <em>CRAM-MD5</em>. If this is not set
then <em>git imap-send</em> uses the basic IMAP plaintext LOGIN command.</p>
</dd>
<dt> index.recordEndOfIndexEntries </dt>
<dd>
<p>Specifies whether the index file should include an "End Of Index
Entry" section. This reduces index load time on multiprocessor
machines but produces a message "ignoring EOIE extension" when
reading the index using Git versions before 2.20. Defaults to
<em>true</em> if index.threads has been explicitly enabled, <em>false</em>
otherwise.</p>
</dd>
<dt> index.recordOffsetTable </dt>
<dd>
<p>Specifies whether the index file should include an "Index Entry
Offset Table" section. This reduces index load time on
multiprocessor machines but produces a message "ignoring IEOT
extension" when reading the index using Git versions before 2.20.
Defaults to <em>true</em> if index.threads has been explicitly enabled,
<em>false</em> otherwise.</p>
</dd>
<dt> index.sparse </dt>
<dd>
<p>When enabled, write the index using sparse-directory entries. This
has no effect unless <code>core.sparseCheckout</code> and
<code>core.sparseCheckoutCone</code> are both enabled. Defaults to <em>false</em>.</p>
</dd>
<dt> index.threads </dt>
<dd>
<p>Specifies the number of threads to spawn when loading the index.
This is meant to reduce index load time on multiprocessor machines.
Specifying 0 or <em>true</em> will cause Git to auto-detect the number of
CPU’s and set the number of threads accordingly. Specifying 1 or
<em>false</em> will disable multithreading. Defaults to <em>true</em>.</p>
</dd>
<dt> index.version </dt>
<dd>
<p>Specify the version with which new index files should be
initialized.  This does not affect existing repositories.
If <code>feature.manyFiles</code> is enabled, then the default is 4.</p>
</dd>
<dt> init.templateDir </dt>
<dd>
<p>Specify the directory from which templates will be copied.
(See the "TEMPLATE DIRECTORY" section of <a href="/docs/git-init">git-init[1]</a>.)</p>
</dd>
<dt> init.defaultBranch </dt>
<dd>
<p>Allows overriding the default branch name e.g. when initializing
a new repository.</p>
</dd>
<dt> instaweb.browser </dt>
<dd>
<p>Specify the program that will be used to browse your working
repository in gitweb. See <a href="/docs/git-instaweb">git-instaweb[1]</a>.</p>
</dd>
<dt> instaweb.httpd </dt>
<dd>
<p>The HTTP daemon command-line to start gitweb on your working
repository. See <a href="/docs/git-instaweb">git-instaweb[1]</a>.</p>
</dd>
<dt> instaweb.local </dt>
<dd>
<p>If true the web server started by <a href="/docs/git-instaweb">git-instaweb[1]</a> will
be bound to the local IP (127.0.0.1).</p>
</dd>
<dt> instaweb.modulePath </dt>
<dd>
<p>The default module path for <a href="/docs/git-instaweb">git-instaweb[1]</a> to use
instead of /usr/lib/apache2/modules.  Only used if httpd
is Apache.</p>
</dd>
<dt> instaweb.port </dt>
<dd>
<p>The port number to bind the gitweb httpd to. See
<a href="/docs/git-instaweb">git-instaweb[1]</a>.</p>
</dd>
<dt> interactive.singleKey </dt>
<dd>
<p>In interactive commands, allow the user to provide one-letter
input with a single key (i.e., without hitting enter).
Currently this is used by the <code>--patch</code> mode of
<a href="/docs/git-add">git-add[1]</a>, <a href="/docs/git-checkout">git-checkout[1]</a>,
<a href="/docs/git-restore">git-restore[1]</a>, <a href="/docs/git-commit">git-commit[1]</a>,
<a href="/docs/git-reset">git-reset[1]</a>, and <a href="/docs/git-stash">git-stash[1]</a>. Note that this
setting is silently ignored if portable keystroke input
is not available; requires the Perl module Term::ReadKey.</p>
</dd>
<dt> interactive.diffFilter </dt>
<dd>
<p>When an interactive command (such as <code>git add --patch</code>) shows
a colorized diff, git will pipe the diff through the shell
command defined by this configuration variable. The command may
mark up the diff further for human consumption, provided that it
retains a one-to-one correspondence with the lines in the
original diff. Defaults to disabled (no filtering).</p>
</dd>
<dt> log.abbrevCommit </dt>
<dd>
<p>If true, makes <a href="/docs/git-log">git-log[1]</a>, <a href="/docs/git-show">git-show[1]</a>, and
<a href="/docs/git-whatchanged">git-whatchanged[1]</a> assume <code>--abbrev-commit</code>. You may
override this option with <code>--no-abbrev-commit</code>.</p>
</dd>
<dt> log.date </dt>
<dd>
<p>Set the default date-time mode for the <em>log</em> command.
Setting a value for log.date is similar to using <em>git log</em>'s
<code>--date</code> option.  See <a href="/docs/git-log">git-log[1]</a> for details.</p>
</dd>
<dt> log.decorate </dt>
<dd>
<p>Print out the ref names of any commits that are shown by the log
command. If <em>short</em> is specified, the ref name prefixes <em>refs/heads/</em>,
<em>refs/tags/</em> and <em>refs/remotes/</em> will not be printed. If <em>full</em> is
specified, the full ref name (including prefix) will be printed.
If <em>auto</em> is specified, then if the output is going to a terminal,
the ref names are shown as if <em>short</em> were given, otherwise no ref
names are shown. This is the same as the <code>--decorate</code> option
of the <code>git log</code>.</p>
</dd>
<dt> log.excludeDecoration </dt>
<dd>
<p>Exclude the specified patterns from the log decorations. This is
similar to the <code>--decorate-refs-exclude</code> command-line option, but
the config option can be overridden by the <code>--decorate-refs</code>
option.</p>
</dd>
<dt> log.diffMerges </dt>
<dd>
<p>Set default diff format to be used for merge commits. See
<code>--diff-merges</code> in <a href="/docs/git-log">git-log[1]</a> for details.
Defaults to <code>separate</code>.</p>
</dd>
<dt> log.follow </dt>
<dd>
<p>If <code>true</code>, <code>git log</code> will act as if the <code>--follow</code> option was used when
a single &lt;path&gt; is given.  This has the same limitations as <code>--follow</code>,
i.e. it cannot be used to follow multiple files and does not work well
on non-linear history.</p>
</dd>
<dt> log.graphColors </dt>
<dd>
<p>A list of colors, separated by commas, that can be used to draw
history lines in <code>git log --graph</code>.</p>
</dd>
<dt> log.showRoot </dt>
<dd>
<p>If true, the initial commit will be shown as a big creation event.
This is equivalent to a diff against an empty tree.
Tools like <a href="/docs/git-log">git-log[1]</a> or <a href="/docs/git-whatchanged">git-whatchanged[1]</a>, which
normally hide the root commit will now show it. True by default.</p>
</dd>
<dt> log.showSignature </dt>
<dd>
<p>If true, makes <a href="/docs/git-log">git-log[1]</a>, <a href="/docs/git-show">git-show[1]</a>, and
<a href="/docs/git-whatchanged">git-whatchanged[1]</a> assume <code>--show-signature</code>.</p>
</dd>
<dt> log.mailmap </dt>
<dd>
<p>If true, makes <a href="/docs/git-log">git-log[1]</a>, <a href="/docs/git-show">git-show[1]</a>, and
<a href="/docs/git-whatchanged">git-whatchanged[1]</a> assume <code>--use-mailmap</code>, otherwise
assume <code>--no-use-mailmap</code>. True by default.</p>
</dd>
<dt> lsrefs.unborn </dt>
<dd>
<p>May be "advertise" (the default), "allow", or "ignore". If "advertise",
the server will respond to the client sending "unborn" (as described in
protocol-v2.txt) and will advertise support for this feature during the
protocol v2 capability advertisement. "allow" is the same as
"advertise" except that the server will not advertise support for this
feature; this is useful for load-balanced servers that cannot be
updated atomically (for example), since the administrator could
configure "allow", then after a delay, configure "advertise".</p>
</dd>
<dt> mailinfo.scissors </dt>
<dd>
<p>If true, makes <a href="/docs/git-mailinfo">git-mailinfo[1]</a> (and therefore
<a href="/docs/git-am">git-am[1]</a>) act by default as if the --scissors option
was provided on the command-line. When active, this features
removes everything from the message body before a scissors
line (i.e. consisting mainly of "&gt;8", "8&lt;" and "-").</p>
</dd>
<dt> mailmap.file </dt>
<dd>
<p>The location of an augmenting mailmap file. The default
mailmap, located in the root of the repository, is loaded
first, then the mailmap file pointed to by this variable.
The location of the mailmap file may be in a repository
subdirectory, or somewhere outside of the repository itself.
See <a href="/docs/git-shortlog">git-shortlog[1]</a> and <a href="/docs/git-blame">git-blame[1]</a>.</p>
</dd>
<dt> mailmap.blob </dt>
<dd>
<p>Like <code>mailmap.file</code>, but consider the value as a reference to a
blob in the repository. If both <code>mailmap.file</code> and
<code>mailmap.blob</code> are given, both are parsed, with entries from
<code>mailmap.file</code> taking precedence. In a bare repository, this
defaults to <code>HEAD:.mailmap</code>. In a non-bare repository, it
defaults to empty.</p>
</dd>
<dt> maintenance.auto </dt>
<dd>
<p>This boolean config option controls whether some commands run
<code>git maintenance run --auto</code> after doing their normal work. Defaults
to true.</p>
</dd>
<dt> maintenance.strategy </dt>
<dd>
<p>This string config option provides a way to specify one of a few
recommended schedules for background maintenance. This only affects
which tasks are run during <code>git maintenance run --schedule=X</code>
commands, provided no <code>--task=&lt;task&gt;</code> arguments are provided.
Further, if a <code>maintenance.&lt;task&gt;.schedule</code> config value is set,
then that value is used instead of the one provided by
<code>maintenance.strategy</code>. The possible strategy strings are:</p>

<ul>
<li>
<p><code>none</code>: This default setting implies no task are run at any schedule.</p>
</li>
<li>
<p><code>incremental</code>: This setting optimizes for performing small maintenance
activities that do not delete any data. This does not schedule the <code>gc</code>
task, but runs the <code>prefetch</code> and <code>commit-graph</code> tasks hourly, the
<code>loose-objects</code> and <code>incremental-repack</code> tasks daily, and the <code>pack-refs</code>
task weekly.</p>
</li>
</ul>

</dd>
<dt> maintenance.&lt;task&gt;.enabled </dt>
<dd>
<p>This boolean config option controls whether the maintenance task
with name <code>&lt;task&gt;</code> is run when no <code>--task</code> option is specified to
<code>git maintenance run</code>. These config values are ignored if a
<code>--task</code> option exists. By default, only <code>maintenance.gc.enabled</code>
is true.</p>
</dd>
<dt> maintenance.&lt;task&gt;.schedule </dt>
<dd>
<p>This config option controls whether or not the given <code>&lt;task&gt;</code> runs
during a <code>git maintenance run --schedule=&lt;frequency&gt;</code> command. The
value must be one of "hourly", "daily", or "weekly".</p>
</dd>
<dt> maintenance.commit-graph.auto </dt>
<dd>
<p>This integer config option controls how often the <code>commit-graph</code> task
should be run as part of <code>git maintenance run --auto</code>. If zero, then
the <code>commit-graph</code> task will not run with the <code>--auto</code> option. A
negative value will force the task to run every time. Otherwise, a
positive value implies the command should run when the number of
reachable commits that are not in the commit-graph file is at least
the value of <code>maintenance.commit-graph.auto</code>. The default value is
100.</p>
</dd>
<dt> maintenance.loose-objects.auto </dt>
<dd>
<p>This integer config option controls how often the <code>loose-objects</code> task
should be run as part of <code>git maintenance run --auto</code>. If zero, then
the <code>loose-objects</code> task will not run with the <code>--auto</code> option. A
negative value will force the task to run every time. Otherwise, a
positive value implies the command should run when the number of
loose objects is at least the value of <code>maintenance.loose-objects.auto</code>.
The default value is 100.</p>
</dd>
<dt> maintenance.incremental-repack.auto </dt>
<dd>
<p>This integer config option controls how often the <code>incremental-repack</code>
task should be run as part of <code>git maintenance run --auto</code>. If zero,
then the <code>incremental-repack</code> task will not run with the <code>--auto</code>
option. A negative value will force the task to run every time.
Otherwise, a positive value implies the command should run when the
number of pack-files not in the multi-pack-index is at least the value
of <code>maintenance.incremental-repack.auto</code>. The default value is 10.</p>
</dd>
<dt> man.viewer </dt>
<dd>
<p>Specify the programs that may be used to display help in the
<em>man</em> format. See <a href="/docs/git-help">git-help[1]</a>.</p>
</dd>
<dt> man.&lt;tool&gt;.cmd </dt>
<dd>
<p>Specify the command to invoke the specified man viewer. The
specified command is evaluated in shell with the man page
passed as argument. (See <a href="/docs/git-help">git-help[1]</a>.)</p>
</dd>
<dt> man.&lt;tool&gt;.path </dt>
<dd>
<p>Override the path for the given tool that may be used to
display help in the <em>man</em> format. See <a href="/docs/git-help">git-help[1]</a>.</p>
</dd>
<dt> merge.conflictStyle </dt>
<dd>
<p>Specify the style in which conflicted hunks are written out to
working tree files upon merge.  The default is "merge", which
shows a <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code> conflict marker, changes made by one side,
a <code>=======</code> marker, changes made by the other side, and then
a <code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code> marker.  An alternate style, "diff3", adds a <code>|||||||</code>
marker and the original text before the <code>=======</code> marker.  The
"merge" style tends to produce smaller conflict regions than diff3,
both because of the exclusion of the original text, and because
when a subset of lines match on the two sides they are just pulled
out of the conflict region.  Another alternate style, "zdiff3", is
similar to diff3 but removes matching lines on the two sides from
the conflict region when those matching lines appear near either
the beginning or end of a conflict region.</p>
</dd>
<dt> merge.defaultToUpstream </dt>
<dd>
<p>If merge is called without any commit argument, merge the upstream
branches configured for the current branch by using their last
observed values stored in their remote-tracking branches.
The values of the <code>branch.&lt;current branch&gt;.merge</code> that name the
branches at the remote named by <code>branch.&lt;current branch&gt;.remote</code>
are consulted, and then they are mapped via <code>remote.&lt;remote&gt;.fetch</code>
to their corresponding remote-tracking branches, and the tips of
these tracking branches are merged. Defaults to true.</p>
</dd>
<dt> merge.ff </dt>
<dd>
<p>By default, Git does not create an extra merge commit when merging
a commit that is a descendant of the current commit. Instead, the
tip of the current branch is fast-forwarded. When set to <code>false</code>,
this variable tells Git to create an extra merge commit in such
a case (equivalent to giving the <code>--no-ff</code> option from the command
line). When set to <code>only</code>, only such fast-forward merges are
allowed (equivalent to giving the <code>--ff-only</code> option from the
command line).</p>
</dd>
<dt> merge.verifySignatures </dt>
<dd>
<p>If true, this is equivalent to the --verify-signatures command
line option. See <a href="/docs/git-merge">git-merge[1]</a> for details.</p>
</dd>
<dt> merge.branchdesc </dt>
<dd>
<p>In addition to branch names, populate the log message with
the branch description text associated with them.  Defaults
to false.</p>
</dd>
<dt> merge.log </dt>
<dd>
<p>In addition to branch names, populate the log message with at
most the specified number of one-line descriptions from the
actual commits that are being merged.  Defaults to false, and
true is a synonym for 20.</p>
</dd>
<dt> merge.suppressDest </dt>
<dd>
<p>By adding a glob that matches the names of integration
branches to this multi-valued configuration variable, the
default merge message computed for merges into these
integration branches will omit "into &lt;branch name&gt;" from
its title.</p>

<p>An element with an empty value can be used to clear the list
of globs accumulated from previous configuration entries.
When there is no <code>merge.suppressDest</code> variable defined, the
default value of <code>master</code> is used for backward compatibility.</p>

</dd>
<dt> merge.renameLimit </dt>
<dd>
<p>The number of files to consider in the exhaustive portion of
rename detection during a merge.  If not specified, defaults
to the value of diff.renameLimit.  If neither
merge.renameLimit nor diff.renameLimit are specified,
currently defaults to 7000.  This setting has no effect if
rename detection is turned off.</p>
</dd>
<dt> merge.renames </dt>
<dd>
<p>Whether Git detects renames.  If set to "false", rename detection
is disabled. If set to "true", basic rename detection is enabled.
Defaults to the value of diff.renames.</p>
</dd>
<dt> merge.directoryRenames </dt>
<dd>
<p>Whether Git detects directory renames, affecting what happens at
merge time to new files added to a directory on one side of
history when that directory was renamed on the other side of
history.  If merge.directoryRenames is set to "false", directory
rename detection is disabled, meaning that such new files will be
left behind in the old directory.  If set to "true", directory
rename detection is enabled, meaning that such new files will be
moved into the new directory.  If set to "conflict", a conflict
will be reported for such paths.  If merge.renames is false,
merge.directoryRenames is ignored and treated as false.  Defaults
to "conflict".</p>
</dd>
<dt> merge.renormalize </dt>
<dd>
<p>Tell Git that canonical representation of files in the
repository has changed over time (e.g. earlier commits record
text files with CRLF line endings, but recent ones use LF line
endings).  In such a repository, Git can convert the data
recorded in commits to a canonical form before performing a
merge to reduce unnecessary conflicts.  For more information,
see section "Merging branches with differing checkin/checkout
attributes" in <a href="/docs/gitattributes">gitattributes[5]</a>.</p>
</dd>
<dt> merge.stat </dt>
<dd>
<p>Whether to print the diffstat between ORIG_HEAD and the merge result
at the end of the merge.  True by default.</p>
</dd>
<dt> merge.autoStash </dt>
<dd>
<p>When set to true, automatically create a temporary stash entry
before the operation begins, and apply it after the operation
ends.  This means that you can run merge on a dirty worktree.
However, use with care: the final stash application after a
successful merge might result in non-trivial conflicts.
This option can be overridden by the <code>--no-autostash</code> and
<code>--autostash</code> options of <a href="/docs/git-merge">git-merge[1]</a>.
Defaults to false.</p>
</dd>
<dt> merge.tool </dt>
<dd>
<p>Controls which merge tool is used by <a href="/docs/git-mergetool">git-mergetool[1]</a>.
The list below shows the valid built-in values.
Any other value is treated as a custom merge tool and requires
that a corresponding mergetool.&lt;tool&gt;.cmd variable is defined.</p>
</dd>
<dt> merge.guitool </dt>
<dd>
<p>Controls which merge tool is used by <a href="/docs/git-mergetool">git-mergetool[1]</a> when the
-g/--gui flag is specified. The list below shows the valid built-in values.
Any other value is treated as a custom merge tool and requires that a
corresponding mergetool.&lt;guitool&gt;.cmd variable is defined.</p>

<ul>
<li>
<p>araxis</p>
</li>
<li>
<p>bc</p>
</li>
<li>
<p>codecompare</p>
</li>
<li>
<p>deltawalker</p>
</li>
<li>
<p>diffmerge</p>
</li>
<li>
<p>diffuse</p>
</li>
<li>
<p>ecmerge</p>
</li>
<li>
<p>emerge</p>
</li>
<li>
<p>examdiff</p>
</li>
<li>
<p>guiffy</p>
</li>
<li>
<p>gvimdiff</p>
</li>
<li>
<p>kdiff3</p>
</li>
<li>
<p>meld</p>
</li>
<li>
<p>nvimdiff</p>
</li>
<li>
<p>opendiff</p>
</li>
<li>
<p>p4merge</p>
</li>
<li>
<p>smerge</p>
</li>
<li>
<p>tkdiff</p>
</li>
<li>
<p>tortoisemerge</p>
</li>
<li>
<p>vimdiff</p>
</li>
<li>
<p>winmerge</p>
</li>
<li>
<p>xxdiff</p>
</li>
</ul>

</dd>
<dt> merge.verbosity </dt>
<dd>
<p>Controls the amount of output shown by the recursive merge
strategy.  Level 0 outputs nothing except a final error
message if conflicts were detected. Level 1 outputs only
conflicts, 2 outputs conflicts and file changes.  Level 5 and
above outputs debugging information.  The default is level 2.
Can be overridden by the <code>GIT_MERGE_VERBOSITY</code> environment variable.</p>
</dd>
<dt> merge.&lt;driver&gt;.name </dt>
<dd>
<p>Defines a human-readable name for a custom low-level
merge driver.  See <a href="/docs/gitattributes">gitattributes[5]</a> for details.</p>
</dd>
<dt> merge.&lt;driver&gt;.driver </dt>
<dd>
<p>Defines the command that implements a custom low-level
merge driver.  See <a href="/docs/gitattributes">gitattributes[5]</a> for details.</p>
</dd>
<dt> merge.&lt;driver&gt;.recursive </dt>
<dd>
<p>Names a low-level merge driver to be used when
performing an internal merge between common ancestors.
See <a href="/docs/gitattributes">gitattributes[5]</a> for details.</p>
</dd>
<dt> mergetool.&lt;tool&gt;.path </dt>
<dd>
<p>Override the path for the given tool.  This is useful in case
your tool is not in the PATH.</p>
</dd>
<dt> mergetool.&lt;tool&gt;.cmd </dt>
<dd>
<p>Specify the command to invoke the specified merge tool.  The
specified command is evaluated in shell with the following
variables available: <em>BASE</em> is the name of a temporary file
containing the common base of the files to be merged, if available;
<em>LOCAL</em> is the name of a temporary file containing the contents of
the file on the current branch; <em>REMOTE</em> is the name of a temporary
file containing the contents of the file from the branch being
merged; <em>MERGED</em> contains the name of the file to which the merge
tool should write the results of a successful merge.</p>
</dd>
<dt> mergetool.&lt;tool&gt;.hideResolved </dt>
<dd>
<p>Allows the user to override the global <code>mergetool.hideResolved</code> value
for a specific tool. See <code>mergetool.hideResolved</code> for the full
description.</p>
</dd>
<dt> mergetool.&lt;tool&gt;.trustExitCode </dt>
<dd>
<p>For a custom merge command, specify whether the exit code of
the merge command can be used to determine whether the merge was
successful.  If this is not set to true then the merge target file
timestamp is checked and the merge assumed to have been successful
if the file has been updated, otherwise the user is prompted to
indicate the success of the merge.</p>
</dd>
<dt> mergetool.meld.hasOutput </dt>
<dd>
<p>Older versions of <code>meld</code> do not support the <code>--output</code> option.
Git will attempt to detect whether <code>meld</code> supports <code>--output</code>
by inspecting the output of <code>meld --help</code>.  Configuring
<code>mergetool.meld.hasOutput</code> will make Git skip these checks and
use the configured value instead.  Setting <code>mergetool.meld.hasOutput</code>
to <code>true</code> tells Git to unconditionally use the <code>--output</code> option,
and <code>false</code> avoids using <code>--output</code>.</p>
</dd>
<dt> mergetool.meld.useAutoMerge </dt>
<dd>
<p>When the <code>--auto-merge</code> is given, meld will merge all non-conflicting
parts automatically, highlight the conflicting parts and wait for
user decision.  Setting <code>mergetool.meld.useAutoMerge</code> to <code>true</code> tells
Git to unconditionally use the <code>--auto-merge</code> option with <code>meld</code>.
Setting this value to <code>auto</code> makes git detect whether <code>--auto-merge</code>
is supported and will only use <code>--auto-merge</code> when available.  A
value of <code>false</code> avoids using <code>--auto-merge</code> altogether, and is the
default value.</p>
</dd>
<dt> mergetool.hideResolved </dt>
<dd>
<p>During a merge Git will automatically resolve as many conflicts as
possible and write the <em>MERGED</em> file containing conflict markers around
any conflicts that it cannot resolve; <em>LOCAL</em> and <em>REMOTE</em> normally
represent the versions of the file from before Git’s conflict
resolution. This flag causes <em>LOCAL</em> and <em>REMOTE</em> to be overwriten so
that only the unresolved conflicts are presented to the merge tool. Can
be configured per-tool via the <code>mergetool.&lt;tool&gt;.hideResolved</code>
configuration variable. Defaults to <code>false</code>.</p>
</dd>
<dt> mergetool.keepBackup </dt>
<dd>
<p>After performing a merge, the original file with conflict markers
can be saved as a file with a <code>.orig</code> extension.  If this variable
is set to <code>false</code> then this file is not preserved.  Defaults to
<code>true</code> (i.e. keep the backup files).</p>
</dd>
<dt> mergetool.keepTemporaries </dt>
<dd>
<p>When invoking a custom merge tool, Git uses a set of temporary
files to pass to the tool. If the tool returns an error and this
variable is set to <code>true</code>, then these temporary files will be
preserved, otherwise they will be removed after the tool has
exited. Defaults to <code>false</code>.</p>
</dd>
<dt> mergetool.writeToTemp </dt>
<dd>
<p>Git writes temporary <em>BASE</em>, <em>LOCAL</em>, and <em>REMOTE</em> versions of
conflicting files in the worktree by default.  Git will attempt
to use a temporary directory for these files when set <code>true</code>.
Defaults to <code>false</code>.</p>
</dd>
<dt> mergetool.prompt </dt>
<dd>
<p>Prompt before each invocation of the merge resolution program.</p>
</dd>
<dt> notes.mergeStrategy </dt>
<dd>
<p>Which merge strategy to choose by default when resolving notes
conflicts.  Must be one of <code>manual</code>, <code>ours</code>, <code>theirs</code>, <code>union</code>, or
<code>cat_sort_uniq</code>.  Defaults to <code>manual</code>.  See "NOTES MERGE STRATEGIES"
section of <a href="/docs/git-notes">git-notes[1]</a> for more information on each strategy.</p>
</dd>
<dt> notes.&lt;name&gt;.mergeStrategy </dt>
<dd>
<p>Which merge strategy to choose when doing a notes merge into
refs/notes/&lt;name&gt;.  This overrides the more general
"notes.mergeStrategy".  See the "NOTES MERGE STRATEGIES" section in
<a href="/docs/git-notes">git-notes[1]</a> for more information on the available strategies.</p>
</dd>
<dt> notes.displayRef </dt>
<dd>
<p>The (fully qualified) refname from which to show notes when
showing commit messages.  The value of this variable can be set
to a glob, in which case notes from all matching refs will be
shown.  You may also specify this configuration variable
several times.  A warning will be issued for refs that do not
exist, but a glob that does not match any refs is silently
ignored.</p>

<p>This setting can be overridden with the <code>GIT_NOTES_DISPLAY_REF</code>
environment variable, which must be a colon separated list of refs or
globs.</p>


<p>The effective value of "core.notesRef" (possibly overridden by
GIT_NOTES_REF) is also implicitly added to the list of refs to be
displayed.</p>

</dd>
<dt> notes.rewrite.&lt;command&gt; </dt>
<dd>
<p>When rewriting commits with &lt;command&gt; (currently <code>amend</code> or
<code>rebase</code>) and this variable is set to <code>true</code>, Git
automatically copies your notes from the original to the
rewritten commit.  Defaults to <code>true</code>, but see
"notes.rewriteRef" below.</p>
</dd>
<dt> notes.rewriteMode </dt>
<dd>
<p>When copying notes during a rewrite (see the
"notes.rewrite.&lt;command&gt;" option), determines what to do if
the target commit already has a note.  Must be one of
<code>overwrite</code>, <code>concatenate</code>, <code>cat_sort_uniq</code>, or <code>ignore</code>.
Defaults to <code>concatenate</code>.</p>

<p>This setting can be overridden with the <code>GIT_NOTES_REWRITE_MODE</code>
environment variable.</p>

</dd>
<dt> notes.rewriteRef </dt>
<dd>
<p>When copying notes during a rewrite, specifies the (fully
qualified) ref whose notes should be copied.  The ref may be a
glob, in which case notes in all matching refs will be copied.
You may also specify this configuration several times.</p>

<p>Does not have a default value; you must configure this variable to
enable note rewriting.  Set it to <code>refs/notes/commits</code> to enable
rewriting for the default commit notes.</p>


<p>This setting can be overridden with the <code>GIT_NOTES_REWRITE_REF</code>
environment variable, which must be a colon separated list of refs or
globs.</p>

</dd>
<dt> pack.window </dt>
<dd>
<p>The size of the window used by <a href="/docs/git-pack-objects">git-pack-objects[1]</a> when no
window size is given on the command line. Defaults to 10.</p>
</dd>
<dt> pack.depth </dt>
<dd>
<p>The maximum delta depth used by <a href="/docs/git-pack-objects">git-pack-objects[1]</a> when no
maximum depth is given on the command line. Defaults to 50.
Maximum value is 4095.</p>
</dd>
<dt> pack.windowMemory </dt>
<dd>
<p>The maximum size of memory that is consumed by each thread
in <a href="/docs/git-pack-objects">git-pack-objects[1]</a> for pack window memory when
no limit is given on the command line.  The value can be
suffixed with "k", "m", or "g".  When left unconfigured (or
set explicitly to 0), there will be no limit.</p>
</dd>
<dt> pack.compression </dt>
<dd>
<p>An integer -1..9, indicating the compression level for objects
in a pack file. -1 is the zlib default. 0 means no
compression, and 1..9 are various speed/size tradeoffs, 9 being
slowest.  If not set,  defaults to core.compression.  If that is
not set,  defaults to -1, the zlib default, which is "a default
compromise between speed and compression (currently equivalent
to level 6)."</p>

<p>Note that changing the compression level will not automatically recompress
all existing objects. You can force recompression by passing the -F option
to <a href="/docs/git-repack">git-repack[1]</a>.</p>

</dd>
<dt> pack.allowPackReuse </dt>
<dd>
<p>When true, and when reachability bitmaps are enabled,
pack-objects will try to send parts of the bitmapped packfile
verbatim. This can reduce memory and CPU usage to serve fetches,
but might result in sending a slightly larger pack. Defaults to
true.</p>
</dd>
<dt> pack.island </dt>
<dd>
<p>An extended regular expression configuring a set of delta
islands. See "DELTA ISLANDS" in <a href="/docs/git-pack-objects">git-pack-objects[1]</a>
for details.</p>
</dd>
<dt> pack.islandCore </dt>
<dd>
<p>Specify an island name which gets to have its objects be
packed first. This creates a kind of pseudo-pack at the front
of one pack, so that the objects from the specified island are
hopefully faster to copy into any pack that should be served
to a user requesting these objects. In practice this means
that the island specified should likely correspond to what is
the most commonly cloned in the repo. See also "DELTA ISLANDS"
in <a href="/docs/git-pack-objects">git-pack-objects[1]</a>.</p>
</dd>
<dt> pack.deltaCacheSize </dt>
<dd>
<p>The maximum memory in bytes used for caching deltas in
<a href="/docs/git-pack-objects">git-pack-objects[1]</a> before writing them out to a pack.
This cache is used to speed up the writing object phase by not
having to recompute the final delta result once the best match
for all objects is found.  Repacking large repositories on machines
which are tight with memory might be badly impacted by this though,
especially if this cache pushes the system into swapping.
A value of 0 means no limit. The smallest size of 1 byte may be
used to virtually disable this cache. Defaults to 256 MiB.</p>
</dd>
<dt> pack.deltaCacheLimit </dt>
<dd>
<p>The maximum size of a delta, that is cached in
<a href="/docs/git-pack-objects">git-pack-objects[1]</a>. This cache is used to speed up the
writing object phase by not having to recompute the final delta
result once the best match for all objects is found.
Defaults to 1000. Maximum value is 65535.</p>
</dd>
<dt> pack.threads </dt>
<dd>
<p>Specifies the number of threads to spawn when searching for best
delta matches.  This requires that <a href="/docs/git-pack-objects">git-pack-objects[1]</a>
be compiled with pthreads otherwise this option is ignored with a
warning. This is meant to reduce packing time on multiprocessor
machines. The required amount of memory for the delta search window
is however multiplied by the number of threads.
Specifying 0 will cause Git to auto-detect the number of CPU’s
and set the number of threads accordingly.</p>
</dd>
<dt> pack.indexVersion </dt>
<dd>
<p>Specify the default pack index version.  Valid values are 1 for
legacy pack index used by Git versions prior to 1.5.2, and 2 for
the new pack index with capabilities for packs larger than 4 GB
as well as proper protection against the repacking of corrupted
packs.  Version 2 is the default.  Note that version 2 is enforced
and this config option ignored whenever the corresponding pack is
larger than 2 GB.</p>

<p>If you have an old Git that does not understand the version 2 <code>*.idx</code> file,
cloning or fetching over a non native protocol (e.g. "http")
that will copy both <code>*.pack</code> file and corresponding <code>*.idx</code> file from the
other side may give you a repository that cannot be accessed with your
older version of Git. If the <code>*.pack</code> file is smaller than 2 GB, however,
you can use <a href="/docs/git-index-pack">git-index-pack[1]</a> on the *.pack file to regenerate
the <code>*.idx</code> file.</p>

</dd>
<dt> pack.packSizeLimit </dt>
<dd>
<p>The maximum size of a pack.  This setting only affects
packing to a file when repacking, i.e. the git:// protocol
is unaffected.  It can be overridden by the <code>--max-pack-size</code>
option of <a href="/docs/git-repack">git-repack[1]</a>.  Reaching this limit results
in the creation of multiple packfiles.</p>

<p>Note that this option is rarely useful, and may result in a larger total
on-disk size (because Git will not store deltas between packs), as well
as worse runtime performance (object lookup within multiple packs is
slower than a single pack, and optimizations like reachability bitmaps
cannot cope with multiple packs).</p>


<p>If you need to actively run Git using smaller packfiles (e.g., because your
filesystem does not support large files), this option may help. But if
your goal is to transmit a packfile over a medium that supports limited
sizes (e.g., removable media that cannot store the whole repository),
you are likely better off creating a single large packfile and splitting
it using a generic multi-volume archive tool (e.g., Unix <code>split</code>).</p>


<p>The minimum size allowed is limited to 1 MiB. The default is unlimited.
Common unit suffixes of <em>k</em>, <em>m</em>, or <em>g</em> are supported.</p>

</dd>
<dt> pack.useBitmaps </dt>
<dd>
<p>When true, git will use pack bitmaps (if available) when packing
to stdout (e.g., during the server side of a fetch). Defaults to
true. You should not generally need to turn this off unless
you are debugging pack bitmaps.</p>
</dd>
<dt> pack.useSparse </dt>
<dd>
<p>When true, git will default to using the <em>--sparse</em> option in
<em>git pack-objects</em> when the <em>--revs</em> option is present. This
algorithm only walks trees that appear in paths that introduce new
objects. This can have significant performance benefits when
computing a pack to send a small change. However, it is possible
that extra objects are added to the pack-file if the included
commits contain certain types of direct renames. Default is
<code>true</code>.</p>
</dd>
<dt> pack.preferBitmapTips </dt>
<dd>
<p>When selecting which commits will receive bitmaps, prefer a
commit at the tip of any reference that is a suffix of any value
of this configuration over any other commits in the "selection
window".</p>

<p>Note that setting this configuration to <code>refs/foo</code> does not mean that
the commits at the tips of <code>refs/foo/bar</code> and <code>refs/foo/baz</code> will
necessarily be selected. This is because commits are selected for
bitmaps from within a series of windows of variable length.</p>


<p>If a commit at the tip of any reference which is a suffix of any value
of this configuration is seen in a window, it is immediately given
preference over any other commit in that window.</p>

</dd>
<dt> pack.writeBitmaps (deprecated) </dt>
<dd>
<p>This is a deprecated synonym for <code>repack.writeBitmaps</code>.</p>
</dd>
<dt> pack.writeBitmapHashCache </dt>
<dd>
<p>When true, git will include a "hash cache" section in the bitmap
index (if one is written). This cache can be used to feed git’s
delta heuristics, potentially leading to better deltas between
bitmapped and non-bitmapped objects (e.g., when serving a fetch
between an older, bitmapped pack and objects that have been
pushed since the last gc). The downside is that it consumes 4
bytes per object of disk space. Defaults to true.</p>

<p>When writing a multi-pack reachability bitmap, no new namehashes are
computed; instead, any namehashes stored in an existing bitmap are
permuted into their appropriate location when writing a new bitmap.</p>

</dd>
<dt> pack.writeReverseIndex </dt>
<dd>
<p>When true, git will write a corresponding .rev file (see:
<a href="/docs/../technical/pack-format">Documentation/technical/pack-format.txt</a>)
for each new packfile that it writes in all places except for
<a href="/docs/git-fast-import">git-fast-import[1]</a> and in the bulk checkin mechanism.
Defaults to false.</p>
</dd>
<dt> pager.&lt;cmd&gt; </dt>
<dd>
<p>If the value is boolean, turns on or off pagination of the
output of a particular Git subcommand when writing to a tty.
Otherwise, turns on pagination for the subcommand using the
pager specified by the value of <code>pager.&lt;cmd&gt;</code>.  If <code>--paginate</code>
or <code>--no-pager</code> is specified on the command line, it takes
precedence over this option.  To disable pagination for all
commands, set <code>core.pager</code> or <code>GIT_PAGER</code> to <code>cat</code>.</p>
</dd>
<dt> pretty.&lt;name&gt; </dt>
<dd>
<p>Alias for a --pretty= format string, as specified in
<a href="/docs/git-log">git-log[1]</a>. Any aliases defined here can be used just
as the built-in pretty formats could. For example,
running <code>git config pretty.changelog "format:* %H %s"</code>
would cause the invocation <code>git log --pretty=changelog</code>
to be equivalent to running <code>git log "--pretty=format:* %H %s"</code>.
Note that an alias with the same name as a built-in format
will be silently ignored.</p>
</dd>
<dt> protocol.allow </dt>
<dd>
<p>If set, provide a user defined default policy for all protocols which
don’t explicitly have a policy (<code>protocol.&lt;name&gt;.allow</code>).  By default,
if unset, known-safe protocols (http, https, git, ssh, file) have a
default policy of <code>always</code>, known-dangerous protocols (ext) have a
default policy of <code>never</code>, and all other protocols have a default
policy of <code>user</code>.  Supported policies:</p>



<ul>
<li>
<p><code>always</code> - protocol is always able to be used.</p>
</li>
<li>
<p><code>never</code> - protocol is never able to be used.</p>
</li>
<li>
<p><code>user</code> - protocol is only able to be used when <code>GIT_PROTOCOL_FROM_USER</code> is
either unset or has a value of 1.  This policy should be used when you want a
protocol to be directly usable by the user but don’t want it used by commands which
execute clone/fetch/push commands without user input, e.g. recursive
submodule initialization.</p>
</li>
</ul>



</dd>
<dt> protocol.&lt;name&gt;.allow </dt>
<dd>
<p>Set a policy to be used by protocol <code>&lt;name&gt;</code> with clone/fetch/push
commands. See <code>protocol.allow</code> above for the available policies.</p>

<p>The protocol names currently used by git are:</p>




<ul>
<li>
<p><code>file</code>: any local file-based path (including <code>file://</code> URLs,
or local paths)</p>
</li>
<li>
<p><code>git</code>: the anonymous git protocol over a direct TCP
connection (or proxy, if configured)</p>
</li>
<li>
<p><code>ssh</code>: git over ssh (including <code>host:path</code> syntax,
<code>ssh://</code>, etc).</p>
</li>
<li>
<p><code>http</code>: git over http, both "smart http" and "dumb http".
Note that this does <em>not</em> include <code>https</code>; if you want to configure
both, you must do so individually.</p>
</li>
<li>
<p>any external helpers are named by their protocol (e.g., use
<code>hg</code> to allow the <code>git-remote-hg</code> helper)</p>
</li>
</ul>



</dd>
<dt> protocol.version </dt>
<dd>
<p>If set, clients will attempt to communicate with a server
using the specified protocol version.  If the server does
not support it, communication falls back to version 0.
If unset, the default is <code>2</code>.
Supported versions:</p>



<ul>
<li>
<p><code>0</code> - the original wire protocol.</p>
</li>
<li>
<p><code>1</code> - the original wire protocol with the addition of a version string
in the initial response from the server.</p>
</li>
<li>
<p><code>2</code> - <a href="/docs/protocol-v2">wire protocol version 2</a>.</p>
</li>
</ul>



</dd>
<dt> pull.ff </dt>
<dd>
<p>By default, Git does not create an extra merge commit when merging
a commit that is a descendant of the current commit. Instead, the
tip of the current branch is fast-forwarded. When set to <code>false</code>,
this variable tells Git to create an extra merge commit in such
a case (equivalent to giving the <code>--no-ff</code> option from the command
line). When set to <code>only</code>, only such fast-forward merges are
allowed (equivalent to giving the <code>--ff-only</code> option from the
command line). This setting overrides <code>merge.ff</code> when pulling.</p>
</dd>
<dt> pull.rebase </dt>
<dd>
<p>When true, rebase branches on top of the fetched branch, instead
of merging the default branch from the default remote when "git
pull" is run. See "branch.&lt;name&gt;.rebase" for setting this on a
per-branch basis.</p>

<p>When <code>merges</code> (or just <em>m</em>), pass the <code>--rebase-merges</code> option to <em>git rebase</em>
so that the local merge commits are included in the rebase (see
<a href="/docs/git-rebase">git-rebase[1]</a> for details).</p>


<p>When the value is <code>interactive</code> (or just <em>i</em>), the rebase is run in interactive
mode.</p>


<p><strong>NOTE</strong>: this is a possibly dangerous operation; do <strong>not</strong> use
it unless you understand the implications (see <a href="/docs/git-rebase">git-rebase[1]</a>
for details).</p>

</dd>
<dt> pull.octopus </dt>
<dd>
<p>The default merge strategy to use when pulling multiple branches
at once.</p>
</dd>
<dt> pull.twohead </dt>
<dd>
<p>The default merge strategy to use when pulling a single branch.</p>
</dd>
<dt> push.default </dt>
<dd>
<p>Defines the action <code>git push</code> should take if no refspec is
given (whether from the command-line, config, or elsewhere).
Different values are well-suited for
specific workflows; for instance, in a purely central workflow
(i.e. the fetch source is equal to the push destination),
<code>upstream</code> is probably what you want.  Possible values are:</p>



<ul>
<li>
<p><code>nothing</code> - do not push anything (error out) unless a refspec is
given. This is primarily meant for people who want to
avoid mistakes by always being explicit.</p>
</li>
<li>
<p><code>current</code> - push the current branch to update a branch with the same
name on the receiving end.  Works in both central and non-central
workflows.</p>
</li>
<li>
<p><code>upstream</code> - push the current branch back to the branch whose
changes are usually integrated into the current branch (which is
called <code>@{upstream}</code>).  This mode only makes sense if you are
pushing to the same repository you would normally pull from
(i.e. central workflow).</p>
</li>
<li>
<p><code>tracking</code> - This is a deprecated synonym for <code>upstream</code>.</p>
</li>
<li>
<p><code>simple</code> - pushes the current branch with the same name on the remote.</p>

<p>If you are working on a centralized workflow (pushing to the same repository you
pull from, which is typically <code>origin</code>), then you need to configure an upstream
branch with the same name.</p>


<p>This mode is the default since Git 2.0, and is the safest option suited for
beginners.</p>

</li>
<li>
<p><code>matching</code> - push all branches having the same name on both ends.
This makes the repository you are pushing to remember the set of
branches that will be pushed out (e.g. if you always push <em>maint</em>
and <em>master</em> there and no other branches, the repository you push
to will have these two branches, and your local <em>maint</em> and
<em>master</em> will be pushed there).</p>

<p>To use this mode effectively, you have to make sure <em>all</em> the
branches you would push out are ready to be pushed out before
running <em>git push</em>, as the whole point of this mode is to allow you
to push all of the branches in one go.  If you usually finish work
on only one branch and push out the result, while other branches are
unfinished, this mode is not for you.  Also this mode is not
suitable for pushing into a shared central repository, as other
people may add new branches there, or update the tip of existing
branches outside your control.</p>


<p>This used to be the default, but not since Git 2.0 (<code>simple</code> is the
new default).</p>

</li>
</ul>



</dd>
<dt> push.followTags </dt>
<dd>
<p>If set to true enable <code>--follow-tags</code> option by default.  You
may override this configuration at time of push by specifying
<code>--no-follow-tags</code>.</p>
</dd>
<dt> push.gpgSign </dt>
<dd>
<p>May be set to a boolean value, or the string <em>if-asked</em>. A true
value causes all pushes to be GPG signed, as if <code>--signed</code> is
passed to <a href="/docs/git-push">git-push[1]</a>. The string <em>if-asked</em> causes
pushes to be signed if the server supports it, as if
<code>--signed=if-asked</code> is passed to <em>git push</em>. A false value may
override a value from a lower-priority config file. An explicit
command-line flag always overrides this config option.</p>
</dd>
<dt> push.pushOption </dt>
<dd>
<p>When no <code>--push-option=&lt;option&gt;</code> argument is given from the
command line, <code>git push</code> behaves as if each &lt;value&gt; of
this variable is given as <code>--push-option=&lt;value&gt;</code>.</p>

<p>This is a multi-valued variable, and an empty value can be used in a
higher priority configuration file (e.g. <code>.git/config</code> in a
repository) to clear the values inherited from a lower priority
configuration files (e.g. <code>$HOME/.gitconfig</code>).</p>



<pre>Example:

/etc/gitconfig
  push.pushoption = a
  push.pushoption = b

~/.gitconfig
  push.pushoption = c

repo/.git/config
  push.pushoption =
  push.pushoption = b

This will result in only b (a and c are cleared).</pre>


</dd>
<dt> push.recurseSubmodules </dt>
<dd>
<p>Make sure all submodule commits used by the revisions to be pushed
are available on a remote-tracking branch. If the value is <em>check</em>
then Git will verify that all submodule commits that changed in the
revisions to be pushed are available on at least one remote of the
submodule. If any commits are missing, the push will be aborted and
exit with non-zero status. If the value is <em>on-demand</em> then all
submodules that changed in the revisions to be pushed will be
pushed. If on-demand was not able to push all necessary revisions
it will also be aborted and exit with non-zero status. If the value
is <em>no</em> then default behavior of ignoring submodules when pushing
is retained. You may override this configuration at time of push by
specifying <em>--recurse-submodules=check|on-demand|no</em>.
If not set, <em>no</em> is used by default, unless <em>submodule.recurse</em> is
set (in which case a <em>true</em> value means <em>on-demand</em>).</p>
</dd>
<dt> push.useForceIfIncludes </dt>
<dd>
<p>If set to "true", it is equivalent to specifying
<code>--force-if-includes</code> as an option to <a href="/docs/git-push">git-push[1]</a>
in the command line. Adding <code>--no-force-if-includes</code> at the
time of push overrides this configuration setting.</p>
</dd>
<dt> push.negotiate </dt>
<dd>
<p>If set to "true", attempt to reduce the size of the packfile
sent by rounds of negotiation in which the client and the
server attempt to find commits in common. If "false", Git will
rely solely on the server’s ref advertisement to find commits
in common.</p>
</dd>
<dt> rebase.backend </dt>
<dd>
<p>Default backend to use for rebasing.  Possible choices are
<em>apply</em> or <em>merge</em>.  In the future, if the merge backend gains
all remaining capabilities of the apply backend, this setting
may become unused.</p>
</dd>
<dt> rebase.stat </dt>
<dd>
<p>Whether to show a diffstat of what changed upstream since the last
rebase. False by default.</p>
</dd>
<dt> rebase.autoSquash </dt>
<dd>
<p>If set to true enable <code>--autosquash</code> option by default.</p>
</dd>
<dt> rebase.autoStash </dt>
<dd>
<p>When set to true, automatically create a temporary stash entry
before the operation begins, and apply it after the operation
ends.  This means that you can run rebase on a dirty worktree.
However, use with care: the final stash application after a
successful rebase might result in non-trivial conflicts.
This option can be overridden by the <code>--no-autostash</code> and
<code>--autostash</code> options of <a href="/docs/git-rebase">git-rebase[1]</a>.
Defaults to false.</p>
</dd>
<dt> rebase.missingCommitsCheck </dt>
<dd>
<p>If set to "warn", git rebase -i will print a warning if some
commits are removed (e.g. a line was deleted), however the
rebase will still proceed. If set to "error", it will print
the previous warning and stop the rebase, <em>git rebase
--edit-todo</em> can then be used to correct the error. If set to
"ignore", no checking is done.
To drop a commit without warning or error, use the <code>drop</code>
command in the todo list.
Defaults to "ignore".</p>
</dd>
<dt> rebase.instructionFormat </dt>
<dd>
<p>A format string, as specified in <a href="/docs/git-log">git-log[1]</a>, to be used for the
todo list during an interactive rebase.  The format will
automatically have the long commit hash prepended to the format.</p>
</dd>
<dt> rebase.abbreviateCommands </dt>
<dd>
<p>If set to true, <code>git rebase</code> will use abbreviated command names in the
todo list resulting in something like this:</p>


<pre>	p deadbee The oneline of the commit
	p fa1afe1 The oneline of the next commit
	...</pre>



<p>instead of:</p>



<pre>	pick deadbee The oneline of the commit
	pick fa1afe1 The oneline of the next commit
	...</pre>



<p>Defaults to false.</p>

</dd>
<dt> rebase.rescheduleFailedExec </dt>
<dd>
<p>Automatically reschedule <code>exec</code> commands that failed. This only makes
sense in interactive mode (or when an <code>--exec</code> option was provided).
This is the same as specifying the <code>--reschedule-failed-exec</code> option.</p>
</dd>
<dt> rebase.forkPoint </dt>
<dd>
<p>If set to false set <code>--no-fork-point</code> option by default.</p>
</dd>
<dt> receive.advertiseAtomic </dt>
<dd>
<p>By default, git-receive-pack will advertise the atomic push
capability to its clients. If you don’t want to advertise this
capability, set this variable to false.</p>
</dd>
<dt> receive.advertisePushOptions </dt>
<dd>
<p>When set to true, git-receive-pack will advertise the push options
capability to its clients. False by default.</p>
</dd>
<dt> receive.autogc </dt>
<dd>
<p>By default, git-receive-pack will run "git-gc --auto" after
receiving data from git-push and updating refs.  You can stop
it by setting this variable to false.</p>
</dd>
<dt> receive.certNonceSeed </dt>
<dd>
<p>By setting this variable to a string, <code>git receive-pack</code>
will accept a <code>git push --signed</code> and verifies it by using
a "nonce" protected by HMAC using this string as a secret
key.</p>
</dd>
<dt> receive.certNonceSlop </dt>
<dd>
<p>When a <code>git push --signed</code> sent a push certificate with a
"nonce" that was issued by a receive-pack serving the same
repository within this many seconds, export the "nonce"
found in the certificate to <code>GIT_PUSH_CERT_NONCE</code> to the
hooks (instead of what the receive-pack asked the sending
side to include).  This may allow writing checks in
<code>pre-receive</code> and <code>post-receive</code> a bit easier.  Instead of
checking <code>GIT_PUSH_CERT_NONCE_SLOP</code> environment variable
that records by how many seconds the nonce is stale to
decide if they want to accept the certificate, they only
can check <code>GIT_PUSH_CERT_NONCE_STATUS</code> is <code>OK</code>.</p>
</dd>
<dt> receive.fsckObjects </dt>
<dd>
<p>If it is set to true, git-receive-pack will check all received
objects. See <code>transfer.fsckObjects</code> for what’s checked.
Defaults to false. If not set, the value of
<code>transfer.fsckObjects</code> is used instead.</p>
</dd>
<dt> receive.fsck.&lt;msg-id&gt; </dt>
<dd>
<p>Acts like <code>fsck.&lt;msg-id&gt;</code>, but is used by
<a href="/docs/git-receive-pack">git-receive-pack[1]</a> instead of
<a href="/docs/git-fsck">git-fsck[1]</a>. See the <code>fsck.&lt;msg-id&gt;</code> documentation for
details.</p>
</dd>
<dt> receive.fsck.skipList </dt>
<dd>
<p>Acts like <code>fsck.skipList</code>, but is used by
<a href="/docs/git-receive-pack">git-receive-pack[1]</a> instead of
<a href="/docs/git-fsck">git-fsck[1]</a>. See the <code>fsck.skipList</code> documentation for
details.</p>
</dd>
<dt> receive.keepAlive </dt>
<dd>
<p>After receiving the pack from the client, <code>receive-pack</code> may
produce no output (if <code>--quiet</code> was specified) while processing
the pack, causing some networks to drop the TCP connection.
With this option set, if <code>receive-pack</code> does not transmit
any data in this phase for <code>receive.keepAlive</code> seconds, it will
send a short keepalive packet.  The default is 5 seconds; set
to 0 to disable keepalives entirely.</p>
</dd>
<dt> receive.unpackLimit </dt>
<dd>
<p>If the number of objects received in a push is below this
limit then the objects will be unpacked into loose object
files. However if the number of received objects equals or
exceeds this limit then the received pack will be stored as
a pack, after adding any missing delta bases.  Storing the
pack from a push can make the push operation complete faster,
especially on slow filesystems.  If not set, the value of
<code>transfer.unpackLimit</code> is used instead.</p>
</dd>
<dt> receive.maxInputSize </dt>
<dd>
<p>If the size of the incoming pack stream is larger than this
limit, then git-receive-pack will error out, instead of
accepting the pack file. If not set or set to 0, then the size
is unlimited.</p>
</dd>
<dt> receive.denyDeletes </dt>
<dd>
<p>If set to true, git-receive-pack will deny a ref update that deletes
the ref. Use this to prevent such a ref deletion via a push.</p>
</dd>
<dt> receive.denyDeleteCurrent </dt>
<dd>
<p>If set to true, git-receive-pack will deny a ref update that
deletes the currently checked out branch of a non-bare repository.</p>
</dd>
<dt> receive.denyCurrentBranch </dt>
<dd>
<p>If set to true or "refuse", git-receive-pack will deny a ref update
to the currently checked out branch of a non-bare repository.
Such a push is potentially dangerous because it brings the HEAD
out of sync with the index and working tree. If set to "warn",
print a warning of such a push to stderr, but allow the push to
proceed. If set to false or "ignore", allow such pushes with no
message. Defaults to "refuse".</p>

<p>Another option is "updateInstead" which will update the working
tree if pushing into the current branch.  This option is
intended for synchronizing working directories when one side is not easily
accessible via interactive ssh (e.g. a live web site, hence the requirement
that the working directory be clean). This mode also comes in handy when
developing inside a VM to test and fix code on different Operating Systems.</p>


<p>By default, "updateInstead" will refuse the push if the working tree or
the index have any difference from the HEAD, but the <code>push-to-checkout</code>
hook can be used to customize this.  See <a href="/docs/githooks">githooks[5]</a>.</p>

</dd>
<dt> receive.denyNonFastForwards </dt>
<dd>
<p>If set to true, git-receive-pack will deny a ref update which is
not a fast-forward. Use this to prevent such an update via a push,
even if that push is forced. This configuration variable is
set when initializing a shared repository.</p>
</dd>
<dt> receive.hideRefs </dt>
<dd>
<p>This variable is the same as <code>transfer.hideRefs</code>, but applies
only to <code>receive-pack</code> (and so affects pushes, but not fetches).
An attempt to update or delete a hidden ref by <code>git push</code> is
rejected.</p>
</dd>
<dt> receive.procReceiveRefs </dt>
<dd>
<p>This is a multi-valued variable that defines reference prefixes
to match the commands in <code>receive-pack</code>.  Commands matching the
prefixes will be executed by an external hook "proc-receive",
instead of the internal <code>execute_commands</code> function.  If this
variable is not defined, the "proc-receive" hook will never be
used, and all commands will be executed by the internal
<code>execute_commands</code> function.</p>

<p>For example, if this variable is set to "refs/for", pushing to reference
such as "refs/for/master" will not create or update a reference named
"refs/for/master", but may create or update a pull request directly by
running the hook "proc-receive".</p>


<p>Optional modifiers can be provided in the beginning of the value to filter
commands for specific actions: create (a), modify (m), delete (d).
A <code>!</code> can be included in the modifiers to negate the reference prefix entry.
E.g.:</p>



<pre>git config --system --add receive.procReceiveRefs ad:refs/heads
git config --system --add receive.procReceiveRefs !:refs/heads</pre>


</dd>
<dt> receive.updateServerInfo </dt>
<dd>
<p>If set to true, git-receive-pack will run git-update-server-info
after receiving data from git-push and updating refs.</p>
</dd>
<dt> receive.shallowUpdate </dt>
<dd>
<p>If set to true, .git/shallow can be updated when new refs
require new shallow roots. Otherwise those refs are rejected.</p>
</dd>
<dt> remote.pushDefault </dt>
<dd>
<p>The remote to push to by default.  Overrides
<code>branch.&lt;name&gt;.remote</code> for all branches, and is overridden by
<code>branch.&lt;name&gt;.pushRemote</code> for specific branches.</p>
</dd>
<dt> remote.&lt;name&gt;.url </dt>
<dd>
<p>The URL of a remote repository.  See <a href="/docs/git-fetch">git-fetch[1]</a> or
<a href="/docs/git-push">git-push[1]</a>.</p>
</dd>
<dt> remote.&lt;name&gt;.pushurl </dt>
<dd>
<p>The push URL of a remote repository.  See <a href="/docs/git-push">git-push[1]</a>.</p>
</dd>
<dt> remote.&lt;name&gt;.proxy </dt>
<dd>
<p>For remotes that require curl (http, https and ftp), the URL to
the proxy to use for that remote.  Set to the empty string to
disable proxying for that remote.</p>
</dd>
<dt> remote.&lt;name&gt;.proxyAuthMethod </dt>
<dd>
<p>For remotes that require curl (http, https and ftp), the method to use for
authenticating against the proxy in use (probably set in
<code>remote.&lt;name&gt;.proxy</code>). See <code>http.proxyAuthMethod</code>.</p>
</dd>
<dt> remote.&lt;name&gt;.fetch </dt>
<dd>
<p>The default set of "refspec" for <a href="/docs/git-fetch">git-fetch[1]</a>. See
<a href="/docs/git-fetch">git-fetch[1]</a>.</p>
</dd>
<dt> remote.&lt;name&gt;.push </dt>
<dd>
<p>The default set of "refspec" for <a href="/docs/git-push">git-push[1]</a>. See
<a href="/docs/git-push">git-push[1]</a>.</p>
</dd>
<dt> remote.&lt;name&gt;.mirror </dt>
<dd>
<p>If true, pushing to this remote will automatically behave
as if the <code>--mirror</code> option was given on the command line.</p>
</dd>
<dt> remote.&lt;name&gt;.skipDefaultUpdate </dt>
<dd>
<p>If true, this remote will be skipped by default when updating
using <a href="/docs/git-fetch">git-fetch[1]</a> or the <code>update</code> subcommand of
<a href="/docs/git-remote">git-remote[1]</a>.</p>
</dd>
<dt> remote.&lt;name&gt;.skipFetchAll </dt>
<dd>
<p>If true, this remote will be skipped by default when updating
using <a href="/docs/git-fetch">git-fetch[1]</a> or the <code>update</code> subcommand of
<a href="/docs/git-remote">git-remote[1]</a>.</p>
</dd>
<dt> remote.&lt;name&gt;.receivepack </dt>
<dd>
<p>The default program to execute on the remote side when pushing.  See
option --receive-pack of <a href="/docs/git-push">git-push[1]</a>.</p>
</dd>
<dt> remote.&lt;name&gt;.uploadpack </dt>
<dd>
<p>The default program to execute on the remote side when fetching.  See
option --upload-pack of <a href="/docs/git-fetch-pack">git-fetch-pack[1]</a>.</p>
</dd>
<dt> remote.&lt;name&gt;.tagOpt </dt>
<dd>
<p>Setting this value to --no-tags disables automatic tag following when
fetching from remote &lt;name&gt;. Setting it to --tags will fetch every
tag from remote &lt;name&gt;, even if they are not reachable from remote
branch heads. Passing these flags directly to <a href="/docs/git-fetch">git-fetch[1]</a> can
override this setting. See options --tags and --no-tags of
<a href="/docs/git-fetch">git-fetch[1]</a>.</p>
</dd>
<dt> remote.&lt;name&gt;.vcs </dt>
<dd>
<p>Setting this to a value &lt;vcs&gt; will cause Git to interact with
the remote with the git-remote-&lt;vcs&gt; helper.</p>
</dd>
<dt> remote.&lt;name&gt;.prune </dt>
<dd>
<p>When set to true, fetching from this remote by default will also
remove any remote-tracking references that no longer exist on the
remote (as if the <code>--prune</code> option was given on the command line).
Overrides <code>fetch.prune</code> settings, if any.</p>
</dd>
<dt> remote.&lt;name&gt;.pruneTags </dt>
<dd>
<p>When set to true, fetching from this remote by default will also
remove any local tags that no longer exist on the remote if pruning
is activated in general via <code>remote.&lt;name&gt;.prune</code>, <code>fetch.prune</code> or
<code>--prune</code>. Overrides <code>fetch.pruneTags</code> settings, if any.</p>

<p>See also <code>remote.&lt;name&gt;.prune</code> and the PRUNING section of
<a href="/docs/git-fetch">git-fetch[1]</a>.</p>

</dd>
<dt> remote.&lt;name&gt;.promisor </dt>
<dd>
<p>When set to true, this remote will be used to fetch promisor
objects.</p>
</dd>
<dt> remote.&lt;name&gt;.partialclonefilter </dt>
<dd>
<p>The filter that will be applied when fetching from this
promisor remote.</p>
</dd>
<dt> remotes.&lt;group&gt; </dt>
<dd>
<p>The list of remotes which are fetched by "git remote update
&lt;group&gt;".  See <a href="/docs/git-remote">git-remote[1]</a>.</p>
</dd>
<dt> repack.useDeltaBaseOffset </dt>
<dd>
<p>By default, <a href="/docs/git-repack">git-repack[1]</a> creates packs that use
delta-base offset. If you need to share your repository with
Git older than version 1.4.4, either directly or via a dumb
protocol such as http, then you need to set this option to
"false" and repack. Access from old Git versions over the
native protocol are unaffected by this option.</p>
</dd>
<dt> repack.packKeptObjects </dt>
<dd>
<p>If set to true, makes <code>git repack</code> act as if
<code>--pack-kept-objects</code> was passed. See <a href="/docs/git-repack">git-repack[1]</a> for
details. Defaults to <code>false</code> normally, but <code>true</code> if a bitmap
index is being written (either via <code>--write-bitmap-index</code> or
<code>repack.writeBitmaps</code>).</p>
</dd>
<dt> repack.useDeltaIslands </dt>
<dd>
<p>If set to true, makes <code>git repack</code> act as if <code>--delta-islands</code>
was passed. Defaults to <code>false</code>.</p>
</dd>
<dt> repack.writeBitmaps </dt>
<dd>
<p>When true, git will write a bitmap index when packing all
objects to disk (e.g., when <code>git repack -a</code> is run).  This
index can speed up the "counting objects" phase of subsequent
packs created for clones and fetches, at the cost of some disk
space and extra time spent on the initial repack.  This has
no effect if multiple packfiles are created.
Defaults to true on bare repos, false otherwise.</p>
</dd>
<dt> rerere.autoUpdate </dt>
<dd>
<p>When set to true, <code>git-rerere</code> updates the index with the
resulting contents after it cleanly resolves conflicts using
previously recorded resolution.  Defaults to false.</p>
</dd>
<dt> rerere.enabled </dt>
<dd>
<p>Activate recording of resolved conflicts, so that identical
conflict hunks can be resolved automatically, should they be
encountered again.  By default, <a href="/docs/git-rerere">git-rerere[1]</a> is
enabled if there is an <code>rr-cache</code> directory under the
<code>$GIT_DIR</code>, e.g. if "rerere" was previously used in the
repository.</p>
</dd>
<dt> reset.quiet </dt>
<dd>
<p>When set to true, <em>git reset</em> will default to the <em>--quiet</em> option.</p>
</dd>
<dt> sendemail.identity </dt>
<dd>
<p>A configuration identity. When given, causes values in the
<em>sendemail.&lt;identity&gt;</em> subsection to take precedence over
values in the <em>sendemail</em> section. The default identity is
the value of <code>sendemail.identity</code>.</p>
</dd>
<dt> sendemail.smtpEncryption </dt>
<dd>
<p>See <a href="/docs/git-send-email">git-send-email[1]</a> for description.  Note that this
setting is not subject to the <em>identity</em> mechanism.</p>
</dd>
<dt> sendemail.smtpsslcertpath </dt>
<dd>
<p>Path to ca-certificates (either a directory or a single file).
Set it to an empty string to disable certificate verification.</p>
</dd>
<dt> sendemail.&lt;identity&gt;.* </dt>
<dd>
<p>Identity-specific versions of the <em>sendemail.*</em> parameters
found below, taking precedence over those when this
identity is selected, through either the command-line or
<code>sendemail.identity</code>.</p>
</dd>
<dt> sendemail.aliasesFile </dt>
<dt> sendemail.aliasFileType </dt>
<dt> sendemail.annotate </dt>
<dt> sendemail.bcc </dt>
<dt> sendemail.cc </dt>
<dt> sendemail.ccCmd </dt>
<dt> sendemail.chainReplyTo </dt>
<dt> sendemail.confirm </dt>
<dt> sendemail.envelopeSender </dt>
<dt> sendemail.from </dt>
<dt> sendemail.multiEdit </dt>
<dt> sendemail.signedoffbycc </dt>
<dt> sendemail.smtpPass </dt>
<dt> sendemail.suppresscc </dt>
<dt> sendemail.suppressFrom </dt>
<dt> sendemail.to </dt>
<dt> sendemail.tocmd </dt>
<dt> sendemail.smtpDomain </dt>
<dt> sendemail.smtpServer </dt>
<dt> sendemail.smtpServerPort </dt>
<dt> sendemail.smtpServerOption </dt>
<dt> sendemail.smtpUser </dt>
<dt> sendemail.thread </dt>
<dt> sendemail.transferEncoding </dt>
<dt> sendemail.validate </dt>
<dt> sendemail.xmailer </dt>
<dd>
<p>See <a href="/docs/git-send-email">git-send-email[1]</a> for description.</p>
</dd>
<dt> sendemail.signedoffcc (deprecated) </dt>
<dd>
<p>Deprecated alias for <code>sendemail.signedoffbycc</code>.</p>
</dd>
<dt> sendemail.smtpBatchSize </dt>
<dd>
<p>Number of messages to be sent per connection, after that a relogin
will happen.  If the value is 0 or undefined, send all messages in
one connection.
See also the <code>--batch-size</code> option of <a href="/docs/git-send-email">git-send-email[1]</a>.</p>
</dd>
<dt> sendemail.smtpReloginDelay </dt>
<dd>
<p>Seconds wait before reconnecting to smtp server.
See also the <code>--relogin-delay</code> option of <a href="/docs/git-send-email">git-send-email[1]</a>.</p>
</dd>
<dt> sendemail.forbidSendmailVariables </dt>
<dd>
<p>To avoid common misconfiguration mistakes, <a href="/docs/git-send-email">git-send-email[1]</a>
will abort with a warning if any configuration options for "sendmail"
exist. Set this variable to bypass the check.</p>
</dd>
<dt> sequence.editor </dt>
<dd>
<p>Text editor used by <code>git rebase -i</code> for editing the rebase instruction file.
The value is meant to be interpreted by the shell when it is used.
It can be overridden by the <code>GIT_SEQUENCE_EDITOR</code> environment variable.
When not configured the default commit message editor is used instead.</p>
</dd>
<dt> showBranch.default </dt>
<dd>
<p>The default set of branches for <a href="/docs/git-show-branch">git-show-branch[1]</a>.
See <a href="/docs/git-show-branch">git-show-branch[1]</a>.</p>
</dd>
<dt> splitIndex.maxPercentChange </dt>
<dd>
<p>When the split index feature is used, this specifies the
percent of entries the split index can contain compared to the
total number of entries in both the split index and the shared
index before a new shared index is written.
The value should be between 0 and 100. If the value is 0 then
a new shared index is always written, if it is 100 a new
shared index is never written.
By default the value is 20, so a new shared index is written
if the number of entries in the split index would be greater
than 20 percent of the total number of entries.
See <a href="/docs/git-update-index">git-update-index[1]</a>.</p>
</dd>
<dt> splitIndex.sharedIndexExpire </dt>
<dd>
<p>When the split index feature is used, shared index files that
were not modified since the time this variable specifies will
be removed when a new shared index file is created. The value
"now" expires all entries immediately, and "never" suppresses
expiration altogether.
The default value is "2.weeks.ago".
Note that a shared index file is considered modified (for the
purpose of expiration) each time a new split-index file is
either created based on it or read from it.
See <a href="/docs/git-update-index">git-update-index[1]</a>.</p>
</dd>
<dt> ssh.variant </dt>
<dd>
<p>By default, Git determines the command line arguments to use
based on the basename of the configured SSH command (configured
using the environment variable <code>GIT_SSH</code> or <code>GIT_SSH_COMMAND</code> or
the config setting <code>core.sshCommand</code>). If the basename is
unrecognized, Git will attempt to detect support of OpenSSH
options by first invoking the configured SSH command with the
<code>-G</code> (print configuration) option and will subsequently use
OpenSSH options (if that is successful) or no options besides
the host and remote command (if it fails).</p>

<p>The config variable <code>ssh.variant</code> can be set to override this detection.
Valid values are <code>ssh</code> (to use OpenSSH options), <code>plink</code>, <code>putty</code>,
<code>tortoiseplink</code>, <code>simple</code> (no options except the host and remote command).
The default auto-detection can be explicitly requested using the value
<code>auto</code>.  Any other value is treated as <code>ssh</code>.  This setting can also be
overridden via the environment variable <code>GIT_SSH_VARIANT</code>.</p>


<p>The current command-line parameters used for each variant are as
follows:</p>




<ul>
<li>
<p><code>ssh</code> - [-p port] [-4] [-6] [-o option] [username@]host command</p>
</li>
<li>
<p><code>simple</code> - [username@]host command</p>
</li>
<li>
<p><code>plink</code> or <code>putty</code> - [-P port] [-4] [-6] [username@]host command</p>
</li>
<li>
<p><code>tortoiseplink</code> - [-P port] [-4] [-6] -batch [username@]host command</p>
</li>
</ul>




<p>Except for the <code>simple</code> variant, command-line parameters are likely to
change as git gains new features.</p>

</dd>
<dt> status.relativePaths </dt>
<dd>
<p>By default, <a href="/docs/git-status">git-status[1]</a> shows paths relative to the
current directory. Setting this variable to <code>false</code> shows paths
relative to the repository root (this was the default for Git
prior to v1.5.4).</p>
</dd>
<dt> status.short </dt>
<dd>
<p>Set to true to enable --short by default in <a href="/docs/git-status">git-status[1]</a>.
The option --no-short takes precedence over this variable.</p>
</dd>
<dt> status.branch </dt>
<dd>
<p>Set to true to enable --branch by default in <a href="/docs/git-status">git-status[1]</a>.
The option --no-branch takes precedence over this variable.</p>
</dd>
<dt> status.aheadBehind </dt>
<dd>
<p>Set to true to enable <code>--ahead-behind</code> and false to enable
<code>--no-ahead-behind</code> by default in <a href="/docs/git-status">git-status[1]</a> for
non-porcelain status formats.  Defaults to true.</p>
</dd>
<dt> status.displayCommentPrefix </dt>
<dd>
<p>If set to true, <a href="/docs/git-status">git-status[1]</a> will insert a comment
prefix before each output line (starting with
<code>core.commentChar</code>, i.e. <code>#</code> by default). This was the
behavior of <a href="/docs/git-status">git-status[1]</a> in Git 1.8.4 and previous.
Defaults to false.</p>
</dd>
<dt> status.renameLimit </dt>
<dd>
<p>The number of files to consider when performing rename detection
in <a href="/docs/git-status">git-status[1]</a> and <a href="/docs/git-commit">git-commit[1]</a>. Defaults to
the value of diff.renameLimit.</p>
</dd>
<dt> status.renames </dt>
<dd>
<p>Whether and how Git detects renames in <a href="/docs/git-status">git-status[1]</a> and
<a href="/docs/git-commit">git-commit[1]</a> .  If set to "false", rename detection is
disabled. If set to "true", basic rename detection is enabled.
If set to "copies" or "copy", Git will detect copies, as well.
Defaults to the value of diff.renames.</p>
</dd>
<dt> status.showStash </dt>
<dd>
<p>If set to true, <a href="/docs/git-status">git-status[1]</a> will display the number of
entries currently stashed away.
Defaults to false.</p>
</dd>
<dt> status.showUntrackedFiles </dt>
<dd>
<p>By default, <a href="/docs/git-status">git-status[1]</a> and <a href="/docs/git-commit">git-commit[1]</a> show
files which are not currently tracked by Git. Directories which
contain only untracked files, are shown with the directory name
only. Showing untracked files means that Git needs to lstat() all
the files in the whole repository, which might be slow on some
systems. So, this variable controls how the commands displays
the untracked files. Possible values are:</p>



<ul>
<li>
<p><code>no</code> - Show no untracked files.</p>
</li>
<li>
<p><code>normal</code> - Show untracked files and directories.</p>
</li>
<li>
<p><code>all</code> - Show also individual files in untracked directories.</p>
</li>
</ul>




<p>If this variable is not specified, it defaults to <em>normal</em>.
This variable can be overridden with the -u|--untracked-files option
of <a href="/docs/git-status">git-status[1]</a> and <a href="/docs/git-commit">git-commit[1]</a>.</p>

</dd>
<dt> status.submoduleSummary </dt>
<dd>
<p>Defaults to false.
If this is set to a non zero number or true (identical to -1 or an
unlimited number), the submodule summary will be enabled and a
summary of commits for modified submodules will be shown (see
--summary-limit option of <a href="/docs/git-submodule">git-submodule[1]</a>). Please note
that the summary output command will be suppressed for all
submodules when <code>diff.ignoreSubmodules</code> is set to <em>all</em> or only
for those submodules where <code>submodule.&lt;name&gt;.ignore=all</code>. The only
exception to that rule is that status and commit will show staged
submodule changes. To
also view the summary for ignored submodules you can either use
the --ignore-submodules=dirty command-line option or the <em>git
submodule summary</em> command, which shows a similar output but does
not honor these settings.</p>
</dd>
<dt> stash.useBuiltin </dt>
<dd>
<p>Unused configuration variable.  Used in Git versions 2.22 to
2.26 as an escape hatch to enable the legacy shellscript
implementation of stash.  Now the built-in rewrite of it in C
is always used. Setting this will emit a warning, to alert any
remaining users that setting this now does nothing.</p>
</dd>
<dt> stash.showIncludeUntracked </dt>
<dd>
<p>If this is set to true, the <code>git stash show</code> command will show
the untracked files of a stash entry.  Defaults to false. See
description of <em>show</em> command in <a href="/docs/git-stash">git-stash[1]</a>.</p>
</dd>
<dt> stash.showPatch </dt>
<dd>
<p>If this is set to true, the <code>git stash show</code> command without an
option will show the stash entry in patch form.  Defaults to false.
See description of <em>show</em> command in <a href="/docs/git-stash">git-stash[1]</a>.</p>
</dd>
<dt> stash.showStat </dt>
<dd>
<p>If this is set to true, the <code>git stash show</code> command without an
option will show diffstat of the stash entry.  Defaults to true.
See description of <em>show</em> command in <a href="/docs/git-stash">git-stash[1]</a>.</p>
</dd>
<dt> submodule.&lt;name&gt;.url </dt>
<dd>
<p>The URL for a submodule. This variable is copied from the .gitmodules
file to the git config via <em>git submodule init</em>. The user can change
the configured URL before obtaining the submodule via <em>git submodule
update</em>. If neither submodule.&lt;name&gt;.active or submodule.active are
set, the presence of this variable is used as a fallback to indicate
whether the submodule is of interest to git commands.
See <a href="/docs/git-submodule">git-submodule[1]</a> and <a href="/docs/gitmodules">gitmodules[5]</a> for details.</p>
</dd>
<dt> submodule.&lt;name&gt;.update </dt>
<dd>
<p>The method by which a submodule is updated by <em>git submodule update</em>,
which is the only affected command, others such as
<em>git checkout --recurse-submodules</em> are unaffected. It exists for
historical reasons, when <em>git submodule</em> was the only command to
interact with submodules; settings like <code>submodule.active</code>
and <code>pull.rebase</code> are more specific. It is populated by
<code>git submodule init</code> from the <a href="/docs/gitmodules">gitmodules[5]</a> file.
See description of <em>update</em> command in <a href="/docs/git-submodule">git-submodule[1]</a>.</p>
</dd>
<dt> submodule.&lt;name&gt;.branch </dt>
<dd>
<p>The remote branch name for a submodule, used by <code>git submodule
update --remote</code>.  Set this option to override the value found in
the <code>.gitmodules</code> file.  See <a href="/docs/git-submodule">git-submodule[1]</a> and
<a href="/docs/gitmodules">gitmodules[5]</a> for details.</p>
</dd>
<dt> submodule.&lt;name&gt;.fetchRecurseSubmodules </dt>
<dd>
<p>This option can be used to control recursive fetching of this
submodule. It can be overridden by using the --[no-]recurse-submodules
command-line option to "git fetch" and "git pull".
This setting will override that from in the <a href="/docs/gitmodules">gitmodules[5]</a>
file.</p>
</dd>
<dt> submodule.&lt;name&gt;.ignore </dt>
<dd>
<p>Defines under what circumstances "git status" and the diff family show
a submodule as modified. When set to "all", it will never be considered
modified (but it will nonetheless show up in the output of status and
commit when it has been staged), "dirty" will ignore all changes
to the submodules work tree and
takes only differences between the HEAD of the submodule and the commit
recorded in the superproject into account. "untracked" will additionally
let submodules with modified tracked files in their work tree show up.
Using "none" (the default when this option is not set) also shows
submodules that have untracked files in their work tree as changed.
This setting overrides any setting made in .gitmodules for this submodule,
both settings can be overridden on the command line by using the
"--ignore-submodules" option. The <em>git submodule</em> commands are not
affected by this setting.</p>
</dd>
<dt> submodule.&lt;name&gt;.active </dt>
<dd>
<p>Boolean value indicating if the submodule is of interest to git
commands.  This config option takes precedence over the
submodule.active config option. See <a href="/docs/gitsubmodules">gitsubmodules[7]</a> for
details.</p>
</dd>
<dt> submodule.active </dt>
<dd>
<p>A repeated field which contains a pathspec used to match against a
submodule’s path to determine if the submodule is of interest to git
commands. See <a href="/docs/gitsubmodules">gitsubmodules[7]</a> for details.</p>
</dd>
<dt> submodule.recurse </dt>
<dd>
<p>A boolean indicating if commands should enable the <code>--recurse-submodules</code>
option by default.
Applies to all commands that support this option
(<code>checkout</code>, <code>fetch</code>, <code>grep</code>, <code>pull</code>, <code>push</code>, <code>read-tree</code>, <code>reset</code>,
<code>restore</code> and <code>switch</code>) except <code>clone</code> and <code>ls-files</code>.
Defaults to false.
When set to true, it can be deactivated via the
<code>--no-recurse-submodules</code> option. Note that some Git commands
lacking this option may call some of the above commands affected by
<code>submodule.recurse</code>; for instance <code>git remote update</code> will call
<code>git fetch</code> but does not have a <code>--no-recurse-submodules</code> option.
For these commands a workaround is to temporarily change the
configuration value by using <code>git -c submodule.recurse=0</code>.</p>
</dd>
<dt> submodule.fetchJobs </dt>
<dd>
<p>Specifies how many submodules are fetched/cloned at the same time.
A positive integer allows up to that number of submodules fetched
in parallel. A value of 0 will give some reasonable default.
If unset, it defaults to 1.</p>
</dd>
<dt> submodule.alternateLocation </dt>
<dd>
<p>Specifies how the submodules obtain alternates when submodules are
cloned. Possible values are <code>no</code>, <code>superproject</code>.
By default <code>no</code> is assumed, which doesn’t add references. When the
value is set to <code>superproject</code> the submodule to be cloned computes
its alternates location relative to the superprojects alternate.</p>
</dd>
<dt> submodule.alternateErrorStrategy </dt>
<dd>
<p>Specifies how to treat errors with the alternates for a submodule
as computed via <code>submodule.alternateLocation</code>. Possible values are
<code>ignore</code>, <code>info</code>, <code>die</code>. Default is <code>die</code>. Note that if set to <code>ignore</code>
or <code>info</code>, and if there is an error with the computed alternate, the
clone proceeds as if no alternate was specified.</p>
</dd>
<dt> tag.forceSignAnnotated </dt>
<dd>
<p>A boolean to specify whether annotated tags created should be GPG signed.
If <code>--annotate</code> is specified on the command line, it takes
precedence over this option.</p>
</dd>
<dt> tag.sort </dt>
<dd>
<p>This variable controls the sort ordering of tags when displayed by
<a href="/docs/git-tag">git-tag[1]</a>. Without the "--sort=&lt;value&gt;" option provided, the
value of this variable will be used as the default.</p>
</dd>
<dt> tag.gpgSign </dt>
<dd>
<p>A boolean to specify whether all tags should be GPG signed.
Use of this option when running in an automated script can
result in a large number of tags being signed. It is therefore
convenient to use an agent to avoid typing your gpg passphrase
several times. Note that this option doesn’t affect tag signing
behavior enabled by "-u &lt;keyid&gt;" or "--local-user=&lt;keyid&gt;" options.</p>
</dd>
<dt> tar.umask </dt>
<dd>
<p>This variable can be used to restrict the permission bits of
tar archive entries.  The default is 0002, which turns off the
world write bit.  The special value "user" indicates that the
archiving user’s umask will be used instead.  See umask(2) and
<a href="/docs/git-archive">git-archive[1]</a>.</p>
</dd>
</dl>


<p>Trace2 config settings are only read from the system and global
config files; repository local and worktree config files and <code>-c</code>
command line arguments are not respected.</p>


<dl>
<dt> trace2.normalTarget </dt>
<dd>
<p>This variable controls the normal target destination.
It may be overridden by the <code>GIT_TRACE2</code> environment variable.
The following table shows possible values.</p>
</dd>
<dt> trace2.perfTarget </dt>
<dd>
<p>This variable controls the performance target destination.
It may be overridden by the <code>GIT_TRACE2_PERF</code> environment variable.
The following table shows possible values.</p>
</dd>
<dt> trace2.eventTarget </dt>
<dd>
<p>This variable controls the event target destination.
It may be overridden by the <code>GIT_TRACE2_EVENT</code> environment variable.
The following table shows possible values.</p>



<ul>
<li>
<p><code>0</code> or <code>false</code> - Disables the target.</p>
</li>
<li>
<p><code>1</code> or <code>true</code> - Writes to <code>STDERR</code>.</p>
</li>
<li>
<p><code>[2-9]</code> - Writes to the already opened file descriptor.</p>
</li>
<li>
<p><code>&lt;absolute-pathname&gt;</code> - Writes to the file in append mode. If the target
already exists and is a directory, the traces will be written to files (one
per process) underneath the given directory.</p>
</li>
<li>
<p><code>af_unix:[&lt;socket_type&gt;:]&lt;absolute-pathname&gt;</code> - Write to a
Unix DomainSocket (on platforms that support them).  Socket
type can be either <code>stream</code> or <code>dgram</code>; if omitted Git will
try both.</p>
</li>
</ul>



</dd>
<dt> trace2.normalBrief </dt>
<dd>
<p>Boolean.  When true <code>time</code>, <code>filename</code>, and <code>line</code> fields are
omitted from normal output.  May be overridden by the
<code>GIT_TRACE2_BRIEF</code> environment variable.  Defaults to false.</p>
</dd>
<dt> trace2.perfBrief </dt>
<dd>
<p>Boolean.  When true <code>time</code>, <code>filename</code>, and <code>line</code> fields are
omitted from PERF output.  May be overridden by the
<code>GIT_TRACE2_PERF_BRIEF</code> environment variable.  Defaults to false.</p>
</dd>
<dt> trace2.eventBrief </dt>
<dd>
<p>Boolean.  When true <code>time</code>, <code>filename</code>, and <code>line</code> fields are
omitted from event output.  May be overridden by the
<code>GIT_TRACE2_EVENT_BRIEF</code> environment variable.  Defaults to false.</p>
</dd>
<dt> trace2.eventNesting </dt>
<dd>
<p>Integer.  Specifies desired depth of nested regions in the
event output.  Regions deeper than this value will be
omitted.  May be overridden by the <code>GIT_TRACE2_EVENT_NESTING</code>
environment variable.  Defaults to 2.</p>
</dd>
<dt> trace2.configParams </dt>
<dd>
<p>A comma-separated list of patterns of "important" config
settings that should be recorded in the trace2 output.
For example, <code>core.*,remote.*.url</code> would cause the trace2
output to contain events listing each configured remote.
May be overridden by the <code>GIT_TRACE2_CONFIG_PARAMS</code> environment
variable.  Unset by default.</p>
</dd>
<dt> trace2.envVars </dt>
<dd>
<p>A comma-separated list of "important" environment variables that should
be recorded in the trace2 output.  For example,
<code>GIT_HTTP_USER_AGENT,GIT_CONFIG</code> would cause the trace2 output to
contain events listing the overrides for HTTP user agent and the
location of the Git configuration file (assuming any are set).  May be
overridden by the <code>GIT_TRACE2_ENV_VARS</code> environment variable.  Unset by
default.</p>
</dd>
<dt> trace2.destinationDebug </dt>
<dd>
<p>Boolean.  When true Git will print error messages when a
trace target destination cannot be opened for writing.
By default, these errors are suppressed and tracing is
silently disabled.  May be overridden by the
<code>GIT_TRACE2_DST_DEBUG</code> environment variable.</p>
</dd>
<dt> trace2.maxFiles </dt>
<dd>
<p>Integer.  When writing trace files to a target directory, do not
write additional traces if we would exceed this many files. Instead,
write a sentinel file that will block further tracing to this
directory. Defaults to 0, which disables this check.</p>
</dd>
<dt> transfer.fsckObjects </dt>
<dd>
<p>When <code>fetch.fsckObjects</code> or <code>receive.fsckObjects</code> are
not set, the value of this variable is used instead.
Defaults to false.</p>

<p>When set, the fetch or receive will abort in the case of a malformed
object or a link to a nonexistent object. In addition, various other
issues are checked for, including legacy issues (see <code>fsck.&lt;msg-id&gt;</code>),
and potential security issues like the existence of a <code>.GIT</code> directory
or a malicious <code>.gitmodules</code> file (see the release notes for v2.2.1
and v2.17.1 for details). Other sanity and security checks may be
added in future releases.</p>


<p>On the receiving side, failing fsckObjects will make those objects
unreachable, see "QUARANTINE ENVIRONMENT" in
<a href="/docs/git-receive-pack">git-receive-pack[1]</a>. On the fetch side, malformed objects will
instead be left unreferenced in the repository.</p>


<p>Due to the non-quarantine nature of the <code>fetch.fsckObjects</code>
implementation it cannot be relied upon to leave the object store
clean like <code>receive.fsckObjects</code> can.</p>


<p>As objects are unpacked they’re written to the object store, so there
can be cases where malicious objects get introduced even though the
"fetch" failed, only to have a subsequent "fetch" succeed because only
new incoming objects are checked, not those that have already been
written to the object store. That difference in behavior should not be
relied upon. In the future, such objects may be quarantined for
"fetch" as well.</p>


<p>For now, the paranoid need to find some way to emulate the quarantine
environment if they’d like the same protection as "push". E.g. in the
case of an internal mirror do the mirroring in two steps, one to fetch
the untrusted objects, and then do a second "push" (which will use the
quarantine) to another internal repo, and have internal clients
consume this pushed-to repository, or embargo internal fetches and
only allow them once a full "fsck" has run (and no new fetches have
happened in the meantime).</p>

</dd>
<dt> transfer.hideRefs </dt>
<dd>
<p>String(s) <code>receive-pack</code> and <code>upload-pack</code> use to decide which
refs to omit from their initial advertisements.  Use more than
one definition to specify multiple prefix strings. A ref that is
under the hierarchies listed in the value of this variable is
excluded, and is hidden when responding to <code>git push</code> or <code>git
fetch</code>.  See <code>receive.hideRefs</code> and <code>uploadpack.hideRefs</code> for
program-specific versions of this config.</p>

<p>You may also include a <code>!</code> in front of the ref name to negate the entry,
explicitly exposing it, even if an earlier entry marked it as hidden.
If you have multiple hideRefs values, later entries override earlier ones
(and entries in more-specific config files override less-specific ones).</p>


<p>If a namespace is in use, the namespace prefix is stripped from each
reference before it is matched against <code>transfer.hiderefs</code> patterns. In
order to match refs before stripping, add a <code>^</code> in front of the ref name. If
you combine <code>!</code> and <code>^</code>, <code>!</code> must be specified first.</p>


<p>For example, if <code>refs/heads/master</code> is specified in <code>transfer.hideRefs</code> and
the current namespace is <code>foo</code>, then <code>refs/namespaces/foo/refs/heads/master</code>
is omitted from the advertisements. If <code>uploadpack.allowRefInWant</code> is set,
<code>upload-pack</code> will treat <code>want-ref refs/heads/master</code> in a protocol v2
<code>fetch</code> command as if <code>refs/namespaces/foo/refs/heads/master</code> did not exist.
<code>receive-pack</code>, on the other hand, will still advertise the object id the
ref is pointing to without mentioning its name (a so-called ".have" line).</p>


<p>Even if you hide refs, a client may still be able to steal the target
objects via the techniques described in the "SECURITY" section of the
<a href="/docs/gitnamespaces">gitnamespaces[7]</a> man page; it’s best to keep private data in a
separate repository.</p>

</dd>
<dt> transfer.unpackLimit </dt>
<dd>
<p>When <code>fetch.unpackLimit</code> or <code>receive.unpackLimit</code> are
not set, the value of this variable is used instead.
The default value is 100.</p>
</dd>
<dt> transfer.advertiseSID </dt>
<dd>
<p>Boolean. When true, client and server processes will advertise their
unique session IDs to their remote counterpart. Defaults to false.</p>
</dd>
<dt> uploadarchive.allowUnreachable </dt>
<dd>
<p>If true, allow clients to use <code>git archive --remote</code> to request
any tree, whether reachable from the ref tips or not. See the
discussion in the "SECURITY" section of
<a href="/docs/git-upload-archive">git-upload-archive[1]</a> for more details. Defaults to
<code>false</code>.</p>
</dd>
<dt> uploadpack.hideRefs </dt>
<dd>
<p>This variable is the same as <code>transfer.hideRefs</code>, but applies
only to <code>upload-pack</code> (and so affects only fetches, not pushes).
An attempt to fetch a hidden ref by <code>git fetch</code> will fail.  See
also <code>uploadpack.allowTipSHA1InWant</code>.</p>
</dd>
<dt> uploadpack.allowTipSHA1InWant </dt>
<dd>
<p>When <code>uploadpack.hideRefs</code> is in effect, allow <code>upload-pack</code>
to accept a fetch request that asks for an object at the tip
of a hidden ref (by default, such a request is rejected).
See also <code>uploadpack.hideRefs</code>.  Even if this is false, a client
may be able to steal objects via the techniques described in the
"SECURITY" section of the <a href="/docs/gitnamespaces">gitnamespaces[7]</a> man page; it’s
best to keep private data in a separate repository.</p>
</dd>
<dt> uploadpack.allowReachableSHA1InWant </dt>
<dd>
<p>Allow <code>upload-pack</code> to accept a fetch request that asks for an
object that is reachable from any ref tip. However, note that
calculating object reachability is computationally expensive.
Defaults to <code>false</code>.  Even if this is false, a client may be able
to steal objects via the techniques described in the "SECURITY"
section of the <a href="/docs/gitnamespaces">gitnamespaces[7]</a> man page; it’s best to
keep private data in a separate repository.</p>
</dd>
<dt> uploadpack.allowAnySHA1InWant </dt>
<dd>
<p>Allow <code>upload-pack</code> to accept a fetch request that asks for any
object at all.
Defaults to <code>false</code>.</p>
</dd>
<dt> uploadpack.keepAlive </dt>
<dd>
<p>When <code>upload-pack</code> has started <code>pack-objects</code>, there may be a
quiet period while <code>pack-objects</code> prepares the pack. Normally
it would output progress information, but if <code>--quiet</code> was used
for the fetch, <code>pack-objects</code> will output nothing at all until
the pack data begins. Some clients and networks may consider
the server to be hung and give up. Setting this option instructs
<code>upload-pack</code> to send an empty keepalive packet every
<code>uploadpack.keepAlive</code> seconds. Setting this option to 0
disables keepalive packets entirely. The default is 5 seconds.</p>
</dd>
<dt> uploadpack.packObjectsHook </dt>
<dd>
<p>If this option is set, when <code>upload-pack</code> would run
<code>git pack-objects</code> to create a packfile for a client, it will
run this shell command instead.  The <code>pack-objects</code> command and
arguments it <em>would</em> have run (including the <code>git pack-objects</code>
at the beginning) are appended to the shell command. The stdin
and stdout of the hook are treated as if <code>pack-objects</code> itself
was run. I.e., <code>upload-pack</code> will feed input intended for
<code>pack-objects</code> to the hook, and expects a completed packfile on
stdout.</p>

<p>Note that this configuration variable is ignored if it is seen in the
repository-level config (this is a safety measure against fetching from
untrusted repositories).</p>

</dd>
<dt> uploadpack.allowFilter </dt>
<dd>
<p>If this option is set, <code>upload-pack</code> will support partial
clone and partial fetch object filtering.</p>
</dd>
<dt> uploadpackfilter.allow </dt>
<dd>
<p>Provides a default value for unspecified object filters (see: the
below configuration variable). If set to <code>true</code>, this will also
enable all filters which get added in the future.
Defaults to <code>true</code>.</p>
</dd>
<dt> uploadpackfilter.&lt;filter&gt;.allow </dt>
<dd>
<p>Explicitly allow or ban the object filter corresponding to
<code>&lt;filter&gt;</code>, where <code>&lt;filter&gt;</code> may be one of: <code>blob:none</code>,
<code>blob:limit</code>, <code>object:type</code>, <code>tree</code>, <code>sparse:oid</code>, or <code>combine</code>.
If using combined filters, both <code>combine</code> and all of the nested
filter kinds must be allowed. Defaults to <code>uploadpackfilter.allow</code>.</p>
</dd>
<dt> uploadpackfilter.tree.maxDepth </dt>
<dd>
<p>Only allow <code>--filter=tree:&lt;n&gt;</code> when <code>&lt;n&gt;</code> is no more than the value of
<code>uploadpackfilter.tree.maxDepth</code>. If set, this also implies
<code>uploadpackfilter.tree.allow=true</code>, unless this configuration
variable had already been set. Has no effect if unset.</p>
</dd>
<dt> uploadpack.allowRefInWant </dt>
<dd>
<p>If this option is set, <code>upload-pack</code> will support the <code>ref-in-want</code>
feature of the protocol version 2 <code>fetch</code> command.  This feature
is intended for the benefit of load-balanced servers which may
not have the same view of what OIDs their refs point to due to
replication delay.</p>
</dd>
<dt> url.&lt;base&gt;.insteadOf </dt>
<dd>
<p>Any URL that starts with this value will be rewritten to
start, instead, with &lt;base&gt;. In cases where some site serves a
large number of repositories, and serves them with multiple
access methods, and some users need to use different access
methods, this feature allows people to specify any of the
equivalent URLs and have Git automatically rewrite the URL to
the best alternative for the particular user, even for a
never-before-seen repository on the site.  When more than one
insteadOf strings match a given URL, the longest match is used.</p>

<p>Note that any protocol restrictions will be applied to the rewritten
URL. If the rewrite changes the URL to use a custom protocol or remote
helper, you may need to adjust the <code>protocol.*.allow</code> config to permit
the request.  In particular, protocols you expect to use for submodules
must be set to <code>always</code> rather than the default of <code>user</code>. See the
description of <code>protocol.allow</code> above.</p>

</dd>
<dt> url.&lt;base&gt;.pushInsteadOf </dt>
<dd>
<p>Any URL that starts with this value will not be pushed to;
instead, it will be rewritten to start with &lt;base&gt;, and the
resulting URL will be pushed to. In cases where some site serves
a large number of repositories, and serves them with multiple
access methods, some of which do not allow push, this feature
allows people to specify a pull-only URL and have Git
automatically use an appropriate URL to push, even for a
never-before-seen repository on the site.  When more than one
pushInsteadOf strings match a given URL, the longest match is
used.  If a remote has an explicit pushurl, Git will ignore this
setting for that remote.</p>
</dd>
<dt> user.name </dt>
<dt> user.email </dt>
<dt> author.name </dt>
<dt> author.email </dt>
<dt> committer.name </dt>
<dt> committer.email </dt>
<dd>
<p>The <code>user.name</code> and <code>user.email</code> variables determine what ends
up in the <code>author</code> and <code>committer</code> field of commit
objects.
If you need the <code>author</code> or <code>committer</code> to be different, the
<code>author.name</code>, <code>author.email</code>, <code>committer.name</code> or
<code>committer.email</code> variables can be set.
Also, all of these can be overridden by the <code>GIT_AUTHOR_NAME</code>,
<code>GIT_AUTHOR_EMAIL</code>, <code>GIT_COMMITTER_NAME</code>,
<code>GIT_COMMITTER_EMAIL</code> and <code>EMAIL</code> environment variables.</p>

<p>Note that the <code>name</code> forms of these variables conventionally refer to
some form of a personal name.  See <a href="/docs/git-commit">git-commit[1]</a> and the
environment variables section of <a href="/docs/git">git[1]</a> for more information on
these settings and the <code>credential.username</code> option if you’re looking
for authentication credentials instead.</p>

</dd>
<dt> user.useConfigOnly </dt>
<dd>
<p>Instruct Git to avoid trying to guess defaults for <code>user.email</code>
and <code>user.name</code>, and instead retrieve the values only from the
configuration. For example, if you have multiple email addresses
and would like to use a different one for each repository, then
with this configuration option set to <code>true</code> in the global config
along with a name, Git will prompt you to set up an email before
making new commits in a newly cloned repository.
Defaults to <code>false</code>.</p>
</dd>
<dt> user.signingKey </dt>
<dd>
<p>If <a href="/docs/git-tag">git-tag[1]</a> or <a href="/docs/git-commit">git-commit[1]</a> is not selecting the
key you want it to automatically when creating a signed tag or
commit, you can override the default selection with this variable.
This option is passed unchanged to gpg’s --local-user parameter,
so you may specify a key using any method that gpg supports.
If gpg.format is set to <code>ssh</code> this can contain the path to either
your private ssh key or the public key when ssh-agent is used.
Alternatively it can contain a public key prefixed with <code>key::</code>
directly (e.g.: "key::ssh-rsa XXXXXX identifier"). The private key
needs to be available via ssh-agent. If not set git will call
gpg.ssh.defaultKeyCommand (e.g.: "ssh-add -L") and try to use the
first key available. For backward compatibility, a raw key which
begins with "ssh-", such as "ssh-rsa XXXXXX identifier", is treated
as "key::ssh-rsa XXXXXX identifier", but this form is deprecated;
use the <code>key::</code> form instead.</p>
</dd>
<dt> versionsort.prereleaseSuffix (deprecated) </dt>
<dd>
<p>Deprecated alias for <code>versionsort.suffix</code>.  Ignored if
<code>versionsort.suffix</code> is set.</p>
</dd>
<dt> versionsort.suffix </dt>
<dd>
<p>Even when version sort is used in <a href="/docs/git-tag">git-tag[1]</a>, tagnames
with the same base version but different suffixes are still sorted
lexicographically, resulting e.g. in prerelease tags appearing
after the main release (e.g. "1.0-rc1" after "1.0").  This
variable can be specified to determine the sorting order of tags
with different suffixes.</p>

<p>By specifying a single suffix in this variable, any tagname containing
that suffix will appear before the corresponding main release.  E.g. if
the variable is set to "-rc", then all "1.0-rcX" tags will appear before
"1.0".  If specified multiple times, once per suffix, then the order of
suffixes in the configuration will determine the sorting order of tagnames
with those suffixes.  E.g. if "-pre" appears before "-rc" in the
configuration, then all "1.0-preX" tags will be listed before any
"1.0-rcX" tags.  The placement of the main release tag relative to tags
with various suffixes can be determined by specifying the empty suffix
among those other suffixes.  E.g. if the suffixes "-rc", "", "-ck" and
"-bfs" appear in the configuration in this order, then all "v4.8-rcX" tags
are listed first, followed by "v4.8", then "v4.8-ckX" and finally
"v4.8-bfsX".</p>


<p>If more than one suffixes match the same tagname, then that tagname will
be sorted according to the suffix which starts at the earliest position in
the tagname.  If more than one different matching suffixes start at
that earliest position, then that tagname will be sorted according to the
longest of those suffixes.
The sorting order between different suffixes is undefined if they are
in multiple config files.</p>

</dd>
<dt> web.browser </dt>
<dd>
<p>Specify a web browser that may be used by some commands.
Currently only <a href="/docs/git-instaweb">git-instaweb[1]</a> and <a href="/docs/git-help">git-help[1]</a>
may use it.</p>
</dd>
<dt> worktree.guessRemote </dt>
<dd>
<p>If no branch is specified and neither <code>-b</code> nor <code>-B</code> nor
<code>--detach</code> is used, then <code>git worktree add</code> defaults to
creating a new branch from HEAD.  If <code>worktree.guessRemote</code> is
set to true, <code>worktree add</code> tries to find a remote-tracking
branch whose name uniquely matches the new branch name.  If
such a branch exists, it is checked out and set as "upstream"
for the new branch.  If no such match can be found, it falls
back to creating a new branch from the current HEAD.</p>
</dd>
</dl>





<h2>BUGS</h2>


<p>When using the deprecated <code>[section.subsection]</code> syntax, changing a value
will result in adding a multi-line key instead of a change, if the subsection
is given with at least one uppercase character. For example when the config
looks like</p>



<pre>  [section.subsection]
    key = value1</pre>



<p>and running <code>git config section.Subsection.key value2</code> will result in</p>



<pre>  [section.subsection]
    key = value1
    key = value2</pre>





<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-help - Display help information about Git</span></h2>




<h2><br>synopsis</h2>


<pre><em>git help</em> [-a|--all [--[no-]verbose]]
	   [[-i|--info] [-m|--man] [-w|--web]] [&lt;command&gt;|&lt;guide&gt;]
<em>git help</em> [-g|--guides]
<em>git help</em> [-c|--config]</pre>




<h2>description</h2>


<p>With no options and no <em>&lt;command&gt;</em> or <em>&lt;guide&gt;</em> given, the synopsis of the <em>git</em>
command and a list of the most commonly used Git commands are printed
on the standard output.</p>


<p>If the option <code>--all</code> or <code>-a</code> is given, all available commands are
printed on the standard output.</p>


<p>If the option <code>--guides</code> or <code>-g</code> is given, a list of the
Git concept guides is also printed on the standard output.</p>


<p>If a command, or a guide, is given, a manual page for that command or
guide is brought up. The <em>man</em> program is used by default for this
purpose, but this can be overridden by other options or configuration
variables.</p>


<p>If an alias is given, git shows the definition of the alias on
standard output. To get the manual page for the aliased command, use
<code>git &lt;command&gt; --help</code>.</p>


<p>Note that <code>git --help ...</code> is identical to <code>git help ...</code> because the
former is internally converted into the latter.</p>


<p>To display the <a href="/docs/git">git[1]</a> man page, use <code>git help git</code>.</p>


<p>This page can be displayed with <em>git help help</em> or <code>git help --help</code></p>




<h2>options</h2>


<dl>
<dt> -a </dt>
<dt> --all </dt>
<dd>
<p>Prints all the available commands on the standard output. This
option overrides any given command or guide name.</p>
</dd>
<dt> --verbose </dt>
<dd>
<p>When used with <code>--all</code> print description for all recognized
commands. This is the default.</p>
</dd>
<dt> -c </dt>
<dt> --config </dt>
<dd>
<p>List all available configuration variables. This is a short
summary of the list in <a href="/docs/git-config">git-config[1]</a>.</p>
</dd>
<dt> -g </dt>
<dt> --guides </dt>
<dd>
<p>Prints a list of the Git concept guides on the standard output.</p>
</dd>
<dt> -i </dt>
<dt> --info </dt>
<dd>
<p>Display manual page for the command in the <em>info</em> format. The
<em>info</em> program will be used for that purpose.</p>
</dd>
<dt> -m </dt>
<dt> --man </dt>
<dd>
<p>Display manual page for the command in the <em>man</em> format. This
option may be used to override a value set in the
<code>help.format</code> configuration variable.</p>

<p>By default the <em>man</em> program will be used to display the manual page,
but the <code>man.viewer</code> configuration variable may be used to choose
other display programs (see below).</p>

</dd>
<dt> -w </dt>
<dt> --web </dt>
<dd>
<p>Display manual page for the command in the <em>web</em> (HTML)
format. A web browser will be used for that purpose.</p>

<p>The web browser can be specified using the configuration variable
<code>help.browser</code>, or <code>web.browser</code> if the former is not set. If none of
these config variables is set, the <em>git web--browse</em> helper script
(called by <em>git help</em>) will pick a suitable default. See
<a href="/docs/git-web--browse">git-web--browse[1]</a> for more information about this.</p>

</dd>
</dl>




<h2>CONFIGURATION VARIABLES</h2>


<h3>
help.format</h3>

<p>If no command-line option is passed, the <code>help.format</code> configuration
variable will be checked. The following values are supported for this
variable; they make <em>git help</em> behave as their corresponding command-
line option:</p>


<ul>
<li>
<p>"man" corresponds to <em>-m|--man</em>,</p>
</li>
<li>
<p>"info" corresponds to <em>-i|--info</em>,</p>
</li>
<li>
<p>"web" or "html" correspond to <em>-w|--web</em>.</p>
</li>
</ul>



<h3>
help.browser, web.browser and browser.&lt;tool&gt;.path</h3>

<p>The <code>help.browser</code>, <code>web.browser</code> and <code>browser.&lt;tool&gt;.path</code> will also
be checked if the <em>web</em> format is chosen (either by command-line
option or configuration variable). See <em>-w|--web</em> in the OPTIONS
section above and <a href="/docs/git-web--browse">git-web--browse[1]</a>.</p>



<h3>
man.viewer</h3>

<p>The <code>man.viewer</code> configuration variable will be checked if the <em>man</em>
format is chosen. The following values are currently supported:</p>


<ul>
<li>
<p>"man": use the <em>man</em> program as usual,</p>
</li>
<li>
<p>"woman": use <em>emacsclient</em> to launch the "woman" mode in emacs
(this only works starting with emacsclient versions 22),</p>
</li>
<li>
<p>"konqueror": use <em>kfmclient</em> to open the man page in a new konqueror
tab (see <em>Note about konqueror</em> below).</p>
</li>
</ul>


<p>Values for other tools can be used if there is a corresponding
<code>man.&lt;tool&gt;.cmd</code> configuration entry (see below).</p>


<p>Multiple values may be given to the <code>man.viewer</code> configuration
variable. Their corresponding programs will be tried in the order
listed in the configuration file.</p>


<p>For example, this configuration:</p>



<pre>	[man]
		viewer = konqueror
		viewer = woman</pre>



<p>will try to use konqueror first. But this may fail (for example, if
DISPLAY is not set) and in that case emacs' woman mode will be tried.</p>


<p>If everything fails, or if no viewer is configured, the viewer specified
in the <code>GIT_MAN_VIEWER</code> environment variable will be tried.  If that
fails too, the <em>man</em> program will be tried anyway.</p>



<h3>
man.&lt;tool&gt;.path</h3>

<p>You can explicitly provide a full path to your preferred man viewer by
setting the configuration variable <code>man.&lt;tool&gt;.path</code>. For example, you
can configure the absolute path to konqueror by setting
<em>man.konqueror.path</em>. Otherwise, <em>git help</em> assumes the tool is
available in PATH.</p>



<h3>
man.&lt;tool&gt;.cmd</h3>

<p>When the man viewer, specified by the <code>man.viewer</code> configuration
variables, is not among the supported ones, then the corresponding
<code>man.&lt;tool&gt;.cmd</code> configuration variable will be looked up. If this
variable exists then the specified tool will be treated as a custom
command and a shell eval will be used to run the command with the man
page passed as arguments.</p>



<h3>
Note about konqueror</h3>

<p>When <em>konqueror</em> is specified in the <code>man.viewer</code> configuration
variable, we launch <em>kfmclient</em> to try to open the man page on an
already opened konqueror in a new tab if possible.</p>


<p>For consistency, we also try such a trick if <em>man.konqueror.path</em> is
set to something like <code>A_PATH_TO/konqueror</code>. That means we will try to
launch <code>A_PATH_TO/kfmclient</code> instead.</p>


<p>If you really want to use <em>konqueror</em>, then you can use something like
the following:</p>



<pre>	[man]
		viewer = konq

	[man "konq"]
		cmd = A_PATH_TO/konqueror</pre>




<h3>
Note about git config --global</h3>

<p>Note that all these configuration variables should probably be set
using the <code>--global</code> flag, for example like this:</p>



<pre>$ git config --global help.format web
$ git config --global web.browser firefox</pre>



<p>as they are probably more user specific than repository specific.
See <a href="/docs/git-config">git-config[1]</a> for more information about this.</p>





<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-bugreport - Collect information for user to file a bug report</span></h2>




<h2><br>synopsis</h2>


<pre><em>git bugreport</em> [(-o | --output-directory) &lt;path&gt;] [(-s | --suffix) &lt;format&gt;]</pre>




<h2>description</h2>


<p>Captures information about the user’s machine, Git client, and repository state,
as well as a form requesting information about the behavior the user observed,
into a single text file which the user can then share, for example to the Git
mailing list, in order to report an observed bug.</p>


<p>The following information is requested from the user:</p>


<ul>
<li>
<p>Reproduction steps</p>
</li>
<li>
<p>Expected behavior</p>
</li>
<li>
<p>Actual behavior</p>
</li>
</ul>


<p>The following information is captured automatically:</p>


<ul>
<li>
<p><em>git version --build-options</em></p>
</li>
<li>
<p>uname sysname, release, version, and machine strings</p>
</li>
<li>
<p>Compiler-specific info string</p>
</li>
<li>
<p>A list of enabled hooks</p>
</li>
<li>
<p>$SHELL</p>
</li>
</ul>


<p>This tool is invoked via the typical Git setup process, which means that in some
cases, it might not be able to launch - for example, if a relevant config file
is unreadable. In this kind of scenario, it may be helpful to manually gather
the kind of information listed above when manually asking for help.</p>




<h2>options</h2>


<dl>
<dt> -o &lt;path&gt; </dt>
<dt> --output-directory &lt;path&gt; </dt>
<dd>
<p>Place the resulting bug report file in <code>&lt;path&gt;</code> instead of the current
directory.</p>
</dd>
<dt> -s &lt;format&gt; </dt>
<dt> --suffix &lt;format&gt; </dt>
<dd>
<p>Specify an alternate suffix for the bugreport name, to create a file
named <em>git-bugreport-&lt;formatted suffix&gt;</em>. This should take the form of a
strftime(3) format string; the current local time will be used.</p>
</dd>
</dl>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-init - Create an empty Git repository or reinitialize an existing one</span></h2>




<h2><br>synopsis</h2>


<pre><em>git init</em> [-q | --quiet] [--bare] [--template=&lt;template-directory&gt;]
	  [--separate-git-dir &lt;git-dir&gt;] [--object-format=&lt;format&gt;]
	  [-b &lt;branch-name&gt; | --initial-branch=&lt;branch-name&gt;]
	  [--shared[=&lt;permissions&gt;]] [&lt;directory&gt;]</pre>




<h2>description</h2>


<p>This command creates an empty Git repository - basically a <code>.git</code>
directory with subdirectories for <code>objects</code>, <code>refs/heads</code>,
<code>refs/tags</code>, and template files.  An initial branch without any
commits will be created (see the <code>--initial-branch</code> option below
for its name).</p>


<p>If the <code>$GIT_DIR</code> environment variable is set then it specifies a path
to use instead of <code>./.git</code> for the base of the repository.</p>


<p>If the object storage directory is specified via the
<code>$GIT_OBJECT_DIRECTORY</code> environment variable then the sha1 directories
are created underneath - otherwise the default <code>$GIT_DIR/objects</code>
directory is used.</p>


<p>Running <em>git init</em> in an existing repository is safe. It will not
overwrite things that are already there. The primary reason for
rerunning <em>git init</em> is to pick up newly added templates (or to move
the repository to another place if --separate-git-dir is given).</p>




<h2>options</h2>


<dl>
<dt> -q </dt>
<dt> --quiet </dt>
<dd>
<p>Only print error and warning messages; all other output will be suppressed.</p>
</dd>
<dt> --bare </dt>
<dd>
<p>Create a bare repository. If <code>GIT_DIR</code> environment is not set, it is set to the
current working directory.</p>
</dd>
<dt> --object-format=&lt;format&gt; </dt>
<dd>
<p>Specify the given object format (hash algorithm) for the repository.  The valid
values are <em>sha1</em> and (if enabled) <em>sha256</em>.  <em>sha1</em> is the default.</p>

<p>THIS OPTION IS EXPERIMENTAL! SHA-256 support is experimental and still
in an early stage.  A SHA-256 repository will in general not be able to
share work with "regular" SHA-1 repositories.  It should be assumed
that, e.g., Git internal file formats in relation to SHA-256
repositories may change in backwards-incompatible ways.  Only use
<code>--object-format=sha256</code> for testing purposes.</p>

</dd>
<dt> --template=&lt;template-directory&gt; </dt>
<dd>
<p>Specify the directory from which templates will be used.  (See the "TEMPLATE
DIRECTORY" section below.)</p>
</dd>
<dt> --separate-git-dir=&lt;git-dir&gt; </dt>
<dd>
<p>Instead of initializing the repository as a directory to either <code>$GIT_DIR</code> or
<code>./.git/</code>, create a text file there containing the path to the actual
repository.  This file acts as filesystem-agnostic Git symbolic link to the
repository.</p>

<p>If this is reinitialization, the repository will be moved to the specified path.</p>

</dd>
<dt> -b &lt;branch-name&gt; </dt>
<dt> --initial-branch=&lt;branch-name&gt; </dt>
<dd>
<p>Use the specified name for the initial branch in the newly created
repository.  If not specified, fall back to the default name (currently
<code>master</code>, but this is subject to change in the future; the name can be
customized via the <code>init.defaultBranch</code> configuration variable).</p>
</dd>
<dt> --shared[=(false|true|umask|group|all|world|everybody|&lt;perm&gt;)] </dt>
<dd>
<p>Specify that the Git repository is to be shared amongst several users.  This
allows users belonging to the same group to push into that
repository.  When specified, the config variable "core.sharedRepository" is
set so that files and directories under <code>$GIT_DIR</code> are created with the
requested permissions.  When not specified, Git will use permissions reported
by umask(2).</p>

<p>The option can have the following values, defaulting to <em>group</em> if no value
is given:</p>




<dl>
<dt> <em>umask</em> (or <em>false</em>) </dt>
<dd>
<p>Use permissions reported by umask(2). The default, when <code>--shared</code> is not
specified.</p>
</dd>
<dt> <em>group</em> (or <em>true</em>) </dt>
<dd>
<p>Make the repository group-writable, (and g+sx, since the git group may be not
the primary group of all users). This is used to loosen the permissions of an
otherwise safe umask(2) value. Note that the umask still applies to the other
permission bits (e.g. if umask is <em>0022</em>, using <em>group</em> will not remove read
privileges from other (non-group) users). See <em>0xxx</em> for how to exactly specify
the repository permissions.</p>
</dd>
<dt> <em>all</em> (or <em>world</em> or <em>everybody</em>) </dt>
<dd>
<p>Same as <em>group</em>, but make the repository readable by all users.</p>
</dd>
<dt> <em>&lt;perm&gt;</em> </dt>
<dd>
<p><em>&lt;perm&gt;</em> is a 3-digit octal number prefixed with <code>0</code> and each file
will have mode <em>&lt;perm&gt;</em>. <em>&lt;perm&gt;</em> will override users' umask(2)
value (and not only loosen permissions as <em>group</em> and <em>all</em>
does). <em>0640</em> will create a repository which is group-readable, but
not group-writable or accessible to others. <em>0660</em> will create a repo
that is readable and writable to the current user and group, but
inaccessible to others (directories and executable files get their
<code>x</code> bit from the <code>r</code> bit for corresponding classes of users).</p>
</dd>
</dl>



</dd>
</dl>


<p>By default, the configuration flag <code>receive.denyNonFastForwards</code> is enabled
in shared repositories, so that you cannot force a non fast-forwarding push
into it.</p>


<p>If you provide a <em>directory</em>, the command is run inside it. If this directory
does not exist, it will be created.</p>




<h2>TEMPLATE DIRECTORY</h2>


<p>Files and directories in the template directory whose name do not start with a
dot will be copied to the <code>$GIT_DIR</code> after it is created.</p>


<p>The template directory will be one of the following (in order):</p>


<ul>
<li>
<p>the argument given with the <code>--template</code> option;</p>
</li>
<li>
<p>the contents of the <code>$GIT_TEMPLATE_DIR</code> environment variable;</p>
</li>
<li>
<p>the <code>init.templateDir</code> configuration variable; or</p>
</li>
<li>
<p>the default template directory: <code>/usr/share/git-core/templates</code>.</p>
</li>
</ul>


<p>The default template directory includes some directory structure, suggested
"exclude patterns" (see <a href="/docs/gitignore">gitignore[5]</a>), and sample hook files.</p>


<p>The sample hooks are all disabled by default. To enable one of the
sample hooks rename it by removing its <code>.sample</code> suffix.</p>


<p>See <a href="/docs/githooks">githooks[5]</a> for more general info on hook execution.</p>




<h2>examples</h2>


<dl>
<dt> Start a new Git repository for an existing code base </dt>
<dd>


<pre>$ cd /path/to/my/codebase
$ git init      <b>(1)</b>
$ git add .     <b>(2)</b>
$ git commit    <b>(3)</b></pre>



<ol>
<li>
<p>Create a /path/to/my/codebase/.git directory.</p>
</li>
<li>
<p>Add all existing files to the index.</p>
</li>
<li>
<p>Record the pristine state as the first commit in the history.</p>
</li>
</ol>

</dd>
</dl>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-clone - Clone a repository into a new directory</span></h2>




<h2><br>synopsis</h2>


<pre><em>git clone</em> [--template=&lt;template-directory&gt;]
	  [-l] [-s] [--no-hardlinks] [-q] [-n] [--bare] [--mirror]
	  [-o &lt;name&gt;] [-b &lt;name&gt;] [-u &lt;upload-pack&gt;] [--reference &lt;repository&gt;]
	  [--dissociate] [--separate-git-dir &lt;git-dir&gt;]
	  [--depth &lt;depth&gt;] [--[no-]single-branch] [--no-tags]
	  [--recurse-submodules[=&lt;pathspec&gt;]] [--[no-]shallow-submodules]
	  [--[no-]remote-submodules] [--jobs &lt;n&gt;] [--sparse] [--[no-]reject-shallow]
	  [--filter=&lt;filter&gt;] [--] &lt;repository&gt;
	  [&lt;directory&gt;]</pre>




<h2>description</h2>


<p>Clones a repository into a newly created directory, creates
remote-tracking branches for each branch in the cloned repository
(visible using <code>git branch --remotes</code>), and creates and checks out an
initial branch that is forked from the cloned repository’s
currently active branch.</p>


<p>After the clone, a plain <code>git fetch</code> without arguments will update
all the remote-tracking branches, and a <code>git pull</code> without
arguments will in addition merge the remote master branch into the
current master branch, if any (this is untrue when "--single-branch"
is given; see below).</p>


<p>This default configuration is achieved by creating references to
the remote branch heads under <code>refs/remotes/origin</code> and
by initializing <code>remote.origin.url</code> and <code>remote.origin.fetch</code>
configuration variables.</p>




<h2>options</h2>


<dl>
<dt> -l </dt>
<dt> --local </dt>
<dd>
<p>When the repository to clone from is on a local machine,
this flag bypasses the normal "Git aware" transport
mechanism and clones the repository by making a copy of
HEAD and everything under objects and refs directories.
The files under <code>.git/objects/</code> directory are hardlinked
to save space when possible.</p>

<p>If the repository is specified as a local path (e.g., <code>/path/to/repo</code>),
this is the default, and --local is essentially a no-op.  If the
repository is specified as a URL, then this flag is ignored (and we
never use the local optimizations).  Specifying <code>--no-local</code> will
override the default when <code>/path/to/repo</code> is given, using the regular
Git transport instead.</p>


<p><strong>NOTE</strong>: this operation can race with concurrent modification to the
source repository, similar to running <code>cp -r src dst</code> while modifying
<code>src</code>.</p>

</dd>
<dt> --no-hardlinks </dt>
<dd>
<p>Force the cloning process from a repository on a local
filesystem to copy the files under the <code>.git/objects</code>
directory instead of using hardlinks. This may be desirable
if you are trying to make a back-up of your repository.</p>
</dd>
<dt> -s </dt>
<dt> --shared </dt>
<dd>
<p>When the repository to clone is on the local machine,
instead of using hard links, automatically setup
<code>.git/objects/info/alternates</code> to share the objects
with the source repository.  The resulting repository
starts out without any object of its own.</p>

<p><strong>NOTE</strong>: this is a possibly dangerous operation; do <strong>not</strong> use
it unless you understand what it does. If you clone your
repository using this option and then delete branches (or use any
other Git command that makes any existing commit unreferenced) in the
source repository, some objects may become unreferenced (or dangling).
These objects may be removed by normal Git operations (such as <code>git commit</code>)
which automatically call <code>git maintenance run --auto</code>. (See
<a href="/docs/git-maintenance">git-maintenance[1]</a>.) If these objects are removed and were referenced
by the cloned repository, then the cloned repository will become corrupt.</p>


<p>Note that running <code>git repack</code> without the <code>--local</code> option in a repository
cloned with <code>--shared</code> will copy objects from the source repository into a pack
in the cloned repository, removing the disk space savings of <code>clone --shared</code>.
It is safe, however, to run <code>git gc</code>, which uses the <code>--local</code> option by
default.</p>


<p>If you want to break the dependency of a repository cloned with <code>--shared</code> on
its source repository, you can simply run <code>git repack -a</code> to copy all
objects from the source repository into a pack in the cloned repository.</p>

</dd>
<dt> --reference[-if-able] &lt;repository&gt; </dt>
<dd>
<p>If the reference repository is on the local machine,
automatically setup <code>.git/objects/info/alternates</code> to
obtain objects from the reference repository.  Using
an already existing repository as an alternate will
require fewer objects to be copied from the repository
being cloned, reducing network and local storage costs.
When using the <code>--reference-if-able</code>, a non existing
directory is skipped with a warning instead of aborting
the clone.</p>

<p><strong>NOTE</strong>: see the NOTE for the <code>--shared</code> option, and also the
<code>--dissociate</code> option.</p>

</dd>
<dt> --dissociate </dt>
<dd>
<p>Borrow the objects from reference repositories specified
with the <code>--reference</code> options only to reduce network
transfer, and stop borrowing from them after a clone is made
by making necessary local copies of borrowed objects.  This
option can also be used when cloning locally from a
repository that already borrows objects from another
repository—<U+200B>the new repository will borrow objects from the
same repository, and this option can be used to stop the
borrowing.</p>
</dd>
<dt> -q </dt>
<dt> --quiet </dt>
<dd>
<p>Operate quietly.  Progress is not reported to the standard
error stream.</p>
</dd>
<dt> -v </dt>
<dt> --verbose </dt>
<dd>
<p>Run verbosely. Does not affect the reporting of progress status
to the standard error stream.</p>
</dd>
<dt> --progress </dt>
<dd>
<p>Progress status is reported on the standard error stream
by default when it is attached to a terminal, unless <code>--quiet</code>
is specified. This flag forces progress status even if the
standard error stream is not directed to a terminal.</p>
</dd>
<dt> --server-option=&lt;option&gt; </dt>
<dd>
<p>Transmit the given string to the server when communicating using
protocol version 2.  The given string must not contain a NUL or LF
character.  The server’s handling of server options, including
unknown ones, is server-specific.
When multiple <code>--server-option=&lt;option&gt;</code> are given, they are all
sent to the other side in the order listed on the command line.</p>
</dd>
<dt> -n </dt>
<dt> --no-checkout </dt>
<dd>
<p>No checkout of HEAD is performed after the clone is complete.</p>
</dd>
<dt> --[no-]reject-shallow </dt>
<dd>
<p>Fail if the source repository is a shallow repository.
The <em>clone.rejectShallow</em> configuration variable can be used to
specify the default.</p>
</dd>
<dt> --bare </dt>
<dd>
<p>Make a <em>bare</em> Git repository.  That is, instead of
creating <code>&lt;directory&gt;</code> and placing the administrative
files in <code>&lt;directory&gt;/.git</code>, make the <code>&lt;directory&gt;</code>
itself the <code>$GIT_DIR</code>. This obviously implies the <code>--no-checkout</code>
because there is nowhere to check out the working tree.
Also the branch heads at the remote are copied directly
to corresponding local branch heads, without mapping
them to <code>refs/remotes/origin/</code>.  When this option is
used, neither remote-tracking branches nor the related
configuration variables are created.</p>
</dd>
<dt> --sparse </dt>
<dd>
<p>Employ a sparse-checkout, with only files in the toplevel
directory initially being present.  The
<a href="/docs/git-sparse-checkout">git-sparse-checkout[1]</a> command can be used to grow the
working directory as needed.</p>
</dd>
<dt> --filter=&lt;filter-spec&gt; </dt>
<dd>
<p>Use the partial clone feature and request that the server sends
a subset of reachable objects according to a given object filter.
When using <code>--filter</code>, the supplied <code>&lt;filter-spec&gt;</code> is used for
the partial clone filter. For example, <code>--filter=blob:none</code> will
filter out all blobs (file contents) until needed by Git. Also,
<code>--filter=blob:limit=&lt;size&gt;</code> will filter out all blobs of size
at least <code>&lt;size&gt;</code>. For more details on filter specifications, see
the <code>--filter</code> option in <a href="/docs/git-rev-list">git-rev-list[1]</a>.</p>
</dd>
<dt> --mirror </dt>
<dd>
<p>Set up a mirror of the source repository.  This implies <code>--bare</code>.
Compared to <code>--bare</code>, <code>--mirror</code> not only maps local branches of the
source to local branches of the target, it maps all refs (including
remote-tracking branches, notes etc.) and sets up a refspec configuration such
that all these refs are overwritten by a <code>git remote update</code> in the
target repository.</p>
</dd>
<dt> -o &lt;name&gt; </dt>
<dt> --origin &lt;name&gt; </dt>
<dd>
<p>Instead of using the remote name <code>origin</code> to keep track of the upstream
repository, use <code>&lt;name&gt;</code>.  Overrides <code>clone.defaultRemoteName</code> from the
config.</p>
</dd>
<dt> -b &lt;name&gt; </dt>
<dt> --branch &lt;name&gt; </dt>
<dd>
<p>Instead of pointing the newly created HEAD to the branch pointed
to by the cloned repository’s HEAD, point to <code>&lt;name&gt;</code> branch
instead. In a non-bare repository, this is the branch that will
be checked out.
<code>--branch</code> can also take tags and detaches the HEAD at that commit
in the resulting repository.</p>
</dd>
<dt> -u &lt;upload-pack&gt; </dt>
<dt> --upload-pack &lt;upload-pack&gt; </dt>
<dd>
<p>When given, and the repository to clone from is accessed
via ssh, this specifies a non-default path for the command
run on the other end.</p>
</dd>
<dt> --template=&lt;template-directory&gt; </dt>
<dd>
<p>Specify the directory from which templates will be used;
(See the "TEMPLATE DIRECTORY" section of <a href="/docs/git-init">git-init[1]</a>.)</p>
</dd>
<dt> -c &lt;key&gt;=&lt;value&gt; </dt>
<dt> --config &lt;key&gt;=&lt;value&gt; </dt>
<dd>
<p>Set a configuration variable in the newly-created repository;
this takes effect immediately after the repository is
initialized, but before the remote history is fetched or any
files checked out.  The key is in the same format as expected by
<a href="/docs/git-config">git-config[1]</a> (e.g., <code>core.eol=true</code>). If multiple
values are given for the same key, each value will be written to
the config file. This makes it safe, for example, to add
additional fetch refspecs to the origin remote.</p>

<p>Due to limitations of the current implementation, some configuration
variables do not take effect until after the initial fetch and checkout.
Configuration variables known to not take effect are:
<code>remote.&lt;name&gt;.mirror</code> and <code>remote.&lt;name&gt;.tagOpt</code>.  Use the
corresponding <code>--mirror</code> and <code>--no-tags</code> options instead.</p>

</dd>
<dt> --depth &lt;depth&gt; </dt>
<dd>
<p>Create a <em>shallow</em> clone with a history truncated to the
specified number of commits. Implies <code>--single-branch</code> unless
<code>--no-single-branch</code> is given to fetch the histories near the
tips of all branches. If you want to clone submodules shallowly,
also pass <code>--shallow-submodules</code>.</p>
</dd>
<dt> --shallow-since=&lt;date&gt; </dt>
<dd>
<p>Create a shallow clone with a history after the specified time.</p>
</dd>
<dt> --shallow-exclude=&lt;revision&gt; </dt>
<dd>
<p>Create a shallow clone with a history, excluding commits
reachable from a specified remote branch or tag.  This option
can be specified multiple times.</p>
</dd>
<dt> --[no-]single-branch </dt>
<dd>
<p>Clone only the history leading to the tip of a single branch,
either specified by the <code>--branch</code> option or the primary
branch remote’s <code>HEAD</code> points at.
Further fetches into the resulting repository will only update the
remote-tracking branch for the branch this option was used for the
initial cloning.  If the HEAD at the remote did not point at any
branch when <code>--single-branch</code> clone was made, no remote-tracking
branch is created.</p>
</dd>
<dt> --no-tags </dt>
<dd>
<p>Don’t clone any tags, and set
<code>remote.&lt;remote&gt;.tagOpt=--no-tags</code> in the config, ensuring
that future <code>git pull</code> and <code>git fetch</code> operations won’t follow
any tags. Subsequent explicit tag fetches will still work,
(see <a href="/docs/git-fetch">git-fetch[1]</a>).</p>

<p>Can be used in conjunction with <code>--single-branch</code> to clone and
maintain a branch with no references other than a single cloned
branch. This is useful e.g. to maintain minimal clones of the default
branch of some repository for search indexing.</p>

</dd>
<dt> --recurse-submodules[=&lt;pathspec&gt;] </dt>
<dd>
<p>After the clone is created, initialize and clone submodules
within based on the provided pathspec.  If no pathspec is
provided, all submodules are initialized and cloned.
This option can be given multiple times for pathspecs consisting
of multiple entries.  The resulting clone has <code>submodule.active</code> set to
the provided pathspec, or "." (meaning all submodules) if no
pathspec is provided.</p>

<p>Submodules are initialized and cloned using their default settings. This is
equivalent to running
<code>git submodule update --init --recursive &lt;pathspec&gt;</code> immediately after
the clone is finished. This option is ignored if the cloned repository does
not have a worktree/checkout (i.e. if any of <code>--no-checkout</code>/<code>-n</code>, <code>--bare</code>,
or <code>--mirror</code> is given)</p>

</dd>
<dt> --[no-]shallow-submodules </dt>
<dd>
<p>All submodules which are cloned will be shallow with a depth of 1.</p>
</dd>
<dt> --[no-]remote-submodules </dt>
<dd>
<p>All submodules which are cloned will use the status of the submodule’s
remote-tracking branch to update the submodule, rather than the
superproject’s recorded SHA-1. Equivalent to passing <code>--remote</code> to
<code>git submodule update</code>.</p>
</dd>
<dt> --separate-git-dir=&lt;git-dir&gt; </dt>
<dd>
<p>Instead of placing the cloned repository where it is supposed
to be, place the cloned repository at the specified directory,
then make a filesystem-agnostic Git symbolic link to there.
The result is Git repository can be separated from working
tree.</p>
</dd>
<dt> -j &lt;n&gt; </dt>
<dt> --jobs &lt;n&gt; </dt>
<dd>
<p>The number of submodules fetched at the same time.
Defaults to the <code>submodule.fetchJobs</code> option.</p>
</dd>
<dt> &lt;repository&gt; </dt>
<dd>
<p>The (possibly remote) repository to clone from.  See the
<a href="#URLS">GIT URLS</a> section below for more information on specifying
repositories.</p>
</dd>
<dt> &lt;directory&gt; </dt>
<dd>
<p>The name of a new directory to clone into.  The "humanish"
part of the source repository is used if no directory is
explicitly given (<code>repo</code> for <code>/path/to/repo.git</code> and <code>foo</code>
for <code>host.xz:foo/.git</code>).  Cloning into an existing directory
is only allowed if the directory is empty.</p>
</dd>
</dl>




<h2>GIT URLS
</h2>


<p>In general, URLs contain information about the transport protocol, the
address of the remote server, and the path to the repository.
Depending on the transport protocol, some of this information may be
absent.</p>


<p>Git supports ssh, git, http, and https protocols (in addition, ftp,
and ftps can be used for fetching, but this is inefficient and
deprecated; do not use it).</p>


<p>The native transport (i.e. git:// URL) does no authentication and
should be used with caution on unsecured networks.</p>


<p>The following syntaxes may be used with them:</p>


<ul>
<li>
<p>ssh://[user@]host.xz[:port]/path/to/repo.git/</p>
</li>
<li>
<p>git://host.xz[:port]/path/to/repo.git/</p>
</li>
<li>
<p>http[s]://host.xz[:port]/path/to/repo.git/</p>
</li>
<li>
<p>ftp[s]://host.xz[:port]/path/to/repo.git/</p>
</li>
</ul>


<p>An alternative scp-like syntax may also be used with the ssh protocol:</p>


<ul>
<li>
<p>[user@]host.xz:path/to/repo.git/</p>
</li>
</ul>


<p>This syntax is only recognized if there are no slashes before the
first colon. This helps differentiate a local path that contains a
colon. For example the local path <code>foo:bar</code> could be specified as an
absolute path or <code>./foo:bar</code> to avoid being misinterpreted as an ssh
url.</p>


<p>The ssh and git protocols additionally support ~username expansion:</p>


<ul>
<li>
<p>ssh://[user@]host.xz[:port]/~[user]/path/to/repo.git/</p>
</li>
<li>
<p>git://host.xz[:port]/~[user]/path/to/repo.git/</p>
</li>
<li>
<p>[user@]host.xz:/~[user]/path/to/repo.git/</p>
</li>
</ul>


<p>For local repositories, also supported by Git natively, the following
syntaxes may be used:</p>


<ul>
<li>
<p>/path/to/repo.git/</p>
</li>
<li>
<p>file:///path/to/repo.git/</p>
</li>
</ul>


<p>These two syntaxes are mostly equivalent, except the former implies
--local option.</p>


<p><em>git clone</em>, <em>git fetch</em> and <em>git pull</em>, but not <em>git push</em>, will also
accept a suitable bundle file. See <a href="/docs/git-bundle">git-bundle[1]</a>.</p>


<p>When Git doesn’t know how to handle a certain transport protocol, it
attempts to use the <em>remote-&lt;transport&gt;</em> remote helper, if one
exists. To explicitly request a remote helper, the following syntax
may be used:</p>


<ul>
<li>
<p>&lt;transport&gt;::&lt;address&gt;</p>
</li>
</ul>


<p>where &lt;address&gt; may be a path, a server and path, or an arbitrary
URL-like string recognized by the specific remote helper being
invoked. See <a href="/docs/gitremote-helpers">gitremote-helpers[7]</a> for details.</p>


<p>If there are a large number of similarly-named remote repositories and
you want to use a different format for them (such that the URLs you
use will be rewritten into URLs that work), you can create a
configuration section of the form:</p>



<pre>	[url "&lt;actual url base&gt;"]
		insteadOf = &lt;other url base&gt;</pre>



<p>For example, with this:</p>



<pre>	[url "git://git.host.xz/"]
		insteadOf = host.xz:/path/to/
		insteadOf = work:</pre>



<p>a URL like "work:repo.git" or like "host.xz:/path/to/repo.git" will be
rewritten in any context that takes a URL to be "git://git.host.xz/repo.git".</p>


<p>If you want to rewrite URLs for push only, you can create a
configuration section of the form:</p>



<pre>	[url "&lt;actual url base&gt;"]
		pushInsteadOf = &lt;other url base&gt;</pre>



<p>For example, with this:</p>



<pre>	[url "ssh://example.org/"]
		pushInsteadOf = git://example.org/</pre>



<p>a URL like "git://example.org/path/to/repo.git" will be rewritten to
"ssh://example.org/path/to/repo.git" for pushes, but pulls will still
use the original URL.</p>




<h2>examples</h2>


<ul>
<li>
<p>Clone from upstream:</p>


<pre>$ git clone git://git.kernel.org/pub/scm/.../linux.git my-linux
$ cd my-linux
$ make</pre>


</li>
<li>
<p>Make a local clone that borrows from the current directory, without checking things out:</p>


<pre>$ git clone -l -s -n . ../copy
$ cd ../copy
$ git show-branch</pre>


</li>
<li>
<p>Clone from upstream while borrowing from an existing local directory:</p>


<pre>$ git clone --reference /git/linux.git \
	git://git.kernel.org/pub/scm/.../linux.git \
	my-linux
$ cd my-linux</pre>


</li>
<li>
<p>Create a bare repository to publish your changes to the public:</p>


<pre>$ git clone --bare -l /home/proj/.git /pub/scm/proj.git</pre>


</li>
</ul>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-add - Add file contents to the index</span></h2>




<h2><br>synopsis</h2>


<pre><em>git add</em> [--verbose | -v] [--dry-run | -n] [--force | -f] [--interactive | -i] [--patch | -p]
	  [--edit | -e] [--[no-]all | --[no-]ignore-removal | [--update | -u]] [--sparse]
	  [--intent-to-add | -N] [--refresh] [--ignore-errors] [--ignore-missing] [--renormalize]
	  [--chmod=(+|-)x] [--pathspec-from-file=&lt;file&gt; [--pathspec-file-nul]]
	  [--] [&lt;pathspec&gt;…<U+200B>]</pre>




<h2>description</h2>


<p>This command updates the index using the current content found in
the working tree, to prepare the content staged for the next commit.
It typically adds the current content of existing paths as a whole,
but with some options it can also be used to add content with
only part of the changes made to the working tree files applied, or
remove paths that do not exist in the working tree anymore.</p>


<p>The "index" holds a snapshot of the content of the working tree, and it
is this snapshot that is taken as the contents of the next commit.  Thus
after making any changes to the working tree, and before running
the commit command, you must use the <code>add</code> command to add any new or
modified files to the index.</p>


<p>This command can be performed multiple times before a commit.  It only
adds the content of the specified file(s) at the time the add command is
run; if you want subsequent changes included in the next commit, then
you must run <code>git add</code> again to add the new content to the index.</p>


<p>The <code>git status</code> command can be used to obtain a summary of which
files have changes that are staged for the next commit.</p>


<p>The <code>git add</code> command will not add ignored files by default.  If any
ignored files were explicitly specified on the command line, <code>git add</code>
will fail with a list of ignored files.  Ignored files reached by
directory recursion or filename globbing performed by Git (quote your
globs before the shell) will be silently ignored.  The <em>git add</em> command can
be used to add ignored files with the <code>-f</code> (force) option.</p>


<p>Please see <a href="/docs/git-commit">git-commit[1]</a> for alternative ways to add content to a
commit.</p>




<h2>options</h2>


<dl>
<dt> &lt;pathspec&gt;…<U+200B> </dt>
<dd>
<p>Files to add content from.  Fileglobs (e.g. <code>*.c</code>) can
be given to add all matching files.  Also a
leading directory name (e.g. <code>dir</code> to add <code>dir/file1</code>
and <code>dir/file2</code>) can be given to update the index to
match the current state of the directory as a whole (e.g.
specifying <code>dir</code> will record not just a file <code>dir/file1</code>
modified in the working tree, a file <code>dir/file2</code> added to
the working tree, but also a file <code>dir/file3</code> removed from
the working tree). Note that older versions of Git used
to ignore removed files; use <code>--no-all</code> option if you want
to add modified or new files but ignore removed ones.</p>

<p>For more details about the &lt;pathspec&gt; syntax, see the <em>pathspec</em> entry
in <a href="/docs/gitglossary">gitglossary[7]</a>.</p>

</dd>
<dt> -n </dt>
<dt> --dry-run </dt>
<dd>
<p>Don’t actually add the file(s), just show if they exist and/or will
be ignored.</p>
</dd>
<dt> -v </dt>
<dt> --verbose </dt>
<dd>
<p>Be verbose.</p>
</dd>
<dt> -f </dt>
<dt> --force </dt>
<dd>
<p>Allow adding otherwise ignored files.</p>
</dd>
<dt> --sparse </dt>
<dd>
<p>Allow updating index entries outside of the sparse-checkout cone.
Normally, <code>git add</code> refuses to update index entries whose paths do
not fit within the sparse-checkout cone, since those files might
be removed from the working tree without warning. See
<a href="/docs/git-sparse-checkout">git-sparse-checkout[1]</a> for more details.</p>
</dd>
<dt> -i </dt>
<dt> --interactive </dt>
<dd>
<p>Add modified contents in the working tree interactively to
the index. Optional path arguments may be supplied to limit
operation to a subset of the working tree. See “Interactive
mode” for details.</p>
</dd>
<dt> -p </dt>
<dt> --patch </dt>
<dd>
<p>Interactively choose hunks of patch between the index and the
work tree and add them to the index. This gives the user a chance
to review the difference before adding modified contents to the
index.</p>

<p>This effectively runs <code>add --interactive</code>, but bypasses the
initial command menu and directly jumps to the <code>patch</code> subcommand.
See “Interactive mode” for details.</p>

</dd>
<dt> -e </dt>
<dt> --edit </dt>
<dd>
<p>Open the diff vs. the index in an editor and let the user
edit it.  After the editor was closed, adjust the hunk headers
and apply the patch to the index.</p>

<p>The intent of this option is to pick and choose lines of the patch to
apply, or even to modify the contents of lines to be staged. This can be
quicker and more flexible than using the interactive hunk selector.
However, it is easy to confuse oneself and create a patch that does not
apply to the index. See EDITING PATCHES below.</p>

</dd>
<dt> -u </dt>
<dt> --update </dt>
<dd>
<p>Update the index just where it already has an entry matching
&lt;pathspec&gt;.  This removes as well as modifies index entries to
match the working tree, but adds no new files.</p>

<p>If no &lt;pathspec&gt; is given when <code>-u</code> option is used, all
tracked files in the entire working tree are updated (old versions
of Git used to limit the update to the current directory and its
subdirectories).</p>

</dd>
<dt> -A </dt>
<dt> --all </dt>
<dt> --no-ignore-removal </dt>
<dd>
<p>Update the index not only where the working tree has a file
matching &lt;pathspec&gt; but also where the index already has an
entry. This adds, modifies, and removes index entries to
match the working tree.</p>

<p>If no &lt;pathspec&gt; is given when <code>-A</code> option is used, all
files in the entire working tree are updated (old versions
of Git used to limit the update to the current directory and its
subdirectories).</p>

</dd>
<dt> --no-all </dt>
<dt> --ignore-removal </dt>
<dd>
<p>Update the index by adding new files that are unknown to the
index and files modified in the working tree, but ignore
files that have been removed from the working tree.  This
option is a no-op when no &lt;pathspec&gt; is used.</p>

<p>This option is primarily to help users who are used to older
versions of Git, whose "git add &lt;pathspec&gt;…<U+200B>" was a synonym
for "git add --no-all &lt;pathspec&gt;…<U+200B>", i.e. ignored removed files.</p>

</dd>
<dt> -N </dt>
<dt> --intent-to-add </dt>
<dd>
<p>Record only the fact that the path will be added later. An entry
for the path is placed in the index with no content. This is
useful for, among other things, showing the unstaged content of
such files with <code>git diff</code> and committing them with <code>git commit
-a</code>.</p>
</dd>
<dt> --refresh </dt>
<dd>
<p>Don’t add the file(s), but only refresh their stat()
information in the index.</p>
</dd>
<dt> --ignore-errors </dt>
<dd>
<p>If some files could not be added because of errors indexing
them, do not abort the operation, but continue adding the
others. The command shall still exit with non-zero status.
The configuration variable <code>add.ignoreErrors</code> can be set to
true to make this the default behaviour.</p>
</dd>
<dt> --ignore-missing </dt>
<dd>
<p>This option can only be used together with --dry-run. By using
this option the user can check if any of the given files would
be ignored, no matter if they are already present in the work
tree or not.</p>
</dd>
<dt> --no-warn-embedded-repo </dt>
<dd>
<p>By default, <code>git add</code> will warn when adding an embedded
repository to the index without using <code>git submodule add</code> to
create an entry in <code>.gitmodules</code>. This option will suppress the
warning (e.g., if you are manually performing operations on
submodules).</p>
</dd>
<dt> --renormalize </dt>
<dd>
<p>Apply the "clean" process freshly to all tracked files to
forcibly add them again to the index.  This is useful after
changing <code>core.autocrlf</code> configuration or the <code>text</code> attribute
in order to correct files added with wrong CRLF/LF line endings.
This option implies <code>-u</code>.</p>
</dd>
<dt> --chmod=(+|-)x </dt>
<dd>
<p>Override the executable bit of the added files.  The executable
bit is only changed in the index, the files on disk are left
unchanged.</p>
</dd>
<dt> --pathspec-from-file=&lt;file&gt; </dt>
<dd>
<p>Pathspec is passed in <code>&lt;file&gt;</code> instead of commandline args. If
<code>&lt;file&gt;</code> is exactly <code>-</code> then standard input is used. Pathspec
elements are separated by LF or CR/LF. Pathspec elements can be
quoted as explained for the configuration variable <code>core.quotePath</code>
(see <a href="/docs/git-config">git-config[1]</a>). See also <code>--pathspec-file-nul</code> and
global <code>--literal-pathspecs</code>.</p>
</dd>
<dt> --pathspec-file-nul </dt>
<dd>
<p>Only meaningful with <code>--pathspec-from-file</code>. Pathspec elements are
separated with NUL character and all other characters are taken
literally (including newlines and quotes).</p>
</dd>
<dt> -- </dt>
<dd>
<p>This option can be used to separate command-line options from
the list of files, (useful when filenames might be mistaken
for command-line options).</p>
</dd>
</dl>




<h2>examples</h2>


<ul>
<li>
<p>Adds content from all <code>*.txt</code> files under <code>Documentation</code> directory
and its subdirectories:</p>


<pre>$ git add Documentation/\*.txt</pre>



<p>Note that the asterisk <code>*</code> is quoted from the shell in this
example; this lets the command include the files from
subdirectories of <code>Documentation/</code> directory.</p>

</li>
<li>
<p>Considers adding content from all git-*.sh scripts:</p>


<pre>$ git add git-*.sh</pre>



<p>Because this example lets the shell expand the asterisk (i.e. you are
listing the files explicitly), it does not consider
<code>subdir/git-foo.sh</code>.</p>

</li>
</ul>




<h2>INTERACTIVE MODE</h2>


<p>When the command enters the interactive mode, it shows the
output of the <em>status</em> subcommand, and then goes into its
interactive command loop.</p>


<p>The command loop shows the list of subcommands available, and
gives a prompt "What now&gt; ".  In general, when the prompt ends
with a single <em>&gt;</em>, you can pick only one of the choices given
and type return, like this:</p>



<pre>    *** Commands ***
      1: status       2: update       3: revert       4: add untracked
      5: patch        6: diff         7: quit         8: help
    What now&gt; 1</pre>



<p>You also could say <code>s</code> or <code>sta</code> or <code>status</code> above as long as the
choice is unique.</p>


<p>The main command loop has 6 subcommands (plus help and quit).</p>


<dl>
<dt> status </dt>
<dd>
<p>This shows the change between HEAD and index (i.e. what will be
committed if you say <code>git commit</code>), and between index and
working tree files (i.e. what you could stage further before
<code>git commit</code> using <code>git add</code>) for each path.  A sample output
looks like this:</p>


<pre>              staged     unstaged path
     1:       binary      nothing foo.png
     2:     +403/-35        +1/-1 git-add--interactive.perl</pre>



<p>It shows that foo.png has differences from HEAD (but that is
binary so line count cannot be shown) and there is no
difference between indexed copy and the working tree
version (if the working tree version were also different,
<em>binary</em> would have been shown in place of <em>nothing</em>).  The
other file, git-add--interactive.perl, has 403 lines added
and 35 lines deleted if you commit what is in the index, but
working tree file has further modifications (one addition and
one deletion).</p>

</dd>
<dt> update </dt>
<dd>
<p>This shows the status information and issues an "Update&gt;&gt;"
prompt.  When the prompt ends with double <em>&gt;&gt;</em>, you can
make more than one selection, concatenated with whitespace or
comma.  Also you can say ranges.  E.g. "2-5 7,9" to choose
2,3,4,5,7,9 from the list.  If the second number in a range is
omitted, all remaining patches are taken.  E.g. "7-" to choose
7,8,9 from the list.  You can say <em>*</em> to choose everything.</p>

<p>What you chose are then highlighted with <em>*</em>,
like this:</p>



<pre>           staged     unstaged path
  1:       binary      nothing foo.png
* 2:     +403/-35        +1/-1 git-add--interactive.perl</pre>



<p>To remove selection, prefix the input with <code>-</code>
like this:</p>



<pre>Update&gt;&gt; -2</pre>



<p>After making the selection, answer with an empty line to stage the
contents of working tree files for selected paths in the index.</p>

</dd>
<dt> revert </dt>
<dd>
<p>This has a very similar UI to <em>update</em>, and the staged
information for selected paths are reverted to that of the
HEAD version.  Reverting new paths makes them untracked.</p>
</dd>
<dt> add untracked </dt>
<dd>
<p>This has a very similar UI to <em>update</em> and
<em>revert</em>, and lets you add untracked paths to the index.</p>
</dd>
<dt> patch </dt>
<dd>
<p>This lets you choose one path out of a <em>status</em> like selection.
After choosing the path, it presents the diff between the index
and the working tree file and asks you if you want to stage
the change of each hunk.  You can select one of the following
options and type return:</p>


<pre>y - stage this hunk
n - do not stage this hunk
q - quit; do not stage this hunk or any of the remaining ones
a - stage this hunk and all later hunks in the file
d - do not stage this hunk or any of the later hunks in the file
g - select a hunk to go to
/ - search for a hunk matching the given regex
j - leave this hunk undecided, see next undecided hunk
J - leave this hunk undecided, see next hunk
k - leave this hunk undecided, see previous undecided hunk
K - leave this hunk undecided, see previous hunk
s - split the current hunk into smaller hunks
e - manually edit the current hunk
? - print help</pre>



<p>After deciding the fate for all hunks, if there is any hunk
that was chosen, the index is updated with the selected hunks.</p>


<p>You can omit having to type return here, by setting the configuration
variable <code>interactive.singleKey</code> to <code>true</code>.</p>

</dd>
<dt> diff </dt>
<dd>
<p>This lets you review what will be committed (i.e. between
HEAD and index).</p>
</dd>
</dl>




<h2>EDITING PATCHES</h2>


<p>Invoking <code>git add -e</code> or selecting <code>e</code> from the interactive hunk
selector will open a patch in your editor; after the editor exits, the
result is applied to the index. You are free to make arbitrary changes
to the patch, but note that some changes may have confusing results, or
even result in a patch that cannot be applied.  If you want to abort the
operation entirely (i.e., stage nothing new in the index), simply delete
all lines of the patch. The list below describes some common things you
may see in a patch, and which editing operations make sense on them.</p>




<dl>
<dt> added content </dt>
<dd>
<p>Added content is represented by lines beginning with "+". You can
prevent staging any addition lines by deleting them.</p>
</dd>
<dt> removed content </dt>
<dd>
<p>Removed content is represented by lines beginning with "-". You can
prevent staging their removal by converting the "-" to a " " (space).</p>
</dd>
<dt> modified content </dt>
<dd>
<p>Modified content is represented by "-" lines (removing the old content)
followed by "+" lines (adding the replacement content). You can
prevent staging the modification by converting "-" lines to " ", and
removing "+" lines. Beware that modifying only half of the pair is
likely to introduce confusing changes to the index.</p>
</dd>
</dl>




<p>There are also more complex operations that can be performed. But beware
that because the patch is applied only to the index and not the working
tree, the working tree will appear to "undo" the change in the index.
For example, introducing a new line into the index that is in neither
the HEAD nor the working tree will stage the new line for commit, but
the line will appear to be reverted in the working tree.</p>


<p>Avoid using these constructs, or do so with extreme caution.</p>




<dl>
<dt> removing untouched content </dt>
<dd>
<p>Content which does not differ between the index and working tree may be
shown on context lines, beginning with a " " (space).  You can stage
context lines for removal by converting the space to a "-". The
resulting working tree file will appear to re-add the content.</p>
</dd>
<dt> modifying existing content </dt>
<dd>
<p>One can also modify context lines by staging them for removal (by
converting " " to "-") and adding a "+" line with the new content.
Similarly, one can modify "+" lines for existing additions or
modifications. In all cases, the new modification will appear reverted
in the working tree.</p>
</dd>
<dt> new content </dt>
<dd>
<p>You may also add new content that does not exist in the patch; simply
add new lines, each starting with "+". The addition will appear
reverted in the working tree.</p>
</dd>
</dl>




<p>There are also several operations which should be avoided entirely, as
they will make the patch impossible to apply:</p>


<ul>
<li>
<p>adding context (" ") or removal ("-") lines</p>
</li>
<li>
<p>deleting context or removal lines</p>
</li>
<li>
<p>modifying the contents of context or removal lines</p>
</li>
</ul>




<h2>SEE ALSO</h2>


<p><a href="/docs/git-status">git-status[1]</a>
<a href="/docs/git-rm">git-rm[1]</a>
<a href="/docs/git-reset">git-reset[1]</a>
<a href="/docs/git-mv">git-mv[1]</a>
<a href="/docs/git-commit">git-commit[1]</a>
<a href="/docs/git-update-index">git-update-index[1]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-status - Show the working tree status</span></h2>




<h2><br>synopsis</h2>


<pre><em>git status</em> [&lt;options&gt;…<U+200B>] [--] [&lt;pathspec&gt;…<U+200B>]</pre>




<h2>description</h2>


<p>Displays paths that have differences between the index file and the
current HEAD commit, paths that have differences between the working
tree and the index file, and paths in the working tree that are not
tracked by Git (and are not ignored by <a href="/docs/gitignore">gitignore[5]</a>). The first
are what you <em>would</em> commit by running <code>git commit</code>; the second and
third are what you <em>could</em> commit by running <em>git add</em> before running
<code>git commit</code>.</p>




<h2>options</h2>


<dl>
<dt> -s </dt>
<dt> --short </dt>
<dd>
<p>Give the output in the short-format.</p>
</dd>
<dt> -b </dt>
<dt> --branch </dt>
<dd>
<p>Show the branch and tracking info even in short-format.</p>
</dd>
<dt> --show-stash </dt>
<dd>
<p>Show the number of entries currently stashed away.</p>
</dd>
<dt> --porcelain[=&lt;version&gt;] </dt>
<dd>
<p>Give the output in an easy-to-parse format for scripts.
This is similar to the short output, but will remain stable
across Git versions and regardless of user configuration. See
below for details.</p>

<p>The version parameter is used to specify the format version.
This is optional and defaults to the original version <em>v1</em> format.</p>

</dd>
<dt> --long </dt>
<dd>
<p>Give the output in the long-format. This is the default.</p>
</dd>
<dt> -v </dt>
<dt> --verbose </dt>
<dd>
<p>In addition to the names of files that have been changed, also
show the textual changes that are staged to be committed
(i.e., like the output of <code>git diff --cached</code>). If <code>-v</code> is specified
twice, then also show the changes in the working tree that
have not yet been staged (i.e., like the output of <code>git diff</code>).</p>
</dd>
<dt> -u[&lt;mode&gt;] </dt>
<dt> --untracked-files[=&lt;mode&gt;] </dt>
<dd>
<p>Show untracked files.</p>



<p>The mode parameter is used to specify the handling of untracked files.
It is optional: it defaults to <em>all</em>, and if specified, it must be
stuck to the option (e.g. <code>-uno</code>, but not <code>-u no</code>).</p>


<p>The possible options are:</p>


<ul>
<li>
<p><em>no</em>     - Show no untracked files.</p>
</li>
<li>
<p><em>normal</em> - Shows untracked files and directories.</p>
</li>
<li>
<p><em>all</em>    - Also shows individual files in untracked directories.</p>
</li>
</ul>


<p>When <code>-u</code> option is not used, untracked files and directories are
shown (i.e. the same as specifying <code>normal</code>), to help you avoid
forgetting to add newly created files.  Because it takes extra work
to find untracked files in the filesystem, this mode may take some
time in a large working tree.
Consider enabling untracked cache and split index if supported (see
<code>git update-index --untracked-cache</code> and <code>git update-index
--split-index</code>), Otherwise you can use <code>no</code> to have <code>git status</code>
return more quickly without showing untracked files.</p>


<p>The default can be changed using the status.showUntrackedFiles
configuration variable documented in <a href="/docs/git-config">git-config[1]</a>.</p>



</dd>
<dt> --ignore-submodules[=&lt;when&gt;] </dt>
<dd>
<p>Ignore changes to submodules when looking for changes. &lt;when&gt; can be
either "none", "untracked", "dirty" or "all", which is the default.
Using "none" will consider the submodule modified when it either contains
untracked or modified files or its HEAD differs from the commit recorded
in the superproject and can be used to override any settings of the
<em>ignore</em> option in <a href="/docs/git-config">git-config[1]</a> or <a href="/docs/gitmodules">gitmodules[5]</a>. When
"untracked" is used submodules are not considered dirty when they only
contain untracked content (but they are still scanned for modified
content). Using "dirty" ignores all changes to the work tree of submodules,
only changes to the commits stored in the superproject are shown (this was
the behavior before 1.7.0). Using "all" hides all changes to submodules
(and suppresses the output of submodule summaries when the config option
<code>status.submoduleSummary</code> is set).</p>
</dd>
<dt> --ignored[=&lt;mode&gt;] </dt>
<dd>
<p>Show ignored files as well.</p>



<p>The mode parameter is used to specify the handling of ignored files.
It is optional: it defaults to <em>traditional</em>.</p>


<p>The possible options are:</p>


<ul>
<li>
<p><em>traditional</em> - Shows ignored files and directories, unless
--untracked-files=all is specified, in which case
individual files in ignored directories are
displayed.</p>
</li>
<li>
<p><em>no</em>	        - Show no ignored files.</p>
</li>
<li>
<p><em>matching</em>    - Shows ignored files and directories matching an
ignore pattern.</p>
</li>
</ul>


<p>When <em>matching</em> mode is specified, paths that explicitly match an
ignored pattern are shown. If a directory matches an ignore pattern,
then it is shown, but not paths contained in the ignored directory. If
a directory does not match an ignore pattern, but all contents are
ignored, then the directory is not shown, but all contents are shown.</p>



</dd>
<dt> -z </dt>
<dd>
<p>Terminate entries with NUL, instead of LF.  This implies
the <code>--porcelain=v1</code> output format if no other format is given.</p>
</dd>
<dt> --column[=&lt;options&gt;] </dt>
<dt> --no-column </dt>
<dd>
<p>Display untracked files in columns. See configuration variable
<code>column.status</code> for option syntax. <code>--column</code> and <code>--no-column</code>
without options are equivalent to <em>always</em> and <em>never</em>
respectively.</p>
</dd>
<dt> --ahead-behind </dt>
<dt> --no-ahead-behind </dt>
<dd>
<p>Display or do not display detailed ahead/behind counts for the
branch relative to its upstream branch.  Defaults to true.</p>
</dd>
<dt> --renames </dt>
<dt> --no-renames </dt>
<dd>
<p>Turn on/off rename detection regardless of user configuration.
See also <a href="/docs/git-diff">git-diff[1]</a> <code>--no-renames</code>.</p>
</dd>
<dt> --find-renames[=&lt;n&gt;] </dt>
<dd>
<p>Turn on rename detection, optionally setting the similarity
threshold.
See also <a href="/docs/git-diff">git-diff[1]</a> <code>--find-renames</code>.</p>
</dd>
<dt> &lt;pathspec&gt;…<U+200B> </dt>
<dd>
<p>See the <em>pathspec</em> entry in <a href="/docs/gitglossary">gitglossary[7]</a>.</p>
</dd>
</dl>




<h2>OUTPUT</h2>


<p>The output from this command is designed to be used as a commit
template comment.
The default, long format, is designed to be human readable,
verbose and descriptive.  Its contents and format are subject to change
at any time.</p>


<p>The paths mentioned in the output, unlike many other Git commands, are
made relative to the current directory if you are working in a
subdirectory (this is on purpose, to help cutting and pasting). See
the status.relativePaths config option below.</p>


<h3>
Short Format</h3>

<p>In the short-format, the status of each path is shown as one of these
forms</p>



<pre>XY PATH
XY ORIG_PATH -&gt; PATH</pre>



<p>where <code>ORIG_PATH</code> is where the renamed/copied contents came
from. <code>ORIG_PATH</code> is only shown when the entry is renamed or
copied. The <code>XY</code> is a two-letter status code.</p>


<p>The fields (including the <code>-&gt;</code>) are separated from each other by a
single space. If a filename contains whitespace or other nonprintable
characters, that field will be quoted in the manner of a C string
literal: surrounded by ASCII double quote (34) characters, and with
interior special characters backslash-escaped.</p>


<p>There are three different types of states that are shown using this format, and
each one uses the <code>XY</code> syntax differently:</p>


<ul>
<li>
<p>When a merge is occurring and the merge was successful, or outside of a merge
situation, <code>X</code> shows the status of the index and <code>Y</code> shows the status of the
working tree.</p>
</li>
<li>
<p>When a merge conflict has occurred and has not yet been resolved, <code>X</code> and <code>Y</code>
show the state introduced by each head of the merge, relative to the common
ancestor. These paths are said to be <em>unmerged</em>.</p>
</li>
<li>
<p>When a path is untracked, <code>X</code> and <code>Y</code> are always the same, since they are
unknown to the index. <code>??</code> is used for untracked paths. Ignored files are
not listed unless <code>--ignored</code> is used; if it is, ignored files are indicated
by <code>!!</code>.</p>
</li>
</ul>


<p>Note that the term <em>merge</em> here also includes rebases using the default
<code>--merge</code> strategy, cherry-picks, and anything else using the merge machinery.</p>


<p>In the following table, these three classes are shown in separate sections, and
these characters are used for <code>X</code> and <code>Y</code> fields for the first two sections that
show tracked paths:</p>


<ul>
<li>
<p>' ' = unmodified</p>
</li>
<li>
<p><em>M</em> = modified</p>
</li>
<li>
<p><em>T</em> = file type changed (regular file, symbolic link or submodule)</p>
</li>
<li>
<p><em>A</em> = added</p>
</li>
<li>
<p><em>D</em> = deleted</p>
</li>
<li>
<p><em>R</em> = renamed</p>
</li>
<li>
<p><em>C</em> = copied (if config option status.renames is set to "copies")</p>
</li>
<li>
<p><em>U</em> = updated but unmerged</p>
</li>
</ul>



<pre>X          Y     Meaning
-------------------------------------------------
	 [AMD]   not updated
M        [ MTD]  updated in index
T        [ MTD]  type changed in index
A        [ MTD]  added to index
D                deleted from index
R        [ MTD]  renamed in index
C        [ MTD]  copied in index
[MTARC]          index and work tree matches
[ MTARC]    M    work tree changed since index
[ MTARC]    T    type changed in work tree since index
[ MTARC]    D    deleted in work tree
	    R    renamed in work tree
	    C    copied in work tree
-------------------------------------------------
D           D    unmerged, both deleted
A           U    unmerged, added by us
U           D    unmerged, deleted by them
U           A    unmerged, added by them
D           U    unmerged, deleted by us
A           A    unmerged, both added
U           U    unmerged, both modified
-------------------------------------------------
?           ?    untracked
!           !    ignored
-------------------------------------------------</pre>



<p>Submodules have more state and instead report
		M    the submodule has a different HEAD than
		     recorded in the index
		m    the submodule has modified content
		?    the submodule has untracked files
since modified content or untracked files in a submodule cannot be added
via <code>git add</code> in the superproject to prepare a commit.</p>


<p><em>m</em> and <em>?</em> are applied recursively. For example if a nested submodule
in a submodule contains an untracked file, this is reported as <em>?</em> as well.</p>


<p>If -b is used the short-format status is preceded by a line</p>



<pre>## branchname tracking info</pre>




<h3>
Porcelain Format Version 1</h3>

<p>Version 1 porcelain format is similar to the short format, but is guaranteed
not to change in a backwards-incompatible way between Git versions or
based on user configuration. This makes it ideal for parsing by scripts.
The description of the short format above also describes the porcelain
format, with a few exceptions:</p>


<ol>
<li>
<p>The user’s color.status configuration is not respected; color will
always be off.</p>
</li>
<li>
<p>The user’s status.relativePaths configuration is not respected; paths
shown will always be relative to the repository root.</p>
</li>
</ol>


<p>There is also an alternate -z format recommended for machine parsing. In
that format, the status field is the same, but some other things
change.  First, the <em>-&gt;</em> is omitted from rename entries and the field
order is reversed (e.g <em>from -&gt; to</em> becomes <em>to from</em>). Second, a NUL
(ASCII 0) follows each filename, replacing space as a field separator
and the terminating newline (but a space still separates the status
field from the first filename).  Third, filenames containing special
characters are not specially formatted; no quoting or
backslash-escaping is performed.</p>


<p>Any submodule changes are reported as modified <code>M</code> instead of <code>m</code> or single <code>?</code>.</p>



<h3>
Porcelain Format Version 2</h3>

<p>Version 2 format adds more detailed information about the state of
the worktree and changed items.  Version 2 also defines an extensible
set of easy to parse optional headers.</p>


<p>Header lines start with "#" and are added in response to specific
command line arguments.  Parsers should ignore headers they
don’t recognize.</p>


<h4>
Branch Headers</h4>

<p>If <code>--branch</code> is given, a series of header lines are printed with
information about the current branch.</p>



<pre>Line                                     Notes
------------------------------------------------------------
# branch.oid &lt;commit&gt; | (initial)        Current commit.
# branch.head &lt;branch&gt; | (detached)      Current branch.
# branch.upstream &lt;upstream_branch&gt;      If upstream is set.
# branch.ab +&lt;ahead&gt; -&lt;behind&gt;           If upstream is set and
					 the commit is present.
------------------------------------------------------------</pre>




<h4>
Stash Information</h4>

<p>If <code>--show-stash</code> is given, one line is printed showing the number of stash
entries if non-zero:</p>



<pre># stash &lt;N&gt;</pre>




<h4>
Changed Tracked Entries</h4>

<p>Following the headers, a series of lines are printed for tracked
entries.  One of three different line formats may be used to describe
an entry depending on the type of change.  Tracked entries are printed
in an undefined order; parsers should allow for a mixture of the 3
line types in any order.</p>


<p>Ordinary changed entries have the following format:</p>



<pre>1 &lt;XY&gt; &lt;sub&gt; &lt;mH&gt; &lt;mI&gt; &lt;mW&gt; &lt;hH&gt; &lt;hI&gt; &lt;path&gt;</pre>



<p>Renamed or copied entries have the following format:</p>



<pre>2 &lt;XY&gt; &lt;sub&gt; &lt;mH&gt; &lt;mI&gt; &lt;mW&gt; &lt;hH&gt; &lt;hI&gt; &lt;X&gt;&lt;score&gt; &lt;path&gt;&lt;sep&gt;&lt;origPath&gt;</pre>




<pre>Field       Meaning
--------------------------------------------------------
&lt;XY&gt;        A 2 character field containing the staged and
	    unstaged XY values described in the short format,
	    with unchanged indicated by a "." rather than
	    a space.
&lt;sub&gt;       A 4 character field describing the submodule state.
	    "N..." when the entry is not a submodule.
	    "S&lt;c&gt;&lt;m&gt;&lt;u&gt;" when the entry is a submodule.
	    &lt;c&gt; is "C" if the commit changed; otherwise ".".
	    &lt;m&gt; is "M" if it has tracked changes; otherwise ".".
	    &lt;u&gt; is "U" if there are untracked changes; otherwise ".".
&lt;mH&gt;        The octal file mode in HEAD.
&lt;mI&gt;        The octal file mode in the index.
&lt;mW&gt;        The octal file mode in the worktree.
&lt;hH&gt;        The object name in HEAD.
&lt;hI&gt;        The object name in the index.
&lt;X&gt;&lt;score&gt;  The rename or copy score (denoting the percentage
	    of similarity between the source and target of the
	    move or copy). For example "R100" or "C75".
&lt;path&gt;      The pathname.  In a renamed/copied entry, this
	    is the target path.
&lt;sep&gt;       When the `-z` option is used, the 2 pathnames are separated
	    with a NUL (ASCII 0x00) byte; otherwise, a tab (ASCII 0x09)
	    byte separates them.
&lt;origPath&gt;  The pathname in the commit at HEAD or in the index.
	    This is only present in a renamed/copied entry, and
	    tells where the renamed/copied contents came from.
--------------------------------------------------------</pre>



<p>Unmerged entries have the following format; the first character is
a "u" to distinguish from ordinary changed entries.</p>



<pre>u &lt;XY&gt; &lt;sub&gt; &lt;m1&gt; &lt;m2&gt; &lt;m3&gt; &lt;mW&gt; &lt;h1&gt; &lt;h2&gt; &lt;h3&gt; &lt;path&gt;</pre>




<pre>Field       Meaning
--------------------------------------------------------
&lt;XY&gt;        A 2 character field describing the conflict type
	    as described in the short format.
&lt;sub&gt;       A 4 character field describing the submodule state
	    as described above.
&lt;m1&gt;        The octal file mode in stage 1.
&lt;m2&gt;        The octal file mode in stage 2.
&lt;m3&gt;        The octal file mode in stage 3.
&lt;mW&gt;        The octal file mode in the worktree.
&lt;h1&gt;        The object name in stage 1.
&lt;h2&gt;        The object name in stage 2.
&lt;h3&gt;        The object name in stage 3.
&lt;path&gt;      The pathname.
--------------------------------------------------------</pre>




<h4>
Other Items</h4>

<p>Following the tracked entries (and if requested), a series of
lines will be printed for untracked and then ignored items
found in the worktree.</p>


<p>Untracked items have the following format:</p>



<pre>? &lt;path&gt;</pre>



<p>Ignored items have the following format:</p>



<pre>! &lt;path&gt;</pre>




<h4>
Pathname Format Notes and -z</h4>

<p>When the <code>-z</code> option is given, pathnames are printed as is and
without any quoting and lines are terminated with a NUL (ASCII 0x00)
byte.</p>


<p>Without the <code>-z</code> option, pathnames with "unusual" characters are
quoted as explained for the configuration variable <code>core.quotePath</code>
(see <a href="/docs/git-config">git-config[1]</a>).</p>






<h2>CONFIGURATION</h2>


<p>The command honors <code>color.status</code> (or <code>status.color</code><U+2009>—<U+2009>they
mean the same thing and the latter is kept for backward
compatibility) and <code>color.status.&lt;slot&gt;</code> configuration variables
to colorize its output.</p>


<p>If the config variable <code>status.relativePaths</code> is set to false, then all
paths shown are relative to the repository root, not to the current
directory.</p>


<p>If <code>status.submoduleSummary</code> is set to a non zero number or true (identical
to -1 or an unlimited number), the submodule summary will be enabled for
the long format and a summary of commits for modified submodules will be
shown (see --summary-limit option of <a href="/docs/git-submodule">git-submodule[1]</a>). Please note
that the summary output from the status command will be suppressed for all
submodules when <code>diff.ignoreSubmodules</code> is set to <em>all</em> or only for those
submodules where <code>submodule.&lt;name&gt;.ignore=all</code>. To also view the summary for
ignored submodules you can either use the --ignore-submodules=dirty command
line option or the <em>git submodule summary</em> command, which shows a similar
output but does not honor these settings.</p>




<h2>BACKGROUND REFRESH</h2>


<p>By default, <code>git status</code> will automatically refresh the index, updating
the cached stat information from the working tree and writing out the
result. Writing out the updated index is an optimization that isn’t
strictly necessary (<code>status</code> computes the values for itself, but writing
them out is just to save subsequent programs from repeating our
computation). When <code>status</code> is run in the background, the lock held
during the write may conflict with other simultaneous processes, causing
them to fail. Scripts running <code>status</code> in the background should consider
using <code>git --no-optional-locks status</code> (see <a href="/docs/git">git[1]</a> for details).</p>




<h2>SEE ALSO</h2>


<p><a href="/docs/gitignore">gitignore[5]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-diff - Show changes between commits, commit and working tree, etc</span></h2>




<h2><br>synopsis</h2>


<pre><em>git diff</em> [&lt;options&gt;] [&lt;commit&gt;] [--] [&lt;path&gt;…<U+200B>]
<em>git diff</em> [&lt;options&gt;] --cached [--merge-base] [&lt;commit&gt;] [--] [&lt;path&gt;…<U+200B>]
<em>git diff</em> [&lt;options&gt;] [--merge-base] &lt;commit&gt; [&lt;commit&gt;…<U+200B>] &lt;commit&gt; [--] [&lt;path&gt;…<U+200B>]
<em>git diff</em> [&lt;options&gt;] &lt;commit&gt;…<U+200B>&lt;commit&gt; [--] [&lt;path&gt;…<U+200B>]
<em>git diff</em> [&lt;options&gt;] &lt;blob&gt; &lt;blob&gt;
<em>git diff</em> [&lt;options&gt;] --no-index [--] &lt;path&gt; &lt;path&gt;</pre>




<h2>description</h2>


<p>Show changes between the working tree and the index or a tree, changes
between the index and a tree, changes between two trees, changes resulting
from a merge, changes between two blob objects, or changes between two
files on disk.</p>


<dl>
<dt> <em>git diff</em> [&lt;options&gt;] [--] [&lt;path&gt;…<U+200B>] </dt>
<dd>
<p>This form is to view the changes you made relative to
the index (staging area for the next commit).  In other
words, the differences are what you <em>could</em> tell Git to
further add to the index but you still haven’t.  You can
stage these changes by using <a href="/docs/git-add">git-add[1]</a>.</p>
</dd>
<dt> <em>git diff</em> [&lt;options&gt;] --no-index [--] &lt;path&gt; &lt;path&gt; </dt>
<dd>
<p>This form is to compare the given two paths on the
filesystem.  You can omit the <code>--no-index</code> option when
running the command in a working tree controlled by Git and
at least one of the paths points outside the working tree,
or when running the command outside a working tree
controlled by Git. This form implies <code>--exit-code</code>.</p>
</dd>
<dt> <em>git diff</em> [&lt;options&gt;] --cached [--merge-base] [&lt;commit&gt;] [--] [&lt;path&gt;…<U+200B>] </dt>
<dd>
<p>This form is to view the changes you staged for the next
commit relative to the named &lt;commit&gt;.  Typically you
would want comparison with the latest commit, so if you
do not give &lt;commit&gt;, it defaults to HEAD.
If HEAD does not exist (e.g. unborn branches) and
&lt;commit&gt; is not given, it shows all staged changes.
--staged is a synonym of --cached.</p>

<p>If --merge-base is given, instead of using &lt;commit&gt;, use the merge base
of &lt;commit&gt; and HEAD.  <code>git diff --cached --merge-base A</code> is equivalent to
<code>git diff --cached $(git merge-base A HEAD)</code>.</p>

</dd>
<dt> <em>git diff</em> [&lt;options&gt;] [--merge-base] &lt;commit&gt; [--] [&lt;path&gt;…<U+200B>] </dt>
<dd>
<p>This form is to view the changes you have in your
working tree relative to the named &lt;commit&gt;.  You can
use HEAD to compare it with the latest commit, or a
branch name to compare with the tip of a different
branch.</p>

<p>If --merge-base is given, instead of using &lt;commit&gt;, use the merge base
of &lt;commit&gt; and HEAD.  <code>git diff --merge-base A</code> is equivalent to
<code>git diff $(git merge-base A HEAD)</code>.</p>

</dd>
<dt> <em>git diff</em> [&lt;options&gt;] [--merge-base] &lt;commit&gt; &lt;commit&gt; [--] [&lt;path&gt;…<U+200B>] </dt>
<dd>
<p>This is to view the changes between two arbitrary
&lt;commit&gt;.</p>

<p>If --merge-base is given, use the merge base of the two commits for the
"before" side.  <code>git diff --merge-base A B</code> is equivalent to
<code>git diff $(git merge-base A B) B</code>.</p>

</dd>
<dt> <em>git diff</em> [&lt;options&gt;] &lt;commit&gt; &lt;commit&gt;…<U+200B> &lt;commit&gt; [--] [&lt;path&gt;…<U+200B>] </dt>
<dd>
<p>This form is to view the results of a merge commit.  The first
listed &lt;commit&gt; must be the merge itself; the remaining two or
more commits should be its parents.  A convenient way to produce
the desired set of revisions is to use the <code>^@</code> suffix.
For instance, if <code>master</code> names a merge commit, <code>git diff master
master^@</code> gives the same combined diff as <code>git show master</code>.</p>
</dd>
<dt> <em>git diff</em> [&lt;options&gt;] &lt;commit&gt;..&lt;commit&gt; [--] [&lt;path&gt;…<U+200B>] </dt>
<dd>
<p>This is synonymous to the earlier form (without the <code>..</code>) for
viewing the changes between two arbitrary &lt;commit&gt;.  If &lt;commit&gt; on
one side is omitted, it will have the same effect as
using HEAD instead.</p>
</dd>
<dt> <em>git diff</em> [&lt;options&gt;] &lt;commit&gt;...&lt;commit&gt; [--] [&lt;path&gt;…<U+200B>] </dt>
<dd>
<p>This form is to view the changes on the branch containing
and up to the second &lt;commit&gt;, starting at a common ancestor
of both &lt;commit&gt;.  <code>git diff A...B</code> is equivalent to
<code>git diff $(git merge-base A B) B</code>.  You can omit any one
of &lt;commit&gt;, which has the same effect as using HEAD instead.</p>
</dd>
</dl>


<p>Just in case you are doing something exotic, it should be
noted that all of the &lt;commit&gt; in the above description, except
in the <code>--merge-base</code> case and in the last two forms that use <code>..</code>
notations, can be any &lt;tree&gt;.</p>


<p>For a more complete list of ways to spell &lt;commit&gt;, see
"SPECIFYING REVISIONS" section in <a href="/docs/gitrevisions">gitrevisions[7]</a>.
However, "diff" is about comparing two <em>endpoints</em>, not ranges,
and the range notations (<code>&lt;commit&gt;..&lt;commit&gt;</code> and
<code>&lt;commit&gt;...&lt;commit&gt;</code>) do not mean a range as defined in the
"SPECIFYING RANGES" section in <a href="/docs/gitrevisions">gitrevisions[7]</a>.</p>


<dl>
<dt> <em>git diff</em> [&lt;options&gt;] &lt;blob&gt; &lt;blob&gt; </dt>
<dd>
<p>This form is to view the differences between the raw
contents of two blob objects.</p>
</dd>
</dl>




<h2>options</h2>


<dl>
<dt> -p </dt>
<dt> -u </dt>
<dt> --patch </dt>
<dd>
<p>Generate patch (see section on generating patches).
This is the default.</p>
</dd>
<dt> -s </dt>
<dt> --no-patch </dt>
<dd>
<p>Suppress diff output. Useful for commands like <code>git show</code> that
show the patch by default, or to cancel the effect of <code>--patch</code>.</p>
</dd>
<dt> -U&lt;n&gt; </dt>
<dt> --unified=&lt;n&gt; </dt>
<dd>
<p>Generate diffs with &lt;n&gt; lines of context instead of
the usual three.
Implies <code>--patch</code>.</p>
</dd>
<dt> --output=&lt;file&gt; </dt>
<dd>
<p>Output to a specific file instead of stdout.</p>
</dd>
<dt> --output-indicator-new=&lt;char&gt; </dt>
<dt> --output-indicator-old=&lt;char&gt; </dt>
<dt> --output-indicator-context=&lt;char&gt; </dt>
<dd>
<p>Specify the character used to indicate new, old or context
lines in the generated patch. Normally they are <em>+</em>, <em>-</em> and
' ' respectively.</p>
</dd>
<dt> --raw </dt>
<dd>
<p>Generate the diff in raw format.</p>
</dd>
<dt> --patch-with-raw </dt>
<dd>
<p>Synonym for <code>-p --raw</code>.</p>
</dd>
<dt> --indent-heuristic </dt>
<dd>
<p>Enable the heuristic that shifts diff hunk boundaries to make patches
easier to read. This is the default.</p>
</dd>
<dt> --no-indent-heuristic </dt>
<dd>
<p>Disable the indent heuristic.</p>
</dd>
<dt> --minimal </dt>
<dd>
<p>Spend extra time to make sure the smallest possible
diff is produced.</p>
</dd>
<dt> --patience </dt>
<dd>
<p>Generate a diff using the "patience diff" algorithm.</p>
</dd>
<dt> --histogram </dt>
<dd>
<p>Generate a diff using the "histogram diff" algorithm.</p>
</dd>
<dt> --anchored=&lt;text&gt; </dt>
<dd>
<p>Generate a diff using the "anchored diff" algorithm.</p>

<p>This option may be specified more than once.</p>


<p>If a line exists in both the source and destination, exists only once,
and starts with this text, this algorithm attempts to prevent it from
appearing as a deletion or addition in the output. It uses the "patience
diff" algorithm internally.</p>

</dd>
<dt> --diff-algorithm={patience|minimal|histogram|myers} </dt>
<dd>
<p>Choose a diff algorithm. The variants are as follows:</p>



<dl>
<dt> <code>default</code>, <code>myers</code> </dt>
<dd>
<p>The basic greedy diff algorithm. Currently, this is the default.</p>
</dd>
<dt> <code>minimal</code> </dt>
<dd>
<p>Spend extra time to make sure the smallest possible diff is
produced.</p>
</dd>
<dt> <code>patience</code> </dt>
<dd>
<p>Use "patience diff" algorithm when generating patches.</p>
</dd>
<dt> <code>histogram</code> </dt>
<dd>
<p>This algorithm extends the patience algorithm to "support
low-occurrence common elements".</p>
</dd>
</dl>




<p>For instance, if you configured the <code>diff.algorithm</code> variable to a
non-default value and want to use the default one, then you
have to use <code>--diff-algorithm=default</code> option.</p>

</dd>
<dt> --stat[=&lt;width&gt;[,&lt;name-width&gt;[,&lt;count&gt;]]] </dt>
<dd>
<p>Generate a diffstat. By default, as much space as necessary
will be used for the filename part, and the rest for the graph
part. Maximum width defaults to terminal width, or 80 columns
if not connected to a terminal, and can be overridden by
<code>&lt;width&gt;</code>. The width of the filename part can be limited by
giving another width <code>&lt;name-width&gt;</code> after a comma. The width
of the graph part can be limited by using
<code>--stat-graph-width=&lt;width&gt;</code> (affects all commands generating
a stat graph) or by setting <code>diff.statGraphWidth=&lt;width&gt;</code>
(does not affect <code>git format-patch</code>).
By giving a third parameter <code>&lt;count&gt;</code>, you can limit the
output to the first <code>&lt;count&gt;</code> lines, followed by <code>...</code> if
there are more.</p>

<p>These parameters can also be set individually with <code>--stat-width=&lt;width&gt;</code>,
<code>--stat-name-width=&lt;name-width&gt;</code> and <code>--stat-count=&lt;count&gt;</code>.</p>

</dd>
<dt> --compact-summary </dt>
<dd>
<p>Output a condensed summary of extended header information such
as file creations or deletions ("new" or "gone", optionally "+l"
if it’s a symlink) and mode changes ("+x" or "-x" for adding
or removing executable bit respectively) in diffstat. The
information is put between the filename part and the graph
part. Implies <code>--stat</code>.</p>
</dd>
<dt> --numstat </dt>
<dd>
<p>Similar to <code>--stat</code>, but shows number of added and
deleted lines in decimal notation and pathname without
abbreviation, to make it more machine friendly.  For
binary files, outputs two <code>-</code> instead of saying
<code>0 0</code>.</p>
</dd>
<dt> --shortstat </dt>
<dd>
<p>Output only the last line of the <code>--stat</code> format containing total
number of modified files, as well as number of added and deleted
lines.</p>
</dd>
<dt> -X[&lt;param1,param2,…<U+200B>&gt;] </dt>
<dt> --dirstat[=&lt;param1,param2,…<U+200B>&gt;] </dt>
<dd>
<p>Output the distribution of relative amount of changes for each
sub-directory. The behavior of <code>--dirstat</code> can be customized by
passing it a comma separated list of parameters.
The defaults are controlled by the <code>diff.dirstat</code> configuration
variable (see <a href="/docs/git-config">git-config[1]</a>).
The following parameters are available:</p>



<dl>
<dt> <code>changes</code> </dt>
<dd>
<p>Compute the dirstat numbers by counting the lines that have been
removed from the source, or added to the destination. This ignores
the amount of pure code movements within a file.  In other words,
rearranging lines in a file is not counted as much as other changes.
This is the default behavior when no parameter is given.</p>
</dd>
<dt> <code>lines</code> </dt>
<dd>
<p>Compute the dirstat numbers by doing the regular line-based diff
analysis, and summing the removed/added line counts. (For binary
files, count 64-byte chunks instead, since binary files have no
natural concept of lines). This is a more expensive <code>--dirstat</code>
behavior than the <code>changes</code> behavior, but it does count rearranged
lines within a file as much as other changes. The resulting output
is consistent with what you get from the other <code>--*stat</code> options.</p>
</dd>
<dt> <code>files</code> </dt>
<dd>
<p>Compute the dirstat numbers by counting the number of files changed.
Each changed file counts equally in the dirstat analysis. This is
the computationally cheapest <code>--dirstat</code> behavior, since it does
not have to look at the file contents at all.</p>
</dd>
<dt> <code>cumulative</code> </dt>
<dd>
<p>Count changes in a child directory for the parent directory as well.
Note that when using <code>cumulative</code>, the sum of the percentages
reported may exceed 100%. The default (non-cumulative) behavior can
be specified with the <code>noncumulative</code> parameter.</p>
</dd>
<dt> &lt;limit&gt; </dt>
<dd>
<p>An integer parameter specifies a cut-off percent (3% by default).
Directories contributing less than this percentage of the changes
are not shown in the output.</p>
</dd>
</dl>




<p>Example: The following will count changed files, while ignoring
directories with less than 10% of the total amount of changed files,
and accumulating child directory counts in the parent directories:
<code>--dirstat=files,10,cumulative</code>.</p>

</dd>
<dt> --cumulative </dt>
<dd>
<p>Synonym for --dirstat=cumulative</p>
</dd>
<dt> --dirstat-by-file[=&lt;param1,param2&gt;…<U+200B>] </dt>
<dd>
<p>Synonym for --dirstat=files,param1,param2…<U+200B></p>
</dd>
<dt> --summary </dt>
<dd>
<p>Output a condensed summary of extended header information
such as creations, renames and mode changes.</p>
</dd>
<dt> --patch-with-stat </dt>
<dd>
<p>Synonym for <code>-p --stat</code>.</p>
</dd>
<dt> -z </dt>
<dd>
<p>When <code>--raw</code>, <code>--numstat</code>, <code>--name-only</code> or <code>--name-status</code> has been
given, do not munge pathnames and use NULs as output field terminators.</p>

<p>Without this option, pathnames with "unusual" characters are quoted as
explained for the configuration variable <code>core.quotePath</code> (see
<a href="/docs/git-config">git-config[1]</a>).</p>

</dd>
<dt> --name-only </dt>
<dd>
<p>Show only names of changed files. The file names are often encoded in UTF-8.
For more information see the discussion about encoding in the <a href="/docs/git-log">git-log[1]</a>
manual page.</p>
</dd>
<dt> --name-status </dt>
<dd>
<p>Show only names and status of changed files. See the description
of the <code>--diff-filter</code> option on what the status letters mean.
Just like <code>--name-only</code> the file names are often encoded in UTF-8.</p>
</dd>
<dt> --submodule[=&lt;format&gt;] </dt>
<dd>
<p>Specify how differences in submodules are shown.  When specifying
<code>--submodule=short</code> the <em>short</em> format is used.  This format just
shows the names of the commits at the beginning and end of the range.
When <code>--submodule</code> or <code>--submodule=log</code> is specified, the <em>log</em>
format is used.  This format lists the commits in the range like
<a href="/docs/git-submodule">git-submodule[1]</a> <code>summary</code> does.  When <code>--submodule=diff</code>
is specified, the <em>diff</em> format is used.  This format shows an
inline diff of the changes in the submodule contents between the
commit range.  Defaults to <code>diff.submodule</code> or the <em>short</em> format
if the config option is unset.</p>
</dd>
<dt> --color[=&lt;when&gt;] </dt>
<dd>
<p>Show colored diff.
<code>--color</code> (i.e. without <em>=&lt;when&gt;</em>) is the same as <code>--color=always</code>.
<em>&lt;when&gt;</em> can be one of <code>always</code>, <code>never</code>, or <code>auto</code>.
It can be changed by the <code>color.ui</code> and <code>color.diff</code>
configuration settings.</p>
</dd>
<dt> --no-color </dt>
<dd>
<p>Turn off colored diff.
This can be used to override configuration settings.
It is the same as <code>--color=never</code>.</p>
</dd>
<dt> --color-moved[=&lt;mode&gt;] </dt>
<dd>
<p>Moved lines of code are colored differently.
It can be changed by the <code>diff.colorMoved</code> configuration setting.
The &lt;mode&gt; defaults to <em>no</em> if the option is not given
and to <em>zebra</em> if the option with no mode is given.
The mode must be one of:</p>



<dl>
<dt> no </dt>
<dd>
<p>Moved lines are not highlighted.</p>
</dd>
<dt> default </dt>
<dd>
<p>Is a synonym for <code>zebra</code>. This may change to a more sensible mode
in the future.</p>
</dd>
<dt> plain </dt>
<dd>
<p>Any line that is added in one location and was removed
in another location will be colored with <em>color.diff.newMoved</em>.
Similarly <em>color.diff.oldMoved</em> will be used for removed lines
that are added somewhere else in the diff. This mode picks up any
moved line, but it is not very useful in a review to determine
if a block of code was moved without permutation.</p>
</dd>
<dt> blocks </dt>
<dd>
<p>Blocks of moved text of at least 20 alphanumeric characters
are detected greedily. The detected blocks are
painted using either the <em>color.diff.{old,new}Moved</em> color.
Adjacent blocks cannot be told apart.</p>
</dd>
<dt> zebra </dt>
<dd>
<p>Blocks of moved text are detected as in <em>blocks</em> mode. The blocks
are painted using either the <em>color.diff.{old,new}Moved</em> color or
<em>color.diff.{old,new}MovedAlternative</em>. The change between
the two colors indicates that a new block was detected.</p>
</dd>
<dt> dimmed-zebra </dt>
<dd>
<p>Similar to <em>zebra</em>, but additional dimming of uninteresting parts
of moved code is performed. The bordering lines of two adjacent
blocks are considered interesting, the rest is uninteresting.
<code>dimmed_zebra</code> is a deprecated synonym.</p>
</dd>
</dl>



</dd>
<dt> --no-color-moved </dt>
<dd>
<p>Turn off move detection. This can be used to override configuration
settings. It is the same as <code>--color-moved=no</code>.</p>
</dd>
<dt> --color-moved-ws=&lt;modes&gt; </dt>
<dd>
<p>This configures how whitespace is ignored when performing the
move detection for <code>--color-moved</code>.
It can be set by the <code>diff.colorMovedWS</code> configuration setting.
These modes can be given as a comma separated list:</p>



<dl>
<dt> no </dt>
<dd>
<p>Do not ignore whitespace when performing move detection.</p>
</dd>
<dt> ignore-space-at-eol </dt>
<dd>
<p>Ignore changes in whitespace at EOL.</p>
</dd>
<dt> ignore-space-change </dt>
<dd>
<p>Ignore changes in amount of whitespace.  This ignores whitespace
at line end, and considers all other sequences of one or
more whitespace characters to be equivalent.</p>
</dd>
<dt> ignore-all-space </dt>
<dd>
<p>Ignore whitespace when comparing lines. This ignores differences
even if one line has whitespace where the other line has none.</p>
</dd>
<dt> allow-indentation-change </dt>
<dd>
<p>Initially ignore any whitespace in the move detection, then
group the moved code blocks only into a block if the change in
whitespace is the same per line. This is incompatible with the
other modes.</p>
</dd>
</dl>



</dd>
<dt> --no-color-moved-ws </dt>
<dd>
<p>Do not ignore whitespace when performing move detection. This can be
used to override configuration settings. It is the same as
<code>--color-moved-ws=no</code>.</p>
</dd>
<dt> --word-diff[=&lt;mode&gt;] </dt>
<dd>
<p>Show a word diff, using the &lt;mode&gt; to delimit changed words.
By default, words are delimited by whitespace; see
<code>--word-diff-regex</code> below.  The &lt;mode&gt; defaults to <em>plain</em>, and
must be one of:</p>



<dl>
<dt> color </dt>
<dd>
<p>Highlight changed words using only colors.  Implies <code>--color</code>.</p>
</dd>
<dt> plain </dt>
<dd>
<p>Show words as <code>[-removed-]</code> and <code>{+added+}</code>.  Makes no
attempts to escape the delimiters if they appear in the input,
so the output may be ambiguous.</p>
</dd>
<dt> porcelain </dt>
<dd>
<p>Use a special line-based format intended for script
consumption.  Added/removed/unchanged runs are printed in the
usual unified diff format, starting with a <code>+</code>/<code>-</code>/` `
character at the beginning of the line and extending to the
end of the line.  Newlines in the input are represented by a
tilde <code>~</code> on a line of its own.</p>
</dd>
<dt> none </dt>
<dd>
<p>Disable word diff again.</p>
</dd>
</dl>




<p>Note that despite the name of the first mode, color is used to
highlight the changed parts in all modes if enabled.</p>

</dd>
<dt> --word-diff-regex=&lt;regex&gt; </dt>
<dd>
<p>Use &lt;regex&gt; to decide what a word is, instead of considering
runs of non-whitespace to be a word.  Also implies
<code>--word-diff</code> unless it was already enabled.</p>

<p>Every non-overlapping match of the
&lt;regex&gt; is considered a word.  Anything between these matches is
considered whitespace and ignored(!) for the purposes of finding
differences.  You may want to append <code>|[^[:space:]]</code> to your regular
expression to make sure that it matches all non-whitespace characters.
A match that contains a newline is silently truncated(!) at the
newline.</p>


<p>For example, <code>--word-diff-regex=.</code> will treat each character as a word
and, correspondingly, show differences character by character.</p>


<p>The regex can also be set via a diff driver or configuration option, see
<a href="/docs/gitattributes">gitattributes[5]</a> or <a href="/docs/git-config">git-config[1]</a>.  Giving it explicitly
overrides any diff driver or configuration setting.  Diff drivers
override configuration settings.</p>

</dd>
<dt> --color-words[=&lt;regex&gt;] </dt>
<dd>
<p>Equivalent to <code>--word-diff=color</code> plus (if a regex was
specified) <code>--word-diff-regex=&lt;regex&gt;</code>.</p>
</dd>
<dt> --no-renames </dt>
<dd>
<p>Turn off rename detection, even when the configuration
file gives the default to do so.</p>
</dd>
<dt> --[no-]rename-empty </dt>
<dd>
<p>Whether to use empty blobs as rename source.</p>
</dd>
<dt> --check </dt>
<dd>
<p>Warn if changes introduce conflict markers or whitespace errors.
What are considered whitespace errors is controlled by <code>core.whitespace</code>
configuration.  By default, trailing whitespaces (including
lines that consist solely of whitespaces) and a space character
that is immediately followed by a tab character inside the
initial indent of the line are considered whitespace errors.
Exits with non-zero status if problems are found. Not compatible
with --exit-code.</p>
</dd>
<dt> --ws-error-highlight=&lt;kind&gt; </dt>
<dd>
<p>Highlight whitespace errors in the <code>context</code>, <code>old</code> or <code>new</code>
lines of the diff.  Multiple values are separated by comma,
<code>none</code> resets previous values, <code>default</code> reset the list to
<code>new</code> and <code>all</code> is a shorthand for <code>old,new,context</code>.  When
this option is not given, and the configuration variable
<code>diff.wsErrorHighlight</code> is not set, only whitespace errors in
<code>new</code> lines are highlighted. The whitespace errors are colored
with <code>color.diff.whitespace</code>.</p>
</dd>
<dt> --full-index </dt>
<dd>
<p>Instead of the first handful of characters, show the full
pre- and post-image blob object names on the "index"
line when generating patch format output.</p>
</dd>
<dt> --binary </dt>
<dd>
<p>In addition to <code>--full-index</code>, output a binary diff that
can be applied with <code>git-apply</code>.
Implies <code>--patch</code>.</p>
</dd>
<dt> --abbrev[=&lt;n&gt;] </dt>
<dd>
<p>Instead of showing the full 40-byte hexadecimal object
name in diff-raw format output and diff-tree header
lines, show the shortest prefix that is at least <em>&lt;n&gt;</em>
hexdigits long that uniquely refers the object.
In diff-patch output format, <code>--full-index</code> takes higher
precedence, i.e. if <code>--full-index</code> is specified, full blob
names will be shown regardless of <code>--abbrev</code>.
Non default number of digits can be specified with <code>--abbrev=&lt;n&gt;</code>.</p>
</dd>
<dt> -B[&lt;n&gt;][/&lt;m&gt;] </dt>
<dt> --break-rewrites[=[&lt;n&gt;][/&lt;m&gt;]] </dt>
<dd>
<p>Break complete rewrite changes into pairs of delete and
create. This serves two purposes:</p>

<p>It affects the way a change that amounts to a total rewrite of a file
not as a series of deletion and insertion mixed together with a very
few lines that happen to match textually as the context, but as a
single deletion of everything old followed by a single insertion of
everything new, and the number <code>m</code> controls this aspect of the -B
option (defaults to 60%). <code>-B/70%</code> specifies that less than 30% of the
original should remain in the result for Git to consider it a total
rewrite (i.e. otherwise the resulting patch will be a series of
deletion and insertion mixed together with context lines).</p>


<p>When used with -M, a totally-rewritten file is also considered as the
source of a rename (usually -M only considers a file that disappeared
as the source of a rename), and the number <code>n</code> controls this aspect of
the -B option (defaults to 50%). <code>-B20%</code> specifies that a change with
addition and deletion compared to 20% or more of the file’s size are
eligible for being picked up as a possible source of a rename to
another file.</p>

</dd>
<dt> -M[&lt;n&gt;] </dt>
<dt> --find-renames[=&lt;n&gt;] </dt>
<dd>
<p>Detect renames.
If <code>n</code> is specified, it is a threshold on the similarity
index (i.e. amount of addition/deletions compared to the
file’s size). For example, <code>-M90%</code> means Git should consider a
delete/add pair to be a rename if more than 90% of the file
hasn’t changed.  Without a <code>%</code> sign, the number is to be read as
a fraction, with a decimal point before it.  I.e., <code>-M5</code> becomes
0.5, and is thus the same as <code>-M50%</code>.  Similarly, <code>-M05</code> is
the same as <code>-M5%</code>.  To limit detection to exact renames, use
<code>-M100%</code>.  The default similarity index is 50%.</p>
</dd>
<dt> -C[&lt;n&gt;] </dt>
<dt> --find-copies[=&lt;n&gt;] </dt>
<dd>
<p>Detect copies as well as renames.  See also <code>--find-copies-harder</code>.
If <code>n</code> is specified, it has the same meaning as for <code>-M&lt;n&gt;</code>.</p>
</dd>
<dt> --find-copies-harder </dt>
<dd>
<p>For performance reasons, by default, <code>-C</code> option finds copies only
if the original file of the copy was modified in the same
changeset.  This flag makes the command
inspect unmodified files as candidates for the source of
copy.  This is a very expensive operation for large
projects, so use it with caution.  Giving more than one
<code>-C</code> option has the same effect.</p>
</dd>
<dt> -D </dt>
<dt> --irreversible-delete </dt>
<dd>
<p>Omit the preimage for deletes, i.e. print only the header but not
the diff between the preimage and <code>/dev/null</code>. The resulting patch
is not meant to be applied with <code>patch</code> or <code>git apply</code>; this is
solely for people who want to just concentrate on reviewing the
text after the change. In addition, the output obviously lacks
enough information to apply such a patch in reverse, even manually,
hence the name of the option.</p>

<p>When used together with <code>-B</code>, omit also the preimage in the deletion part
of a delete/create pair.</p>

</dd>
<dt> -l&lt;num&gt; </dt>
<dd>
<p>The <code>-M</code> and <code>-C</code> options involve some preliminary steps that
can detect subsets of renames/copies cheaply, followed by an
exhaustive fallback portion that compares all remaining
unpaired destinations to all relevant sources.  (For renames,
only remaining unpaired sources are relevant; for copies, all
original sources are relevant.)  For N sources and
destinations, this exhaustive check is O(N^2).  This option
prevents the exhaustive portion of rename/copy detection from
running if the number of source/destination files involved
exceeds the specified number.  Defaults to diff.renameLimit.
Note that a value of 0 is treated as unlimited.</p>
</dd>
<dt> --diff-filter=[(A|C|D|M|R|T|U|X|B)…<U+200B>[*]] </dt>
<dd>
<p>Select only files that are Added (<code>A</code>), Copied (<code>C</code>),
Deleted (<code>D</code>), Modified (<code>M</code>), Renamed (<code>R</code>), have their
type (i.e. regular file, symlink, submodule, …<U+200B>) changed (<code>T</code>),
are Unmerged (<code>U</code>), are
Unknown (<code>X</code>), or have had their pairing Broken (<code>B</code>).
Any combination of the filter characters (including none) can be used.
When <code>*</code> (All-or-none) is added to the combination, all
paths are selected if there is any file that matches
other criteria in the comparison; if there is no file
that matches other criteria, nothing is selected.</p>

<p>Also, these upper-case letters can be downcased to exclude.  E.g.
<code>--diff-filter=ad</code> excludes added and deleted paths.</p>


<p>Note that not all diffs can feature all types. For instance, diffs
from the index to the working tree can never have Added entries
(because the set of paths included in the diff is limited by what is in
the index).  Similarly, copied and renamed entries cannot appear if
detection for those types is disabled.</p>

</dd>
<dt> -S&lt;string&gt; </dt>
<dd>
<p>Look for differences that change the number of occurrences of
the specified string (i.e. addition/deletion) in a file.
Intended for the scripter’s use.</p>

<p>It is useful when you’re looking for an exact block of code (like a
struct), and want to know the history of that block since it first
came into being: use the feature iteratively to feed the interesting
block in the preimage back into <code>-S</code>, and keep going until you get the
very first version of the block.</p>


<p>Binary files are searched as well.</p>

</dd>
<dt> -G&lt;regex&gt; </dt>
<dd>
<p>Look for differences whose patch text contains added/removed
lines that match &lt;regex&gt;.</p>

<p>To illustrate the difference between <code>-S&lt;regex&gt; --pickaxe-regex</code> and
<code>-G&lt;regex&gt;</code>, consider a commit with the following diff in the same
file:</p>



<pre>+    return frotz(nitfol, two-&gt;ptr, 1, 0);
...
-    hit = frotz(nitfol, mf2.ptr, 1, 0);</pre>



<p>While <code>git log -G"frotz\(nitfol"</code> will show this commit, <code>git log
-S"frotz\(nitfol" --pickaxe-regex</code> will not (because the number of
occurrences of that string did not change).</p>


<p>Unless <code>--text</code> is supplied patches of binary files without a textconv
filter will be ignored.</p>


<p>See the <em>pickaxe</em> entry in <a href="/docs/gitdiffcore">gitdiffcore[7]</a> for more
information.</p>

</dd>
<dt> --find-object=&lt;object-id&gt; </dt>
<dd>
<p>Look for differences that change the number of occurrences of
the specified object. Similar to <code>-S</code>, just the argument is different
in that it doesn’t search for a specific string but for a specific
object id.</p>

<p>The object can be a blob or a submodule commit. It implies the <code>-t</code> option in
<code>git-log</code> to also find trees.</p>

</dd>
<dt> --pickaxe-all </dt>
<dd>
<p>When <code>-S</code> or <code>-G</code> finds a change, show all the changes in that
changeset, not just the files that contain the change
in &lt;string&gt;.</p>
</dd>
<dt> --pickaxe-regex </dt>
<dd>
<p>Treat the &lt;string&gt; given to <code>-S</code> as an extended POSIX regular
expression to match.</p>
</dd>
<dt> -O&lt;orderfile&gt; </dt>
<dd>
<p>Control the order in which files appear in the output.
This overrides the <code>diff.orderFile</code> configuration variable
(see <a href="/docs/git-config">git-config[1]</a>).  To cancel <code>diff.orderFile</code>,
use <code>-O/dev/null</code>.</p>

<p>The output order is determined by the order of glob patterns in
&lt;orderfile&gt;.
All files with pathnames that match the first pattern are output
first, all files with pathnames that match the second pattern (but not
the first) are output next, and so on.
All files with pathnames that do not match any pattern are output
last, as if there was an implicit match-all pattern at the end of the
file.
If multiple pathnames have the same rank (they match the same pattern
but no earlier patterns), their output order relative to each other is
the normal order.</p>


<p>&lt;orderfile&gt; is parsed as follows:</p>




<ul>
<li>
<p>Blank lines are ignored, so they can be used as separators for
readability.</p>
</li>
<li>
<p>Lines starting with a hash ("<code>#</code>") are ignored, so they can be used
for comments.  Add a backslash ("<code>\</code>") to the beginning of the
pattern if it starts with a hash.</p>
</li>
<li>
<p>Each other line contains a single pattern.</p>
</li>
</ul>




<p>Patterns have the same syntax and semantics as patterns used for
fnmatch(3) without the FNM_PATHNAME flag, except a pathname also
matches a pattern if removing any number of the final pathname
components matches the pattern.  For example, the pattern "<code>foo*bar</code>"
matches "<code>fooasdfbar</code>" and "<code>foo/bar/baz/asdf</code>" but not "<code>foobarx</code>".</p>

</dd>
<dt> --skip-to=&lt;file&gt; </dt>
<dt> --rotate-to=&lt;file&gt; </dt>
<dd>
<p>Discard the files before the named &lt;file&gt; from the output
(i.e. <em>skip to</em>), or move them to the end of the output
(i.e. <em>rotate to</em>).  These were invented primarily for use
of the <code>git difftool</code> command, and may not be very useful
otherwise.</p>
</dd>
<dt> -R </dt>
<dd>
<p>Swap two inputs; that is, show differences from index or
on-disk file to tree contents.</p>
</dd>
<dt> --relative[=&lt;path&gt;] </dt>
<dt> --no-relative </dt>
<dd>
<p>When run from a subdirectory of the project, it can be
told to exclude changes outside the directory and show
pathnames relative to it with this option.  When you are
not in a subdirectory (e.g. in a bare repository), you
can name which subdirectory to make the output relative
to by giving a &lt;path&gt; as an argument.
<code>--no-relative</code> can be used to countermand both <code>diff.relative</code> config
option and previous <code>--relative</code>.</p>
</dd>
<dt> -a </dt>
<dt> --text </dt>
<dd>
<p>Treat all files as text.</p>
</dd>
<dt> --ignore-cr-at-eol </dt>
<dd>
<p>Ignore carriage-return at the end of line when doing a comparison.</p>
</dd>
<dt> --ignore-space-at-eol </dt>
<dd>
<p>Ignore changes in whitespace at EOL.</p>
</dd>
<dt> -b </dt>
<dt> --ignore-space-change </dt>
<dd>
<p>Ignore changes in amount of whitespace.  This ignores whitespace
at line end, and considers all other sequences of one or
more whitespace characters to be equivalent.</p>
</dd>
<dt> -w </dt>
<dt> --ignore-all-space </dt>
<dd>
<p>Ignore whitespace when comparing lines.  This ignores
differences even if one line has whitespace where the other
line has none.</p>
</dd>
<dt> --ignore-blank-lines </dt>
<dd>
<p>Ignore changes whose lines are all blank.</p>
</dd>
<dt> -I&lt;regex&gt; </dt>
<dt> --ignore-matching-lines=&lt;regex&gt; </dt>
<dd>
<p>Ignore changes whose all lines match &lt;regex&gt;.  This option may
be specified more than once.</p>
</dd>
<dt> --inter-hunk-context=&lt;lines&gt; </dt>
<dd>
<p>Show the context between diff hunks, up to the specified number
of lines, thereby fusing hunks that are close to each other.
Defaults to <code>diff.interHunkContext</code> or 0 if the config option
is unset.</p>
</dd>
<dt> -W </dt>
<dt> --function-context </dt>
<dd>
<p>Show whole function as context lines for each change.
The function names are determined in the same way as
<code>git diff</code> works out patch hunk headers (see <em>Defining a
custom hunk-header</em> in <a href="/docs/gitattributes">gitattributes[5]</a>).</p>
</dd>
<dt> --exit-code </dt>
<dd>
<p>Make the program exit with codes similar to diff(1).
That is, it exits with 1 if there were differences and
0 means no differences.</p>
</dd>
<dt> --quiet </dt>
<dd>
<p>Disable all output of the program. Implies <code>--exit-code</code>.</p>
</dd>
<dt> --ext-diff </dt>
<dd>
<p>Allow an external diff helper to be executed. If you set an
external diff driver with <a href="/docs/gitattributes">gitattributes[5]</a>, you need
to use this option with <a href="/docs/git-log">git-log[1]</a> and friends.</p>
</dd>
<dt> --no-ext-diff </dt>
<dd>
<p>Disallow external diff drivers.</p>
</dd>
<dt> --textconv </dt>
<dt> --no-textconv </dt>
<dd>
<p>Allow (or disallow) external text conversion filters to be run
when comparing binary files. See <a href="/docs/gitattributes">gitattributes[5]</a> for
details. Because textconv filters are typically a one-way
conversion, the resulting diff is suitable for human
consumption, but cannot be applied. For this reason, textconv
filters are enabled by default only for <a href="/docs/git-diff">git-diff[1]</a> and
<a href="/docs/git-log">git-log[1]</a>, but not for <a href="/docs/git-format-patch">git-format-patch[1]</a> or
diff plumbing commands.</p>
</dd>
<dt> --ignore-submodules[=&lt;when&gt;] </dt>
<dd>
<p>Ignore changes to submodules in the diff generation. &lt;when&gt; can be
either "none", "untracked", "dirty" or "all", which is the default.
Using "none" will consider the submodule modified when it either contains
untracked or modified files or its HEAD differs from the commit recorded
in the superproject and can be used to override any settings of the
<em>ignore</em> option in <a href="/docs/git-config">git-config[1]</a> or <a href="/docs/gitmodules">gitmodules[5]</a>. When
"untracked" is used submodules are not considered dirty when they only
contain untracked content (but they are still scanned for modified
content). Using "dirty" ignores all changes to the work tree of submodules,
only changes to the commits stored in the superproject are shown (this was
the behavior until 1.7.0). Using "all" hides all changes to submodules.</p>
</dd>
<dt> --src-prefix=&lt;prefix&gt; </dt>
<dd>
<p>Show the given source prefix instead of "a/".</p>
</dd>
<dt> --dst-prefix=&lt;prefix&gt; </dt>
<dd>
<p>Show the given destination prefix instead of "b/".</p>
</dd>
<dt> --no-prefix </dt>
<dd>
<p>Do not show any source or destination prefix.</p>
</dd>
<dt> --line-prefix=&lt;prefix&gt; </dt>
<dd>
<p>Prepend an additional prefix to every line of output.</p>
</dd>
<dt> --ita-invisible-in-index </dt>
<dd>
<p>By default entries added by "git add -N" appear as an existing
empty file in "git diff" and a new file in "git diff --cached".
This option makes the entry appear as a new file in "git diff"
and non-existent in "git diff --cached". This option could be
reverted with <code>--ita-visible-in-index</code>. Both options are
experimental and could be removed in future.</p>
</dd>
</dl>


<p>For more detailed explanation on these common options, see also
<a href="/docs/gitdiffcore">gitdiffcore[7]</a>.</p>


<dl>
<dt> -1 --base </dt>
<dt> -2 --ours </dt>
<dt> -3 --theirs </dt>
<dd>
<p>Compare the working tree with the "base" version (stage #1),
"our branch" (stage #2) or "their branch" (stage #3).  The
index contains these stages only for unmerged entries i.e.
while resolving conflicts.  See <a href="/docs/git-read-tree">git-read-tree[1]</a>
section "3-Way Merge" for detailed information.</p>
</dd>
<dt> -0 </dt>
<dd>
<p>Omit diff output for unmerged entries and just show
"Unmerged".  Can be used only when comparing the working tree
with the index.</p>
</dd>
<dt> &lt;path&gt;…<U+200B> </dt>
<dd>
<p>The &lt;paths&gt; parameters, when given, are used to limit
the diff to the named paths (you can give directory
names and get diff for all files under them).</p>
</dd>
</dl>




<h2>Raw output format</h2>


<p>The raw output format from "git-diff-index", "git-diff-tree",
"git-diff-files" and "git diff --raw" are very similar.</p>


<p>These commands all compare two sets of things; what is
compared differs:</p>


<dl>
<dt> git-diff-index &lt;tree-ish&gt; </dt>
<dd>
<p>compares the &lt;tree-ish&gt; and the files on the filesystem.</p>
</dd>
<dt> git-diff-index --cached &lt;tree-ish&gt; </dt>
<dd>
<p>compares the &lt;tree-ish&gt; and the index.</p>
</dd>
<dt> git-diff-tree [-r] &lt;tree-ish-1&gt; &lt;tree-ish-2&gt; [&lt;pattern&gt;…<U+200B>] </dt>
<dd>
<p>compares the trees named by the two arguments.</p>
</dd>
<dt> git-diff-files [&lt;pattern&gt;…<U+200B>] </dt>
<dd>
<p>compares the index and the files on the filesystem.</p>
</dd>
</dl>


<p>The "git-diff-tree" command begins its output by printing the hash of
what is being compared. After that, all the commands print one output
line per changed file.</p>


<p>An output line is formatted this way:</p>



<pre>in-place edit  :100644 100644 bcd1234 0123456 M file0
copy-edit      :100644 100644 abcd123 1234567 C68 file1 file2
rename-edit    :100644 100644 abcd123 1234567 R86 file1 file3
create         :000000 100644 0000000 1234567 A file4
delete         :100644 000000 1234567 0000000 D file5
unmerged       :000000 000000 0000000 0000000 U file6</pre>



<p>That is, from the left to the right:</p>


<ol>
<li>
<p>a colon.</p>
</li>
<li>
<p>mode for "src"; 000000 if creation or unmerged.</p>
</li>
<li>
<p>a space.</p>
</li>
<li>
<p>mode for "dst"; 000000 if deletion or unmerged.</p>
</li>
<li>
<p>a space.</p>
</li>
<li>
<p>sha1 for "src"; 0{40} if creation or unmerged.</p>
</li>
<li>
<p>a space.</p>
</li>
<li>
<p>sha1 for "dst"; 0{40} if creation, unmerged or "look at work tree".</p>
</li>
<li>
<p>a space.</p>
</li>
<li>
<p>status, followed by optional "score" number.</p>
</li>
<li>
<p>a tab or a NUL when <code>-z</code> option is used.</p>
</li>
<li>
<p>path for "src"</p>
</li>
<li>
<p>a tab or a NUL when <code>-z</code> option is used; only exists for C or R.</p>
</li>
<li>
<p>path for "dst"; only exists for C or R.</p>
</li>
<li>
<p>an LF or a NUL when <code>-z</code> option is used, to terminate the record.</p>
</li>
</ol>


<p>Possible status letters are:</p>


<ul>
<li>
<p>A: addition of a file</p>
</li>
<li>
<p>C: copy of a file into a new one</p>
</li>
<li>
<p>D: deletion of a file</p>
</li>
<li>
<p>M: modification of the contents or mode of a file</p>
</li>
<li>
<p>R: renaming of a file</p>
</li>
<li>
<p>T: change in the type of the file (regular file, symbolic link or submodule)</p>
</li>
<li>
<p>U: file is unmerged (you must complete the merge before it can
be committed)</p>
</li>
<li>
<p>X: "unknown" change type (most probably a bug, please report it)</p>
</li>
</ul>


<p>Status letters C and R are always followed by a score (denoting the
percentage of similarity between the source and target of the move or
copy).  Status letter M may be followed by a score (denoting the
percentage of dissimilarity) for file rewrites.</p>


<p>&lt;sha1&gt; is shown as all 0’s if a file is new on the filesystem
and it is out of sync with the index.</p>


<p>Example:</p>



<pre>:100644 100644 5be4a4a 0000000 M file.c</pre>



<p>Without the <code>-z</code> option, pathnames with "unusual" characters are
quoted as explained for the configuration variable <code>core.quotePath</code>
(see <a href="/docs/git-config">git-config[1]</a>).  Using <code>-z</code> the filename is output
verbatim and the line is terminated by a NUL byte.</p>




<h2>diff format for merges</h2>


<p>"git-diff-tree", "git-diff-files" and "git-diff --raw"
can take <code>-c</code> or <code>--cc</code> option
to generate diff output also for merge commits.  The output differs
from the format described above in the following way:</p>


<ol>
<li>
<p>there is a colon for each parent</p>
</li>
<li>
<p>there are more "src" modes and "src" sha1</p>
</li>
<li>
<p>status is concatenated status characters for each parent</p>
</li>
<li>
<p>no optional "score" number</p>
</li>
<li>
<p>tab-separated pathname(s) of the file</p>
</li>
</ol>


<p>For <code>-c</code> and <code>--cc</code>, only the destination or final path is shown even
if the file was renamed on any side of history.  With
<code>--combined-all-paths</code>, the name of the path in each parent is shown
followed by the name of the path in the merge commit.</p>


<p>Examples for <code>-c</code> and <code>--cc</code> without <code>--combined-all-paths</code>:</p>



<pre>::100644 100644 100644 fabadb8 cc95eb0 4866510 MM	desc.c
::100755 100755 100755 52b7a2d 6d1ac04 d2ac7d7 RM	bar.sh
::100644 100644 100644 e07d6c5 9042e82 ee91881 RR	phooey.c</pre>



<p>Examples when <code>--combined-all-paths</code> added to either <code>-c</code> or <code>--cc</code>:</p>



<pre>::100644 100644 100644 fabadb8 cc95eb0 4866510 MM	desc.c	desc.c	desc.c
::100755 100755 100755 52b7a2d 6d1ac04 d2ac7d7 RM	foo.sh	bar.sh	bar.sh
::100644 100644 100644 e07d6c5 9042e82 ee91881 RR	fooey.c	fuey.c	phooey.c</pre>



<p>Note that <em>combined diff</em> lists only files which were modified from
all parents.</p>




<h2>Generating patch text with -p</h2>


<p>Running
<a href="/docs/git-diff">git-diff[1]</a>,
<a href="/docs/git-log">git-log[1]</a>,
<a href="/docs/git-show">git-show[1]</a>,
<a href="/docs/git-diff-index">git-diff-index[1]</a>,
<a href="/docs/git-diff-tree">git-diff-tree[1]</a>, or
<a href="/docs/git-diff-files">git-diff-files[1]</a>
with the <code>-p</code> option produces patch text.
You can customize the creation of patch text via the
<code>GIT_EXTERNAL_DIFF</code> and the <code>GIT_DIFF_OPTS</code> environment variables
(see <a href="/docs/git">git[1]</a>), and the <code>diff</code> attribute (see <a href="/docs/gitattributes">gitattributes[5]</a>).</p>


<p>What the -p option produces is slightly different from the traditional
diff format:</p>


<ol>
<li>
<p>It is preceded with a "git diff" header that looks like this:</p>


<pre>diff --git a/file1 b/file2</pre>



<p>The <code>a/</code> and <code>b/</code> filenames are the same unless rename/copy is
involved.  Especially, even for a creation or a deletion,
<code>/dev/null</code> is <em>not</em> used in place of the <code>a/</code> or <code>b/</code> filenames.</p>


<p>When rename/copy is involved, <code>file1</code> and <code>file2</code> show the
name of the source file of the rename/copy and the name of
the file that rename/copy produces, respectively.</p>

</li>
<li>
<p>It is followed by one or more extended header lines:</p>


<pre>old mode &lt;mode&gt;
new mode &lt;mode&gt;
deleted file mode &lt;mode&gt;
new file mode &lt;mode&gt;
copy from &lt;path&gt;
copy to &lt;path&gt;
rename from &lt;path&gt;
rename to &lt;path&gt;
similarity index &lt;number&gt;
dissimilarity index &lt;number&gt;
index &lt;hash&gt;..&lt;hash&gt; &lt;mode&gt;</pre>



<p>File modes are printed as 6-digit octal numbers including the file type
and file permission bits.</p>


<p>Path names in extended headers do not include the <code>a/</code> and <code>b/</code> prefixes.</p>


<p>The similarity index is the percentage of unchanged lines, and
the dissimilarity index is the percentage of changed lines.  It
is a rounded down integer, followed by a percent sign.  The
similarity index value of 100% is thus reserved for two equal
files, while 100% dissimilarity means that no line from the old
file made it into the new one.</p>


<p>The index line includes the blob object names before and after the change.
The &lt;mode&gt; is included if the file mode does not change; otherwise,
separate lines indicate the old and the new mode.</p>

</li>
<li>
<p>Pathnames with "unusual" characters are quoted as explained for
the configuration variable <code>core.quotePath</code> (see
<a href="/docs/git-config">git-config[1]</a>).</p>
</li>
<li>
<p>All the <code>file1</code> files in the output refer to files before the
commit, and all the <code>file2</code> files refer to files after the commit.
It is incorrect to apply each change to each file sequentially.  For
example, this patch will swap a and b:</p>


<pre>diff --git a/a b/b
rename from a
rename to b
diff --git a/b b/a
rename from b
rename to a</pre>


</li>
<li>
<p>Hunk headers mention the name of the function to which the hunk
applies.  See "Defining a custom hunk-header" in
<a href="/docs/gitattributes">gitattributes[5]</a> for details of how to tailor to this to
specific languages.</p>
</li>
</ol>




<h2>Combined diff format</h2>


<p>Any diff-generating command can take the <code>-c</code> or <code>--cc</code> option to
produce a <em>combined diff</em> when showing a merge. This is the default
format when showing merges with <a href="/docs/git-diff">git-diff[1]</a> or
<a href="/docs/git-show">git-show[1]</a>. Note also that you can give suitable
<code>--diff-merges</code> option to any of these commands to force generation of
diffs in specific format.</p>


<p>A "combined diff" format looks like this:</p>



<pre>diff --combined describe.c
index fabadb8,cc95eb0..4866510
--- a/describe.c
+++ b/describe.c
@@@ -98,20 -98,12 +98,20 @@@
	return (a_date &gt; b_date) ? -1 : (a_date == b_date) ? 0 : 1;
  }

- static void describe(char *arg)
 -static void describe(struct commit *cmit, int last_one)
++static void describe(char *arg, int last_one)
  {
 +	unsigned char sha1[20];
 +	struct commit *cmit;
	struct commit_list *list;
	static int initialized = 0;
	struct commit_name *n;

 +	if (get_sha1(arg, sha1) &lt; 0)
 +		usage(describe_usage);
 +	cmit = lookup_commit_reference(sha1);
 +	if (!cmit)
 +		usage(describe_usage);
 +
	if (!initialized) {
		initialized = 1;
		for_each_ref(get_name);</pre>



<ol>
<li>
<p>It is preceded with a "git diff" header, that looks like
this (when the <code>-c</code> option is used):</p>


<pre>diff --combined file</pre>



<p>or like this (when the <code>--cc</code> option is used):</p>



<pre>diff --cc file</pre>


</li>
<li>
<p>It is followed by one or more extended header lines
(this example shows a merge with two parents):</p>


<pre>index &lt;hash&gt;,&lt;hash&gt;..&lt;hash&gt;
mode &lt;mode&gt;,&lt;mode&gt;..&lt;mode&gt;
new file mode &lt;mode&gt;
deleted file mode &lt;mode&gt;,&lt;mode&gt;</pre>



<p>The <code>mode &lt;mode&gt;,&lt;mode&gt;..&lt;mode&gt;</code> line appears only if at least one of
the &lt;mode&gt; is different from the rest. Extended headers with
information about detected contents movement (renames and
copying detection) are designed to work with diff of two
&lt;tree-ish&gt; and are not used by combined diff format.</p>

</li>
<li>
<p>It is followed by two-line from-file/to-file header</p>


<pre>--- a/file
+++ b/file</pre>



<p>Similar to two-line header for traditional <em>unified</em> diff
format, <code>/dev/null</code> is used to signal created or deleted
files.</p>


<p>However, if the --combined-all-paths option is provided, instead of a
two-line from-file/to-file you get a N+1 line from-file/to-file header,
where N is the number of parents in the merge commit</p>



<pre>--- a/file
--- a/file
--- a/file
+++ b/file</pre>



<p>This extended format can be useful if rename or copy detection is
active, to allow you to see the original name of the file in different
parents.</p>

</li>
<li>
<p>Chunk header format is modified to prevent people from
accidentally feeding it to <code>patch -p1</code>. Combined diff format
was created for review of merge commit changes, and was not
meant to be applied. The change is similar to the change in the
extended <em>index</em> header:</p>


<pre>@@@ &lt;from-file-range&gt; &lt;from-file-range&gt; &lt;to-file-range&gt; @@@</pre>



<p>There are (number of parents + 1) <code>@</code> characters in the chunk
header for combined diff format.</p>

</li>
</ol>


<p>Unlike the traditional <em>unified</em> diff format, which shows two
files A and B with a single column that has <code>-</code> (minus<U+2009>—<U+2009>appears in A but removed in B), <code>+</code> (plus<U+2009>—<U+2009>missing in A but
added to B), or <code>" "</code> (space<U+2009>—<U+2009>unchanged) prefix, this format
compares two or more files file1, file2,…<U+200B> with one file X, and
shows how X differs from each of fileN.  One column for each of
fileN is prepended to the output line to note how X’s line is
different from it.</p>


<p>A <code>-</code> character in the column N means that the line appears in
fileN but it does not appear in the result.  A <code>+</code> character
in the column N means that the line appears in the result,
and fileN does not have that line (in other words, the line was
added, from the point of view of that parent).</p>


<p>In the above example output, the function signature was changed
from both files (hence two <code>-</code> removals from both file1 and
file2, plus <code>++</code> to mean one line that was added does not appear
in either file1 or file2).  Also eight other lines are the same
from file1 but do not appear in file2 (hence prefixed with <code>+</code>).</p>


<p>When shown by <code>git diff-tree -c</code>, it compares the parents of a
merge commit with the merge result (i.e. file1..fileN are the
parents).  When shown by <code>git diff-files -c</code>, it compares the
two unresolved merge parents with the working tree file
(i.e. file1 is stage 2 aka "our version", file2 is stage 3 aka
"their version").</p>




<h2>other diff formats</h2>


<p>The <code>--summary</code> option describes newly added, deleted, renamed and
copied files.  The <code>--stat</code> option adds diffstat(1) graph to the
output.  These options can be combined with other options, such as
<code>-p</code>, and are meant for human consumption.</p>


<p>When showing a change that involves a rename or a copy, <code>--stat</code> output
formats the pathnames compactly by combining common prefix and suffix of
the pathnames.  For example, a change that moves <code>arch/i386/Makefile</code> to
<code>arch/x86/Makefile</code> while modifying 4 lines will be shown like this:</p>



<pre>arch/{i386 =&gt; x86}/Makefile    |   4 +--</pre>



<p>The <code>--numstat</code> option gives the diffstat(1) information but is designed
for easier machine consumption.  An entry in <code>--numstat</code> output looks
like this:</p>



<pre>1	2	README
3	1	arch/{i386 =&gt; x86}/Makefile</pre>



<p>That is, from left to right:</p>


<ol>
<li>
<p>the number of added lines;</p>
</li>
<li>
<p>a tab;</p>
</li>
<li>
<p>the number of deleted lines;</p>
</li>
<li>
<p>a tab;</p>
</li>
<li>
<p>pathname (possibly with rename/copy information);</p>
</li>
<li>
<p>a newline.</p>
</li>
</ol>


<p>When <code>-z</code> output option is in effect, the output is formatted this way:</p>



<pre>1	2	README NUL
3	1	NUL arch/i386/Makefile NUL arch/x86/Makefile NUL</pre>



<p>That is:</p>


<ol>
<li>
<p>the number of added lines;</p>
</li>
<li>
<p>a tab;</p>
</li>
<li>
<p>the number of deleted lines;</p>
</li>
<li>
<p>a tab;</p>
</li>
<li>
<p>a NUL (only exists if renamed/copied);</p>
</li>
<li>
<p>pathname in preimage;</p>
</li>
<li>
<p>a NUL (only exists if renamed/copied);</p>
</li>
<li>
<p>pathname in postimage (only exists if renamed/copied);</p>
</li>
<li>
<p>a NUL.</p>
</li>
</ol>


<p>The extra <code>NUL</code> before the preimage path in renamed case is to allow
scripts that read the output to tell if the current record being read is
a single-path record or a rename/copy record without reading ahead.
After reading added and deleted lines, reading up to <code>NUL</code> would yield
the pathname, but if that is <code>NUL</code>, the record will show two paths.</p>




<h2>examples</h2>


<dl>
<dt> Various ways to check your working tree </dt>
<dd>


<pre>$ git diff            <b>(1)</b>
$ git diff --cached   <b>(2)</b>
$ git diff HEAD       <b>(3)</b></pre>



<ol>
<li>
<p>Changes in the working tree not yet staged for the next commit.</p>
</li>
<li>
<p>Changes between the index and your last commit; what you
would be committing if you run <code>git commit</code> without <code>-a</code> option.</p>
</li>
<li>
<p>Changes in the working tree since your last commit; what you
would be committing if you run <code>git commit -a</code></p>
</li>
</ol>

</dd>
<dt> Comparing with arbitrary commits </dt>
<dd>


<pre>$ git diff test            <b>(1)</b>
$ git diff HEAD -- ./test  <b>(2)</b>
$ git diff HEAD^ HEAD      <b>(3)</b></pre>



<ol>
<li>
<p>Instead of using the tip of the current branch, compare with the
tip of "test" branch.</p>
</li>
<li>
<p>Instead of comparing with the tip of "test" branch, compare with
the tip of the current branch, but limit the comparison to the
file "test".</p>
</li>
<li>
<p>Compare the version before the last commit and the last commit.</p>
</li>
</ol>

</dd>
<dt> Comparing branches </dt>
<dd>


<pre>$ git diff topic master    <b>(1)</b>
$ git diff topic..master   <b>(2)</b>
$ git diff topic...master  <b>(3)</b></pre>



<ol>
<li>
<p>Changes between the tips of the topic and the master branches.</p>
</li>
<li>
<p>Same as above.</p>
</li>
<li>
<p>Changes that occurred on the master branch since when the topic
branch was started off it.</p>
</li>
</ol>

</dd>
<dt> Limiting the diff output </dt>
<dd>


<pre>$ git diff --diff-filter=MRC            <b>(1)</b>
$ git diff --name-status                <b>(2)</b>
$ git diff arch/i386 include/asm-i386   <b>(3)</b></pre>



<ol>
<li>
<p>Show only modification, rename, and copy, but not addition
or deletion.</p>
</li>
<li>
<p>Show only names and the nature of change, but not actual
diff output.</p>
</li>
<li>
<p>Limit diff output to named subtrees.</p>
</li>
</ol>

</dd>
<dt> Munging the diff output </dt>
<dd>


<pre>$ git diff --find-copies-harder -B -C  <b>(1)</b>
$ git diff -R                          <b>(2)</b></pre>



<ol>
<li>
<p>Spend extra cycles to find renames, copies and complete
rewrites (very expensive).</p>
</li>
<li>
<p>Output diff in reverse.</p>
</li>
</ol>

</dd>
</dl>




<h2>SEE ALSO</h2>


<p>diff(1),
<a href="/docs/git-difftool">git-difftool[1]</a>,
<a href="/docs/git-log">git-log[1]</a>,
<a href="/docs/gitdiffcore">gitdiffcore[7]</a>,
<a href="/docs/git-format-patch">git-format-patch[1]</a>,
<a href="/docs/git-apply">git-apply[1]</a>,
<a href="/docs/git-show">git-show[1]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-commit - Record changes to the repository</span></h2>




<h2><br>synopsis</h2>


<pre><em>git commit</em> [-a | --interactive | --patch] [-s] [-v] [-u&lt;mode&gt;] [--amend]
	   [--dry-run] [(-c | -C | --squash) &lt;commit&gt; | --fixup [(amend|reword):]&lt;commit&gt;)]
	   [-F &lt;file&gt; | -m &lt;msg&gt;] [--reset-author] [--allow-empty]
	   [--allow-empty-message] [--no-verify] [-e] [--author=&lt;author&gt;]
	   [--date=&lt;date&gt;] [--cleanup=&lt;mode&gt;] [--[no-]status]
	   [-i | -o] [--pathspec-from-file=&lt;file&gt; [--pathspec-file-nul]]
	   [(--trailer &lt;token&gt;[(=|:)&lt;value&gt;])…<U+200B>] [-S[&lt;keyid&gt;]]
	   [--] [&lt;pathspec&gt;…<U+200B>]</pre>




<h2>description</h2>


<p>Create a new commit containing the current contents of the index and
the given log message describing the changes. The new commit is a
direct child of HEAD, usually the tip of the current branch, and the
branch is updated to point to it (unless no branch is associated with
the working tree, in which case HEAD is "detached" as described in
<a href="/docs/git-checkout">git-checkout[1]</a>).</p>


<p>The content to be committed can be specified in several ways:</p>


<ol>
<li>
<p>by using <a href="/docs/git-add">git-add[1]</a> to incrementally "add" changes to the
index before using the <em>commit</em> command (Note: even modified files
must be "added");</p>
</li>
<li>
<p>by using <a href="/docs/git-rm">git-rm[1]</a> to remove files from the working tree
and the index, again before using the <em>commit</em> command;</p>
</li>
<li>
<p>by listing files as arguments to the <em>commit</em> command
(without --interactive or --patch switch), in which
case the commit will ignore changes staged in the index, and instead
record the current content of the listed files (which must already
be known to Git);</p>
</li>
<li>
<p>by using the -a switch with the <em>commit</em> command to automatically
"add" changes from all known files (i.e. all files that are already
listed in the index) and to automatically "rm" files in the index
that have been removed from the working tree, and then perform the
actual commit;</p>
</li>
<li>
<p>by using the --interactive or --patch switches with the <em>commit</em> command
to decide one by one which files or hunks should be part of the commit
in addition to contents in the index,
before finalizing the operation. See the “Interactive Mode” section of
<a href="/docs/git-add">git-add[1]</a> to learn how to operate these modes.</p>
</li>
</ol>


<p>The <code>--dry-run</code> option can be used to obtain a
summary of what is included by any of the above for the next
commit by giving the same set of parameters (options and paths).</p>


<p>If you make a commit and then find a mistake immediately after
that, you can recover from it with <em>git reset</em>.</p>




<h2>options</h2>


<dl>
<dt> -a </dt>
<dt> --all </dt>
<dd>
<p>Tell the command to automatically stage files that have
been modified and deleted, but new files you have not
told Git about are not affected.</p>
</dd>
<dt> -p </dt>
<dt> --patch </dt>
<dd>
<p>Use the interactive patch selection interface to choose
which changes to commit. See <a href="/docs/git-add">git-add[1]</a> for
details.</p>
</dd>
<dt> -C &lt;commit&gt; </dt>
<dt> --reuse-message=&lt;commit&gt; </dt>
<dd>
<p>Take an existing commit object, and reuse the log message
and the authorship information (including the timestamp)
when creating the commit.</p>
</dd>
<dt> -c &lt;commit&gt; </dt>
<dt> --reedit-message=&lt;commit&gt; </dt>
<dd>
<p>Like <em>-C</em>, but with <code>-c</code> the editor is invoked, so that
the user can further edit the commit message.</p>
</dd>
<dt> --fixup=[(amend|reword):]&lt;commit&gt; </dt>
<dd>
<p>Create a new commit which "fixes up" <code>&lt;commit&gt;</code> when applied with
<code>git rebase --autosquash</code>. Plain <code>--fixup=&lt;commit&gt;</code> creates a
"fixup!" commit which changes the content of <code>&lt;commit&gt;</code> but leaves
its log message untouched. <code>--fixup=amend:&lt;commit&gt;</code> is similar but
creates an "amend!" commit which also replaces the log message of
<code>&lt;commit&gt;</code> with the log message of the "amend!" commit.
<code>--fixup=reword:&lt;commit&gt;</code> creates an "amend!" commit which
replaces the log message of <code>&lt;commit&gt;</code> with its own log message
but makes no changes to the content of <code>&lt;commit&gt;</code>.</p>

<p>The commit created by plain <code>--fixup=&lt;commit&gt;</code> has a subject
composed of "fixup!" followed by the subject line from &lt;commit&gt;,
and is recognized specially by <code>git rebase --autosquash</code>. The <code>-m</code>
option may be used to supplement the log message of the created
commit, but the additional commentary will be thrown away once the
"fixup!" commit is squashed into <code>&lt;commit&gt;</code> by
<code>git rebase --autosquash</code>.</p>


<p>The commit created by <code>--fixup=amend:&lt;commit&gt;</code> is similar but its
subject is instead prefixed with "amend!". The log message of
&lt;commit&gt; is copied into the log message of the "amend!" commit and
opened in an editor so it can be refined. When <code>git rebase
--autosquash</code> squashes the "amend!" commit into <code>&lt;commit&gt;</code>, the
log message of <code>&lt;commit&gt;</code> is replaced by the refined log message
from the "amend!" commit. It is an error for the "amend!" commit’s
log message to be empty unless <code>--allow-empty-message</code> is
specified.</p>


<p><code>--fixup=reword:&lt;commit&gt;</code> is shorthand for <code>--fixup=amend:&lt;commit&gt;
--only</code>. It creates an "amend!" commit with only a log message
(ignoring any changes staged in the index). When squashed by <code>git
rebase --autosquash</code>, it replaces the log message of <code>&lt;commit&gt;</code>
without making any other changes.</p>


<p>Neither "fixup!" nor "amend!" commits change authorship of
<code>&lt;commit&gt;</code> when applied by <code>git rebase --autosquash</code>.
See <a href="/docs/git-rebase">git-rebase[1]</a> for details.</p>

</dd>
<dt> --squash=&lt;commit&gt; </dt>
<dd>
<p>Construct a commit message for use with <code>rebase --autosquash</code>.
The commit message subject line is taken from the specified
commit with a prefix of "squash! ".  Can be used with additional
commit message options (<code>-m</code>/<code>-c</code>/<code>-C</code>/<code>-F</code>). See
<a href="/docs/git-rebase">git-rebase[1]</a> for details.</p>
</dd>
<dt> --reset-author </dt>
<dd>
<p>When used with -C/-c/--amend options, or when committing after a
conflicting cherry-pick, declare that the authorship of the
resulting commit now belongs to the committer. This also renews
the author timestamp.</p>
</dd>
<dt> --short </dt>
<dd>
<p>When doing a dry-run, give the output in the short-format. See
<a href="/docs/git-status">git-status[1]</a> for details. Implies <code>--dry-run</code>.</p>
</dd>
<dt> --branch </dt>
<dd>
<p>Show the branch and tracking info even in short-format.</p>
</dd>
<dt> --porcelain </dt>
<dd>
<p>When doing a dry-run, give the output in a porcelain-ready
format. See <a href="/docs/git-status">git-status[1]</a> for details. Implies
<code>--dry-run</code>.</p>
</dd>
<dt> --long </dt>
<dd>
<p>When doing a dry-run, give the output in the long-format.
Implies <code>--dry-run</code>.</p>
</dd>
<dt> -z </dt>
<dt> --null </dt>
<dd>
<p>When showing <code>short</code> or <code>porcelain</code> status output, print the
filename verbatim and terminate the entries with NUL, instead of LF.
If no format is given, implies the <code>--porcelain</code> output format.
Without the <code>-z</code> option, filenames with "unusual" characters are
quoted as explained for the configuration variable <code>core.quotePath</code>
(see <a href="/docs/git-config">git-config[1]</a>).</p>
</dd>
<dt> -F &lt;file&gt; </dt>
<dt> --file=&lt;file&gt; </dt>
<dd>
<p>Take the commit message from the given file.  Use <em>-</em> to
read the message from the standard input.</p>
</dd>
<dt> --author=&lt;author&gt; </dt>
<dd>
<p>Override the commit author. Specify an explicit author using the
standard <code>A U Thor &lt;author@example.com&gt;</code> format. Otherwise &lt;author&gt;
is assumed to be a pattern and is used to search for an existing
commit by that author (i.e. rev-list --all -i --author=&lt;author&gt;);
the commit author is then copied from the first such commit found.</p>
</dd>
<dt> --date=&lt;date&gt; </dt>
<dd>
<p>Override the author date used in the commit.</p>
</dd>
<dt> -m &lt;msg&gt; </dt>
<dt> --message=&lt;msg&gt; </dt>
<dd>
<p>Use the given &lt;msg&gt; as the commit message.
If multiple <code>-m</code> options are given, their values are
concatenated as separate paragraphs.</p>

<p>The <code>-m</code> option is mutually exclusive with <code>-c</code>, <code>-C</code>, and <code>-F</code>.</p>

</dd>
<dt> -t &lt;file&gt; </dt>
<dt> --template=&lt;file&gt; </dt>
<dd>
<p>When editing the commit message, start the editor with the
contents in the given file.  The <code>commit.template</code> configuration
variable is often used to give this option implicitly to the
command.  This mechanism can be used by projects that want to
guide participants with some hints on what to write in the message
in what order.  If the user exits the editor without editing the
message, the commit is aborted.  This has no effect when a message
is given by other means, e.g. with the <code>-m</code> or <code>-F</code> options.</p>
</dd>
<dt> -s </dt>
<dt> --signoff </dt>
<dt> --no-signoff </dt>
<dd>
<p>Add a <code>Signed-off-by</code> trailer by the committer at the end of the commit
log message.  The meaning of a signoff depends on the project
to which you’re committing.  For example, it may certify that
the committer has the rights to submit the work under the
project’s license or agrees to some contributor representation,
such as a Developer Certificate of Origin.
(See <a href="http://developercertificate.org">http://developercertificate.org</a> for the one used by the
Linux kernel and Git projects.)  Consult the documentation or
leadership of the project to which you’re contributing to
understand how the signoffs are used in that project.</p>

<p>The --no-signoff option can be used to countermand an earlier --signoff
option on the command line.</p>

</dd>
<dt> --trailer &lt;token&gt;[(=|:)&lt;value&gt;] </dt>
<dd>
<p>Specify a (&lt;token&gt;, &lt;value&gt;) pair that should be applied as a
trailer. (e.g. <code>git commit --trailer "Signed-off-by:C O Mitter \
&lt;committer@example.com&gt;" --trailer "Helped-by:C O Mitter \
&lt;committer@example.com&gt;"</code> will add the "Signed-off-by" trailer
and the "Helped-by" trailer to the commit message.)
The <code>trailer.*</code> configuration variables
(<a href="/docs/git-interpret-trailers">git-interpret-trailers[1]</a>) can be used to define if
a duplicated trailer is omitted, where in the run of trailers
each trailer would appear, and other details.</p>
</dd>
<dt> -n </dt>
<dt> --[no-]verify </dt>
<dd>
<p>By default, the pre-commit and commit-msg hooks are run.
When any of <code>--no-verify</code> or <code>-n</code> is given, these are bypassed.
See also <a href="/docs/githooks">githooks[5]</a>.</p>
</dd>
<dt> --allow-empty </dt>
<dd>
<p>Usually recording a commit that has the exact same tree as its
sole parent commit is a mistake, and the command prevents you
from making such a commit.  This option bypasses the safety, and
is primarily for use by foreign SCM interface scripts.</p>
</dd>
<dt> --allow-empty-message </dt>
<dd>
<p>Like --allow-empty this command is primarily for use by foreign
SCM interface scripts. It allows you to create a commit with an
empty commit message without using plumbing commands like
<a href="/docs/git-commit-tree">git-commit-tree[1]</a>.</p>
</dd>
<dt> --cleanup=&lt;mode&gt; </dt>
<dd>
<p>This option determines how the supplied commit message should be
cleaned up before committing.  The <em>&lt;mode&gt;</em> can be <code>strip</code>,
<code>whitespace</code>, <code>verbatim</code>, <code>scissors</code> or <code>default</code>.</p>



<dl>
<dt> strip </dt>
<dd>
<p>Strip leading and trailing empty lines, trailing whitespace,
commentary and collapse consecutive empty lines.</p>
</dd>
<dt> whitespace </dt>
<dd>
<p>Same as <code>strip</code> except #commentary is not removed.</p>
</dd>
<dt> verbatim </dt>
<dd>
<p>Do not change the message at all.</p>
</dd>
<dt> scissors </dt>
<dd>
<p>Same as <code>whitespace</code> except that everything from (and including)
the line found below is truncated, if the message is to be edited.
"<code>#</code>" can be customized with core.commentChar.</p>


<pre># ------------------------ &gt;8 ------------------------</pre>


</dd>
<dt> default </dt>
<dd>
<p>Same as <code>strip</code> if the message is to be edited.
Otherwise <code>whitespace</code>.</p>
</dd>
</dl>




<p>The default can be changed by the <code>commit.cleanup</code> configuration
variable (see <a href="/docs/git-config">git-config[1]</a>).</p>

</dd>
<dt> -e </dt>
<dt> --edit </dt>
<dd>
<p>The message taken from file with <code>-F</code>, command line with
<code>-m</code>, and from commit object with <code>-C</code> are usually used as
the commit log message unmodified. This option lets you
further edit the message taken from these sources.</p>
</dd>
<dt> --no-edit </dt>
<dd>
<p>Use the selected commit message without launching an editor.
For example, <code>git commit --amend --no-edit</code> amends a commit
without changing its commit message.</p>
</dd>
<dt> --amend </dt>
<dd>
<p>Replace the tip of the current branch by creating a new
commit. The recorded tree is prepared as usual (including
the effect of the <code>-i</code> and <code>-o</code> options and explicit
pathspec), and the message from the original commit is used
as the starting point, instead of an empty message, when no
other message is specified from the command line via options
such as <code>-m</code>, <code>-F</code>, <code>-c</code>, etc.  The new commit has the same
parents and author as the current one (the <code>--reset-author</code>
option can countermand this).</p>



<p>It is a rough equivalent for:</p>



<pre>	$ git reset --soft HEAD^
	$ ... do something else to come up with the right tree ...
	$ git commit -c ORIG_HEAD</pre>



<p>but can be used to amend a merge commit.</p>




<p>You should understand the implications of rewriting history if you
amend a commit that has already been published.  (See the "RECOVERING
FROM UPSTREAM REBASE" section in <a href="/docs/git-rebase">git-rebase[1]</a>.)</p>

</dd>
<dt> --no-post-rewrite </dt>
<dd>
<p>Bypass the post-rewrite hook.</p>
</dd>
<dt> -i </dt>
<dt> --include </dt>
<dd>
<p>Before making a commit out of staged contents so far,
stage the contents of paths given on the command line
as well.  This is usually not what you want unless you
are concluding a conflicted merge.</p>
</dd>
<dt> -o </dt>
<dt> --only </dt>
<dd>
<p>Make a commit by taking the updated working tree contents
of the paths specified on the
command line, disregarding any contents that have been
staged for other paths. This is the default mode of operation of
<em>git commit</em> if any paths are given on the command line,
in which case this option can be omitted.
If this option is specified together with <code>--amend</code>, then
no paths need to be specified, which can be used to amend
the last commit without committing changes that have
already been staged. If used together with <code>--allow-empty</code>
paths are also not required, and an empty commit will be created.</p>
</dd>
<dt> --pathspec-from-file=&lt;file&gt; </dt>
<dd>
<p>Pathspec is passed in <code>&lt;file&gt;</code> instead of commandline args. If
<code>&lt;file&gt;</code> is exactly <code>-</code> then standard input is used. Pathspec
elements are separated by LF or CR/LF. Pathspec elements can be
quoted as explained for the configuration variable <code>core.quotePath</code>
(see <a href="/docs/git-config">git-config[1]</a>). See also <code>--pathspec-file-nul</code> and
global <code>--literal-pathspecs</code>.</p>
</dd>
<dt> --pathspec-file-nul </dt>
<dd>
<p>Only meaningful with <code>--pathspec-from-file</code>. Pathspec elements are
separated with NUL character and all other characters are taken
literally (including newlines and quotes).</p>
</dd>
<dt> -u[&lt;mode&gt;] </dt>
<dt> --untracked-files[=&lt;mode&gt;] </dt>
<dd>
<p>Show untracked files.</p>



<p>The mode parameter is optional (defaults to <em>all</em>), and is used to
specify the handling of untracked files; when -u is not used, the
default is <em>normal</em>, i.e. show untracked files and directories.</p>


<p>The possible options are:</p>


<ul>
<li>
<p><em>no</em>     - Show no untracked files</p>
</li>
<li>
<p><em>normal</em> - Shows untracked files and directories</p>
</li>
<li>
<p><em>all</em>    - Also shows individual files in untracked directories.</p>
</li>
</ul>


<p>The default can be changed using the status.showUntrackedFiles
configuration variable documented in <a href="/docs/git-config">git-config[1]</a>.</p>



</dd>
<dt> -v </dt>
<dt> --verbose </dt>
<dd>
<p>Show unified diff between the HEAD commit and what
would be committed at the bottom of the commit message
template to help the user describe the commit by reminding
what changes the commit has.
Note that this diff output doesn’t have its
lines prefixed with <em>#</em>. This diff will not be a part
of the commit message. See the <code>commit.verbose</code> configuration
variable in <a href="/docs/git-config">git-config[1]</a>.</p>

<p>If specified twice, show in addition the unified diff between
what would be committed and the worktree files, i.e. the unstaged
changes to tracked files.</p>

</dd>
<dt> -q </dt>
<dt> --quiet </dt>
<dd>
<p>Suppress commit summary message.</p>
</dd>
<dt> --dry-run </dt>
<dd>
<p>Do not create a commit, but show a list of paths that are
to be committed, paths with local changes that will be left
uncommitted and paths that are untracked.</p>
</dd>
<dt> --status </dt>
<dd>
<p>Include the output of <a href="/docs/git-status">git-status[1]</a> in the commit
message template when using an editor to prepare the commit
message.  Defaults to on, but can be used to override
configuration variable commit.status.</p>
</dd>
<dt> --no-status </dt>
<dd>
<p>Do not include the output of <a href="/docs/git-status">git-status[1]</a> in the
commit message template when using an editor to prepare the
default commit message.</p>
</dd>
<dt> -S[&lt;keyid&gt;] </dt>
<dt> --gpg-sign[=&lt;keyid&gt;] </dt>
<dt> --no-gpg-sign </dt>
<dd>
<p>GPG-sign commits. The <code>keyid</code> argument is optional and
defaults to the committer identity; if specified, it must be
stuck to the option without a space. <code>--no-gpg-sign</code> is useful to
countermand both <code>commit.gpgSign</code> configuration variable, and
earlier <code>--gpg-sign</code>.</p>
</dd>
<dt> -- </dt>
<dd>
<p>Do not interpret any more arguments as options.</p>
</dd>
<dt> &lt;pathspec&gt;…<U+200B> </dt>
<dd>
<p>When pathspec is given on the command line, commit the contents of
the files that match the pathspec without recording the changes
already added to the index. The contents of these files are also
staged for the next commit on top of what have been staged before.</p>

<p>For more details, see the <em>pathspec</em> entry in <a href="/docs/gitglossary">gitglossary[7]</a>.</p>

</dd>
</dl>




<h2>examples</h2>


<p>When recording your own work, the contents of modified files in
your working tree are temporarily stored to a staging area
called the "index" with <em>git add</em>.  A file can be
reverted back, only in the index but not in the working tree,
to that of the last commit with <code>git restore --staged &lt;file&gt;</code>,
which effectively reverts <em>git add</em> and prevents the changes to
this file from participating in the next commit.  After building
the state to be committed incrementally with these commands,
<code>git commit</code> (without any pathname parameter) is used to record what
has been staged so far.  This is the most basic form of the
command.  An example:</p>



<pre>$ edit hello.c
$ git rm goodbye.c
$ git add hello.c
$ git commit</pre>



<p>Instead of staging files after each individual change, you can
tell <code>git commit</code> to notice the changes to the files whose
contents are tracked in
your working tree and do corresponding <code>git add</code> and <code>git rm</code>
for you.  That is, this example does the same as the earlier
example if there is no other change in your working tree:</p>



<pre>$ edit hello.c
$ rm goodbye.c
$ git commit -a</pre>



<p>The command <code>git commit -a</code> first looks at your working tree,
notices that you have modified hello.c and removed goodbye.c,
and performs necessary <code>git add</code> and <code>git rm</code> for you.</p>


<p>After staging changes to many files, you can alter the order the
changes are recorded in, by giving pathnames to <code>git commit</code>.
When pathnames are given, the command makes a commit that
only records the changes made to the named paths:</p>



<pre>$ edit hello.c hello.h
$ git add hello.c hello.h
$ edit Makefile
$ git commit Makefile</pre>



<p>This makes a commit that records the modification to <code>Makefile</code>.
The changes staged for <code>hello.c</code> and <code>hello.h</code> are not included
in the resulting commit.  However, their changes are not lost<U+2009>—<U+2009>they are still staged and merely held back.  After the above
sequence, if you do:</p>



<pre>$ git commit</pre>



<p>this second commit would record the changes to <code>hello.c</code> and
<code>hello.h</code> as expected.</p>


<p>After a merge (initiated by <em>git merge</em> or <em>git pull</em>) stops
because of conflicts, cleanly merged
paths are already staged to be committed for you, and paths that
conflicted are left in unmerged state.  You would have to first
check which paths are conflicting with <em>git status</em>
and after fixing them manually in your working tree, you would
stage the result as usual with <em>git add</em>:</p>



<pre>$ git status | grep unmerged
unmerged: hello.c
$ edit hello.c
$ git add hello.c</pre>



<p>After resolving conflicts and staging the result, <code>git ls-files -u</code>
would stop mentioning the conflicted path.  When you are done,
run <code>git commit</code> to finally record the merge:</p>



<pre>$ git commit</pre>



<p>As with the case to record your own changes, you can use <code>-a</code>
option to save typing.  One difference is that during a merge
resolution, you cannot use <code>git commit</code> with pathnames to
alter the order the changes are committed, because the merge
should be recorded as a single commit.  In fact, the command
refuses to run when given pathnames (but see <code>-i</code> option).</p>




<h2>COMMIT INFORMATION</h2>


<p>Author and committer information is taken from the following environment
variables, if set:</p>



<pre>GIT_AUTHOR_NAME
GIT_AUTHOR_EMAIL
GIT_AUTHOR_DATE
GIT_COMMITTER_NAME
GIT_COMMITTER_EMAIL
GIT_COMMITTER_DATE</pre>



<p>(nb "&lt;", "&gt;" and "\n"s are stripped)</p>


<p>The author and committer names are by convention some form of a personal name
(that is, the name by which other humans refer to you), although Git does not
enforce or require any particular form. Arbitrary Unicode may be used, subject
to the constraints listed above. This name has no effect on authentication; for
that, see the <code>credential.username</code> variable in <a href="/docs/git-config">git-config[1]</a>.</p>


<p>In case (some of) these environment variables are not set, the information
is taken from the configuration items <code>user.name</code> and <code>user.email</code>, or, if not
present, the environment variable EMAIL, or, if that is not set,
system user name and the hostname used for outgoing mail (taken
from <code>/etc/mailname</code> and falling back to the fully qualified hostname when
that file does not exist).</p>


<p>The <code>author.name</code> and <code>committer.name</code> and their corresponding email options
override <code>user.name</code> and <code>user.email</code> if set and are overridden themselves by
the environment variables.</p>


<p>The typical usage is to set just the <code>user.name</code> and <code>user.email</code> variables;
the other options are provided for more complex use cases.</p>




<h2>DATE FORMATS</h2>


<p>The <code>GIT_AUTHOR_DATE</code> and <code>GIT_COMMITTER_DATE</code> environment variables
support the following date formats:</p>


<dl>
<dt> Git internal format </dt>
<dd>
<p>It is <code>&lt;unix-timestamp&gt; &lt;time-zone-offset&gt;</code>, where
<code>&lt;unix-timestamp&gt;</code> is the number of seconds since the UNIX epoch.
<code>&lt;time-zone-offset&gt;</code> is a positive or negative offset from UTC.
For example CET (which is 1 hour ahead of UTC) is <code>+0100</code>.</p>
</dd>
<dt> RFC 2822 </dt>
<dd>
<p>The standard email format as described by RFC 2822, for example
<code>Thu, 07 Apr 2005 22:13:13 +0200</code>.</p>
</dd>
<dt> ISO 8601 </dt>
<dd>
<p>Time and date specified by the ISO 8601 standard, for example
<code>2005-04-07T22:13:13</code>. The parser accepts a space instead of the
<code>T</code> character as well. Fractional parts of a second will be ignored,
for example <code>2005-04-07T22:13:13.019</code> will be treated as
<code>2005-04-07T22:13:13</code>.</p>

<table><tr>
<td>
Note
</td>
<td>
In addition, the date part is accepted in the following formats:
<code>YYYY.MM.DD</code>, <code>MM/DD/YYYY</code> and <code>DD.MM.YYYY</code>.
</td>
</tr></table>

</dd>
</dl>


<p>In addition to recognizing all date formats above, the <code>--date</code> option
will also try to make sense of other, more human-centric date formats,
such as relative dates like "yesterday" or "last Friday at noon".</p>




<h2>DISCUSSION</h2>


<p>Though not required, it’s a good idea to begin the commit message
with a single short (less than 50 character) line summarizing the
change, followed by a blank line and then a more thorough description.
The text up to the first blank line in a commit message is treated
as the commit title, and that title is used throughout Git.
For example, <a href="/docs/git-format-patch">git-format-patch[1]</a> turns a commit into email, and it uses
the title on the Subject line and the rest of the commit in the body.</p>


<p>Git is to some extent character encoding agnostic.</p>


<ul>
<li>
<p>The contents of the blob objects are uninterpreted sequences
of bytes.  There is no encoding translation at the core
level.</p>
</li>
<li>
<p>Path names are encoded in UTF-8 normalization form C. This
applies to tree objects, the index file, ref names, as well as
path names in command line arguments, environment variables
and config files (<code>.git/config</code> (see <a href="/docs/git-config">git-config[1]</a>),
<a href="/docs/gitignore">gitignore[5]</a>, <a href="/docs/gitattributes">gitattributes[5]</a> and
<a href="/docs/gitmodules">gitmodules[5]</a>).</p>

<p>Note that Git at the core level treats path names simply as
sequences of non-NUL bytes, there are no path name encoding
conversions (except on Mac and Windows). Therefore, using
non-ASCII path names will mostly work even on platforms and file
systems that use legacy extended ASCII encodings. However,
repositories created on such systems will not work properly on
UTF-8-based systems (e.g. Linux, Mac, Windows) and vice versa.
Additionally, many Git-based tools simply assume path names to
be UTF-8 and will fail to display other encodings correctly.</p>

</li>
<li>
<p>Commit log messages are typically encoded in UTF-8, but other
extended ASCII encodings are also supported. This includes
ISO-8859-x, CP125x and many others, but <em>not</em> UTF-16/32,
EBCDIC and CJK multi-byte encodings (GBK, Shift-JIS, Big5,
EUC-x, CP9xx etc.).</p>
</li>
</ul>


<p>Although we encourage that the commit log messages are encoded
in UTF-8, both the core and Git Porcelain are designed not to
force UTF-8 on projects.  If all participants of a particular
project find it more convenient to use legacy encodings, Git
does not forbid it.  However, there are a few things to keep in
mind.</p>


<ol>
<li>
<p><em>git commit</em> and <em>git commit-tree</em> issues
a warning if the commit log message given to it does not look
like a valid UTF-8 string, unless you explicitly say your
project uses a legacy encoding.  The way to say this is to
have <code>i18n.commitEncoding</code> in <code>.git/config</code> file, like this:</p>


<pre>[i18n]
	commitEncoding = ISO-8859-1</pre>



<p>Commit objects created with the above setting record the value
of <code>i18n.commitEncoding</code> in its <code>encoding</code> header.  This is to
help other people who look at them later.  Lack of this header
implies that the commit log message is encoded in UTF-8.</p>

</li>
<li>
<p><em>git log</em>, <em>git show</em>, <em>git blame</em> and friends look at the
<code>encoding</code> header of a commit object, and try to re-code the
log message into UTF-8 unless otherwise specified.  You can
specify the desired output encoding with
<code>i18n.logOutputEncoding</code> in <code>.git/config</code> file, like this:</p>


<pre>[i18n]
	logOutputEncoding = ISO-8859-1</pre>



<p>If you do not have this configuration variable, the value of
<code>i18n.commitEncoding</code> is used instead.</p>

</li>
</ol>


<p>Note that we deliberately chose not to re-code the commit log
message when a commit is made to force UTF-8 at the commit
object level, because re-coding to UTF-8 is not necessarily a
reversible operation.</p>




<h2>ENVIRONMENT AND CONFIGURATION VARIABLES</h2>


<p>The editor used to edit the commit log message will be chosen from the
<code>GIT_EDITOR</code> environment variable, the core.editor configuration variable, the
<code>VISUAL</code> environment variable, or the <code>EDITOR</code> environment variable (in that
order).  See <a href="/docs/git-var">git-var[1]</a> for details.</p>




<h2>HOOKS</h2>


<p>This command can run <code>commit-msg</code>, <code>prepare-commit-msg</code>, <code>pre-commit</code>,
<code>post-commit</code> and <code>post-rewrite</code> hooks.  See <a href="/docs/githooks">githooks[5]</a> for more
information.</p>




<h2>FILES</h2>


<dl>
<dt> <code>$GIT_DIR/COMMIT_EDITMSG</code> </dt>
<dd>
<p>This file contains the commit message of a commit in progress.
If <code>git commit</code> exits due to an error before creating a commit,
any commit message that has been provided by the user (e.g., in
an editor session) will be available in this file, but will be
overwritten by the next invocation of <code>git commit</code>.</p>
</dd>
</dl>




<h2>SEE ALSO</h2>


<p><a href="/docs/git-add">git-add[1]</a>,
<a href="/docs/git-rm">git-rm[1]</a>,
<a href="/docs/git-mv">git-mv[1]</a>,
<a href="/docs/git-merge">git-merge[1]</a>,
<a href="/docs/git-commit-tree">git-commit-tree[1]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-notes - Add or inspect object notes</span></h2>




<h2><br>synopsis</h2>


<pre><em>git notes</em> [list [&lt;object&gt;]]
<em>git notes</em> add [-f] [--allow-empty] [-F &lt;file&gt; | -m &lt;msg&gt; | (-c | -C) &lt;object&gt;] [&lt;object&gt;]
<em>git notes</em> copy [-f] ( --stdin | &lt;from-object&gt; [&lt;to-object&gt;] )
<em>git notes</em> append [--allow-empty] [-F &lt;file&gt; | -m &lt;msg&gt; | (-c | -C) &lt;object&gt;] [&lt;object&gt;]
<em>git notes</em> edit [--allow-empty] [&lt;object&gt;]
<em>git notes</em> show [&lt;object&gt;]
<em>git notes</em> merge [-v | -q] [-s &lt;strategy&gt; ] &lt;notes-ref&gt;
<em>git notes</em> merge --commit [-v | -q]
<em>git notes</em> merge --abort [-v | -q]
<em>git notes</em> remove [--ignore-missing] [--stdin] [&lt;object&gt;…<U+200B>]
<em>git notes</em> prune [-n] [-v]
<em>git notes</em> get-ref</pre>




<h2>description</h2>


<p>Adds, removes, or reads notes attached to objects, without touching
the objects themselves.</p>


<p>By default, notes are saved to and read from <code>refs/notes/commits</code>, but
this default can be overridden.  See the OPTIONS, CONFIGURATION, and
ENVIRONMENT sections below.  If this ref does not exist, it will be
quietly created when it is first needed to store a note.</p>


<p>A typical use of notes is to supplement a commit message without
changing the commit itself. Notes can be shown by <em>git log</em> along with
the original commit message. To distinguish these notes from the
message stored in the commit object, the notes are indented like the
message, after an unindented line saying "Notes (&lt;refname&gt;):" (or
"Notes:" for <code>refs/notes/commits</code>).</p>


<p>Notes can also be added to patches prepared with <code>git format-patch</code> by
using the <code>--notes</code> option. Such notes are added as a patch commentary
after a three dash separator line.</p>


<p>To change which notes are shown by <em>git log</em>, see the
"notes.displayRef" configuration in <a href="/docs/git-log">git-log[1]</a>.</p>


<p>See the "notes.rewrite.&lt;command&gt;" configuration for a way to carry
notes across commands that rewrite commits.</p>




<h2>SUBCOMMANDS</h2>


<dl>
<dt> list </dt>
<dd>
<p>List the notes object for a given object. If no object is
given, show a list of all note objects and the objects they
annotate (in the format "&lt;note object&gt; &lt;annotated object&gt;").
This is the default subcommand if no subcommand is given.</p>
</dd>
<dt> add </dt>
<dd>
<p>Add notes for a given object (defaults to HEAD). Abort if the
object already has notes (use <code>-f</code> to overwrite existing notes).
However, if you’re using <code>add</code> interactively (using an editor
to supply the notes contents), then - instead of aborting -
the existing notes will be opened in the editor (like the <code>edit</code>
subcommand).</p>
</dd>
<dt> copy </dt>
<dd>
<p>Copy the notes for the first object onto the second object (defaults to
HEAD). Abort if the second object already has notes, or if the first
object has none (use -f to overwrite existing notes to the
second object). This subcommand is equivalent to:
<code>git notes add [-f] -C $(git notes list &lt;from-object&gt;) &lt;to-object&gt;</code></p>

<p>In <code>--stdin</code> mode, take lines in the format</p>



<pre>&lt;from-object&gt; SP &lt;to-object&gt; [ SP &lt;rest&gt; ] LF</pre>



<p>on standard input, and copy the notes from each &lt;from-object&gt; to its
corresponding &lt;to-object&gt;.  (The optional <code>&lt;rest&gt;</code> is ignored so that
the command can read the input given to the <code>post-rewrite</code> hook.)</p>

</dd>
<dt> append </dt>
<dd>
<p>Append to the notes of an existing object (defaults to HEAD).
Creates a new notes object if needed.</p>
</dd>
<dt> edit </dt>
<dd>
<p>Edit the notes for a given object (defaults to HEAD).</p>
</dd>
<dt> show </dt>
<dd>
<p>Show the notes for a given object (defaults to HEAD).</p>
</dd>
<dt> merge </dt>
<dd>
<p>Merge the given notes ref into the current notes ref.
This will try to merge the changes made by the given
notes ref (called "remote") since the merge-base (if
any) into the current notes ref (called "local").</p>

<p>If conflicts arise and a strategy for automatically resolving
conflicting notes (see the "NOTES MERGE STRATEGIES" section) is not given,
the "manual" resolver is used. This resolver checks out the
conflicting notes in a special worktree (<code>.git/NOTES_MERGE_WORKTREE</code>),
and instructs the user to manually resolve the conflicts there.
When done, the user can either finalize the merge with
<em>git notes merge --commit</em>, or abort the merge with
<em>git notes merge --abort</em>.</p>

</dd>
<dt> remove </dt>
<dd>
<p>Remove the notes for given objects (defaults to HEAD). When
giving zero or one object from the command line, this is
equivalent to specifying an empty note message to
the <code>edit</code> subcommand.</p>
</dd>
<dt> prune </dt>
<dd>
<p>Remove all notes for non-existing/unreachable objects.</p>
</dd>
<dt> get-ref </dt>
<dd>
<p>Print the current notes ref. This provides an easy way to
retrieve the current notes ref (e.g. from scripts).</p>
</dd>
</dl>




<h2>options</h2>


<dl>
<dt> -f </dt>
<dt> --force </dt>
<dd>
<p>When adding notes to an object that already has notes,
overwrite the existing notes (instead of aborting).</p>
</dd>
<dt> -m &lt;msg&gt; </dt>
<dt> --message=&lt;msg&gt; </dt>
<dd>
<p>Use the given note message (instead of prompting).
If multiple <code>-m</code> options are given, their values
are concatenated as separate paragraphs.
Lines starting with <code>#</code> and empty lines other than a
single line between paragraphs will be stripped out.</p>
</dd>
<dt> -F &lt;file&gt; </dt>
<dt> --file=&lt;file&gt; </dt>
<dd>
<p>Take the note message from the given file.  Use <em>-</em> to
read the note message from the standard input.
Lines starting with <code>#</code> and empty lines other than a
single line between paragraphs will be stripped out.</p>
</dd>
<dt> -C &lt;object&gt; </dt>
<dt> --reuse-message=&lt;object&gt; </dt>
<dd>
<p>Take the given blob object (for example, another note) as the
note message. (Use <code>git notes copy &lt;object&gt;</code> instead to
copy notes between objects.)</p>
</dd>
<dt> -c &lt;object&gt; </dt>
<dt> --reedit-message=&lt;object&gt; </dt>
<dd>
<p>Like <em>-C</em>, but with <code>-c</code> the editor is invoked, so that
the user can further edit the note message.</p>
</dd>
<dt> --allow-empty </dt>
<dd>
<p>Allow an empty note object to be stored. The default behavior is
to automatically remove empty notes.</p>
</dd>
<dt> --ref &lt;ref&gt; </dt>
<dd>
<p>Manipulate the notes tree in &lt;ref&gt;.  This overrides
<code>GIT_NOTES_REF</code> and the "core.notesRef" configuration.  The ref
specifies the full refname when it begins with <code>refs/notes/</code>; when it
begins with <code>notes/</code>, <code>refs/</code> and otherwise <code>refs/notes/</code> is prefixed
to form a full name of the ref.</p>
</dd>
<dt> --ignore-missing </dt>
<dd>
<p>Do not consider it an error to request removing notes from an
object that does not have notes attached to it.</p>
</dd>
<dt> --stdin </dt>
<dd>
<p>Also read the object names to remove notes from the standard
input (there is no reason you cannot combine this with object
names from the command line).</p>
</dd>
<dt> -n </dt>
<dt> --dry-run </dt>
<dd>
<p>Do not remove anything; just report the object names whose notes
would be removed.</p>
</dd>
<dt> -s &lt;strategy&gt; </dt>
<dt> --strategy=&lt;strategy&gt; </dt>
<dd>
<p>When merging notes, resolve notes conflicts using the given
strategy. The following strategies are recognized: "manual"
(default), "ours", "theirs", "union" and "cat_sort_uniq".
This option overrides the "notes.mergeStrategy" configuration setting.
See the "NOTES MERGE STRATEGIES" section below for more
information on each notes merge strategy.</p>
</dd>
<dt> --commit </dt>
<dd>
<p>Finalize an in-progress <em>git notes merge</em>. Use this option
when you have resolved the conflicts that <em>git notes merge</em>
stored in .git/NOTES_MERGE_WORKTREE. This amends the partial
merge commit created by <em>git notes merge</em> (stored in
.git/NOTES_MERGE_PARTIAL) by adding the notes in
.git/NOTES_MERGE_WORKTREE. The notes ref stored in the
.git/NOTES_MERGE_REF symref is updated to the resulting commit.</p>
</dd>
<dt> --abort </dt>
<dd>
<p>Abort/reset an in-progress <em>git notes merge</em>, i.e. a notes merge
with conflicts. This simply removes all files related to the
notes merge.</p>
</dd>
<dt> -q </dt>
<dt> --quiet </dt>
<dd>
<p>When merging notes, operate quietly.</p>
</dd>
<dt> -v </dt>
<dt> --verbose </dt>
<dd>
<p>When merging notes, be more verbose.
When pruning notes, report all object names whose notes are
removed.</p>
</dd>
</dl>




<h2>DISCUSSION</h2>


<p>Commit notes are blobs containing extra information about an object
(usually information to supplement a commit’s message).  These blobs
are taken from notes refs.  A notes ref is usually a branch which
contains "files" whose paths are the object names for the objects
they describe, with some directory separators included for performance
reasons <sup>[<a href="#_footnotedef_1" title="View footnote.">1</a>]</sup>.</p>


<p>Every notes change creates a new commit at the specified notes ref.
You can therefore inspect the history of the notes by invoking, e.g.,
<code>git log -p notes/commits</code>.  Currently the commit message only records
which operation triggered the update, and the commit authorship is
determined according to the usual rules (see <a href="/docs/git-commit">git-commit[1]</a>).
These details may change in the future.</p>


<p>It is also permitted for a notes ref to point directly to a tree
object, in which case the history of the notes can be read with
<code>git log -p -g &lt;refname&gt;</code>.</p>




<h2>NOTES MERGE STRATEGIES</h2>


<p>The default notes merge strategy is "manual", which checks out
conflicting notes in a special work tree for resolving notes conflicts
(<code>.git/NOTES_MERGE_WORKTREE</code>), and instructs the user to resolve the
conflicts in that work tree.
When done, the user can either finalize the merge with
<em>git notes merge --commit</em>, or abort the merge with
<em>git notes merge --abort</em>.</p>


<p>Users may select an automated merge strategy from among the following using
either -s/--strategy option or configuring notes.mergeStrategy accordingly:</p>


<p>"ours" automatically resolves conflicting notes in favor of the local
version (i.e. the current notes ref).</p>


<p>"theirs" automatically resolves notes conflicts in favor of the remote
version (i.e. the given notes ref being merged into the current notes
ref).</p>


<p>"union" automatically resolves notes conflicts by concatenating the
local and remote versions.</p>


<p>"cat_sort_uniq" is similar to "union", but in addition to concatenating
the local and remote versions, this strategy also sorts the resulting
lines, and removes duplicate lines from the result. This is equivalent
to applying the "cat | sort | uniq" shell pipeline to the local and
remote versions. This strategy is useful if the notes follow a line-based
format where one wants to avoid duplicated lines in the merge result.
Note that if either the local or remote version contain duplicate lines
prior to the merge, these will also be removed by this notes merge
strategy.</p>




<h2>examples</h2>


<p>You can use notes to add annotations with information that was not
available at the time a commit was written.</p>



<pre>$ git notes add -m 'Tested-by: Johannes Sixt &lt;j6t@kdbg.org&gt;' 72a144e2
$ git show -s 72a144e
[...]
    Signed-off-by: Junio C Hamano &lt;gitster@pobox.com&gt;

Notes:
    Tested-by: Johannes Sixt &lt;j6t@kdbg.org&gt;</pre>



<p>In principle, a note is a regular Git blob, and any kind of
(non-)format is accepted.  You can binary-safely create notes from
arbitrary files using <em>git hash-object</em>:</p>



<pre>$ cc *.c
$ blob=$(git hash-object -w a.out)
$ git notes --ref=built add --allow-empty -C "$blob" HEAD</pre>



<p>(You cannot simply use <code>git notes --ref=built add -F a.out HEAD</code>
because that is not binary-safe.)
Of course, it doesn’t make much sense to display non-text-format notes
with <em>git log</em>, so if you use such notes, you’ll probably need to write
some special-purpose tools to do something useful with them.</p>




<h2>CONFIGURATION</h2>


<dl>
<dt> core.notesRef </dt>
<dd>
<p>Notes ref to read and manipulate instead of
<code>refs/notes/commits</code>.  Must be an unabbreviated ref name.
This setting can be overridden through the environment and
command line.</p>
</dd>
<dt> notes.mergeStrategy </dt>
<dd>
<p>Which merge strategy to choose by default when resolving notes
conflicts.  Must be one of <code>manual</code>, <code>ours</code>, <code>theirs</code>, <code>union</code>, or
<code>cat_sort_uniq</code>.  Defaults to <code>manual</code>.  See "NOTES MERGE STRATEGIES"
section above for more information on each strategy.</p>

<p>This setting can be overridden by passing the <code>--strategy</code> option.</p>

</dd>
<dt> notes.&lt;name&gt;.mergeStrategy </dt>
<dd>
<p>Which merge strategy to choose when doing a notes merge into
refs/notes/&lt;name&gt;.  This overrides the more general
"notes.mergeStrategy".  See the "NOTES MERGE STRATEGIES" section above
for more information on each available strategy.</p>
</dd>
<dt> notes.displayRef </dt>
<dd>
<p>Which ref (or refs, if a glob or specified more than once), in
addition to the default set by <code>core.notesRef</code> or
<code>GIT_NOTES_REF</code>, to read notes from when showing commit
messages with the <em>git log</em> family of commands.
This setting can be overridden on the command line or by the
<code>GIT_NOTES_DISPLAY_REF</code> environment variable.
See <a href="/docs/git-log">git-log[1]</a>.</p>
</dd>
<dt> notes.rewrite.&lt;command&gt; </dt>
<dd>
<p>When rewriting commits with &lt;command&gt; (currently <code>amend</code> or
<code>rebase</code>), if this variable is <code>false</code>, git will not copy
notes from the original to the rewritten commit.  Defaults to
<code>true</code>.  See also "<code>notes.rewriteRef</code>" below.</p>

<p>This setting can be overridden by the <code>GIT_NOTES_REWRITE_REF</code>
environment variable.</p>

</dd>
<dt> notes.rewriteMode </dt>
<dd>
<p>When copying notes during a rewrite, what to do if the target
commit already has a note.  Must be one of <code>overwrite</code>,
<code>concatenate</code>, <code>cat_sort_uniq</code>, or <code>ignore</code>.  Defaults to
<code>concatenate</code>.</p>

<p>This setting can be overridden with the <code>GIT_NOTES_REWRITE_MODE</code>
environment variable.</p>

</dd>
<dt> notes.rewriteRef </dt>
<dd>
<p>When copying notes during a rewrite, specifies the (fully
qualified) ref whose notes should be copied.  May be a glob,
in which case notes in all matching refs will be copied.  You
may also specify this configuration several times.</p>

<p>Does not have a default value; you must configure this variable to
enable note rewriting.</p>


<p>Can be overridden with the <code>GIT_NOTES_REWRITE_REF</code> environment variable.</p>

</dd>
</dl>




<h2>ENVIRONMENT</h2>


<dl>
<dt> <code>GIT_NOTES_REF</code> </dt>
<dd>
<p>Which ref to manipulate notes from, instead of <code>refs/notes/commits</code>.
This overrides the <code>core.notesRef</code> setting.</p>
</dd>
<dt> <code>GIT_NOTES_DISPLAY_REF</code> </dt>
<dd>
<p>Colon-delimited list of refs or globs indicating which refs,
in addition to the default from <code>core.notesRef</code> or
<code>GIT_NOTES_REF</code>, to read notes from when showing commit
messages.
This overrides the <code>notes.displayRef</code> setting.</p>

<p>A warning will be issued for refs that do not exist, but a glob that
does not match any refs is silently ignored.</p>

</dd>
<dt> <code>GIT_NOTES_REWRITE_MODE</code> </dt>
<dd>
<p>When copying notes during a rewrite, what to do if the target
commit already has a note.
Must be one of <code>overwrite</code>, <code>concatenate</code>, <code>cat_sort_uniq</code>, or <code>ignore</code>.
This overrides the <code>core.rewriteMode</code> setting.</p>
</dd>
<dt> <code>GIT_NOTES_REWRITE_REF</code> </dt>
<dd>
<p>When rewriting commits, which notes to copy from the original
to the rewritten commit.  Must be a colon-delimited list of
refs or globs.</p>

<p>If not set in the environment, the list of notes to copy depends
on the <code>notes.rewrite.&lt;command&gt;</code> and <code>notes.rewriteRef</code> settings.</p>

</dd>
</dl>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>




<hr>

<a href="#_footnoteref_1">1</a>. Permitted pathnames have the form <em>bf</em><code>/</code><em>fe</em><code>/</code><em>30</em><code>/</code><em>…<U+200B></em><code>/</code><em>680d5a…<U+200B></em>: a sequence of directory names of two hexadecimal digits each followed by a filename with the rest of the object ID.


  

    
<h2><br><span class="orange">git-restore - Restore working tree files</span></h2>




<h2><br>synopsis</h2>


<pre><em>git restore</em> [&lt;options&gt;] [--source=&lt;tree&gt;] [--staged] [--worktree] [--] &lt;pathspec&gt;…<U+200B>
<em>git restore</em> [&lt;options&gt;] [--source=&lt;tree&gt;] [--staged] [--worktree] --pathspec-from-file=&lt;file&gt; [--pathspec-file-nul]
<em>git restore</em> (-p|--patch) [&lt;options&gt;] [--source=&lt;tree&gt;] [--staged] [--worktree] [--] [&lt;pathspec&gt;…<U+200B>]</pre>




<h2>description</h2>


<p>Restore specified paths in the working tree with some contents from a
restore source. If a path is tracked but does not exist in the restore
source, it will be removed to match the source.</p>


<p>The command can also be used to restore the content in the index with
<code>--staged</code>, or restore both the working tree and the index with
<code>--staged --worktree</code>.</p>


<p>By default, if <code>--staged</code> is given, the contents are restored from <code>HEAD</code>,
otherwise from the index. Use <code>--source</code> to restore from a different commit.</p>


<p>See "Reset, restore and revert" in <a href="/docs/git">git[1]</a> for the differences
between the three commands.</p>


<p>THIS COMMAND IS EXPERIMENTAL. THE BEHAVIOR MAY CHANGE.</p>




<h2>options</h2>


<dl>
<dt> -s &lt;tree&gt; </dt>
<dt> --source=&lt;tree&gt; </dt>
<dd>
<p>Restore the working tree files with the content from the given
tree. It is common to specify the source tree by naming a
commit, branch or tag associated with it.</p>

<p>If not specified, the contents are restored from <code>HEAD</code> if <code>--staged</code> is
given, otherwise from the index.</p>


<p>As a special case, you may use <code>"A...B"</code> as a shortcut for the
merge base of <code>A</code> and <code>B</code> if there is exactly one merge base. You can
leave out at most one of <code>A</code> and <code>B</code>, in which case it defaults to <code>HEAD</code>.</p>

</dd>
<dt> -p </dt>
<dt> --patch </dt>
<dd>
<p>Interactively select hunks in the difference between the
restore source and the restore location. See the “Interactive
Mode” section of <a href="/docs/git-add">git-add[1]</a> to learn how to operate
the <code>--patch</code> mode.</p>

<p>Note that <code>--patch</code> can accept no pathspec and will prompt to restore
all modified paths.</p>

</dd>
<dt> -W </dt>
<dt> --worktree </dt>
<dt> -S </dt>
<dt> --staged </dt>
<dd>
<p>Specify the restore location. If neither option is specified,
by default the working tree is restored. Specifying <code>--staged</code>
will only restore the index. Specifying both restores both.</p>
</dd>
<dt> -q </dt>
<dt> --quiet </dt>
<dd>
<p>Quiet, suppress feedback messages. Implies <code>--no-progress</code>.</p>
</dd>
<dt> --progress </dt>
<dt> --no-progress </dt>
<dd>
<p>Progress status is reported on the standard error stream
by default when it is attached to a terminal, unless <code>--quiet</code>
is specified. This flag enables progress reporting even if not
attached to a terminal, regardless of <code>--quiet</code>.</p>
</dd>
<dt> --ours </dt>
<dt> --theirs </dt>
<dd>
<p>When restoring files in the working tree from the index, use
stage #2 (<em>ours</em>) or #3 (<em>theirs</em>) for unmerged paths.</p>

<p>Note that during <code>git rebase</code> and <code>git pull --rebase</code>, <em>ours</em> and
<em>theirs</em> may appear swapped. See the explanation of the same options
in <a href="/docs/git-checkout">git-checkout[1]</a> for details.</p>

</dd>
<dt> -m </dt>
<dt> --merge </dt>
<dd>
<p>When restoring files on the working tree from the index,
recreate the conflicted merge in the unmerged paths.</p>
</dd>
<dt> --conflict=&lt;style&gt; </dt>
<dd>
<p>The same as <code>--merge</code> option above, but changes the way the
conflicting hunks are presented, overriding the
<code>merge.conflictStyle</code> configuration variable.  Possible values
are "merge" (default), "diff3", and "zdiff3".</p>
</dd>
<dt> --ignore-unmerged </dt>
<dd>
<p>When restoring files on the working tree from the index, do
not abort the operation if there are unmerged entries and
neither <code>--ours</code>, <code>--theirs</code>, <code>--merge</code> or <code>--conflict</code> is
specified. Unmerged paths on the working tree are left alone.</p>
</dd>
<dt> --ignore-skip-worktree-bits </dt>
<dd>
<p>In sparse checkout mode, by default is to only update entries
matched by <code>&lt;pathspec&gt;</code> and sparse patterns in
$GIT_DIR/info/sparse-checkout. This option ignores the sparse
patterns and unconditionally restores any files in
<code>&lt;pathspec&gt;</code>.</p>
</dd>
<dt> --recurse-submodules </dt>
<dt> --no-recurse-submodules </dt>
<dd>
<p>If <code>&lt;pathspec&gt;</code> names an active submodule and the restore location
includes the working tree, the submodule will only be updated if
this option is given, in which case its working tree will be
restored to the commit recorded in the superproject, and any local
modifications overwritten. If nothing (or
<code>--no-recurse-submodules</code>) is used, submodules working trees will
not be updated. Just like <a href="/docs/git-checkout">git-checkout[1]</a>, this will detach
<code>HEAD</code> of the submodule.</p>
</dd>
<dt> --overlay </dt>
<dt> --no-overlay </dt>
<dd>
<p>In overlay mode, the command never removes files when
restoring. In no-overlay mode, tracked files that do not
appear in the <code>--source</code> tree are removed, to make them match
<code>&lt;tree&gt;</code> exactly. The default is no-overlay mode.</p>
</dd>
<dt> --pathspec-from-file=&lt;file&gt; </dt>
<dd>
<p>Pathspec is passed in <code>&lt;file&gt;</code> instead of commandline args. If
<code>&lt;file&gt;</code> is exactly <code>-</code> then standard input is used. Pathspec
elements are separated by LF or CR/LF. Pathspec elements can be
quoted as explained for the configuration variable <code>core.quotePath</code>
(see <a href="/docs/git-config">git-config[1]</a>). See also <code>--pathspec-file-nul</code> and
global <code>--literal-pathspecs</code>.</p>
</dd>
<dt> --pathspec-file-nul </dt>
<dd>
<p>Only meaningful with <code>--pathspec-from-file</code>. Pathspec elements are
separated with NUL character and all other characters are taken
literally (including newlines and quotes).</p>
</dd>
<dt> -- </dt>
<dd>
<p>Do not interpret any more arguments as options.</p>
</dd>
<dt> &lt;pathspec&gt;…<U+200B> </dt>
<dd>
<p>Limits the paths affected by the operation.</p>

<p>For more details, see the <em>pathspec</em> entry in <a href="/docs/gitglossary">gitglossary[7]</a>.</p>

</dd>
</dl>




<h2>examples</h2>


<p>The following sequence switches to the <code>master</code> branch, reverts the
<code>Makefile</code> to two revisions back, deletes hello.c by mistake, and gets
it back from the index.</p>



<pre>$ git switch master
$ git restore --source master~2 Makefile  <b>(1)</b>
$ rm -f hello.c
$ git restore hello.c                     <b>(2)</b></pre>



<ol>
<li>
<p>take a file out of another commit</p>
</li>
<li>
<p>restore hello.c from the index</p>
</li>
</ol>


<p>If you want to restore <em>all</em> C source files to match the version in
the index, you can say</p>



<pre>$ git restore '*.c'</pre>



<p>Note the quotes around <code>*.c</code>.  The file <code>hello.c</code> will also be
restored, even though it is no longer in the working tree, because the
file globbing is used to match entries in the index (not in the
working tree by the shell).</p>


<p>To restore all files in the current directory</p>



<pre>$ git restore .</pre>



<p>or to restore all working tree files with <em>top</em> pathspec magic (see
<a href="/docs/gitglossary">gitglossary[7]</a>)</p>



<pre>$ git restore :/</pre>



<p>To restore a file in the index to match the version in <code>HEAD</code> (this is
the same as using <a href="/docs/git-reset">git-reset[1]</a>)</p>



<pre>$ git restore --staged hello.c</pre>



<p>or you can restore both the index and the working tree (this the same
as using <a href="/docs/git-checkout">git-checkout[1]</a>)</p>



<pre>$ git restore --source=HEAD --staged --worktree hello.c</pre>



<p>or the short form which is more practical but less readable:</p>



<pre>$ git restore -s@ -SW hello.c</pre>





<h2>SEE ALSO</h2>


<p><a href="/docs/git-checkout">git-checkout[1]</a>,
<a href="/docs/git-reset">git-reset[1]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-reset - Reset current HEAD to the specified state</span></h2>




<h2><br>synopsis</h2>


<pre><em>git reset</em> [-q] [&lt;tree-ish&gt;] [--] &lt;pathspec&gt;…<U+200B>
<em>git reset</em> [-q] [--pathspec-from-file=&lt;file&gt; [--pathspec-file-nul]] [&lt;tree-ish&gt;]
<em>git reset</em> (--patch | -p) [&lt;tree-ish&gt;] [--] [&lt;pathspec&gt;…<U+200B>]
<em>git reset</em> [--soft | --mixed [-N] | --hard | --merge | --keep] [-q] [&lt;commit&gt;]</pre>




<h2>description</h2>


<p>In the first three forms, copy entries from <code>&lt;tree-ish&gt;</code> to the index.
In the last form, set the current branch head (<code>HEAD</code>) to <code>&lt;commit&gt;</code>,
optionally modifying index and working tree to match.
The <code>&lt;tree-ish&gt;</code>/<code>&lt;commit&gt;</code> defaults to <code>HEAD</code> in all forms.</p>


<dl>
<dt> <em>git reset</em> [-q] [&lt;tree-ish&gt;] [--] &lt;pathspec&gt;…<U+200B> </dt>
<dt> <em>git reset</em> [-q] [--pathspec-from-file=&lt;file&gt; [--pathspec-file-nul]] [&lt;tree-ish&gt;] </dt>
<dd>
<p>These forms reset the index entries for all paths that match the
<code>&lt;pathspec&gt;</code> to their state at <code>&lt;tree-ish&gt;</code>.  (It does not affect
the working tree or the current branch.)</p>

<p>This means that <code>git reset &lt;pathspec&gt;</code> is the opposite of <code>git add
&lt;pathspec&gt;</code>. This command is equivalent to
<code>git restore [--source=&lt;tree-ish&gt;] --staged &lt;pathspec&gt;...</code>.</p>


<p>After running <code>git reset &lt;pathspec&gt;</code> to update the index entry, you can
use <a href="/docs/git-restore">git-restore[1]</a> to check the contents out of the index to
the working tree. Alternatively, using <a href="/docs/git-restore">git-restore[1]</a>
and specifying a commit with <code>--source</code>, you
can copy the contents of a path out of a commit to the index and to the
working tree in one go.</p>

</dd>
<dt> <em>git reset</em> (--patch | -p) [&lt;tree-ish&gt;] [--] [&lt;pathspec&gt;…<U+200B>] </dt>
<dd>
<p>Interactively select hunks in the difference between the index
and <code>&lt;tree-ish&gt;</code> (defaults to <code>HEAD</code>).  The chosen hunks are applied
in reverse to the index.</p>

<p>This means that <code>git reset -p</code> is the opposite of <code>git add -p</code>, i.e.
you can use it to selectively reset hunks. See the “Interactive Mode”
section of <a href="/docs/git-add">git-add[1]</a> to learn how to operate the <code>--patch</code> mode.</p>

</dd>
<dt> <em>git reset</em> [&lt;mode&gt;] [&lt;commit&gt;] </dt>
<dd>
<p>This form resets the current branch head to <code>&lt;commit&gt;</code> and
possibly updates the index (resetting it to the tree of <code>&lt;commit&gt;</code>) and
the working tree depending on <code>&lt;mode&gt;</code>. If <code>&lt;mode&gt;</code> is omitted,
defaults to <code>--mixed</code>. The <code>&lt;mode&gt;</code> must be one of the following:</p>



<dl>
<dt> --soft </dt>
<dd>
<p>Does not touch the index file or the working tree at all (but
resets the head to <code>&lt;commit&gt;</code>, just like all modes do). This leaves
all your changed files "Changes to be committed", as <code>git status</code>
would put it.</p>
</dd>
<dt> --mixed </dt>
<dd>
<p>Resets the index but not the working tree (i.e., the changed files
are preserved but not marked for commit) and reports what has not
been updated. This is the default action.</p>

<p>If <code>-N</code> is specified, removed paths are marked as intent-to-add (see
<a href="/docs/git-add">git-add[1]</a>).</p>

</dd>
<dt> --hard </dt>
<dd>
<p>Resets the index and working tree. Any changes to tracked files in the
working tree since <code>&lt;commit&gt;</code> are discarded.  Any untracked files or
directories in the way of writing any tracked files are simply deleted.</p>
</dd>
<dt> --merge </dt>
<dd>
<p>Resets the index and updates the files in the working tree that are
different between <code>&lt;commit&gt;</code> and <code>HEAD</code>, but keeps those which are
different between the index and working tree (i.e. which have changes
which have not been added).
If a file that is different between <code>&lt;commit&gt;</code> and the index has
unstaged changes, reset is aborted.</p>

<p>In other words, <code>--merge</code> does something like a <code>git read-tree -u -m &lt;commit&gt;</code>,
but carries forward unmerged index entries.</p>

</dd>
<dt> --keep </dt>
<dd>
<p>Resets index entries and updates files in the working tree that are
different between <code>&lt;commit&gt;</code> and <code>HEAD</code>.
If a file that is different between <code>&lt;commit&gt;</code> and <code>HEAD</code> has local
changes, reset is aborted.</p>
</dd>
<dt> --[no-]recurse-submodules </dt>
<dd>
<p>When the working tree is updated, using --recurse-submodules will
also recursively reset the working tree of all active submodules
according to the commit recorded in the superproject, also setting
the submodules' HEAD to be detached at that commit.</p>
</dd>
</dl>



</dd>
</dl>


<p>See "Reset, restore and revert" in <a href="/docs/git">git[1]</a> for the differences
between the three commands.</p>




<h2>options</h2>


<dl>
<dt> -q </dt>
<dt> --quiet </dt>
<dt> --no-quiet </dt>
<dd>
<p>Be quiet, only report errors. The default behavior is set by the
<code>reset.quiet</code> config option. <code>--quiet</code> and <code>--no-quiet</code> will
override the default behavior.</p>
</dd>
<dt> --pathspec-from-file=&lt;file&gt; </dt>
<dd>
<p>Pathspec is passed in <code>&lt;file&gt;</code> instead of commandline args. If
<code>&lt;file&gt;</code> is exactly <code>-</code> then standard input is used. Pathspec
elements are separated by LF or CR/LF. Pathspec elements can be
quoted as explained for the configuration variable <code>core.quotePath</code>
(see <a href="/docs/git-config">git-config[1]</a>). See also <code>--pathspec-file-nul</code> and
global <code>--literal-pathspecs</code>.</p>
</dd>
<dt> --pathspec-file-nul </dt>
<dd>
<p>Only meaningful with <code>--pathspec-from-file</code>. Pathspec elements are
separated with NUL character and all other characters are taken
literally (including newlines and quotes).</p>
</dd>
<dt> -- </dt>
<dd>
<p>Do not interpret any more arguments as options.</p>
</dd>
<dt> &lt;pathspec&gt;…<U+200B> </dt>
<dd>
<p>Limits the paths affected by the operation.</p>

<p>For more details, see the <em>pathspec</em> entry in <a href="/docs/gitglossary">gitglossary[7]</a>.</p>

</dd>
</dl>




<h2>examples</h2>


<dl>
<dt> Undo add </dt>
<dd>


<pre>$ edit                                     <b>(1)</b>
$ git add frotz.c filfre.c
$ mailx                                    <b>(2)</b>
$ git reset                                <b>(3)</b>
$ git pull git://info.example.com/ nitfol  <b>(4)</b></pre>



<ol>
<li>
<p>You are happily working on something, and find the changes
in these files are in good order.  You do not want to see them
when you run <code>git diff</code>, because you plan to work on other files
and changes with these files are distracting.</p>
</li>
<li>
<p>Somebody asks you to pull, and the changes sound worthy of merging.</p>
</li>
<li>
<p>However, you already dirtied the index (i.e. your index does
not match the <code>HEAD</code> commit).  But you know the pull you are going
to make does not affect <code>frotz.c</code> or <code>filfre.c</code>, so you revert the
index changes for these two files.  Your changes in working tree
remain there.</p>
</li>
<li>
<p>Then you can pull and merge, leaving <code>frotz.c</code> and <code>filfre.c</code>
changes still in the working tree.</p>
</li>
</ol>

</dd>
<dt> Undo a commit and redo </dt>
<dd>


<pre>$ git commit ...
$ git reset --soft HEAD^      <b>(1)</b>
$ edit                        <b>(2)</b>
$ git commit -a -c ORIG_HEAD  <b>(3)</b></pre>



<ol>
<li>
<p>This is most often done when you remembered what you
just committed is incomplete, or you misspelled your commit
message, or both.  Leaves working tree as it was before "reset".</p>
</li>
<li>
<p>Make corrections to working tree files.</p>
</li>
<li>
<p>"reset" copies the old head to <code>.git/ORIG_HEAD</code>; redo the
commit by starting with its log message.  If you do not need to
edit the message further, you can give <code>-C</code> option instead.</p>
</li>
</ol>


<p>See also the <code>--amend</code> option to <a href="/docs/git-commit">git-commit[1]</a>.</p>

</dd>
<dt> Undo a commit, making it a topic branch </dt>
<dd>


<pre>$ git branch topic/wip          <b>(1)</b>
$ git reset --hard HEAD~3       <b>(2)</b>
$ git switch topic/wip          <b>(3)</b></pre>



<ol>
<li>
<p>You have made some commits, but realize they were premature
to be in the <code>master</code> branch.  You want to continue polishing
them in a topic branch, so create <code>topic/wip</code> branch off of the
current <code>HEAD</code>.</p>
</li>
<li>
<p>Rewind the master branch to get rid of those three commits.</p>
</li>
<li>
<p>Switch to <code>topic/wip</code> branch and keep working.</p>
</li>
</ol>

</dd>
<dt> Undo commits permanently </dt>
<dd>


<pre>$ git commit ...
$ git reset --hard HEAD~3   <b>(1)</b></pre>



<ol>
<li>
<p>The last three commits (<code>HEAD</code>, <code>HEAD^</code>, and <code>HEAD~2</code>) were bad
and you do not want to ever see them again.  Do <strong>not</strong> do this if
you have already given these commits to somebody else.  (See the
"RECOVERING FROM UPSTREAM REBASE" section in <a href="/docs/git-rebase">git-rebase[1]</a>
for the implications of doing so.)</p>
</li>
</ol>

</dd>
<dt> Undo a merge or pull </dt>
<dd>


<pre>$ git pull                         <b>(1)</b>
Auto-merging nitfol
CONFLICT (content): Merge conflict in nitfol
Automatic merge failed; fix conflicts and then commit the result.
$ git reset --hard                 <b>(2)</b>
$ git pull . topic/branch          <b>(3)</b>
Updating from 41223... to 13134...
Fast-forward
$ git reset --hard ORIG_HEAD       <b>(4)</b></pre>



<ol>
<li>
<p>Try to update from the upstream resulted in a lot of
conflicts; you were not ready to spend a lot of time merging
right now, so you decide to do that later.</p>
</li>
<li>
<p>"pull" has not made merge commit, so <code>git reset --hard</code>
which is a synonym for <code>git reset --hard HEAD</code> clears the mess
from the index file and the working tree.</p>
</li>
<li>
<p>Merge a topic branch into the current branch, which resulted
in a fast-forward.</p>
</li>
<li>
<p>But you decided that the topic branch is not ready for public
consumption yet.  "pull" or "merge" always leaves the original
tip of the current branch in <code>ORIG_HEAD</code>, so resetting hard to it
brings your index file and the working tree back to that state,
and resets the tip of the branch to that commit.</p>
</li>
</ol>

</dd>
<dt> Undo a merge or pull inside a dirty working tree </dt>
<dd>


<pre>$ git pull                         <b>(1)</b>
Auto-merging nitfol
Merge made by recursive.
 nitfol                |   20 +++++----
 ...
$ git reset --merge ORIG_HEAD      <b>(2)</b></pre>



<ol>
<li>
<p>Even if you may have local modifications in your
working tree, you can safely say <code>git pull</code> when you know
that the change in the other branch does not overlap with
them.</p>
</li>
<li>
<p>After inspecting the result of the merge, you may find
that the change in the other branch is unsatisfactory.  Running
<code>git reset --hard ORIG_HEAD</code> will let you go back to where you
were, but it will discard your local changes, which you do not
want.  <code>git reset --merge</code> keeps your local changes.</p>
</li>
</ol>

</dd>
<dt> Interrupted workflow </dt>
<dd>

<p>Suppose you are interrupted by an urgent fix request while you
are in the middle of a large change.  The files in your
working tree are not in any shape to be committed yet, but you
need to get to the other branch for a quick bugfix.</p>



<pre>$ git switch feature  ;# you were working in "feature" branch and
$ work work work      ;# got interrupted
$ git commit -a -m "snapshot WIP"                 <b>(1)</b>
$ git switch master
$ fix fix fix
$ git commit ;# commit with real log
$ git switch feature
$ git reset --soft HEAD^ ;# go back to WIP state  <b>(2)</b>
$ git reset                                       <b>(3)</b></pre>



<ol>
<li>
<p>This commit will get blown away so a throw-away log message is OK.</p>
</li>
<li>
<p>This removes the <em>WIP</em> commit from the commit history, and sets
your working tree to the state just before you made that snapshot.</p>
</li>
<li>
<p>At this point the index file still has all the WIP changes you
committed as <em>snapshot WIP</em>.  This updates the index to show your
WIP files as uncommitted.</p>
</li>
</ol>


<p>See also <a href="/docs/git-stash">git-stash[1]</a>.</p>

</dd>
<dt> Reset a single file in the index </dt>
<dd>

<p>Suppose you have added a file to your index, but later decide you do not
want to add it to your commit. You can remove the file from the index
while keeping your changes with git reset.</p>



<pre>$ git reset -- frotz.c                      <b>(1)</b>
$ git commit -m "Commit files in index"     <b>(2)</b>
$ git add frotz.c                           <b>(3)</b></pre>



<ol>
<li>
<p>This removes the file from the index while keeping it in the working
directory.</p>
</li>
<li>
<p>This commits all other changes in the index.</p>
</li>
<li>
<p>Adds the file to the index again.</p>
</li>
</ol>

</dd>
<dt> Keep changes in working tree while discarding some previous commits </dt>
<dd>

<p>Suppose you are working on something and you commit it, and then you
continue working a bit more, but now you think that what you have in
your working tree should be in another branch that has nothing to do
with what you committed previously. You can start a new branch and
reset it while keeping the changes in your working tree.</p>



<pre>$ git tag start
$ git switch -c branch1
$ edit
$ git commit ...                            <b>(1)</b>
$ edit
$ git switch -c branch2                     <b>(2)</b>
$ git reset --keep start                    <b>(3)</b></pre>



<ol>
<li>
<p>This commits your first edits in <code>branch1</code>.</p>
</li>
<li>
<p>In the ideal world, you could have realized that the earlier
commit did not belong to the new topic when you created and switched
to <code>branch2</code> (i.e. <code>git switch -c branch2 start</code>), but nobody is
perfect.</p>
</li>
<li>
<p>But you can use <code>reset --keep</code> to remove the unwanted commit after
you switched to <code>branch2</code>.</p>
</li>
</ol>

</dd>
<dt> Split a commit apart into a sequence of commits </dt>
<dd>

<p>Suppose that you have created lots of logically separate changes and committed
them together. Then, later you decide that it might be better to have each
logical chunk associated with its own commit. You can use git reset to rewind
history without changing the contents of your local files, and then successively
use <code>git add -p</code> to interactively select which hunks to include into each commit,
using <code>git commit -c</code> to pre-populate the commit message.</p>



<pre>$ git reset -N HEAD^                        <b>(1)</b>
$ git add -p                                <b>(2)</b>
$ git diff --cached                         <b>(3)</b>
$ git commit -c HEAD@{1}                    <b>(4)</b>
...                                         <b>(5)</b>
$ git add ...                               <b>(6)</b>
$ git diff --cached                         <b>(7)</b>
$ git commit ...                            <b>(8)</b></pre>



<ol>
<li>
<p>First, reset the history back one commit so that we remove the original
commit, but leave the working tree with all the changes. The -N ensures
that any new files added with <code>HEAD</code> are still marked so that <code>git add -p</code>
will find them.</p>
</li>
<li>
<p>Next, we interactively select diff hunks to add using the <code>git add -p</code>
facility. This will ask you about each diff hunk in sequence and you can
use simple commands such as "yes, include this", "No don’t include this"
or even the very powerful "edit" facility.</p>
</li>
<li>
<p>Once satisfied with the hunks you want to include, you should verify what
has been prepared for the first commit by using <code>git diff --cached</code>. This
shows all the changes that have been moved into the index and are about
to be committed.</p>
</li>
<li>
<p>Next, commit the changes stored in the index. The <code>-c</code> option specifies to
pre-populate the commit message from the original message that you started
with in the first commit. This is helpful to avoid retyping it. The
<code>HEAD@{1}</code> is a special notation for the commit that <code>HEAD</code> used to be at
prior to the original reset commit (1 change ago).
See <a href="/docs/git-reflog">git-reflog[1]</a> for more details. You may also use any other
valid commit reference.</p>
</li>
<li>
<p>You can repeat steps 2-4 multiple times to break the original code into
any number of commits.</p>
</li>
<li>
<p>Now you’ve split out many of the changes into their own commits, and might
no longer use the patch mode of <code>git add</code>, in order to select all remaining
uncommitted changes.</p>
</li>
<li>
<p>Once again, check to verify that you’ve included what you want to. You may
also wish to verify that git diff doesn’t show any remaining changes to be
committed later.</p>
</li>
<li>
<p>And finally create the final commit.</p>
</li>
</ol>

</dd>
</dl>




<h2>DISCUSSION</h2>


<p>The tables below show what happens when running:</p>



<pre>git reset --option target</pre>



<p>to reset the <code>HEAD</code> to another commit (<code>target</code>) with the different
reset options depending on the state of the files.</p>


<p>In these tables, <code>A</code>, <code>B</code>, <code>C</code> and <code>D</code> are some different states of a
file. For example, the first line of the first table means that if a
file is in state <code>A</code> in the working tree, in state <code>B</code> in the index, in
state <code>C</code> in <code>HEAD</code> and in state <code>D</code> in the target, then <code>git reset --soft
target</code> will leave the file in the working tree in state <code>A</code> and in the
index in state <code>B</code>.  It resets (i.e. moves) the <code>HEAD</code> (i.e. the tip of
the current branch, if you are on one) to <code>target</code> (which has the file
in state <code>D</code>).</p>



<pre>working index HEAD target         working index HEAD
----------------------------------------------------
 A       B     C    D     --soft   A       B     D
			  --mixed  A       D     D
			  --hard   D       D     D
			  --merge (disallowed)
			  --keep  (disallowed)</pre>




<pre>working index HEAD target         working index HEAD
----------------------------------------------------
 A       B     C    C     --soft   A       B     C
			  --mixed  A       C     C
			  --hard   C       C     C
			  --merge (disallowed)
			  --keep   A       C     C</pre>




<pre>working index HEAD target         working index HEAD
----------------------------------------------------
 B       B     C    D     --soft   B       B     D
			  --mixed  B       D     D
			  --hard   D       D     D
			  --merge  D       D     D
			  --keep  (disallowed)</pre>




<pre>working index HEAD target         working index HEAD
----------------------------------------------------
 B       B     C    C     --soft   B       B     C
			  --mixed  B       C     C
			  --hard   C       C     C
			  --merge  C       C     C
			  --keep   B       C     C</pre>




<pre>working index HEAD target         working index HEAD
----------------------------------------------------
 B       C     C    D     --soft   B       C     D
			  --mixed  B       D     D
			  --hard   D       D     D
			  --merge (disallowed)
			  --keep  (disallowed)</pre>




<pre>working index HEAD target         working index HEAD
----------------------------------------------------
 B       C     C    C     --soft   B       C     C
			  --mixed  B       C     C
			  --hard   C       C     C
			  --merge  B       C     C
			  --keep   B       C     C</pre>



<p><code>reset --merge</code> is meant to be used when resetting out of a conflicted
merge. Any mergy operation guarantees that the working tree file that is
involved in the merge does not have a local change with respect to the index
before it starts, and that it writes the result out to the working tree. So if
we see some difference between the index and the target and also
between the index and the working tree, then it means that we are not
resetting out from a state that a mergy operation left after failing
with a conflict. That is why we disallow <code>--merge</code> option in this case.</p>


<p><code>reset --keep</code> is meant to be used when removing some of the last
commits in the current branch while keeping changes in the working
tree. If there could be conflicts between the changes in the commit we
want to remove and the changes in the working tree we want to keep,
the reset is disallowed. That’s why it is disallowed if there are both
changes between the working tree and <code>HEAD</code>, and between <code>HEAD</code> and the
target. To be safe, it is also disallowed when there are unmerged
entries.</p>


<p>The following tables show what happens when there are unmerged
entries:</p>



<pre>working index HEAD target         working index HEAD
----------------------------------------------------
 X       U     A    B     --soft  (disallowed)
			  --mixed  X       B     B
			  --hard   B       B     B
			  --merge  B       B     B
			  --keep  (disallowed)</pre>




<pre>working index HEAD target         working index HEAD
----------------------------------------------------
 X       U     A    A     --soft  (disallowed)
			  --mixed  X       A     A
			  --hard   A       A     A
			  --merge  A       A     A
			  --keep  (disallowed)</pre>



<p><code>X</code> means any state and <code>U</code> means an unmerged index.</p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-rm - Remove files from the working tree and from the index</span></h2>




<h2><br>synopsis</h2>


<pre><em>git rm</em> [-f | --force] [-n] [-r] [--cached] [--ignore-unmatch]
	  [--quiet] [--pathspec-from-file=&lt;file&gt; [--pathspec-file-nul]]
	  [--] [&lt;pathspec&gt;…<U+200B>]</pre>




<h2>description</h2>


<p>Remove files matching pathspec from the index, or from the working tree
and the index. <code>git rm</code> will not remove a file from just your working
directory. (There is no option to remove a file only from the working
tree and yet keep it in the index; use <code>/bin/rm</code> if you want to do
that.) The files being removed have to be identical to the tip of the
branch, and no updates to their contents can be staged in the index,
though that default behavior can be overridden with the <code>-f</code> option.
When <code>--cached</code> is given, the staged content has to
match either the tip of the branch or the file on disk,
allowing the file to be removed from just the index. When
sparse-checkouts are in use (see <a href="/docs/git-sparse-checkout">git-sparse-checkout[1]</a>),
<code>git rm</code> will only remove paths within the sparse-checkout patterns.</p>




<h2>options</h2>


<dl>
<dt> &lt;pathspec&gt;…<U+200B> </dt>
<dd>
<p>Files to remove.  A leading directory name (e.g. <code>dir</code> to remove
<code>dir/file1</code> and <code>dir/file2</code>) can be given to remove all files in
the directory, and recursively all sub-directories, but this
requires the <code>-r</code> option to be explicitly given.</p>

<p>The command removes only the paths that are known to Git.</p>


<p>File globbing matches across directory boundaries.  Thus, given two
directories <code>d</code> and <code>d2</code>, there is a difference between using
<code>git rm 'd*'</code> and <code>git rm 'd/*'</code>, as the former will also remove all
of directory <code>d2</code>.</p>


<p>For more details, see the <em>pathspec</em> entry in <a href="/docs/gitglossary">gitglossary[7]</a>.</p>

</dd>
<dt> -f </dt>
<dt> --force </dt>
<dd>
<p>Override the up-to-date check.</p>
</dd>
<dt> -n </dt>
<dt> --dry-run </dt>
<dd>
<p>Don’t actually remove any file(s).  Instead, just show
if they exist in the index and would otherwise be removed
by the command.</p>
</dd>
<dt> -r </dt>
<dd>
<p>Allow recursive removal when a leading directory name is
given.</p>
</dd>
<dt> -- </dt>
<dd>
<p>This option can be used to separate command-line options from
the list of files, (useful when filenames might be mistaken
for command-line options).</p>
</dd>
<dt> --cached </dt>
<dd>
<p>Use this option to unstage and remove paths only from the index.
Working tree files, whether modified or not, will be
left alone.</p>
</dd>
<dt> --ignore-unmatch </dt>
<dd>
<p>Exit with a zero status even if no files matched.</p>
</dd>
<dt> --sparse </dt>
<dd>
<p>Allow updating index entries outside of the sparse-checkout cone.
Normally, <code>git rm</code> refuses to update index entries whose paths do
not fit within the sparse-checkout cone. See
<a href="/docs/git-sparse-checkout">git-sparse-checkout[1]</a> for more.</p>
</dd>
<dt> -q </dt>
<dt> --quiet </dt>
<dd>
<p><code>git rm</code> normally outputs one line (in the form of an <code>rm</code> command)
for each file removed. This option suppresses that output.</p>
</dd>
<dt> --pathspec-from-file=&lt;file&gt; </dt>
<dd>
<p>Pathspec is passed in <code>&lt;file&gt;</code> instead of commandline args. If
<code>&lt;file&gt;</code> is exactly <code>-</code> then standard input is used. Pathspec
elements are separated by LF or CR/LF. Pathspec elements can be
quoted as explained for the configuration variable <code>core.quotePath</code>
(see <a href="/docs/git-config">git-config[1]</a>). See also <code>--pathspec-file-nul</code> and
global <code>--literal-pathspecs</code>.</p>
</dd>
<dt> --pathspec-file-nul </dt>
<dd>
<p>Only meaningful with <code>--pathspec-from-file</code>. Pathspec elements are
separated with NUL character and all other characters are taken
literally (including newlines and quotes).</p>
</dd>
</dl>




<h2>REMOVING FILES THAT HAVE DISAPPEARED FROM THE FILESYSTEM</h2>


<p>There is no option for <code>git rm</code> to remove from the index only
the paths that have disappeared from the filesystem. However,
depending on the use case, there are several ways that can be
done.</p>


<h3>
Using “git commit -a”</h3>

<p>If you intend that your next commit should record all modifications
of tracked files in the working tree and record all removals of
files that have been removed from the working tree with <code>rm</code>
(as opposed to <code>git rm</code>), use <code>git commit -a</code>, as it will
automatically notice and record all removals.  You can also have a
similar effect without committing by using <code>git add -u</code>.</p>



<h3>
Using “git add -A”</h3>

<p>When accepting a new code drop for a vendor branch, you probably
want to record both the removal of paths and additions of new paths
as well as modifications of existing paths.</p>


<p>Typically you would first remove all tracked files from the working
tree using this command:</p>



<pre>git ls-files -z | xargs -0 rm -f</pre>



<p>and then untar the new code in the working tree. Alternately
you could <em>rsync</em> the changes into the working tree.</p>


<p>After that, the easiest way to record all removals, additions, and
modifications in the working tree is:</p>



<pre>git add -A</pre>



<p>See <a href="/docs/git-add">git-add[1]</a>.</p>



<h3>
Other ways</h3>

<p>If all you really want to do is to remove from the index the files
that are no longer present in the working tree (perhaps because
your working tree is dirty so that you cannot use <code>git commit -a</code>),
use the following command:</p>



<pre>git diff --name-only --diff-filter=D -z | xargs -0 git rm --cached</pre>






<h2>SUBMODULES</h2>


<p>Only submodules using a gitfile (which means they were cloned
with a Git version 1.7.8 or newer) will be removed from the work
tree, as their repository lives inside the .git directory of the
superproject. If a submodule (or one of those nested inside it)
still uses a .git directory, <code>git rm</code> will move the submodules
git directory into the superprojects git directory to protect
the submodule’s history. If it exists the submodule.&lt;name&gt; section
in the <a href="/docs/gitmodules">gitmodules[5]</a> file will also be removed and that file
will be staged (unless --cached or -n are used).</p>


<p>A submodule is considered up to date when the HEAD is the same as
recorded in the index, no tracked files are modified and no untracked
files that aren’t ignored are present in the submodules work tree.
Ignored files are deemed expendable and won’t stop a submodule’s work
tree from being removed.</p>


<p>If you only want to remove the local checkout of a submodule from your
work tree without committing the removal, use <a href="/docs/git-submodule">git-submodule[1]</a> <code>deinit</code>
instead. Also see <a href="/docs/gitsubmodules">gitsubmodules[7]</a> for details on submodule removal.</p>




<h2>examples</h2>


<dl>
<dt> <code>git rm Documentation/\*.txt</code> </dt>
<dd>
<p>Removes all <code>*.txt</code> files from the index that are under the
<code>Documentation</code> directory and any of its subdirectories.</p>

<p>Note that the asterisk <code>*</code> is quoted from the shell in this
example; this lets Git, and not the shell, expand the pathnames
of files and subdirectories under the <code>Documentation/</code> directory.</p>

</dd>
<dt> <code>git rm -f git-*.sh</code> </dt>
<dd>
<p>Because this example lets the shell expand the asterisk
(i.e. you are listing the files explicitly), it
does not remove <code>subdir/git-foo.sh</code>.</p>
</dd>
</dl>




<h2>BUGS</h2>


<p>Each time a superproject update removes a populated submodule
(e.g. when switching between commits before and after the removal) a
stale submodule checkout will remain in the old location. Removing the
old directory is only safe when it uses a gitfile, as otherwise the
history of the submodule will be deleted too. This step will be
obsolete when recursive submodule update has been implemented.</p>




<h2>SEE ALSO</h2>


<p><a href="/docs/git-add">git-add[1]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-mv - Move or rename a file, a directory, or a symlink</span></h2>




<h2><br>synopsis</h2>


<pre><em>git mv</em> &lt;options&gt;…<U+200B> &lt;args&gt;…<U+200B></pre>




<h2>description</h2>


<p>Move or rename a file, directory or symlink.</p>



<pre>git mv [-v] [-f] [-n] [-k] &lt;source&gt; &lt;destination&gt;
git mv [-v] [-f] [-n] [-k] &lt;source&gt; ... &lt;destination directory&gt;</pre>



<p>In the first form, it renames &lt;source&gt;, which must exist and be either
a file, symlink or directory, to &lt;destination&gt;.
In the second form, the last argument has to be an existing
directory; the given sources will be moved into this directory.</p>


<p>The index is updated after successful completion, but the change must still be
committed.</p>




<h2>options</h2>


<dl>
<dt> -f </dt>
<dt> --force </dt>
<dd>
<p>Force renaming or moving of a file even if the target exists</p>
</dd>
<dt> -k </dt>
<dd>
<p>Skip move or rename actions which would lead to an error
condition. An error happens when a source is neither existing nor
controlled by Git, or when it would overwrite an existing
file unless <code>-f</code> is given.</p>
</dd>
<dt> -n </dt>
<dt> --dry-run </dt>
<dd>
<p>Do nothing; only show what would happen</p>
</dd>
<dt> -v </dt>
<dt> --verbose </dt>
<dd>
<p>Report the names of files as they are moved.</p>
</dd>
</dl>




<h2>SUBMODULES</h2>


<p>Moving a submodule using a gitfile (which means they were cloned
with a Git version 1.7.8 or newer) will update the gitfile and
core.worktree setting to make the submodule work in the new location.
It also will attempt to update the submodule.&lt;name&gt;.path setting in
the <a href="/docs/gitmodules">gitmodules[5]</a> file and stage that file (unless -n is used).</p>




<h2>BUGS</h2>


<p>Each time a superproject update moves a populated submodule (e.g. when
switching between commits before and after the move) a stale submodule
checkout will remain in the old location and an empty directory will
appear in the new location. To populate the submodule again in the new
location the user will have to run "git submodule update"
afterwards. Removing the old directory is only safe when it uses a
gitfile, as otherwise the history of the submodule will be deleted
too. Both steps will be obsolete when recursive submodule update has
been implemented.</p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-branch - List, create, or delete branches</span></h2>




<h2><br>synopsis</h2>


<pre><em>git branch</em> [--color[=&lt;when&gt;] | --no-color] [--show-current]
	[-v [--abbrev=&lt;n&gt; | --no-abbrev]]
	[--column[=&lt;options&gt;] | --no-column] [--sort=&lt;key&gt;]
	[--merged [&lt;commit&gt;]] [--no-merged [&lt;commit&gt;]]
	[--contains [&lt;commit&gt;]] [--no-contains [&lt;commit&gt;]]
	[--points-at &lt;object&gt;] [--format=&lt;format&gt;]
	[(-r | --remotes) | (-a | --all)]
	[--list] [&lt;pattern&gt;…<U+200B>]
<em>git branch</em> [--track[=(direct|inherit)] | --no-track] [-f] &lt;branchname&gt; [&lt;start-point&gt;]
<em>git branch</em> (--set-upstream-to=&lt;upstream&gt; | -u &lt;upstream&gt;) [&lt;branchname&gt;]
<em>git branch</em> --unset-upstream [&lt;branchname&gt;]
<em>git branch</em> (-m | -M) [&lt;oldbranch&gt;] &lt;newbranch&gt;
<em>git branch</em> (-c | -C) [&lt;oldbranch&gt;] &lt;newbranch&gt;
<em>git branch</em> (-d | -D) [-r] &lt;branchname&gt;…<U+200B>
<em>git branch</em> --edit-description [&lt;branchname&gt;]</pre>




<h2>description</h2>


<p>If <code>--list</code> is given, or if there are no non-option arguments, existing
branches are listed; the current branch will be highlighted in green and
marked with an asterisk.  Any branches checked out in linked worktrees will
be highlighted in cyan and marked with a plus sign. Option <code>-r</code> causes the
remote-tracking branches to be listed,
and option <code>-a</code> shows both local and remote branches.</p>


<p>If a <code>&lt;pattern&gt;</code>
is given, it is used as a shell wildcard to restrict the output to
matching branches. If multiple patterns are given, a branch is shown if
it matches any of the patterns.</p>


<p>Note that when providing a
<code>&lt;pattern&gt;</code>, you must use <code>--list</code>; otherwise the command may be interpreted
as branch creation.</p>


<p>With <code>--contains</code>, shows only the branches that contain the named commit
(in other words, the branches whose tip commits are descendants of the
named commit), <code>--no-contains</code> inverts it. With <code>--merged</code>, only branches
merged into the named commit (i.e. the branches whose tip commits are
reachable from the named commit) will be listed.  With <code>--no-merged</code> only
branches not merged into the named commit will be listed.  If the &lt;commit&gt;
argument is missing it defaults to <code>HEAD</code> (i.e. the tip of the current
branch).</p>


<p>The command’s second form creates a new branch head named &lt;branchname&gt;
which points to the current <code>HEAD</code>, or &lt;start-point&gt; if given. As a
special case, for &lt;start-point&gt;, you may use <code>"A...B"</code> as a shortcut for
the merge base of <code>A</code> and <code>B</code> if there is exactly one merge base. You
can leave out at most one of <code>A</code> and <code>B</code>, in which case it defaults to
<code>HEAD</code>.</p>


<p>Note that this will create the new branch, but it will not switch the
working tree to it; use "git switch &lt;newbranch&gt;" to switch to the
new branch.</p>


<p>When a local branch is started off a remote-tracking branch, Git sets up the
branch (specifically the <code>branch.&lt;name&gt;.remote</code> and <code>branch.&lt;name&gt;.merge</code>
configuration entries) so that <em>git pull</em> will appropriately merge from
the remote-tracking branch. This behavior may be changed via the global
<code>branch.autoSetupMerge</code> configuration flag. That setting can be
overridden by using the <code>--track</code> and <code>--no-track</code> options, and
changed later using <code>git branch --set-upstream-to</code>.</p>


<p>With a <code>-m</code> or <code>-M</code> option, &lt;oldbranch&gt; will be renamed to &lt;newbranch&gt;.
If &lt;oldbranch&gt; had a corresponding reflog, it is renamed to match
&lt;newbranch&gt;, and a reflog entry is created to remember the branch
renaming. If &lt;newbranch&gt; exists, -M must be used to force the rename
to happen.</p>


<p>The <code>-c</code> and <code>-C</code> options have the exact same semantics as <code>-m</code> and
<code>-M</code>, except instead of the branch being renamed, it will be copied to a
new name, along with its config and reflog.</p>


<p>With a <code>-d</code> or <code>-D</code> option, <code>&lt;branchname&gt;</code> will be deleted.  You may
specify more than one branch for deletion.  If the branch currently
has a reflog then the reflog will also be deleted.</p>


<p>Use <code>-r</code> together with <code>-d</code> to delete remote-tracking branches. Note, that it
only makes sense to delete remote-tracking branches if they no longer exist
in the remote repository or if <em>git fetch</em> was configured not to fetch
them again. See also the <em>prune</em> subcommand of <a href="/docs/git-remote">git-remote[1]</a> for a
way to clean up all obsolete remote-tracking branches.</p>




<h2>options</h2>


<dl>
<dt> -d </dt>
<dt> --delete </dt>
<dd>
<p>Delete a branch. The branch must be fully merged in its
upstream branch, or in <code>HEAD</code> if no upstream was set with
<code>--track</code> or <code>--set-upstream-to</code>.</p>
</dd>
<dt> -D </dt>
<dd>
<p>Shortcut for <code>--delete --force</code>.</p>
</dd>
<dt> --create-reflog </dt>
<dd>
<p>Create the branch’s reflog.  This activates recording of
all changes made to the branch ref, enabling use of date
based sha1 expressions such as "&lt;branchname&gt;@{yesterday}".
Note that in non-bare repositories, reflogs are usually
enabled by default by the <code>core.logAllRefUpdates</code> config option.
The negated form <code>--no-create-reflog</code> only overrides an earlier
<code>--create-reflog</code>, but currently does not negate the setting of
<code>core.logAllRefUpdates</code>.</p>
</dd>
<dt> -f </dt>
<dt> --force </dt>
<dd>
<p>Reset &lt;branchname&gt; to &lt;startpoint&gt;, even if &lt;branchname&gt; exists
already. Without <code>-f</code>, <em>git branch</em> refuses to change an existing branch.
In combination with <code>-d</code> (or <code>--delete</code>), allow deleting the
branch irrespective of its merged status, or whether it even
points to a valid commit. In combination with
<code>-m</code> (or <code>--move</code>), allow renaming the branch even if the new
branch name already exists, the same applies for <code>-c</code> (or <code>--copy</code>).</p>
</dd>
<dt> -m </dt>
<dt> --move </dt>
<dd>
<p>Move/rename a branch, together with its config and reflog.</p>
</dd>
<dt> -M </dt>
<dd>
<p>Shortcut for <code>--move --force</code>.</p>
</dd>
<dt> -c </dt>
<dt> --copy </dt>
<dd>
<p>Copy a branch, together with its config and reflog.</p>
</dd>
<dt> -C </dt>
<dd>
<p>Shortcut for <code>--copy --force</code>.</p>
</dd>
<dt> --color[=&lt;when&gt;] </dt>
<dd>
<p>Color branches to highlight current, local, and
remote-tracking branches.
The value must be always (the default), never, or auto.</p>
</dd>
<dt> --no-color </dt>
<dd>
<p>Turn off branch colors, even when the configuration file gives the
default to color output.
Same as <code>--color=never</code>.</p>
</dd>
<dt> -i </dt>
<dt> --ignore-case </dt>
<dd>
<p>Sorting and filtering branches are case insensitive.</p>
</dd>
<dt> --column[=&lt;options&gt;] </dt>
<dt> --no-column </dt>
<dd>
<p>Display branch listing in columns. See configuration variable
<code>column.branch</code> for option syntax. <code>--column</code> and <code>--no-column</code>
without options are equivalent to <em>always</em> and <em>never</em> respectively.</p>

<p>This option is only applicable in non-verbose mode.</p>

</dd>
<dt> -r </dt>
<dt> --remotes </dt>
<dd>
<p>List or delete (if used with -d) the remote-tracking branches.
Combine with <code>--list</code> to match the optional pattern(s).</p>
</dd>
<dt> -a </dt>
<dt> --all </dt>
<dd>
<p>List both remote-tracking branches and local branches.
Combine with <code>--list</code> to match optional pattern(s).</p>
</dd>
<dt> -l </dt>
<dt> --list </dt>
<dd>
<p>List branches.  With optional <code>&lt;pattern&gt;...</code>, e.g. <code>git
branch --list 'maint-*'</code>, list only the branches that match
the pattern(s).</p>
</dd>
<dt> --show-current </dt>
<dd>
<p>Print the name of the current branch. In detached HEAD state,
nothing is printed.</p>
</dd>
<dt> -v </dt>
<dt> -vv </dt>
<dt> --verbose </dt>
<dd>
<p>When in list mode,
show sha1 and commit subject line for each head, along with
relationship to upstream branch (if any). If given twice, print
the path of the linked worktree (if any) and the name of the upstream
branch, as well (see also <code>git remote show &lt;remote&gt;</code>).  Note that the
current worktree’s HEAD will not have its path printed (it will always
be your current directory).</p>
</dd>
<dt> -q </dt>
<dt> --quiet </dt>
<dd>
<p>Be more quiet when creating or deleting a branch, suppressing
non-error messages.</p>
</dd>
<dt> --abbrev=&lt;n&gt; </dt>
<dd>
<p>In the verbose listing that show the commit object name,
show the shortest prefix that is at least <em>&lt;n&gt;</em> hexdigits
long that uniquely refers the object.
The default value is 7 and can be overridden by the <code>core.abbrev</code>
config option.</p>
</dd>
<dt> --no-abbrev </dt>
<dd>
<p>Display the full sha1s in the output listing rather than abbreviating them.</p>
</dd>
<dt> -t </dt>
<dt> --track[=(direct|inherit)] </dt>
<dd>
<p>When creating a new branch, set up <code>branch.&lt;name&gt;.remote</code> and
<code>branch.&lt;name&gt;.merge</code> configuration entries to set "upstream" tracking
configuration for the new branch. This
configuration will tell git to show the relationship between the
two branches in <code>git status</code> and <code>git branch -v</code>. Furthermore,
it directs <code>git pull</code> without arguments to pull from the
upstream when the new branch is checked out.</p>

<p>The exact upstream branch is chosen depending on the optional argument:
<code>-t</code>, <code>--track</code>, or <code>--track=direct</code> means to use the start-point branch
itself as the upstream; <code>--track=inherit</code> means to copy the upstream
configuration of the start-point branch.</p>


<p><code>--track=direct</code> is the default when the start point is a remote-tracking branch.
Set the branch.autoSetupMerge configuration variable to <code>false</code> if you
want <code>git switch</code>, <code>git checkout</code> and <code>git branch</code> to always behave as if <code>--no-track</code>
were given. Set it to <code>always</code> if you want this behavior when the
start-point is either a local or remote-tracking branch. Set it to
<code>inherit</code> if you want to copy the tracking configuration from the
branch point.</p>


<p>See <a href="/docs/git-pull">git-pull[1]</a> and <a href="/docs/git-config">git-config[1]</a> for additional discussion on
how the <code>branch.&lt;name&gt;.remote</code> and <code>branch.&lt;name&gt;.merge</code> options are used.</p>

</dd>
<dt> --no-track </dt>
<dd>
<p>Do not set up "upstream" configuration, even if the
branch.autoSetupMerge configuration variable is set.</p>
</dd>
<dt> --set-upstream </dt>
<dd>
<p>As this option had confusing syntax, it is no longer supported.
Please use <code>--track</code> or <code>--set-upstream-to</code> instead.</p>
</dd>
<dt> -u &lt;upstream&gt; </dt>
<dt> --set-upstream-to=&lt;upstream&gt; </dt>
<dd>
<p>Set up &lt;branchname&gt;'s tracking information so &lt;upstream&gt; is
considered &lt;branchname&gt;'s upstream branch. If no &lt;branchname&gt;
is specified, then it defaults to the current branch.</p>
</dd>
<dt> --unset-upstream </dt>
<dd>
<p>Remove the upstream information for &lt;branchname&gt;. If no branch
is specified it defaults to the current branch.</p>
</dd>
<dt> --edit-description </dt>
<dd>
<p>Open an editor and edit the text to explain what the branch is
for, to be used by various other commands (e.g. <code>format-patch</code>,
<code>request-pull</code>, and <code>merge</code> (if enabled)). Multi-line explanations
may be used.</p>
</dd>
<dt> --contains [&lt;commit&gt;] </dt>
<dd>
<p>Only list branches which contain the specified commit (HEAD
if not specified). Implies <code>--list</code>.</p>
</dd>
<dt> --no-contains [&lt;commit&gt;] </dt>
<dd>
<p>Only list branches which don’t contain the specified commit
(HEAD if not specified). Implies <code>--list</code>.</p>
</dd>
<dt> --merged [&lt;commit&gt;] </dt>
<dd>
<p>Only list branches whose tips are reachable from the
specified commit (HEAD if not specified). Implies <code>--list</code>.</p>
</dd>
<dt> --no-merged [&lt;commit&gt;] </dt>
<dd>
<p>Only list branches whose tips are not reachable from the
specified commit (HEAD if not specified). Implies <code>--list</code>.</p>
</dd>
<dt> &lt;branchname&gt; </dt>
<dd>
<p>The name of the branch to create or delete.
The new branch name must pass all checks defined by
<a href="/docs/git-check-ref-format">git-check-ref-format[1]</a>.  Some of these checks
may restrict the characters allowed in a branch name.</p>
</dd>
<dt> &lt;start-point&gt; </dt>
<dd>
<p>The new branch head will point to this commit.  It may be
given as a branch name, a commit-id, or a tag.  If this
option is omitted, the current HEAD will be used instead.</p>
</dd>
<dt> &lt;oldbranch&gt; </dt>
<dd>
<p>The name of an existing branch to rename.</p>
</dd>
<dt> &lt;newbranch&gt; </dt>
<dd>
<p>The new name for an existing branch. The same restrictions as for
&lt;branchname&gt; apply.</p>
</dd>
<dt> --sort=&lt;key&gt; </dt>
<dd>
<p>Sort based on the key given. Prefix <code>-</code> to sort in descending
order of the value. You may use the --sort=&lt;key&gt; option
multiple times, in which case the last key becomes the primary
key. The keys supported are the same as those in <code>git
for-each-ref</code>. Sort order defaults to the value configured for the
<code>branch.sort</code> variable if exists, or to sorting based on the
full refname (including <code>refs/...</code> prefix). This lists
detached HEAD (if present) first, then local branches and
finally remote-tracking branches. See <a href="/docs/git-config">git-config[1]</a>.</p>
</dd>
<dt> --points-at &lt;object&gt; </dt>
<dd>
<p>Only list branches of the given object.</p>
</dd>
<dt> --format &lt;format&gt; </dt>
<dd>
<p>A string that interpolates <code>%(fieldname)</code> from a branch ref being shown
and the object it points at.  The format is the same as
that of <a href="/docs/git-for-each-ref">git-for-each-ref[1]</a>.</p>
</dd>
</dl>




<h2>CONFIGURATION</h2>


<p><code>pager.branch</code> is only respected when listing branches, i.e., when
<code>--list</code> is used or implied. The default is to use a pager.
See <a href="/docs/git-config">git-config[1]</a>.</p>




<h2>examples</h2>


<dl>
<dt> Start development from a known tag </dt>
<dd>


<pre>$ git clone git://git.kernel.org/pub/scm/.../linux-2.6 my2.6
$ cd my2.6
$ git branch my2.6.14 v2.6.14   <b>(1)</b>
$ git switch my2.6.14</pre>



<ol>
<li>
<p>This step and the next one could be combined into a single step with
"checkout -b my2.6.14 v2.6.14".</p>
</li>
</ol>

</dd>
<dt> Delete an unneeded branch </dt>
<dd>


<pre>$ git clone git://git.kernel.org/.../git.git my.git
$ cd my.git
$ git branch -d -r origin/todo origin/html origin/man   <b>(1)</b>
$ git branch -D test                                    <b>(2)</b></pre>



<ol>
<li>
<p>Delete the remote-tracking branches "todo", "html" and "man". The next
<em>fetch</em> or <em>pull</em> will create them again unless you configure them not to.
See <a href="/docs/git-fetch">git-fetch[1]</a>.</p>
</li>
<li>
<p>Delete the "test" branch even if the "master" branch (or whichever branch
is currently checked out) does not have all commits from the test branch.</p>
</li>
</ol>

</dd>
<dt> Listing branches from a specific remote </dt>
<dd>


<pre>$ git branch -r -l '&lt;remote&gt;/&lt;pattern&gt;'                 <b>(1)</b>
$ git for-each-ref 'refs/remotes/&lt;remote&gt;/&lt;pattern&gt;'    <b>(2)</b></pre>



<ol>
<li>
<p>Using <code>-a</code> would conflate &lt;remote&gt; with any local branches you happen to
have been prefixed with the same &lt;remote&gt; pattern.</p>
</li>
<li>
<p><code>for-each-ref</code> can take a wide range of options. See <a href="/docs/git-for-each-ref">git-for-each-ref[1]</a></p>
</li>
</ol>

</dd>
</dl>


<p>Patterns will normally need quoting.</p>




<h2>NOTES</h2>


<p>If you are creating a branch that you want to switch to immediately,
it is easier to use the "git switch" command with its <code>-c</code> option to
do the same thing with a single command.</p>


<p>The options <code>--contains</code>, <code>--no-contains</code>, <code>--merged</code> and <code>--no-merged</code>
serve four related but different purposes:</p>


<ul>
<li>
<p><code>--contains &lt;commit&gt;</code> is used to find all branches which will need
special attention if &lt;commit&gt; were to be rebased or amended, since those
branches contain the specified &lt;commit&gt;.</p>
</li>
<li>
<p><code>--no-contains &lt;commit&gt;</code> is the inverse of that, i.e. branches that don’t
contain the specified &lt;commit&gt;.</p>
</li>
<li>
<p><code>--merged</code> is used to find all branches which can be safely deleted,
since those branches are fully contained by HEAD.</p>
</li>
<li>
<p><code>--no-merged</code> is used to find branches which are candidates for merging
into HEAD, since those branches are not fully contained by HEAD.</p>
</li>
</ul>


<p>When combining multiple <code>--contains</code> and <code>--no-contains</code> filters, only
references that contain at least one of the <code>--contains</code> commits and
contain none of the <code>--no-contains</code> commits are shown.</p>


<p>When combining multiple <code>--merged</code> and <code>--no-merged</code> filters, only
references that are reachable from at least one of the <code>--merged</code>
commits and from none of the <code>--no-merged</code> commits are shown.</p>




<h2>SEE ALSO</h2>


<p><a href="/docs/git-check-ref-format">git-check-ref-format[1]</a>,
<a href="/docs/git-fetch">git-fetch[1]</a>,
<a href="/docs/git-remote">git-remote[1]</a>,
<a href="/docs/user-manual#what-is-a-branch">“Understanding history: What is
a branch?”</a> in the Git User’s Manual.</p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-checkout - Switch branches or restore working tree files</span></h2>




<h2><br>synopsis</h2>


<pre><em>git checkout</em> [-q] [-f] [-m] [&lt;branch&gt;]
<em>git checkout</em> [-q] [-f] [-m] --detach [&lt;branch&gt;]
<em>git checkout</em> [-q] [-f] [-m] [--detach] &lt;commit&gt;
<em>git checkout</em> [-q] [-f] [-m] [[-b|-B|--orphan] &lt;new-branch&gt;] [&lt;start-point&gt;]
<em>git checkout</em> [-f|--ours|--theirs|-m|--conflict=&lt;style&gt;] [&lt;tree-ish&gt;] [--] &lt;pathspec&gt;…<U+200B>
<em>git checkout</em> [-f|--ours|--theirs|-m|--conflict=&lt;style&gt;] [&lt;tree-ish&gt;] --pathspec-from-file=&lt;file&gt; [--pathspec-file-nul]
<em>git checkout</em> (-p|--patch) [&lt;tree-ish&gt;] [--] [&lt;pathspec&gt;…<U+200B>]</pre>




<h2>description</h2>


<p>Updates files in the working tree to match the version in the index
or the specified tree.  If no pathspec was given, <em>git checkout</em> will
also update <code>HEAD</code> to set the specified branch as the current
branch.</p>


<dl>
<dt> <em>git checkout</em> [&lt;branch&gt;] </dt>
<dd>
<p>To prepare for working on <code>&lt;branch&gt;</code>, switch to it by updating
the index and the files in the working tree, and by pointing
<code>HEAD</code> at the branch. Local modifications to the files in the
working tree are kept, so that they can be committed to the
<code>&lt;branch&gt;</code>.</p>

<p>If <code>&lt;branch&gt;</code> is not found but there does exist a tracking branch in
exactly one remote (call it <code>&lt;remote&gt;</code>) with a matching name and
<code>--no-guess</code> is not specified, treat as equivalent to</p>



<pre>$ git checkout -b &lt;branch&gt; --track &lt;remote&gt;/&lt;branch&gt;</pre>



<p>You could omit <code>&lt;branch&gt;</code>, in which case the command degenerates to
"check out the current branch", which is a glorified no-op with
rather expensive side-effects to show only the tracking information,
if exists, for the current branch.</p>

</dd>
<dt> <em>git checkout</em> -b|-B &lt;new-branch&gt; [&lt;start-point&gt;] </dt>
<dd>
<p>Specifying <code>-b</code> causes a new branch to be created as if
<a href="/docs/git-branch">git-branch[1]</a> were called and then checked out.  In
this case you can use the <code>--track</code> or <code>--no-track</code> options,
which will be passed to <em>git branch</em>.  As a convenience,
<code>--track</code> without <code>-b</code> implies branch creation; see the
description of <code>--track</code> below.</p>

<p>If <code>-B</code> is given, <code>&lt;new-branch&gt;</code> is created if it doesn’t exist; otherwise, it
is reset. This is the transactional equivalent of</p>



<pre>$ git branch -f &lt;branch&gt; [&lt;start-point&gt;]
$ git checkout &lt;branch&gt;</pre>



<p>that is to say, the branch is not reset/created unless "git checkout" is
successful.</p>

</dd>
<dt> <em>git checkout</em> --detach [&lt;branch&gt;] </dt>
<dt> <em>git checkout</em> [--detach] &lt;commit&gt; </dt>
<dd>
<p>Prepare to work on top of <code>&lt;commit&gt;</code>, by detaching <code>HEAD</code> at it
(see "DETACHED HEAD" section), and updating the index and the
files in the working tree.  Local modifications to the files
in the working tree are kept, so that the resulting working
tree will be the state recorded in the commit plus the local
modifications.</p>

<p>When the <code>&lt;commit&gt;</code> argument is a branch name, the <code>--detach</code> option can
be used to detach <code>HEAD</code> at the tip of the branch (<code>git checkout
&lt;branch&gt;</code> would check out that branch without detaching <code>HEAD</code>).</p>


<p>Omitting <code>&lt;branch&gt;</code> detaches <code>HEAD</code> at the tip of the current branch.</p>

</dd>
<dt> <em>git checkout</em> [-f|--ours|--theirs|-m|--conflict=&lt;style&gt;] [&lt;tree-ish&gt;] [--] &lt;pathspec&gt;…<U+200B> </dt>
<dt> <em>git checkout</em> [-f|--ours|--theirs|-m|--conflict=&lt;style&gt;] [&lt;tree-ish&gt;] --pathspec-from-file=&lt;file&gt; [--pathspec-file-nul] </dt>
<dd>
<p>Overwrite the contents of the files that match the pathspec.
When the <code>&lt;tree-ish&gt;</code> (most often a commit) is not given,
overwrite working tree with the contents in the index.
When the <code>&lt;tree-ish&gt;</code> is given, overwrite both the index and
the working tree with the contents at the <code>&lt;tree-ish&gt;</code>.</p>

<p>The index may contain unmerged entries because of a previous failed merge.
By default, if you try to check out such an entry from the index, the
checkout operation will fail and nothing will be checked out.
Using <code>-f</code> will ignore these unmerged entries.  The contents from a
specific side of the merge can be checked out of the index by
using <code>--ours</code> or <code>--theirs</code>.  With <code>-m</code>, changes made to the working tree
file can be discarded to re-create the original conflicted merge result.</p>

</dd>
<dt> <em>git checkout</em> (-p|--patch) [&lt;tree-ish&gt;] [--] [&lt;pathspec&gt;…<U+200B>] </dt>
<dd>
<p>This is similar to the previous mode, but lets you use the
interactive interface to show the "diff" output and choose which
hunks to use in the result.  See below for the description of
<code>--patch</code> option.</p>
</dd>
</dl>




<h2>options</h2>


<dl>
<dt> -q </dt>
<dt> --quiet </dt>
<dd>
<p>Quiet, suppress feedback messages.</p>
</dd>
<dt> --progress </dt>
<dt> --no-progress </dt>
<dd>
<p>Progress status is reported on the standard error stream
by default when it is attached to a terminal, unless <code>--quiet</code>
is specified. This flag enables progress reporting even if not
attached to a terminal, regardless of <code>--quiet</code>.</p>
</dd>
<dt> -f </dt>
<dt> --force </dt>
<dd>
<p>When switching branches, proceed even if the index or the
working tree differs from <code>HEAD</code>, and even if there are untracked
files in the way.  This is used to throw away local changes and
any untracked files or directories that are in the way.</p>

<p>When checking out paths from the index, do not fail upon unmerged
entries; instead, unmerged entries are ignored.</p>

</dd>
<dt> --ours </dt>
<dt> --theirs </dt>
<dd>
<p>When checking out paths from the index, check out stage #2
(<em>ours</em>) or #3 (<em>theirs</em>) for unmerged paths.</p>

<p>Note that during <code>git rebase</code> and <code>git pull --rebase</code>, <em>ours</em> and
<em>theirs</em> may appear swapped; <code>--ours</code> gives the version from the
branch the changes are rebased onto, while <code>--theirs</code> gives the
version from the branch that holds your work that is being rebased.</p>


<p>This is because <code>rebase</code> is used in a workflow that treats the
history at the remote as the shared canonical one, and treats the
work done on the branch you are rebasing as the third-party work to
be integrated, and you are temporarily assuming the role of the
keeper of the canonical history during the rebase.  As the keeper of
the canonical history, you need to view the history from the remote
as <code>ours</code> (i.e. "our shared canonical history"), while what you did
on your side branch as <code>theirs</code> (i.e. "one contributor’s work on top
of it").</p>

</dd>
<dt> -b &lt;new-branch&gt; </dt>
<dd>
<p>Create a new branch named <code>&lt;new-branch&gt;</code> and start it at
<code>&lt;start-point&gt;</code>; see <a href="/docs/git-branch">git-branch[1]</a> for details.</p>
</dd>
<dt> -B &lt;new-branch&gt; </dt>
<dd>
<p>Creates the branch <code>&lt;new-branch&gt;</code> and start it at <code>&lt;start-point&gt;</code>;
if it already exists, then reset it to <code>&lt;start-point&gt;</code>. This is
equivalent to running "git branch" with "-f"; see
<a href="/docs/git-branch">git-branch[1]</a> for details.</p>
</dd>
<dt> -t </dt>
<dt> --track[=(direct|inherit)] </dt>
<dd>
<p>When creating a new branch, set up "upstream" configuration. See
"--track" in <a href="/docs/git-branch">git-branch[1]</a> for details.</p>

<p>If no <code>-b</code> option is given, the name of the new branch will be
derived from the remote-tracking branch, by looking at the local part of
the refspec configured for the corresponding remote, and then stripping
the initial part up to the "*".
This would tell us to use <code>hack</code> as the local branch when branching
off of <code>origin/hack</code> (or <code>remotes/origin/hack</code>, or even
<code>refs/remotes/origin/hack</code>).  If the given name has no slash, or the above
guessing results in an empty name, the guessing is aborted.  You can
explicitly give a name with <code>-b</code> in such a case.</p>

</dd>
<dt> --no-track </dt>
<dd>
<p>Do not set up "upstream" configuration, even if the
<code>branch.autoSetupMerge</code> configuration variable is true.</p>
</dd>
<dt> --guess </dt>
<dt> --no-guess </dt>
<dd>
<p>If <code>&lt;branch&gt;</code> is not found but there does exist a tracking
branch in exactly one remote (call it <code>&lt;remote&gt;</code>) with a
matching name, treat as equivalent to</p>


<pre>$ git checkout -b &lt;branch&gt; --track &lt;remote&gt;/&lt;branch&gt;</pre>



<p>If the branch exists in multiple remotes and one of them is named by
the <code>checkout.defaultRemote</code> configuration variable, we’ll use that
one for the purposes of disambiguation, even if the <code>&lt;branch&gt;</code> isn’t
unique across all remotes. Set it to
e.g. <code>checkout.defaultRemote=origin</code> to always checkout remote
branches from there if <code>&lt;branch&gt;</code> is ambiguous but exists on the
<em>origin</em> remote. See also <code>checkout.defaultRemote</code> in
<a href="/docs/git-config">git-config[1]</a>.</p>


<p><code>--guess</code> is the default behavior. Use <code>--no-guess</code> to disable it.</p>


<p>The default behavior can be set via the <code>checkout.guess</code> configuration
variable.</p>

</dd>
<dt> -l </dt>
<dd>
<p>Create the new branch’s reflog; see <a href="/docs/git-branch">git-branch[1]</a> for
details.</p>
</dd>
<dt> -d </dt>
<dt> --detach </dt>
<dd>
<p>Rather than checking out a branch to work on it, check out a
commit for inspection and discardable experiments.
This is the default behavior of <code>git checkout &lt;commit&gt;</code> when
<code>&lt;commit&gt;</code> is not a branch name.  See the "DETACHED HEAD" section
below for details.</p>
</dd>
<dt> --orphan &lt;new-branch&gt; </dt>
<dd>
<p>Create a new <em>orphan</em> branch, named <code>&lt;new-branch&gt;</code>, started from
<code>&lt;start-point&gt;</code> and switch to it.  The first commit made on this
new branch will have no parents and it will be the root of a new
history totally disconnected from all the other branches and
commits.</p>

<p>The index and the working tree are adjusted as if you had previously run
<code>git checkout &lt;start-point&gt;</code>.  This allows you to start a new history
that records a set of paths similar to <code>&lt;start-point&gt;</code> by easily running
<code>git commit -a</code> to make the root commit.</p>


<p>This can be useful when you want to publish the tree from a commit
without exposing its full history. You might want to do this to publish
an open source branch of a project whose current tree is "clean", but
whose full history contains proprietary or otherwise encumbered bits of
code.</p>


<p>If you want to start a disconnected history that records a set of paths
that is totally different from the one of <code>&lt;start-point&gt;</code>, then you should
clear the index and the working tree right after creating the orphan
branch by running <code>git rm -rf .</code> from the top level of the working tree.
Afterwards you will be ready to prepare your new files, repopulating the
working tree, by copying them from elsewhere, extracting a tarball, etc.</p>

</dd>
<dt> --ignore-skip-worktree-bits </dt>
<dd>
<p>In sparse checkout mode, <code>git checkout -- &lt;paths&gt;</code> would
update only entries matched by <code>&lt;paths&gt;</code> and sparse patterns
in <code>$GIT_DIR/info/sparse-checkout</code>. This option ignores
the sparse patterns and adds back any files in <code>&lt;paths&gt;</code>.</p>
</dd>
<dt> -m </dt>
<dt> --merge </dt>
<dd>
<p>When switching branches,
if you have local modifications to one or more files that
are different between the current branch and the branch to
which you are switching, the command refuses to switch
branches in order to preserve your modifications in context.
However, with this option, a three-way merge between the current
branch, your working tree contents, and the new branch
is done, and you will be on the new branch.</p>

<p>When a merge conflict happens, the index entries for conflicting
paths are left unmerged, and you need to resolve the conflicts
and mark the resolved paths with <code>git add</code> (or <code>git rm</code> if the merge
should result in deletion of the path).</p>


<p>When checking out paths from the index, this option lets you recreate
the conflicted merge in the specified paths.</p>


<p>When switching branches with <code>--merge</code>, staged changes may be lost.</p>

</dd>
<dt> --conflict=&lt;style&gt; </dt>
<dd>
<p>The same as <code>--merge</code> option above, but changes the way the
conflicting hunks are presented, overriding the
<code>merge.conflictStyle</code> configuration variable.  Possible values are
"merge" (default), "diff3", and "zdiff3".</p>
</dd>
<dt> -p </dt>
<dt> --patch </dt>
<dd>
<p>Interactively select hunks in the difference between the
<code>&lt;tree-ish&gt;</code> (or the index, if unspecified) and the working
tree.  The chosen hunks are then applied in reverse to the
working tree (and if a <code>&lt;tree-ish&gt;</code> was specified, the index).</p>

<p>This means that you can use <code>git checkout -p</code> to selectively discard
edits from your current working tree. See the “Interactive Mode”
section of <a href="/docs/git-add">git-add[1]</a> to learn how to operate the <code>--patch</code> mode.</p>


<p>Note that this option uses the no overlay mode by default (see also
<code>--overlay</code>), and currently doesn’t support overlay mode.</p>

</dd>
<dt> --ignore-other-worktrees </dt>
<dd>
<p><code>git checkout</code> refuses when the wanted ref is already checked
out by another worktree. This option makes it check the ref
out anyway. In other words, the ref can be held by more than one
worktree.</p>
</dd>
<dt> --overwrite-ignore </dt>
<dt> --no-overwrite-ignore </dt>
<dd>
<p>Silently overwrite ignored files when switching branches. This
is the default behavior. Use <code>--no-overwrite-ignore</code> to abort
the operation when the new branch contains ignored files.</p>
</dd>
<dt> --recurse-submodules </dt>
<dt> --no-recurse-submodules </dt>
<dd>
<p>Using <code>--recurse-submodules</code> will update the content of all active
submodules according to the commit recorded in the superproject. If
local modifications in a submodule would be overwritten the checkout
will fail unless <code>-f</code> is used. If nothing (or <code>--no-recurse-submodules</code>)
is used, submodules working trees will not be updated.
Just like <a href="/docs/git-submodule">git-submodule[1]</a>, this will detach <code>HEAD</code> of the
submodule.</p>
</dd>
<dt> --overlay </dt>
<dt> --no-overlay </dt>
<dd>
<p>In the default overlay mode, <code>git checkout</code> never
removes files from the index or the working tree.  When
specifying <code>--no-overlay</code>, files that appear in the index and
working tree, but not in <code>&lt;tree-ish&gt;</code> are removed, to make them
match <code>&lt;tree-ish&gt;</code> exactly.</p>
</dd>
<dt> --pathspec-from-file=&lt;file&gt; </dt>
<dd>
<p>Pathspec is passed in <code>&lt;file&gt;</code> instead of commandline args. If
<code>&lt;file&gt;</code> is exactly <code>-</code> then standard input is used. Pathspec
elements are separated by LF or CR/LF. Pathspec elements can be
quoted as explained for the configuration variable <code>core.quotePath</code>
(see <a href="/docs/git-config">git-config[1]</a>). See also <code>--pathspec-file-nul</code> and
global <code>--literal-pathspecs</code>.</p>
</dd>
<dt> --pathspec-file-nul </dt>
<dd>
<p>Only meaningful with <code>--pathspec-from-file</code>. Pathspec elements are
separated with NUL character and all other characters are taken
literally (including newlines and quotes).</p>
</dd>
<dt> &lt;branch&gt; </dt>
<dd>
<p>Branch to checkout; if it refers to a branch (i.e., a name that,
when prepended with "refs/heads/", is a valid ref), then that
branch is checked out. Otherwise, if it refers to a valid
commit, your <code>HEAD</code> becomes "detached" and you are no longer on
any branch (see below for details).</p>

<p>You can use the <code>@{-N}</code> syntax to refer to the N-th last
branch/commit checked out using "git checkout" operation. You may
also specify <code>-</code> which is synonymous to <code>@{-1}</code>.</p>


<p>As a special case, you may use <code>A...B</code> as a shortcut for the
merge base of <code>A</code> and <code>B</code> if there is exactly one merge base. You can
leave out at most one of <code>A</code> and <code>B</code>, in which case it defaults to <code>HEAD</code>.</p>

</dd>
<dt> &lt;new-branch&gt; </dt>
<dd>
<p>Name for the new branch.</p>
</dd>
<dt> &lt;start-point&gt; </dt>
<dd>
<p>The name of a commit at which to start the new branch; see
<a href="/docs/git-branch">git-branch[1]</a> for details. Defaults to <code>HEAD</code>.</p>

<p>As a special case, you may use <code>"A...B"</code> as a shortcut for the
merge base of <code>A</code> and <code>B</code> if there is exactly one merge base. You can
leave out at most one of <code>A</code> and <code>B</code>, in which case it defaults to <code>HEAD</code>.</p>

</dd>
<dt> &lt;tree-ish&gt; </dt>
<dd>
<p>Tree to checkout from (when paths are given). If not specified,
the index will be used.</p>

<p>As a special case, you may use <code>"A...B"</code> as a shortcut for the
merge base of <code>A</code> and <code>B</code> if there is exactly one merge base. You can
leave out at most one of <code>A</code> and <code>B</code>, in which case it defaults to <code>HEAD</code>.</p>

</dd>
<dt> -- </dt>
<dd>
<p>Do not interpret any more arguments as options.</p>
</dd>
<dt> &lt;pathspec&gt;…<U+200B> </dt>
<dd>
<p>Limits the paths affected by the operation.</p>

<p>For more details, see the <em>pathspec</em> entry in <a href="/docs/gitglossary">gitglossary[7]</a>.</p>

</dd>
</dl>




<h2>DETACHED HEAD</h2>


<p><code>HEAD</code> normally refers to a named branch (e.g. <code>master</code>). Meanwhile, each
branch refers to a specific commit. Let’s look at a repo with three
commits, one of them tagged, and with branch <code>master</code> checked out:</p>



<pre>           HEAD (refers to branch 'master')
            |
            v
a---b---c  branch 'master' (refers to commit 'c')
    ^
    |
  tag 'v2.0' (refers to commit 'b')</pre>



<p>When a commit is created in this state, the branch is updated to refer to
the new commit. Specifically, <em>git commit</em> creates a new commit <code>d</code>, whose
parent is commit <code>c</code>, and then updates branch <code>master</code> to refer to new
commit <code>d</code>. <code>HEAD</code> still refers to branch <code>master</code> and so indirectly now refers
to commit <code>d</code>:</p>



<pre>$ edit; git add; git commit

               HEAD (refers to branch 'master')
                |
                v
a---b---c---d  branch 'master' (refers to commit 'd')
    ^
    |
  tag 'v2.0' (refers to commit 'b')</pre>



<p>It is sometimes useful to be able to checkout a commit that is not at
the tip of any named branch, or even to create a new commit that is not
referenced by a named branch. Let’s look at what happens when we
checkout commit <code>b</code> (here we show two ways this may be done):</p>



<pre>$ git checkout v2.0  # or
$ git checkout master^^

   HEAD (refers to commit 'b')
    |
    v
a---b---c---d  branch 'master' (refers to commit 'd')
    ^
    |
  tag 'v2.0' (refers to commit 'b')</pre>



<p>Notice that regardless of which checkout command we use, <code>HEAD</code> now refers
directly to commit <code>b</code>. This is known as being in detached <code>HEAD</code> state.
It means simply that <code>HEAD</code> refers to a specific commit, as opposed to
referring to a named branch. Let’s see what happens when we create a commit:</p>



<pre>$ edit; git add; git commit

     HEAD (refers to commit 'e')
      |
      v
      e
     /
a---b---c---d  branch 'master' (refers to commit 'd')
    ^
    |
  tag 'v2.0' (refers to commit 'b')</pre>



<p>There is now a new commit <code>e</code>, but it is referenced only by <code>HEAD</code>. We can
of course add yet another commit in this state:</p>



<pre>$ edit; git add; git commit

	 HEAD (refers to commit 'f')
	  |
	  v
      e---f
     /
a---b---c---d  branch 'master' (refers to commit 'd')
    ^
    |
  tag 'v2.0' (refers to commit 'b')</pre>



<p>In fact, we can perform all the normal Git operations. But, let’s look
at what happens when we then checkout <code>master</code>:</p>



<pre>$ git checkout master

               HEAD (refers to branch 'master')
      e---f     |
     /          v
a---b---c---d  branch 'master' (refers to commit 'd')
    ^
    |
  tag 'v2.0' (refers to commit 'b')</pre>



<p>It is important to realize that at this point nothing refers to commit
<code>f</code>. Eventually commit <code>f</code> (and by extension commit <code>e</code>) will be deleted
by the routine Git garbage collection process, unless we create a reference
before that happens. If we have not yet moved away from commit <code>f</code>,
any of these will create a reference to it:</p>



<pre>$ git checkout -b foo   <b>(1)</b>
$ git branch foo        <b>(2)</b>
$ git tag foo           <b>(3)</b></pre>



<ol>
<li>
<p>creates a new branch <code>foo</code>, which refers to commit <code>f</code>, and then
updates <code>HEAD</code> to refer to branch <code>foo</code>. In other words, we’ll no longer
be in detached <code>HEAD</code> state after this command.</p>
</li>
<li>
<p>similarly creates a new branch <code>foo</code>, which refers to commit <code>f</code>,
but leaves <code>HEAD</code> detached.</p>
</li>
<li>
<p>creates a new tag <code>foo</code>, which refers to commit <code>f</code>,
leaving <code>HEAD</code> detached.</p>
</li>
</ol>


<p>If we have moved away from commit <code>f</code>, then we must first recover its object
name (typically by using git reflog), and then we can create a reference to
it. For example, to see the last two commits to which <code>HEAD</code> referred, we
can use either of these commands:</p>



<pre>$ git reflog -2 HEAD # or
$ git log -g -2 HEAD</pre>





<h2>ARGUMENT DISAMBIGUATION</h2>


<p>When there is only one argument given and it is not <code>--</code> (e.g. <code>git
checkout abc</code>), and when the argument is both a valid <code>&lt;tree-ish&gt;</code>
(e.g. a branch <code>abc</code> exists) and a valid <code>&lt;pathspec&gt;</code> (e.g. a file
or a directory whose name is "abc" exists), Git would usually ask
you to disambiguate.  Because checking out a branch is so common an
operation, however, <code>git checkout abc</code> takes "abc" as a <code>&lt;tree-ish&gt;</code>
in such a situation.  Use <code>git checkout -- &lt;pathspec&gt;</code> if you want
to checkout these paths out of the index.</p>




<h2>examples</h2>


<ol>
<li>
<p>The following sequence checks out the <code>master</code> branch, reverts
the <code>Makefile</code> to two revisions back, deletes <code>hello.c</code> by
mistake, and gets it back from the index.</p>


<pre>$ git checkout master             <b>(1)</b>
$ git checkout master~2 Makefile  <b>(2)</b>
$ rm -f hello.c
$ git checkout hello.c            <b>(3)</b></pre>



<ol>
<li>
<p>switch branch</p>
</li>
<li>
<p>take a file out of another commit</p>
</li>
<li>
<p>restore <code>hello.c</code> from the index</p>
</li>
</ol>


<p>If you want to check out <em>all</em> C source files out of the index,
you can say</p>



<pre>$ git checkout -- '*.c'</pre>



<p>Note the quotes around <code>*.c</code>.  The file <code>hello.c</code> will also be
checked out, even though it is no longer in the working tree,
because the file globbing is used to match entries in the index
(not in the working tree by the shell).</p>


<p>If you have an unfortunate branch that is named <code>hello.c</code>, this
step would be confused as an instruction to switch to that branch.
You should instead write:</p>



<pre>$ git checkout -- hello.c</pre>


</li>
<li>
<p>After working in the wrong branch, switching to the correct
branch would be done using:</p>


<pre>$ git checkout mytopic</pre>



<p>However, your "wrong" branch and correct <code>mytopic</code> branch may
differ in files that you have modified locally, in which case
the above checkout would fail like this:</p>



<pre>$ git checkout mytopic
error: You have local changes to 'frotz'; not switching branches.</pre>



<p>You can give the <code>-m</code> flag to the command, which would try a
three-way merge:</p>



<pre>$ git checkout -m mytopic
Auto-merging frotz</pre>



<p>After this three-way merge, the local modifications are <em>not</em>
registered in your index file, so <code>git diff</code> would show you what
changes you made since the tip of the new branch.</p>

</li>
<li>
<p>When a merge conflict happens during switching branches with
the <code>-m</code> option, you would see something like this:</p>


<pre>$ git checkout -m mytopic
Auto-merging frotz
ERROR: Merge conflict in frotz
fatal: merge program failed</pre>



<p>At this point, <code>git diff</code> shows the changes cleanly merged as in
the previous example, as well as the changes in the conflicted
files.  Edit and resolve the conflict and mark it resolved with
<code>git add</code> as usual:</p>



<pre>$ edit frotz
$ git add frotz</pre>


</li>
</ol>




<h2>SEE ALSO</h2>


<p><a href="/docs/git-switch">git-switch[1]</a>,
<a href="/docs/git-restore">git-restore[1]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-switch - Switch branches</span></h2>




<h2><br>synopsis</h2>


<pre><em>git switch</em> [&lt;options&gt;] [--no-guess] &lt;branch&gt;
<em>git switch</em> [&lt;options&gt;] --detach [&lt;start-point&gt;]
<em>git switch</em> [&lt;options&gt;] (-c|-C) &lt;new-branch&gt; [&lt;start-point&gt;]
<em>git switch</em> [&lt;options&gt;] --orphan &lt;new-branch&gt;</pre>




<h2>description</h2>


<p>Switch to a specified branch. The working tree and the index are
updated to match the branch. All new commits will be added to the tip
of this branch.</p>


<p>Optionally a new branch could be created with either <code>-c</code>, <code>-C</code>,
automatically from a remote branch of same name (see <code>--guess</code>), or
detach the working tree from any branch with <code>--detach</code>, along with
switching.</p>


<p>Switching branches does not require a clean index and working tree
(i.e. no differences compared to <code>HEAD</code>). The operation is aborted
however if the operation leads to loss of local changes, unless told
otherwise with <code>--discard-changes</code> or <code>--merge</code>.</p>


<p>THIS COMMAND IS EXPERIMENTAL. THE BEHAVIOR MAY CHANGE.</p>




<h2>options</h2>


<dl>
<dt> &lt;branch&gt; </dt>
<dd>
<p>Branch to switch to.</p>
</dd>
<dt> &lt;new-branch&gt; </dt>
<dd>
<p>Name for the new branch.</p>
</dd>
<dt> &lt;start-point&gt; </dt>
<dd>
<p>The starting point for the new branch. Specifying a
<code>&lt;start-point&gt;</code> allows you to create a branch based on some
other point in history than where HEAD currently points. (Or,
in the case of <code>--detach</code>, allows you to inspect and detach
from some other point.)</p>

<p>You can use the <code>@{-N}</code> syntax to refer to the N-th last
branch/commit switched to using "git switch" or "git checkout"
operation. You may also specify <code>-</code> which is synonymous to <code>@{-1}</code>.
This is often used to switch quickly between two branches, or to undo
a branch switch by mistake.</p>


<p>As a special case, you may use <code>A...B</code> as a shortcut for the merge
base of <code>A</code> and <code>B</code> if there is exactly one merge base. You can leave
out at most one of <code>A</code> and <code>B</code>, in which case it defaults to <code>HEAD</code>.</p>

</dd>
<dt> -c &lt;new-branch&gt; </dt>
<dt> --create &lt;new-branch&gt; </dt>
<dd>
<p>Create a new branch named <code>&lt;new-branch&gt;</code> starting at
<code>&lt;start-point&gt;</code> before switching to the branch. This is a
convenient shortcut for:</p>


<pre>$ git branch &lt;new-branch&gt;
$ git switch &lt;new-branch&gt;</pre>


</dd>
<dt> -C &lt;new-branch&gt; </dt>
<dt> --force-create &lt;new-branch&gt; </dt>
<dd>
<p>Similar to <code>--create</code> except that if <code>&lt;new-branch&gt;</code> already
exists, it will be reset to <code>&lt;start-point&gt;</code>. This is a
convenient shortcut for:</p>


<pre>$ git branch -f &lt;new-branch&gt;
$ git switch &lt;new-branch&gt;</pre>


</dd>
<dt> -d </dt>
<dt> --detach </dt>
<dd>
<p>Switch to a commit for inspection and discardable
experiments. See the "DETACHED HEAD" section in
<a href="/docs/git-checkout">git-checkout[1]</a> for details.</p>
</dd>
<dt> --guess </dt>
<dt> --no-guess </dt>
<dd>
<p>If <code>&lt;branch&gt;</code> is not found but there does exist a tracking
branch in exactly one remote (call it <code>&lt;remote&gt;</code>) with a
matching name, treat as equivalent to</p>


<pre>$ git switch -c &lt;branch&gt; --track &lt;remote&gt;/&lt;branch&gt;</pre>



<p>If the branch exists in multiple remotes and one of them is named by
the <code>checkout.defaultRemote</code> configuration variable, we’ll use that
one for the purposes of disambiguation, even if the <code>&lt;branch&gt;</code> isn’t
unique across all remotes. Set it to e.g. <code>checkout.defaultRemote=origin</code>
to always checkout remote branches from there if <code>&lt;branch&gt;</code> is
ambiguous but exists on the <em>origin</em> remote. See also
<code>checkout.defaultRemote</code> in <a href="/docs/git-config">git-config[1]</a>.</p>


<p><code>--guess</code> is the default behavior. Use <code>--no-guess</code> to disable it.</p>


<p>The default behavior can be set via the <code>checkout.guess</code> configuration
variable.</p>

</dd>
<dt> -f </dt>
<dt> --force </dt>
<dd>
<p>An alias for <code>--discard-changes</code>.</p>
</dd>
<dt> --discard-changes </dt>
<dd>
<p>Proceed even if the index or the working tree differs from
<code>HEAD</code>. Both the index and working tree are restored to match
the switching target. If <code>--recurse-submodules</code> is specified,
submodule content is also restored to match the switching
target. This is used to throw away local changes.</p>
</dd>
<dt> -m </dt>
<dt> --merge </dt>
<dd>
<p>If you have local modifications to one or more files that are
different between the current branch and the branch to which
you are switching, the command refuses to switch branches in
order to preserve your modifications in context.  However,
with this option, a three-way merge between the current
branch, your working tree contents, and the new branch is
done, and you will be on the new branch.</p>

<p>When a merge conflict happens, the index entries for conflicting
paths are left unmerged, and you need to resolve the conflicts
and mark the resolved paths with <code>git add</code> (or <code>git rm</code> if the merge
should result in deletion of the path).</p>

</dd>
<dt> --conflict=&lt;style&gt; </dt>
<dd>
<p>The same as <code>--merge</code> option above, but changes the way the
conflicting hunks are presented, overriding the
<code>merge.conflictStyle</code> configuration variable.  Possible values are
"merge" (default), "diff3", and "zdiff3".</p>
</dd>
<dt> -q </dt>
<dt> --quiet </dt>
<dd>
<p>Quiet, suppress feedback messages.</p>
</dd>
<dt> --progress </dt>
<dt> --no-progress </dt>
<dd>
<p>Progress status is reported on the standard error stream
by default when it is attached to a terminal, unless <code>--quiet</code>
is specified. This flag enables progress reporting even if not
attached to a terminal, regardless of <code>--quiet</code>.</p>
</dd>
<dt> -t </dt>
<dt> --track [direct|inherit] </dt>
<dd>
<p>When creating a new branch, set up "upstream" configuration.
<code>-c</code> is implied. See <code>--track</code> in <a href="/docs/git-branch">git-branch[1]</a> for
details.</p>

<p>If no <code>-c</code> option is given, the name of the new branch will be derived
from the remote-tracking branch, by looking at the local part of the
refspec configured for the corresponding remote, and then stripping
the initial part up to the "*".  This would tell us to use <code>hack</code> as
the local branch when branching off of <code>origin/hack</code> (or
<code>remotes/origin/hack</code>, or even <code>refs/remotes/origin/hack</code>).  If the
given name has no slash, or the above guessing results in an empty
name, the guessing is aborted.  You can explicitly give a name with
<code>-c</code> in such a case.</p>

</dd>
<dt> --no-track </dt>
<dd>
<p>Do not set up "upstream" configuration, even if the
<code>branch.autoSetupMerge</code> configuration variable is true.</p>
</dd>
<dt> --orphan &lt;new-branch&gt; </dt>
<dd>
<p>Create a new <em>orphan</em> branch, named <code>&lt;new-branch&gt;</code>. All
tracked files are removed.</p>
</dd>
<dt> --ignore-other-worktrees </dt>
<dd>
<p><code>git switch</code> refuses when the wanted ref is already
checked out by another worktree. This option makes it check
the ref out anyway. In other words, the ref can be held by
more than one worktree.</p>
</dd>
<dt> --recurse-submodules </dt>
<dt> --no-recurse-submodules </dt>
<dd>
<p>Using <code>--recurse-submodules</code> will update the content of all
active submodules according to the commit recorded in the
superproject. If nothing (or <code>--no-recurse-submodules</code>) is
used, submodules working trees will not be updated. Just
like <a href="/docs/git-submodule">git-submodule[1]</a>, this will detach <code>HEAD</code> of the
submodules.</p>
</dd>
</dl>




<h2>examples</h2>


<p>The following command switches to the "master" branch:</p>



<pre>$ git switch master</pre>



<p>After working in the wrong branch, switching to the correct branch
would be done using:</p>



<pre>$ git switch mytopic</pre>



<p>However, your "wrong" branch and correct "mytopic" branch may differ
in files that you have modified locally, in which case the above
switch would fail like this:</p>



<pre>$ git switch mytopic
error: You have local changes to 'frotz'; not switching branches.</pre>



<p>You can give the <code>-m</code> flag to the command, which would try a three-way
merge:</p>



<pre>$ git switch -m mytopic
Auto-merging frotz</pre>



<p>After this three-way merge, the local modifications are <em>not</em>
registered in your index file, so <code>git diff</code> would show you what
changes you made since the tip of the new branch.</p>


<p>To switch back to the previous branch before we switched to mytopic
(i.e. "master" branch):</p>



<pre>$ git switch -</pre>



<p>You can grow a new branch from any commit. For example, switch to
"HEAD~3" and create branch "fixup":</p>



<pre>$ git switch -c fixup HEAD~3
Switched to a new branch 'fixup'</pre>



<p>If you want to start a new branch from a remote branch of the same
name:</p>



<pre>$ git switch new-topic
Branch 'new-topic' set up to track remote branch 'new-topic' from 'origin'
Switched to a new branch 'new-topic'</pre>



<p>To check out commit <code>HEAD~3</code> for temporary inspection or experiment
without creating a new branch:</p>



<pre>$ git switch --detach HEAD~3
HEAD is now at 9fc9555312 Merge branch 'cc/shared-index-permbits'</pre>



<p>If it turns out whatever you have done is worth keeping, you can
always create a new name for it (without switching away):</p>



<pre>$ git switch -c good-surprises</pre>





<h2>SEE ALSO</h2>


<p><a href="/docs/git-checkout">git-checkout[1]</a>,
<a href="/docs/git-branch">git-branch[1]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-merge - Join two or more development histories together</span></h2>




<h2><br>synopsis</h2>


<pre><em>git merge</em> [-n] [--stat] [--no-commit] [--squash] [--[no-]edit]
	[--no-verify] [-s &lt;strategy&gt;] [-X &lt;strategy-option&gt;] [-S[&lt;keyid&gt;]]
	[--[no-]allow-unrelated-histories]
	[--[no-]rerere-autoupdate] [-m &lt;msg&gt;] [-F &lt;file&gt;]
	[--into-name &lt;branch&gt;] [&lt;commit&gt;…<U+200B>]
<em>git merge</em> (--continue | --abort | --quit)</pre>




<h2>description</h2>


<p>Incorporates changes from the named commits (since the time their
histories diverged from the current branch) into the current
branch.  This command is used by <em>git pull</em> to incorporate changes
from another repository and can be used by hand to merge changes
from one branch into another.</p>


<p>Assume the following history exists and the current branch is
"<code>master</code>":</p>



<pre>	  A---B---C topic
	 /
    D---E---F---G master</pre>



<p>Then "<code>git merge topic</code>" will replay the changes made on the
<code>topic</code> branch since it diverged from <code>master</code> (i.e., <code>E</code>) until
its current commit (<code>C</code>) on top of <code>master</code>, and record the result
in a new commit along with the names of the two parent commits and
a log message from the user describing the changes.</p>



<pre>	  A---B---C topic
	 /         \
    D---E---F---G---H master</pre>



<p>The second syntax ("<code>git merge --abort</code>") can only be run after the
merge has resulted in conflicts. <em>git merge --abort</em> will abort the
merge process and try to reconstruct the pre-merge state. However,
if there were uncommitted changes when the merge started (and
especially if those changes were further modified after the merge
was started), <em>git merge --abort</em> will in some cases be unable to
reconstruct the original (pre-merge) changes. Therefore:</p>


<p><strong>Warning</strong>: Running <em>git merge</em> with non-trivial uncommitted changes is
discouraged: while possible, it may leave you in a state that is hard to
back out of in the case of a conflict.</p>


<p>The third syntax ("<code>git merge --continue</code>") can only be run after the
merge has resulted in conflicts.</p>




<h2>options</h2>


<dl>
<dt> --commit </dt>
<dt> --no-commit </dt>
<dd>
<p>Perform the merge and commit the result. This option can
be used to override --no-commit.</p>

<p>With --no-commit perform the merge and stop just before creating
a merge commit, to give the user a chance to inspect and further
tweak the merge result before committing.</p>


<p>Note that fast-forward updates do not create a merge commit and
therefore there is no way to stop those merges with --no-commit.
Thus, if you want to ensure your branch is not changed or updated
by the merge command, use --no-ff with --no-commit.</p>

</dd>
<dt> --edit </dt>
<dt> -e </dt>
<dt> --no-edit </dt>
<dd>
<p>	Invoke an editor before committing successful mechanical merge to
	further edit the auto-generated merge message, so that the user
	can explain and justify the merge. The <code>--no-edit</code> option can be
	used to accept the auto-generated message (this is generally
	discouraged).
The <code>--edit</code> (or <code>-e</code>) option is still useful if you are
giving a draft message with the <code>-m</code> option from the command line
and want to edit it in the editor.</p>

<p>Older scripts may depend on the historical behaviour of not allowing the
user to edit the merge log message. They will see an editor opened when
they run <code>git merge</code>. To make it easier to adjust such scripts to the
updated behaviour, the environment variable <code>GIT_MERGE_AUTOEDIT</code> can be
set to <code>no</code> at the beginning of them.</p>

</dd>
<dt> --cleanup=&lt;mode&gt; </dt>
<dd>
<p>This option determines how the merge message will be cleaned up before
committing. See <a href="/docs/git-commit">git-commit[1]</a> for more details. In addition, if
the <em>&lt;mode&gt;</em> is given a value of <code>scissors</code>, scissors will be appended
to <code>MERGE_MSG</code> before being passed on to the commit machinery in the
case of a merge conflict.</p>
</dd>
<dt> --ff </dt>
<dt> --no-ff </dt>
<dt> --ff-only </dt>
<dd>
<p>Specifies how a merge is handled when the merged-in history is
already a descendant of the current history.  <code>--ff</code> is the
default unless merging an annotated (and possibly signed) tag
that is not stored in its natural place in the <code>refs/tags/</code>
hierarchy, in which case <code>--no-ff</code> is assumed.</p>

<p>With <code>--ff</code>, when possible resolve the merge as a fast-forward (only
update the branch pointer to match the merged branch; do not create a
merge commit).  When not possible (when the merged-in history is not a
descendant of the current history), create a merge commit.</p>


<p>With <code>--no-ff</code>, create a merge commit in all cases, even when the merge
could instead be resolved as a fast-forward.</p>


<p>With <code>--ff-only</code>, resolve the merge as a fast-forward when possible.
When not possible, refuse to merge and exit with a non-zero status.</p>

</dd>
<dt> -S[&lt;keyid&gt;] </dt>
<dt> --gpg-sign[=&lt;keyid&gt;] </dt>
<dt> --no-gpg-sign </dt>
<dd>
<p>GPG-sign the resulting merge commit. The <code>keyid</code> argument is
optional and defaults to the committer identity; if specified,
it must be stuck to the option without a space. <code>--no-gpg-sign</code>
is useful to countermand both <code>commit.gpgSign</code> configuration variable,
and earlier <code>--gpg-sign</code>.</p>
</dd>
<dt> --log[=&lt;n&gt;] </dt>
<dt> --no-log </dt>
<dd>
<p>In addition to branch names, populate the log message with
one-line descriptions from at most &lt;n&gt; actual commits that are being
merged. See also <a href="/docs/git-fmt-merge-msg">git-fmt-merge-msg[1]</a>.</p>

<p>With --no-log do not list one-line descriptions from the
actual commits being merged.</p>

</dd>
<dt> --signoff </dt>
<dt> --no-signoff </dt>
<dd>
<p>Add a <code>Signed-off-by</code> trailer by the committer at the end of the commit
log message.  The meaning of a signoff depends on the project
to which you’re committing.  For example, it may certify that
the committer has the rights to submit the work under the
project’s license or agrees to some contributor representation,
such as a Developer Certificate of Origin.
(See <a href="http://developercertificate.org">http://developercertificate.org</a> for the one used by the
Linux kernel and Git projects.)  Consult the documentation or
leadership of the project to which you’re contributing to
understand how the signoffs are used in that project.</p>

<p>The --no-signoff option can be used to countermand an earlier --signoff
option on the command line.</p>

</dd>
<dt> --stat </dt>
<dt> -n </dt>
<dt> --no-stat </dt>
<dd>
<p>Show a diffstat at the end of the merge. The diffstat is also
controlled by the configuration option merge.stat.</p>

<p>With -n or --no-stat do not show a diffstat at the end of the
merge.</p>

</dd>
<dt> --squash </dt>
<dt> --no-squash </dt>
<dd>
<p>Produce the working tree and index state as if a real merge
happened (except for the merge information), but do not actually
make a commit, move the <code>HEAD</code>, or record <code>$GIT_DIR/MERGE_HEAD</code>
(to cause the next <code>git commit</code> command to create a merge
commit).  This allows you to create a single commit on top of
the current branch whose effect is the same as merging another
branch (or more in case of an octopus).</p>

<p>With --no-squash perform the merge and commit the result. This
option can be used to override --squash.</p>


<p>With --squash, --commit is not allowed, and will fail.</p>

</dd>
<dt> --[no-]verify </dt>
<dd>
<p>By default, the pre-merge and commit-msg hooks are run.
When <code>--no-verify</code> is given, these are bypassed.
See also <a href="/docs/githooks">githooks[5]</a>.</p>
</dd>
<dt> -s &lt;strategy&gt; </dt>
<dt> --strategy=&lt;strategy&gt; </dt>
<dd>
<p>Use the given merge strategy; can be supplied more than
once to specify them in the order they should be tried.
If there is no <code>-s</code> option, a built-in list of strategies
is used instead (<code>ort</code> when merging a single head,
<code>octopus</code> otherwise).</p>
</dd>
<dt> -X &lt;option&gt; </dt>
<dt> --strategy-option=&lt;option&gt; </dt>
<dd>
<p>Pass merge strategy specific option through to the merge
strategy.</p>
</dd>
<dt> --verify-signatures </dt>
<dt> --no-verify-signatures </dt>
<dd>
<p>Verify that the tip commit of the side branch being merged is
signed with a valid key, i.e. a key that has a valid uid: in the
default trust model, this means the signing key has been signed by
a trusted key.  If the tip commit of the side branch is not signed
with a valid key, the merge is aborted.</p>
</dd>
<dt> --summary </dt>
<dt> --no-summary </dt>
<dd>
<p>Synonyms to --stat and --no-stat; these are deprecated and will be
removed in the future.</p>
</dd>
<dt> -q </dt>
<dt> --quiet </dt>
<dd>
<p>Operate quietly. Implies --no-progress.</p>
</dd>
<dt> -v </dt>
<dt> --verbose </dt>
<dd>
<p>Be verbose.</p>
</dd>
<dt> --progress </dt>
<dt> --no-progress </dt>
<dd>
<p>Turn progress on/off explicitly. If neither is specified,
progress is shown if standard error is connected to a terminal.
Note that not all merge strategies may support progress
reporting.</p>
</dd>
<dt> --autostash </dt>
<dt> --no-autostash </dt>
<dd>
<p>Automatically create a temporary stash entry before the operation
begins, record it in the special ref <code>MERGE_AUTOSTASH</code>
and apply it after the operation ends.  This means
that you can run the operation on a dirty worktree.  However, use
with care: the final stash application after a successful
merge might result in non-trivial conflicts.</p>
</dd>
<dt> --allow-unrelated-histories </dt>
<dd>
<p>By default, <code>git merge</code> command refuses to merge histories
that do not share a common ancestor.  This option can be
used to override this safety when merging histories of two
projects that started their lives independently. As that is
a very rare occasion, no configuration variable to enable
this by default exists and will not be added.</p>
</dd>
<dt> -m &lt;msg&gt; </dt>
<dd>
<p>Set the commit message to be used for the merge commit (in
case one is created).</p>

<p>If <code>--log</code> is specified, a shortlog of the commits being merged
will be appended to the specified message.</p>


<p>The <em>git fmt-merge-msg</em> command can be
used to give a good default for automated <em>git merge</em>
invocations. The automated message can include the branch description.</p>

</dd>
<dt> --into-name &lt;branch&gt; </dt>
<dd>
<p>Prepare the default merge message as if merging to the branch
<code>&lt;branch&gt;</code>, instead of the name of the real branch to which
the merge is made.</p>
</dd>
<dt> -F &lt;file&gt; </dt>
<dt> --file=&lt;file&gt; </dt>
<dd>
<p>Read the commit message to be used for the merge commit (in
case one is created).</p>

<p>If <code>--log</code> is specified, a shortlog of the commits being merged
will be appended to the specified message.</p>

</dd>
<dt> --rerere-autoupdate </dt>
<dt> --no-rerere-autoupdate </dt>
<dd>
<p>Allow the rerere mechanism to update the index with the
result of auto-conflict resolution if possible.</p>
</dd>
<dt> --overwrite-ignore </dt>
<dt> --no-overwrite-ignore </dt>
<dd>
<p>Silently overwrite ignored files from the merge result. This
is the default behavior. Use <code>--no-overwrite-ignore</code> to abort.</p>
</dd>
<dt> --abort </dt>
<dd>
<p>Abort the current conflict resolution process, and
try to reconstruct the pre-merge state. If an autostash entry is
present, apply it to the worktree.</p>

<p>If there were uncommitted worktree changes present when the merge
started, <em>git merge --abort</em> will in some cases be unable to
reconstruct these changes. It is therefore recommended to always
commit or stash your changes before running <em>git merge</em>.</p>


<p><em>git merge --abort</em> is equivalent to <em>git reset --merge</em> when
<code>MERGE_HEAD</code> is present unless <code>MERGE_AUTOSTASH</code> is also present in
which case <em>git merge --abort</em> applies the stash entry to the worktree
whereas <em>git reset --merge</em> will save the stashed changes in the stash
list.</p>

</dd>
<dt> --quit </dt>
<dd>
<p>Forget about the current merge in progress. Leave the index
and the working tree as-is. If <code>MERGE_AUTOSTASH</code> is present, the
stash entry will be saved to the stash list.</p>
</dd>
<dt> --continue </dt>
<dd>
<p>After a <em>git merge</em> stops due to conflicts you can conclude the
merge by running <em>git merge --continue</em> (see "HOW TO RESOLVE
CONFLICTS" section below).</p>
</dd>
<dt> &lt;commit&gt;…<U+200B> </dt>
<dd>
<p>Commits, usually other branch heads, to merge into our branch.
Specifying more than one commit will create a merge with
more than two parents (affectionately called an Octopus merge).</p>

<p>If no commit is given from the command line, merge the remote-tracking
branches that the current branch is configured to use as its upstream.
See also the configuration section of this manual page.</p>


<p>When <code>FETCH_HEAD</code> (and no other commit) is specified, the branches
recorded in the <code>.git/FETCH_HEAD</code> file by the previous invocation
of <code>git fetch</code> for merging are merged to the current branch.</p>

</dd>
</dl>




<h2>PRE-MERGE CHECKS</h2>


<p>Before applying outside changes, you should get your own work in
good shape and committed locally, so it will not be clobbered if
there are conflicts.  See also <a href="/docs/git-stash">git-stash[1]</a>.
<em>git pull</em> and <em>git merge</em> will stop without doing anything when
local uncommitted changes overlap with files that <em>git pull</em>/<em>git
merge</em> may need to update.</p>


<p>To avoid recording unrelated changes in the merge commit,
<em>git pull</em> and <em>git merge</em> will also abort if there are any changes
registered in the index relative to the <code>HEAD</code> commit.  (Special
narrow exceptions to this rule may exist depending on which merge
strategy is in use, but generally, the index must match HEAD.)</p>


<p>If all named commits are already ancestors of <code>HEAD</code>, <em>git merge</em>
will exit early with the message "Already up to date."</p>




<h2>FAST-FORWARD MERGE</h2>


<p>Often the current branch head is an ancestor of the named commit.
This is the most common case especially when invoked from <em>git
pull</em>: you are tracking an upstream repository, you have committed
no local changes, and now you want to update to a newer upstream
revision.  In this case, a new commit is not needed to store the
combined history; instead, the <code>HEAD</code> (along with the index) is
updated to point at the named commit, without creating an extra
merge commit.</p>


<p>This behavior can be suppressed with the <code>--no-ff</code> option.</p>




<h2>TRUE MERGE</h2>


<p>Except in a fast-forward merge (see above), the branches to be
merged must be tied together by a merge commit that has both of them
as its parents.</p>


<p>A merged version reconciling the changes from all branches to be
merged is committed, and your <code>HEAD</code>, index, and working tree are
updated to it.  It is possible to have modifications in the working
tree as long as they do not overlap; the update will preserve them.</p>


<p>When it is not obvious how to reconcile the changes, the following
happens:</p>


<ol>
<li>
<p>The <code>HEAD</code> pointer stays the same.</p>
</li>
<li>
<p>The <code>MERGE_HEAD</code> ref is set to point to the other branch head.</p>
</li>
<li>
<p>Paths that merged cleanly are updated both in the index file and
in your working tree.</p>
</li>
<li>
<p>For conflicting paths, the index file records up to three
versions: stage 1 stores the version from the common ancestor,
stage 2 from <code>HEAD</code>, and stage 3 from <code>MERGE_HEAD</code> (you
can inspect the stages with <code>git ls-files -u</code>).  The working
tree files contain the result of the "merge" program; i.e. 3-way
merge results with familiar conflict markers <code>&lt;&lt;&lt;</code> <code>===</code> <code>&gt;&gt;&gt;</code>.</p>
</li>
<li>
<p>No other changes are made.  In particular, the local
modifications you had before you started merge will stay the
same and the index entries for them stay as they were,
i.e. matching <code>HEAD</code>.</p>
</li>
</ol>


<p>If you tried a merge which resulted in complex conflicts and
want to start over, you can recover with <code>git merge --abort</code>.</p>




<h2>MERGING TAG</h2>


<p>When merging an annotated (and possibly signed) tag, Git always
creates a merge commit even if a fast-forward merge is possible, and
the commit message template is prepared with the tag message.
Additionally, if the tag is signed, the signature check is reported
as a comment in the message template. See also <a href="/docs/git-tag">git-tag[1]</a>.</p>


<p>When you want to just integrate with the work leading to the commit
that happens to be tagged, e.g. synchronizing with an upstream
release point, you may not want to make an unnecessary merge commit.</p>


<p>In such a case, you can "unwrap" the tag yourself before feeding it
to <code>git merge</code>, or pass <code>--ff-only</code> when you do not have any work on
your own. e.g.</p>



<pre>git fetch origin
git merge v1.2.3^0
git merge --ff-only v1.2.3</pre>





<h2>HOW CONFLICTS ARE PRESENTED</h2>


<p>During a merge, the working tree files are updated to reflect the result
of the merge.  Among the changes made to the common ancestor’s version,
non-overlapping ones (that is, you changed an area of the file while the
other side left that area intact, or vice versa) are incorporated in the
final result verbatim.  When both sides made changes to the same area,
however, Git cannot randomly pick one side over the other, and asks you to
resolve it by leaving what both sides did to that area.</p>


<p>By default, Git uses the same style as the one used by the "merge" program
from the RCS suite to present such a conflicted hunk, like this:</p>



<pre>Here are lines that are either unchanged from the common
ancestor, or cleanly resolved because only one side changed,
or cleanly resolved because both sides changed the same way.
&lt;&lt;&lt;&lt;&lt;&lt;&lt; yours:sample.txt
Conflict resolution is hard;
let's go shopping.
=======
Git makes conflict resolution easy.
&gt;&gt;&gt;&gt;&gt;&gt;&gt; theirs:sample.txt
And here is another line that is cleanly resolved or unmodified.</pre>



<p>The area where a pair of conflicting changes happened is marked with markers
<code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>, <code>=======</code>, and <code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code>.  The part before the <code>=======</code>
is typically your side, and the part afterwards is typically their side.</p>


<p>The default format does not show what the original said in the conflicting
area.  You cannot tell how many lines are deleted and replaced with
Barbie’s remark on your side.  The only thing you can tell is that your
side wants to say it is hard and you’d prefer to go shopping, while the
other side wants to claim it is easy.</p>


<p>An alternative style can be used by setting the "merge.conflictStyle"
configuration variable to either "diff3" or "zdiff3".  In "diff3"
style, the above conflict may look like this:</p>



<pre>Here are lines that are either unchanged from the common
ancestor, or cleanly resolved because only one side changed,
&lt;&lt;&lt;&lt;&lt;&lt;&lt; yours:sample.txt
or cleanly resolved because both sides changed the same way.
Conflict resolution is hard;
let's go shopping.
||||||| base:sample.txt
or cleanly resolved because both sides changed identically.
Conflict resolution is hard.
=======
or cleanly resolved because both sides changed the same way.
Git makes conflict resolution easy.
&gt;&gt;&gt;&gt;&gt;&gt;&gt; theirs:sample.txt
And here is another line that is cleanly resolved or unmodified.</pre>



<p>while in "zdiff3" style, it may look like this:</p>



<pre>Here are lines that are either unchanged from the common
ancestor, or cleanly resolved because only one side changed,
or cleanly resolved because both sides changed the same way.
&lt;&lt;&lt;&lt;&lt;&lt;&lt; yours:sample.txt
Conflict resolution is hard;
let's go shopping.
||||||| base:sample.txt
or cleanly resolved because both sides changed identically.
Conflict resolution is hard.
=======
Git makes conflict resolution easy.
&gt;&gt;&gt;&gt;&gt;&gt;&gt; theirs:sample.txt
And here is another line that is cleanly resolved or unmodified.</pre>



<p>In addition to the <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>, <code>=======</code>, and <code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code> markers, it uses
another <code>|||||||</code> marker that is followed by the original text.  You can
tell that the original just stated a fact, and your side simply gave in to
that statement and gave up, while the other side tried to have a more
positive attitude.  You can sometimes come up with a better resolution by
viewing the original.</p>




<h2>HOW TO RESOLVE CONFLICTS</h2>


<p>After seeing a conflict, you can do two things:</p>


<ul>
<li>
<p>Decide not to merge.  The only clean-ups you need are to reset
the index file to the <code>HEAD</code> commit to reverse 2. and to clean
up working tree changes made by 2. and 3.; <code>git merge --abort</code>
can be used for this.</p>
</li>
<li>
<p>Resolve the conflicts.  Git will mark the conflicts in
the working tree.  Edit the files into shape and
<em>git add</em> them to the index.  Use <em>git commit</em> or
<em>git merge --continue</em> to seal the deal. The latter command
checks whether there is a (interrupted) merge in progress
before calling <em>git commit</em>.</p>
</li>
</ul>


<p>You can work through the conflict with a number of tools:</p>


<ul>
<li>
<p>Use a mergetool.  <code>git mergetool</code> to launch a graphical
mergetool which will work you through the merge.</p>
</li>
<li>
<p>Look at the diffs.  <code>git diff</code> will show a three-way diff,
highlighting changes from both the <code>HEAD</code> and <code>MERGE_HEAD</code>
versions.</p>
</li>
<li>
<p>Look at the diffs from each branch. <code>git log --merge -p &lt;path&gt;</code>
will show diffs first for the <code>HEAD</code> version and then the
<code>MERGE_HEAD</code> version.</p>
</li>
<li>
<p>Look at the originals.  <code>git show :1:filename</code> shows the
common ancestor, <code>git show :2:filename</code> shows the <code>HEAD</code>
version, and <code>git show :3:filename</code> shows the <code>MERGE_HEAD</code>
version.</p>
</li>
</ul>




<h2>examples</h2>


<ul>
<li>
<p>Merge branches <code>fixes</code> and <code>enhancements</code> on top of
the current branch, making an octopus merge:</p>


<pre>$ git merge fixes enhancements</pre>


</li>
<li>
<p>Merge branch <code>obsolete</code> into the current branch, using <code>ours</code>
merge strategy:</p>


<pre>$ git merge -s ours obsolete</pre>


</li>
<li>
<p>Merge branch <code>maint</code> into the current branch, but do not make
a new commit automatically:</p>


<pre>$ git merge --no-commit maint</pre>



<p>This can be used when you want to include further changes to the
merge, or want to write your own merge commit message.</p>


<p>You should refrain from abusing this option to sneak substantial
changes into a merge commit.  Small fixups like bumping
release/version name would be acceptable.</p>

</li>
</ul>




<h2>MERGE STRATEGIES</h2>


<p>The merge mechanism (<code>git merge</code> and <code>git pull</code> commands) allows the
backend <em>merge strategies</em> to be chosen with <code>-s</code> option.  Some strategies
can also take their own options, which can be passed by giving <code>-X&lt;option&gt;</code>
arguments to <code>git merge</code> and/or <code>git pull</code>.</p>


<dl>
<dt> ort </dt>
<dd>
<p>This is the default merge strategy when pulling or merging one
branch.  This strategy can only resolve two heads using a
3-way merge algorithm.  When there is more than one common
ancestor that can be used for 3-way merge, it creates a merged
tree of the common ancestors and uses that as the reference
tree for the 3-way merge.  This has been reported to result in
fewer merge conflicts without causing mismerges by tests done
on actual merge commits taken from Linux 2.6 kernel
development history.  Additionally this strategy can detect
and handle merges involving renames.  It does not make use of
detected copies.  The name for this algorithm is an acronym
("Ostensibly Recursive’s Twin") and came from the fact that it
was written as a replacement for the previous default
algorithm, <code>recursive</code>.</p>

<p>The <em>ort</em> strategy can take the following options:</p>


<dl>
<dt> ours </dt>
<dd>
<p>This option forces conflicting hunks to be auto-resolved cleanly by
favoring <em>our</em> version.  Changes from the other tree that do not
conflict with our side are reflected in the merge result.
For a binary file, the entire contents are taken from our side.</p>

<p>This should not be confused with the <em>ours</em> merge strategy, which does not
even look at what the other tree contains at all.  It discards everything
the other tree did, declaring <em>our</em> history contains all that happened in it.</p>

</dd>
<dt> theirs </dt>
<dd>
<p>This is the opposite of <em>ours</em>; note that, unlike <em>ours</em>, there is
no <em>theirs</em> merge strategy to confuse this merge option with.</p>
</dd>
<dt> ignore-space-change </dt>
<dt> ignore-all-space </dt>
<dt> ignore-space-at-eol </dt>
<dt> ignore-cr-at-eol </dt>
<dd>
<p>Treats lines with the indicated type of whitespace change as
unchanged for the sake of a three-way merge.  Whitespace
changes mixed with other changes to a line are not ignored.
See also <a href="/docs/git-diff">git-diff[1]</a> <code>-b</code>, <code>-w</code>,
<code>--ignore-space-at-eol</code>, and <code>--ignore-cr-at-eol</code>.</p>

<ul>
<li>
<p>If <em>their</em> version only introduces whitespace changes to a line,
<em>our</em> version is used;</p>
</li>
<li>
<p>If <em>our</em> version introduces whitespace changes but <em>their</em>
version includes a substantial change, <em>their</em> version is used;</p>
</li>
<li>
<p>Otherwise, the merge proceeds in the usual way.</p>
</li>
</ul>

</dd>
<dt> renormalize </dt>
<dd>
<p>This runs a virtual check-out and check-in of all three stages
of a file when resolving a three-way merge.  This option is
meant to be used when merging branches with different clean
filters or end-of-line normalization rules.  See "Merging
branches with differing checkin/checkout attributes" in
<a href="/docs/gitattributes">gitattributes[5]</a> for details.</p>
</dd>
<dt> no-renormalize </dt>
<dd>
<p>Disables the <code>renormalize</code> option.  This overrides the
<code>merge.renormalize</code> configuration variable.</p>
</dd>
<dt> find-renames[=&lt;n&gt;] </dt>
<dd>
<p>Turn on rename detection, optionally setting the similarity
threshold.  This is the default. This overrides the
<em>merge.renames</em> configuration variable.
See also <a href="/docs/git-diff">git-diff[1]</a> <code>--find-renames</code>.</p>
</dd>
<dt> rename-threshold=&lt;n&gt; </dt>
<dd>
<p>Deprecated synonym for <code>find-renames=&lt;n&gt;</code>.</p>
</dd>
<dt> subtree[=&lt;path&gt;] </dt>
<dd>
<p>This option is a more advanced form of <em>subtree</em> strategy, where
the strategy makes a guess on how two trees must be shifted to
match with each other when merging.  Instead, the specified path
is prefixed (or stripped from the beginning) to make the shape of
two trees to match.</p>
</dd>
</dl>

</dd>
<dt> recursive </dt>
<dd>
<p>This can only resolve two heads using a 3-way merge
algorithm.  When there is more than one common
ancestor that can be used for 3-way merge, it creates a
merged tree of the common ancestors and uses that as
the reference tree for the 3-way merge.  This has been
reported to result in fewer merge conflicts without
causing mismerges by tests done on actual merge commits
taken from Linux 2.6 kernel development history.
Additionally this can detect and handle merges involving
renames.  It does not make use of detected copies.  This was
the default strategy for resolving two heads from Git v0.99.9k
until v2.33.0.</p>

<p>The <em>recursive</em> strategy takes the same options as <em>ort</em>.  However,
there are three additional options that <em>ort</em> ignores (not documented
above) that are potentially useful with the <em>recursive</em> strategy:</p>


<dl>
<dt> patience </dt>
<dd>
<p>Deprecated synonym for <code>diff-algorithm=patience</code>.</p>
</dd>
<dt> diff-algorithm=[patience|minimal|histogram|myers] </dt>
<dd>
<p>Use a different diff algorithm while merging, which can help
avoid mismerges that occur due to unimportant matching lines
(such as braces from distinct functions).  See also
<a href="/docs/git-diff">git-diff[1]</a> <code>--diff-algorithm</code>.  Note that <code>ort</code>
specifically uses <code>diff-algorithm=histogram</code>, while <code>recursive</code>
defaults to the <code>diff.algorithm</code> config setting.</p>
</dd>
<dt> no-renames </dt>
<dd>
<p>Turn off rename detection. This overrides the <code>merge.renames</code>
configuration variable.
See also <a href="/docs/git-diff">git-diff[1]</a> <code>--no-renames</code>.</p>
</dd>
</dl>

</dd>
<dt> resolve </dt>
<dd>
<p>This can only resolve two heads (i.e. the current branch
and another branch you pulled from) using a 3-way merge
algorithm.  It tries to carefully detect criss-cross
merge ambiguities.  It does not handle renames.</p>
</dd>
<dt> octopus </dt>
<dd>
<p>This resolves cases with more than two heads, but refuses to do
a complex merge that needs manual resolution.  It is
primarily meant to be used for bundling topic branch
heads together.  This is the default merge strategy when
pulling or merging more than one branch.</p>
</dd>
<dt> ours </dt>
<dd>
<p>This resolves any number of heads, but the resulting tree of the
merge is always that of the current branch head, effectively
ignoring all changes from all other branches.  It is meant to
be used to supersede old development history of side
branches.  Note that this is different from the -Xours option to
the <em>recursive</em> merge strategy.</p>
</dd>
<dt> subtree </dt>
<dd>
<p>This is a modified <code>ort</code> strategy. When merging trees A and
B, if B corresponds to a subtree of A, B is first adjusted to
match the tree structure of A, instead of reading the trees at
the same level. This adjustment is also done to the common
ancestor tree.</p>
</dd>
</dl>


<p>With the strategies that use 3-way merge (including the default, <em>ort</em>),
if a change is made on both branches, but later reverted on one of the
branches, that change will be present in the merged result; some people find
this behavior confusing.  It occurs because only the heads and the merge base
are considered when performing a merge, not the individual commits.  The merge
algorithm therefore considers the reverted change as no change at all, and
substitutes the changed version instead.</p>




<h2>CONFIGURATION</h2>


<dl>
<dt> merge.conflictStyle </dt>
<dd>
<p>Specify the style in which conflicted hunks are written out to
working tree files upon merge.  The default is "merge", which
shows a <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code> conflict marker, changes made by one side,
a <code>=======</code> marker, changes made by the other side, and then
a <code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code> marker.  An alternate style, "diff3", adds a <code>|||||||</code>
marker and the original text before the <code>=======</code> marker.  The
"merge" style tends to produce smaller conflict regions than diff3,
both because of the exclusion of the original text, and because
when a subset of lines match on the two sides they are just pulled
out of the conflict region.  Another alternate style, "zdiff3", is
similar to diff3 but removes matching lines on the two sides from
the conflict region when those matching lines appear near either
the beginning or end of a conflict region.</p>
</dd>
<dt> merge.defaultToUpstream </dt>
<dd>
<p>If merge is called without any commit argument, merge the upstream
branches configured for the current branch by using their last
observed values stored in their remote-tracking branches.
The values of the <code>branch.&lt;current branch&gt;.merge</code> that name the
branches at the remote named by <code>branch.&lt;current branch&gt;.remote</code>
are consulted, and then they are mapped via <code>remote.&lt;remote&gt;.fetch</code>
to their corresponding remote-tracking branches, and the tips of
these tracking branches are merged. Defaults to true.</p>
</dd>
<dt> merge.ff </dt>
<dd>
<p>By default, Git does not create an extra merge commit when merging
a commit that is a descendant of the current commit. Instead, the
tip of the current branch is fast-forwarded. When set to <code>false</code>,
this variable tells Git to create an extra merge commit in such
a case (equivalent to giving the <code>--no-ff</code> option from the command
line). When set to <code>only</code>, only such fast-forward merges are
allowed (equivalent to giving the <code>--ff-only</code> option from the
command line).</p>
</dd>
<dt> merge.verifySignatures </dt>
<dd>
<p>If true, this is equivalent to the --verify-signatures command
line option. See <a href="/docs/git-merge">git-merge[1]</a> for details.</p>
</dd>
<dt> merge.branchdesc </dt>
<dd>
<p>In addition to branch names, populate the log message with
the branch description text associated with them.  Defaults
to false.</p>
</dd>
<dt> merge.log </dt>
<dd>
<p>In addition to branch names, populate the log message with at
most the specified number of one-line descriptions from the
actual commits that are being merged.  Defaults to false, and
true is a synonym for 20.</p>
</dd>
<dt> merge.suppressDest </dt>
<dd>
<p>By adding a glob that matches the names of integration
branches to this multi-valued configuration variable, the
default merge message computed for merges into these
integration branches will omit "into &lt;branch name&gt;" from
its title.</p>

<p>An element with an empty value can be used to clear the list
of globs accumulated from previous configuration entries.
When there is no <code>merge.suppressDest</code> variable defined, the
default value of <code>master</code> is used for backward compatibility.</p>

</dd>
<dt> merge.renameLimit </dt>
<dd>
<p>The number of files to consider in the exhaustive portion of
rename detection during a merge.  If not specified, defaults
to the value of diff.renameLimit.  If neither
merge.renameLimit nor diff.renameLimit are specified,
currently defaults to 7000.  This setting has no effect if
rename detection is turned off.</p>
</dd>
<dt> merge.renames </dt>
<dd>
<p>Whether Git detects renames.  If set to "false", rename detection
is disabled. If set to "true", basic rename detection is enabled.
Defaults to the value of diff.renames.</p>
</dd>
<dt> merge.directoryRenames </dt>
<dd>
<p>Whether Git detects directory renames, affecting what happens at
merge time to new files added to a directory on one side of
history when that directory was renamed on the other side of
history.  If merge.directoryRenames is set to "false", directory
rename detection is disabled, meaning that such new files will be
left behind in the old directory.  If set to "true", directory
rename detection is enabled, meaning that such new files will be
moved into the new directory.  If set to "conflict", a conflict
will be reported for such paths.  If merge.renames is false,
merge.directoryRenames is ignored and treated as false.  Defaults
to "conflict".</p>
</dd>
<dt> merge.renormalize </dt>
<dd>
<p>Tell Git that canonical representation of files in the
repository has changed over time (e.g. earlier commits record
text files with CRLF line endings, but recent ones use LF line
endings).  In such a repository, Git can convert the data
recorded in commits to a canonical form before performing a
merge to reduce unnecessary conflicts.  For more information,
see section "Merging branches with differing checkin/checkout
attributes" in <a href="/docs/gitattributes">gitattributes[5]</a>.</p>
</dd>
<dt> merge.stat </dt>
<dd>
<p>Whether to print the diffstat between ORIG_HEAD and the merge result
at the end of the merge.  True by default.</p>
</dd>
<dt> merge.autoStash </dt>
<dd>
<p>When set to true, automatically create a temporary stash entry
before the operation begins, and apply it after the operation
ends.  This means that you can run merge on a dirty worktree.
However, use with care: the final stash application after a
successful merge might result in non-trivial conflicts.
This option can be overridden by the <code>--no-autostash</code> and
<code>--autostash</code> options of <a href="/docs/git-merge">git-merge[1]</a>.
Defaults to false.</p>
</dd>
<dt> merge.tool </dt>
<dd>
<p>Controls which merge tool is used by <a href="/docs/git-mergetool">git-mergetool[1]</a>.
The list below shows the valid built-in values.
Any other value is treated as a custom merge tool and requires
that a corresponding mergetool.&lt;tool&gt;.cmd variable is defined.</p>
</dd>
<dt> merge.guitool </dt>
<dd>
<p>Controls which merge tool is used by <a href="/docs/git-mergetool">git-mergetool[1]</a> when the
-g/--gui flag is specified. The list below shows the valid built-in values.
Any other value is treated as a custom merge tool and requires that a
corresponding mergetool.&lt;guitool&gt;.cmd variable is defined.</p>

<ul>
<li>
<p>araxis</p>
</li>
<li>
<p>bc</p>
</li>
<li>
<p>codecompare</p>
</li>
<li>
<p>deltawalker</p>
</li>
<li>
<p>diffmerge</p>
</li>
<li>
<p>diffuse</p>
</li>
<li>
<p>ecmerge</p>
</li>
<li>
<p>emerge</p>
</li>
<li>
<p>examdiff</p>
</li>
<li>
<p>guiffy</p>
</li>
<li>
<p>gvimdiff</p>
</li>
<li>
<p>kdiff3</p>
</li>
<li>
<p>meld</p>
</li>
<li>
<p>nvimdiff</p>
</li>
<li>
<p>opendiff</p>
</li>
<li>
<p>p4merge</p>
</li>
<li>
<p>smerge</p>
</li>
<li>
<p>tkdiff</p>
</li>
<li>
<p>tortoisemerge</p>
</li>
<li>
<p>vimdiff</p>
</li>
<li>
<p>winmerge</p>
</li>
<li>
<p>xxdiff</p>
</li>
</ul>

</dd>
<dt> merge.verbosity </dt>
<dd>
<p>Controls the amount of output shown by the recursive merge
strategy.  Level 0 outputs nothing except a final error
message if conflicts were detected. Level 1 outputs only
conflicts, 2 outputs conflicts and file changes.  Level 5 and
above outputs debugging information.  The default is level 2.
Can be overridden by the <code>GIT_MERGE_VERBOSITY</code> environment variable.</p>
</dd>
<dt> merge.&lt;driver&gt;.name </dt>
<dd>
<p>Defines a human-readable name for a custom low-level
merge driver.  See <a href="/docs/gitattributes">gitattributes[5]</a> for details.</p>
</dd>
<dt> merge.&lt;driver&gt;.driver </dt>
<dd>
<p>Defines the command that implements a custom low-level
merge driver.  See <a href="/docs/gitattributes">gitattributes[5]</a> for details.</p>
</dd>
<dt> merge.&lt;driver&gt;.recursive </dt>
<dd>
<p>Names a low-level merge driver to be used when
performing an internal merge between common ancestors.
See <a href="/docs/gitattributes">gitattributes[5]</a> for details.</p>
</dd>
<dt> branch.&lt;name&gt;.mergeOptions </dt>
<dd>
<p>Sets default options for merging into branch &lt;name&gt;. The syntax and
supported options are the same as those of <em>git merge</em>, but option
values containing whitespace characters are currently not supported.</p>
</dd>
</dl>




<h2>SEE ALSO</h2>


<p><a href="/docs/git-fmt-merge-msg">git-fmt-merge-msg[1]</a>, <a href="/docs/git-pull">git-pull[1]</a>,
<a href="/docs/gitattributes">gitattributes[5]</a>,
<a href="/docs/git-reset">git-reset[1]</a>,
<a href="/docs/git-diff">git-diff[1]</a>, <a href="/docs/git-ls-files">git-ls-files[1]</a>,
<a href="/docs/git-add">git-add[1]</a>, <a href="/docs/git-rm">git-rm[1]</a>,
<a href="/docs/git-mergetool">git-mergetool[1]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-mergetool - Run merge conflict resolution tools to resolve merge conflicts</span></h2>




<h2><br>synopsis</h2>


<pre><em>git mergetool</em> [--tool=&lt;tool&gt;] [-y | --[no-]prompt] [&lt;file&gt;…<U+200B>]</pre>




<h2>description</h2>


<p>Use <code>git mergetool</code> to run one of several merge utilities to resolve
merge conflicts.  It is typically run after <em>git merge</em>.</p>


<p>If one or more &lt;file&gt; parameters are given, the merge tool program will
be run to resolve differences on each file (skipping those without
conflicts).  Specifying a directory will include all unresolved files in
that path.  If no &lt;file&gt; names are specified, <em>git mergetool</em> will run
the merge tool program on every file with merge conflicts.</p>




<h2>options</h2>


<dl>
<dt> -t &lt;tool&gt; </dt>
<dt> --tool=&lt;tool&gt; </dt>
<dd>
<p>Use the merge resolution program specified by &lt;tool&gt;.
Valid values include emerge, gvimdiff, kdiff3,
meld, vimdiff, and tortoisemerge. Run <code>git mergetool --tool-help</code>
for the list of valid &lt;tool&gt; settings.</p>

<p>If a merge resolution program is not specified, <em>git mergetool</em>
will use the configuration variable <code>merge.tool</code>.  If the
configuration variable <code>merge.tool</code> is not set, <em>git mergetool</em>
will pick a suitable default.</p>


<p>You can explicitly provide a full path to the tool by setting the
configuration variable <code>mergetool.&lt;tool&gt;.path</code>. For example, you
can configure the absolute path to kdiff3 by setting
<code>mergetool.kdiff3.path</code>. Otherwise, <em>git mergetool</em> assumes the
tool is available in PATH.</p>


<p>Instead of running one of the known merge tool programs,
<em>git mergetool</em> can be customized to run an alternative program
by specifying the command line to invoke in a configuration
variable <code>mergetool.&lt;tool&gt;.cmd</code>.</p>


<p>When <em>git mergetool</em> is invoked with this tool (either through the
<code>-t</code> or <code>--tool</code> option or the <code>merge.tool</code> configuration
variable) the configured command line will be invoked with <code>$BASE</code>
set to the name of a temporary file containing the common base for
the merge, if available; <code>$LOCAL</code> set to the name of a temporary
file containing the contents of the file on the current branch;
<code>$REMOTE</code> set to the name of a temporary file containing the
contents of the file to be merged, and <code>$MERGED</code> set to the name
of the file to which the merge tool should write the result of the
merge resolution.</p>


<p>If the custom merge tool correctly indicates the success of a
merge resolution with its exit code, then the configuration
variable <code>mergetool.&lt;tool&gt;.trustExitCode</code> can be set to <code>true</code>.
Otherwise, <em>git mergetool</em> will prompt the user to indicate the
success of the resolution after the custom tool has exited.</p>

</dd>
<dt> --tool-help </dt>
<dd>
<p>Print a list of merge tools that may be used with <code>--tool</code>.</p>
</dd>
<dt> -y </dt>
<dt> --no-prompt </dt>
<dd>
<p>Don’t prompt before each invocation of the merge resolution
program.
This is the default if the merge resolution program is
explicitly specified with the <code>--tool</code> option or with the
<code>merge.tool</code> configuration variable.</p>
</dd>
<dt> --prompt </dt>
<dd>
<p>Prompt before each invocation of the merge resolution program
to give the user a chance to skip the path.</p>
</dd>
<dt> -g </dt>
<dt> --gui </dt>
<dd>
<p>When <em>git-mergetool</em> is invoked with the <code>-g</code> or <code>--gui</code> option
the default merge tool will be read from the configured
<code>merge.guitool</code> variable instead of <code>merge.tool</code>. If
<code>merge.guitool</code> is not set, we will fallback to the tool
configured under <code>merge.tool</code>.</p>
</dd>
<dt> --no-gui </dt>
<dd>
<p>This overrides a previous <code>-g</code> or <code>--gui</code> setting and reads the
default merge tool will be read from the configured <code>merge.tool</code>
variable.</p>
</dd>
<dt> -O&lt;orderfile&gt; </dt>
<dd>
<p>Process files in the order specified in the
&lt;orderfile&gt;, which has one shell glob pattern per line.
This overrides the <code>diff.orderFile</code> configuration variable
(see <a href="/docs/git-config">git-config[1]</a>).  To cancel <code>diff.orderFile</code>,
use <code>-O/dev/null</code>.</p>
</dd>
</dl>




<h2>CONFIGURATION</h2>


<dl>
<dt> mergetool.&lt;tool&gt;.path </dt>
<dd>
<p>Override the path for the given tool.  This is useful in case
your tool is not in the PATH.</p>
</dd>
<dt> mergetool.&lt;tool&gt;.cmd </dt>
<dd>
<p>Specify the command to invoke the specified merge tool.  The
specified command is evaluated in shell with the following
variables available: <em>BASE</em> is the name of a temporary file
containing the common base of the files to be merged, if available;
<em>LOCAL</em> is the name of a temporary file containing the contents of
the file on the current branch; <em>REMOTE</em> is the name of a temporary
file containing the contents of the file from the branch being
merged; <em>MERGED</em> contains the name of the file to which the merge
tool should write the results of a successful merge.</p>
</dd>
<dt> mergetool.&lt;tool&gt;.hideResolved </dt>
<dd>
<p>Allows the user to override the global <code>mergetool.hideResolved</code> value
for a specific tool. See <code>mergetool.hideResolved</code> for the full
description.</p>
</dd>
<dt> mergetool.&lt;tool&gt;.trustExitCode </dt>
<dd>
<p>For a custom merge command, specify whether the exit code of
the merge command can be used to determine whether the merge was
successful.  If this is not set to true then the merge target file
timestamp is checked and the merge assumed to have been successful
if the file has been updated, otherwise the user is prompted to
indicate the success of the merge.</p>
</dd>
<dt> mergetool.meld.hasOutput </dt>
<dd>
<p>Older versions of <code>meld</code> do not support the <code>--output</code> option.
Git will attempt to detect whether <code>meld</code> supports <code>--output</code>
by inspecting the output of <code>meld --help</code>.  Configuring
<code>mergetool.meld.hasOutput</code> will make Git skip these checks and
use the configured value instead.  Setting <code>mergetool.meld.hasOutput</code>
to <code>true</code> tells Git to unconditionally use the <code>--output</code> option,
and <code>false</code> avoids using <code>--output</code>.</p>
</dd>
<dt> mergetool.meld.useAutoMerge </dt>
<dd>
<p>When the <code>--auto-merge</code> is given, meld will merge all non-conflicting
parts automatically, highlight the conflicting parts and wait for
user decision.  Setting <code>mergetool.meld.useAutoMerge</code> to <code>true</code> tells
Git to unconditionally use the <code>--auto-merge</code> option with <code>meld</code>.
Setting this value to <code>auto</code> makes git detect whether <code>--auto-merge</code>
is supported and will only use <code>--auto-merge</code> when available.  A
value of <code>false</code> avoids using <code>--auto-merge</code> altogether, and is the
default value.</p>
</dd>
<dt> mergetool.hideResolved </dt>
<dd>
<p>During a merge Git will automatically resolve as many conflicts as
possible and write the <em>MERGED</em> file containing conflict markers around
any conflicts that it cannot resolve; <em>LOCAL</em> and <em>REMOTE</em> normally
represent the versions of the file from before Git’s conflict
resolution. This flag causes <em>LOCAL</em> and <em>REMOTE</em> to be overwriten so
that only the unresolved conflicts are presented to the merge tool. Can
be configured per-tool via the <code>mergetool.&lt;tool&gt;.hideResolved</code>
configuration variable. Defaults to <code>false</code>.</p>
</dd>
<dt> mergetool.keepBackup </dt>
<dd>
<p>After performing a merge, the original file with conflict markers
can be saved as a file with a <code>.orig</code> extension.  If this variable
is set to <code>false</code> then this file is not preserved.  Defaults to
<code>true</code> (i.e. keep the backup files).</p>
</dd>
<dt> mergetool.keepTemporaries </dt>
<dd>
<p>When invoking a custom merge tool, Git uses a set of temporary
files to pass to the tool. If the tool returns an error and this
variable is set to <code>true</code>, then these temporary files will be
preserved, otherwise they will be removed after the tool has
exited. Defaults to <code>false</code>.</p>
</dd>
<dt> mergetool.writeToTemp </dt>
<dd>
<p>Git writes temporary <em>BASE</em>, <em>LOCAL</em>, and <em>REMOTE</em> versions of
conflicting files in the worktree by default.  Git will attempt
to use a temporary directory for these files when set <code>true</code>.
Defaults to <code>false</code>.</p>
</dd>
<dt> mergetool.prompt </dt>
<dd>
<p>Prompt before each invocation of the merge resolution program.</p>
</dd>
</dl>




<h2>TEMPORARY FILES</h2>


<p><code>git mergetool</code> creates <code>*.orig</code> backup files while resolving merges.
These are safe to remove once a file has been merged and its
<code>git mergetool</code> session has completed.</p>


<p>Setting the <code>mergetool.keepBackup</code> configuration variable to <code>false</code>
causes <code>git mergetool</code> to automatically remove the backup as files
are successfully merged.</p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-log - Show commit logs</span></h2>




<h2><br>synopsis</h2>


<pre><em>git log</em> [&lt;options&gt;] [&lt;revision-range&gt;] [[--] &lt;path&gt;…<U+200B>]</pre>




<h2>description</h2>


<p>Shows the commit logs.</p>


<p>List commits that are reachable by following the <code>parent</code> links from the
given commit(s), but exclude commits that are reachable from the one(s)
given with a <em>^</em> in front of them.  The output is given in reverse
chronological order by default.</p>


<p>You can think of this as a set operation. Commits reachable from any of
the commits given on the command line form a set, and then commits reachable
from any of the ones given with <em>^</em> in front are subtracted from that
set.  The remaining commits are what comes out in the command’s output.
Various other options and paths parameters can be used to further limit the
result.</p>


<p>Thus, the following command:</p>



<pre>$ git log foo bar ^baz</pre>



<p>means "list all the commits which are reachable from <em>foo</em> or <em>bar</em>, but
not from <em>baz</em>".</p>


<p>A special notation "<em>&lt;commit1&gt;</em>..<em>&lt;commit2&gt;</em>" can be used as a
short-hand for "^<em>&lt;commit1&gt;</em> <em>&lt;commit2&gt;</em>". For example, either of
the following may be used interchangeably:</p>



<pre>$ git log origin..HEAD
$ git log HEAD ^origin</pre>



<p>Another special notation is "<em>&lt;commit1&gt;</em>…<U+200B><em>&lt;commit2&gt;</em>" which is useful
for merges.  The resulting set of commits is the symmetric difference
between the two operands.  The following two commands are equivalent:</p>



<pre>$ git log A B --not $(git merge-base --all A B)
$ git log A...B</pre>



<p>The command takes options applicable to the <a href="/docs/git-rev-list">git-rev-list[1]</a>
command to control what is shown and how, and options applicable to
the <a href="/docs/git-diff">git-diff[1]</a> command to control how the changes
each commit introduces are shown.</p>




<h2>options</h2>


<dl>
<dt> --follow </dt>
<dd>
<p>Continue listing the history of a file beyond renames
(works only for a single file).</p>
</dd>
<dt> --no-decorate </dt>
<dt> --decorate[=short|full|auto|no] </dt>
<dd>
<p>Print out the ref names of any commits that are shown. If <em>short</em> is
specified, the ref name prefixes <em>refs/heads/</em>, <em>refs/tags/</em> and
<em>refs/remotes/</em> will not be printed. If <em>full</em> is specified, the
full ref name (including prefix) will be printed. If <em>auto</em> is
specified, then if the output is going to a terminal, the ref names
are shown as if <em>short</em> were given, otherwise no ref names are
shown. The option <code>--decorate</code> is short-hand for <code>--decorate=short</code>.
Default to configuration value of <code>log.decorate</code> if configured,
otherwise, <code>auto</code>.</p>
</dd>
<dt> --decorate-refs=&lt;pattern&gt; </dt>
<dt> --decorate-refs-exclude=&lt;pattern&gt; </dt>
<dd>
<p>If no <code>--decorate-refs</code> is given, pretend as if all refs were
included.  For each candidate, do not use it for decoration if it
matches any patterns given to <code>--decorate-refs-exclude</code> or if it
doesn’t match any of the patterns given to <code>--decorate-refs</code>. The
<code>log.excludeDecoration</code> config option allows excluding refs from
the decorations, but an explicit <code>--decorate-refs</code> pattern will
override a match in <code>log.excludeDecoration</code>.</p>
</dd>
<dt> --source </dt>
<dd>
<p>Print out the ref name given on the command line by which each
commit was reached.</p>
</dd>
<dt> --[no-]mailmap </dt>
<dt> --[no-]use-mailmap </dt>
<dd>
<p>Use mailmap file to map author and committer names and email
addresses to canonical real names and email addresses. See
<a href="/docs/git-shortlog">git-shortlog[1]</a>.</p>
</dd>
<dt> --full-diff </dt>
<dd>
<p>Without this flag, <code>git log -p &lt;path&gt;...</code> shows commits that
touch the specified paths, and diffs about the same specified
paths.  With this, the full diff is shown for commits that touch
the specified paths; this means that "&lt;path&gt;…<U+200B>" limits only
commits, and doesn’t limit diff for those commits.</p>

<p>Note that this affects all diff-based output types, e.g. those
produced by <code>--stat</code>, etc.</p>

</dd>
<dt> --log-size </dt>
<dd>
<p>Include a line “log size &lt;number&gt;” in the output for each commit,
where &lt;number&gt; is the length of that commit’s message in bytes.
Intended to speed up tools that read log messages from <code>git log</code>
output by allowing them to allocate space in advance.</p>
</dd>
<dt> -L&lt;start&gt;,&lt;end&gt;:&lt;file&gt; </dt>
<dt> -L:&lt;funcname&gt;:&lt;file&gt; </dt>
<dd>
<p>Trace the evolution of the line range given by <em>&lt;start&gt;,&lt;end&gt;</em>,
or by the function name regex <em>&lt;funcname&gt;</em>, within the <em>&lt;file&gt;</em>. You may
not give any pathspec limiters.  This is currently limited to
a walk starting from a single revision, i.e., you may only
give zero or one positive revision arguments, and
<em>&lt;start&gt;</em> and <em>&lt;end&gt;</em> (or <em>&lt;funcname&gt;</em>) must exist in the starting revision.
You can specify this option more than once. Implies <code>--patch</code>.
Patch output can be suppressed using <code>--no-patch</code>, but other diff formats
(namely <code>--raw</code>, <code>--numstat</code>, <code>--shortstat</code>, <code>--dirstat</code>, <code>--summary</code>,
<code>--name-only</code>, <code>--name-status</code>, <code>--check</code>) are not currently implemented.</p>

<p><em>&lt;start&gt;</em> and <em>&lt;end&gt;</em> can take one of these forms:</p>


<ul>
<li>
<p>number</p>

<p>If <em>&lt;start&gt;</em> or <em>&lt;end&gt;</em> is a number, it specifies an
absolute line number (lines count from 1).</p>

</li>
<li>
<p><code>/regex/</code></p>

<p>This form will use the first line matching the given
POSIX regex. If <em>&lt;start&gt;</em> is a regex, it will search from the end of
the previous <code>-L</code> range, if any, otherwise from the start of file.
If <em>&lt;start&gt;</em> is <code>^/regex/</code>, it will search from the start of file.
If <em>&lt;end&gt;</em> is a regex, it will search
starting at the line given by <em>&lt;start&gt;</em>.</p>

</li>
<li>
<p>+offset or -offset</p>

<p>This is only valid for <em>&lt;end&gt;</em> and will specify a number
of lines before or after the line given by <em>&lt;start&gt;</em>.</p>

</li>
</ul>


<p>If <code>:&lt;funcname&gt;</code> is given in place of <em>&lt;start&gt;</em> and <em>&lt;end&gt;</em>, it is a
regular expression that denotes the range from the first funcname line
that matches <em>&lt;funcname&gt;</em>, up to the next funcname line. <code>:&lt;funcname&gt;</code>
searches from the end of the previous <code>-L</code> range, if any, otherwise
from the start of file. <code>^:&lt;funcname&gt;</code> searches from the start of
file. The function names are determined in the same way as <code>git diff</code>
works out patch hunk headers (see <em>Defining a custom hunk-header</em>
in <a href="/docs/gitattributes">gitattributes[5]</a>).</p>

</dd>
<dt> &lt;revision-range&gt; </dt>
<dd>
<p>Show only commits in the specified revision range.  When no
&lt;revision-range&gt; is specified, it defaults to <code>HEAD</code> (i.e. the
whole history leading to the current commit).  <code>origin..HEAD</code>
specifies all the commits reachable from the current commit
(i.e. <code>HEAD</code>), but not from <code>origin</code>. For a complete list of
ways to spell &lt;revision-range&gt;, see the <em>Specifying Ranges</em>
section of <a href="/docs/gitrevisions">gitrevisions[7]</a>.</p>
</dd>
<dt> [--] &lt;path&gt;…<U+200B> </dt>
<dd>
<p>Show only commits that are enough to explain how the files
that match the specified paths came to be.  See <em>History
Simplification</em> below for details and other simplification
modes.</p>

<p>Paths may need to be prefixed with <code>--</code> to separate them from
options or the revision range, when confusion arises.</p>

</dd>
</dl>


<h3>
Commit Limiting</h3>

<p>Besides specifying a range of commits that should be listed using the
special notations explained in the description, additional commit
limiting may be applied.</p>


<p>Using more options generally further limits the output (e.g.
<code>--since=&lt;date1&gt;</code> limits to commits newer than <code>&lt;date1&gt;</code>, and using it
with <code>--grep=&lt;pattern&gt;</code> further limits to commits whose log message
has a line that matches <code>&lt;pattern&gt;</code>), unless otherwise noted.</p>


<p>Note that these are applied before commit
ordering and formatting options, such as <code>--reverse</code>.</p>


<dl>
<dt> -&lt;number&gt; </dt>
<dt> -n &lt;number&gt; </dt>
<dt> --max-count=&lt;number&gt; </dt>
<dd>
<p>Limit the number of commits to output.</p>
</dd>
<dt> --skip=&lt;number&gt; </dt>
<dd>
<p>Skip <em>number</em> commits before starting to show the commit output.</p>
</dd>
<dt> --since=&lt;date&gt; </dt>
<dt> --after=&lt;date&gt; </dt>
<dd>
<p>Show commits more recent than a specific date.</p>
</dd>
<dt> --until=&lt;date&gt; </dt>
<dt> --before=&lt;date&gt; </dt>
<dd>
<p>Show commits older than a specific date.</p>
</dd>
<dt> --author=&lt;pattern&gt; </dt>
<dt> --committer=&lt;pattern&gt; </dt>
<dd>
<p>Limit the commits output to ones with author/committer
header lines that match the specified pattern (regular
expression).  With more than one <code>--author=&lt;pattern&gt;</code>,
commits whose author matches any of the given patterns are
chosen (similarly for multiple <code>--committer=&lt;pattern&gt;</code>).</p>
</dd>
<dt> --grep-reflog=&lt;pattern&gt; </dt>
<dd>
<p>Limit the commits output to ones with reflog entries that
match the specified pattern (regular expression). With
more than one <code>--grep-reflog</code>, commits whose reflog message
matches any of the given patterns are chosen.  It is an
error to use this option unless <code>--walk-reflogs</code> is in use.</p>
</dd>
<dt> --grep=&lt;pattern&gt; </dt>
<dd>
<p>Limit the commits output to ones with log message that
matches the specified pattern (regular expression).  With
more than one <code>--grep=&lt;pattern&gt;</code>, commits whose message
matches any of the given patterns are chosen (but see
<code>--all-match</code>).</p>

<p>When <code>--notes</code> is in effect, the message from the notes is
matched as if it were part of the log message.</p>

</dd>
<dt> --all-match </dt>
<dd>
<p>Limit the commits output to ones that match all given <code>--grep</code>,
instead of ones that match at least one.</p>
</dd>
<dt> --invert-grep </dt>
<dd>
<p>Limit the commits output to ones with log message that do not
match the pattern specified with <code>--grep=&lt;pattern&gt;</code>.</p>
</dd>
<dt> -i </dt>
<dt> --regexp-ignore-case </dt>
<dd>
<p>Match the regular expression limiting patterns without regard to letter
case.</p>
</dd>
<dt> --basic-regexp </dt>
<dd>
<p>Consider the limiting patterns to be basic regular expressions;
this is the default.</p>
</dd>
<dt> -E </dt>
<dt> --extended-regexp </dt>
<dd>
<p>Consider the limiting patterns to be extended regular expressions
instead of the default basic regular expressions.</p>
</dd>
<dt> -F </dt>
<dt> --fixed-strings </dt>
<dd>
<p>Consider the limiting patterns to be fixed strings (don’t interpret
pattern as a regular expression).</p>
</dd>
<dt> -P </dt>
<dt> --perl-regexp </dt>
<dd>
<p>Consider the limiting patterns to be Perl-compatible regular
expressions.</p>

<p>Support for these types of regular expressions is an optional
compile-time dependency. If Git wasn’t compiled with support for them
providing this option will cause it to die.</p>

</dd>
<dt> --remove-empty </dt>
<dd>
<p>Stop when a given path disappears from the tree.</p>
</dd>
<dt> --merges </dt>
<dd>
<p>Print only merge commits. This is exactly the same as <code>--min-parents=2</code>.</p>
</dd>
<dt> --no-merges </dt>
<dd>
<p>Do not print commits with more than one parent. This is
exactly the same as <code>--max-parents=1</code>.</p>
</dd>
<dt> --min-parents=&lt;number&gt; </dt>
<dt> --max-parents=&lt;number&gt; </dt>
<dt> --no-min-parents </dt>
<dt> --no-max-parents </dt>
<dd>
<p>Show only commits which have at least (or at most) that many parent
commits. In particular, <code>--max-parents=1</code> is the same as <code>--no-merges</code>,
<code>--min-parents=2</code> is the same as <code>--merges</code>.  <code>--max-parents=0</code>
gives all root commits and <code>--min-parents=3</code> all octopus merges.</p>

<p><code>--no-min-parents</code> and <code>--no-max-parents</code> reset these limits (to no limit)
again.  Equivalent forms are <code>--min-parents=0</code> (any commit has 0 or more
parents) and <code>--max-parents=-1</code> (negative numbers denote no upper limit).</p>

</dd>
<dt> --first-parent </dt>
<dd>
<p>Follow only the first parent commit upon seeing a merge
commit.  This option can give a better overview when
viewing the evolution of a particular topic branch,
because merges into a topic branch tend to be only about
adjusting to updated upstream from time to time, and
this option allows you to ignore the individual commits
brought in to your history by such a merge.</p>

<p>This option also changes default diff format for merge commits
to <code>first-parent</code>, see <code>--diff-merges=first-parent</code> for details.</p>

</dd>
<dt> --not </dt>
<dd>
<p>Reverses the meaning of the <em>^</em> prefix (or lack thereof)
for all following revision specifiers, up to the next <code>--not</code>.</p>
</dd>
<dt> --all </dt>
<dd>
<p>Pretend as if all the refs in <code>refs/</code>, along with <code>HEAD</code>, are
listed on the command line as <em>&lt;commit&gt;</em>.</p>
</dd>
<dt> --branches[=&lt;pattern&gt;] </dt>
<dd>
<p>Pretend as if all the refs in <code>refs/heads</code> are listed
on the command line as <em>&lt;commit&gt;</em>. If <em>&lt;pattern&gt;</em> is given, limit
branches to ones matching given shell glob. If pattern lacks <em>?</em>,
<em>*</em>, or <em>[</em>, <em>/*</em> at the end is implied.</p>
</dd>
<dt> --tags[=&lt;pattern&gt;] </dt>
<dd>
<p>Pretend as if all the refs in <code>refs/tags</code> are listed
on the command line as <em>&lt;commit&gt;</em>. If <em>&lt;pattern&gt;</em> is given, limit
tags to ones matching given shell glob. If pattern lacks <em>?</em>, <em>*</em>,
or <em>[</em>, <em>/*</em> at the end is implied.</p>
</dd>
<dt> --remotes[=&lt;pattern&gt;] </dt>
<dd>
<p>Pretend as if all the refs in <code>refs/remotes</code> are listed
on the command line as <em>&lt;commit&gt;</em>. If <em>&lt;pattern&gt;</em> is given, limit
remote-tracking branches to ones matching given shell glob.
If pattern lacks <em>?</em>, <em>*</em>, or <em>[</em>, <em>/*</em> at the end is implied.</p>
</dd>
<dt> --glob=&lt;glob-pattern&gt; </dt>
<dd>
<p>Pretend as if all the refs matching shell glob <em>&lt;glob-pattern&gt;</em>
are listed on the command line as <em>&lt;commit&gt;</em>. Leading <em>refs/</em>,
is automatically prepended if missing. If pattern lacks <em>?</em>, <em>*</em>,
or <em>[</em>, <em>/*</em> at the end is implied.</p>
</dd>
<dt> --exclude=&lt;glob-pattern&gt; </dt>
<dd>
<p>Do not include refs matching <em>&lt;glob-pattern&gt;</em> that the next <code>--all</code>,
<code>--branches</code>, <code>--tags</code>, <code>--remotes</code>, or <code>--glob</code> would otherwise
consider. Repetitions of this option accumulate exclusion patterns
up to the next <code>--all</code>, <code>--branches</code>, <code>--tags</code>, <code>--remotes</code>, or
<code>--glob</code> option (other options or arguments do not clear
accumulated patterns).</p>

<p>The patterns given should not begin with <code>refs/heads</code>, <code>refs/tags</code>, or
<code>refs/remotes</code> when applied to <code>--branches</code>, <code>--tags</code>, or <code>--remotes</code>,
respectively, and they must begin with <code>refs/</code> when applied to <code>--glob</code>
or <code>--all</code>. If a trailing <em>/*</em> is intended, it must be given
explicitly.</p>

</dd>
<dt> --reflog </dt>
<dd>
<p>Pretend as if all objects mentioned by reflogs are listed on the
command line as <code>&lt;commit&gt;</code>.</p>
</dd>
<dt> --alternate-refs </dt>
<dd>
<p>Pretend as if all objects mentioned as ref tips of alternate
repositories were listed on the command line. An alternate
repository is any repository whose object directory is specified
in <code>objects/info/alternates</code>.  The set of included objects may
be modified by <code>core.alternateRefsCommand</code>, etc. See
<a href="/docs/git-config">git-config[1]</a>.</p>
</dd>
<dt> --single-worktree </dt>
<dd>
<p>By default, all working trees will be examined by the
following options when there are more than one (see
<a href="/docs/git-worktree">git-worktree[1]</a>): <code>--all</code>, <code>--reflog</code> and
<code>--indexed-objects</code>.
This option forces them to examine the current working tree
only.</p>
</dd>
<dt> --ignore-missing </dt>
<dd>
<p>Upon seeing an invalid object name in the input, pretend as if
the bad input was not given.</p>
</dd>
<dt> --bisect </dt>
<dd>
<p>Pretend as if the bad bisection ref <code>refs/bisect/bad</code>
was listed and as if it was followed by <code>--not</code> and the good
bisection refs <code>refs/bisect/good-*</code> on the command
line.</p>
</dd>
<dt> --stdin </dt>
<dd>
<p>In addition to the <em>&lt;commit&gt;</em> listed on the command
line, read them from the standard input. If a <code>--</code> separator is
seen, stop reading commits and start reading paths to limit the
result.</p>
</dd>
<dt> --cherry-mark </dt>
<dd>
<p>Like <code>--cherry-pick</code> (see below) but mark equivalent commits
with <code>=</code> rather than omitting them, and inequivalent ones with <code>+</code>.</p>
</dd>
<dt> --cherry-pick </dt>
<dd>
<p>Omit any commit that introduces the same change as
another commit on the “other side” when the set of
commits are limited with symmetric difference.</p>

<p>For example, if you have two branches, <code>A</code> and <code>B</code>, a usual way
to list all commits on only one side of them is with
<code>--left-right</code> (see the example below in the description of
the <code>--left-right</code> option). However, it shows the commits that were
cherry-picked from the other branch (for example, “3rd on b” may be
cherry-picked from branch A). With this option, such pairs of commits are
excluded from the output.</p>

</dd>
<dt> --left-only </dt>
<dt> --right-only </dt>
<dd>
<p>List only commits on the respective side of a symmetric difference,
i.e. only those which would be marked <code>&lt;</code> resp. <code>&gt;</code> by
<code>--left-right</code>.</p>

<p>For example, <code>--cherry-pick --right-only A...B</code> omits those
commits from <code>B</code> which are in <code>A</code> or are patch-equivalent to a commit in
<code>A</code>. In other words, this lists the <code>+</code> commits from <code>git cherry A B</code>.
More precisely, <code>--cherry-pick --right-only --no-merges</code> gives the exact
list.</p>

</dd>
<dt> --cherry </dt>
<dd>
<p>A synonym for <code>--right-only --cherry-mark --no-merges</code>; useful to
limit the output to the commits on our side and mark those that
have been applied to the other side of a forked history with
<code>git log --cherry upstream...mybranch</code>, similar to
<code>git cherry upstream mybranch</code>.</p>
</dd>
<dt> -g </dt>
<dt> --walk-reflogs </dt>
<dd>
<p>Instead of walking the commit ancestry chain, walk
reflog entries from the most recent one to older ones.
When this option is used you cannot specify commits to
exclude (that is, <em>^commit</em>, <em>commit1..commit2</em>,
and <em>commit1...commit2</em> notations cannot be used).</p>

<p>With <code>--pretty</code> format other than <code>oneline</code> and <code>reference</code> (for obvious reasons),
this causes the output to have two extra lines of information
taken from the reflog.  The reflog designator in the output may be shown
as <code>ref@{Nth}</code> (where <code>Nth</code> is the reverse-chronological index in the
reflog) or as <code>ref@{timestamp}</code> (with the timestamp for that entry),
depending on a few rules:</p>




<ol>
<li>
<p>If the starting point is specified as <code>ref@{Nth}</code>, show the index
format.</p>
</li>
<li>
<p>If the starting point was specified as <code>ref@{now}</code>, show the
timestamp format.</p>
</li>
<li>
<p>If neither was used, but <code>--date</code> was given on the command line, show
the timestamp in the format requested by <code>--date</code>.</p>
</li>
<li>
<p>Otherwise, show the index format.</p>
</li>
</ol>




<p>Under <code>--pretty=oneline</code>, the commit message is
prefixed with this information on the same line.
This option cannot be combined with <code>--reverse</code>.
See also <a href="/docs/git-reflog">git-reflog[1]</a>.</p>


<p>Under <code>--pretty=reference</code>, this information will not be shown at all.</p>

</dd>
<dt> --merge </dt>
<dd>
<p>After a failed merge, show refs that touch files having a
conflict and don’t exist on all heads to merge.</p>
</dd>
<dt> --boundary </dt>
<dd>
<p>Output excluded boundary commits. Boundary commits are
prefixed with <code>-</code>.</p>
</dd>
</dl>



<h3>
History Simplification</h3>

<p>Sometimes you are only interested in parts of the history, for example the
commits modifying a particular &lt;path&gt;. But there are two parts of
<em>History Simplification</em>, one part is selecting the commits and the other
is how to do it, as there are various strategies to simplify the history.</p>


<p>The following options select the commits to be shown:</p>


<dl>
<dt> &lt;paths&gt; </dt>
<dd>
<p>Commits modifying the given &lt;paths&gt; are selected.</p>
</dd>
<dt> --simplify-by-decoration </dt>
<dd>
<p>Commits that are referred by some branch or tag are selected.</p>
</dd>
</dl>


<p>Note that extra commits can be shown to give a meaningful history.</p>


<p>The following options affect the way the simplification is performed:</p>


<dl>
<dt> Default mode </dt>
<dd>
<p>Simplifies the history to the simplest history explaining the
final state of the tree. Simplest because it prunes some side
branches if the end result is the same (i.e. merging branches
with the same content)</p>
</dd>
<dt> --show-pulls </dt>
<dd>
<p>Include all commits from the default mode, but also any merge
commits that are not TREESAME to the first parent but are
TREESAME to a later parent. This mode is helpful for showing
the merge commits that "first introduced" a change to a branch.</p>
</dd>
<dt> --full-history </dt>
<dd>
<p>Same as the default mode, but does not prune some history.</p>
</dd>
<dt> --dense </dt>
<dd>
<p>Only the selected commits are shown, plus some to have a
meaningful history.</p>
</dd>
<dt> --sparse </dt>
<dd>
<p>All commits in the simplified history are shown.</p>
</dd>
<dt> --simplify-merges </dt>
<dd>
<p>Additional option to <code>--full-history</code> to remove some needless
merges from the resulting history, as there are no selected
commits contributing to this merge.</p>
</dd>
<dt> --ancestry-path </dt>
<dd>
<p>When given a range of commits to display (e.g. <em>commit1..commit2</em>
or <em>commit2 ^commit1</em>), only display commits that exist
directly on the ancestry chain between the <em>commit1</em> and
<em>commit2</em>, i.e. commits that are both descendants of <em>commit1</em>,
and ancestors of <em>commit2</em>.</p>
</dd>
</dl>


<p>A more detailed explanation follows.</p>


<p>Suppose you specified <code>foo</code> as the &lt;paths&gt;.  We shall call commits
that modify <code>foo</code> !TREESAME, and the rest TREESAME.  (In a diff
filtered for <code>foo</code>, they look different and equal, respectively.)</p>


<p>In the following, we will always refer to the same example history to
illustrate the differences between simplification settings.  We assume
that you are filtering for a file <code>foo</code> in this commit graph:</p>



<pre>	  .-A---M---N---O---P---Q
	 /     /   /   /   /   /
	I     B   C   D   E   Y
	 \   /   /   /   /   /
	  `-------------'   X</pre>



<p>The horizontal line of history A---Q is taken to be the first parent of
each merge.  The commits are:</p>


<ul>
<li>
<p><code>I</code> is the initial commit, in which <code>foo</code> exists with contents
“asdf”, and a file <code>quux</code> exists with contents “quux”. Initial
commits are compared to an empty tree, so <code>I</code> is !TREESAME.</p>
</li>
<li>
<p>In <code>A</code>, <code>foo</code> contains just “foo”.</p>
</li>
<li>
<p><code>B</code> contains the same change as <code>A</code>.  Its merge <code>M</code> is trivial and
hence TREESAME to all parents.</p>
</li>
<li>
<p><code>C</code> does not change <code>foo</code>, but its merge <code>N</code> changes it to “foobar”,
so it is not TREESAME to any parent.</p>
</li>
<li>
<p><code>D</code> sets <code>foo</code> to “baz”. Its merge <code>O</code> combines the strings from
<code>N</code> and <code>D</code> to “foobarbaz”; i.e., it is not TREESAME to any parent.</p>
</li>
<li>
<p><code>E</code> changes <code>quux</code> to “xyzzy”, and its merge <code>P</code> combines the
strings to “quux xyzzy”. <code>P</code> is TREESAME to <code>O</code>, but not to <code>E</code>.</p>
</li>
<li>
<p><code>X</code> is an independent root commit that added a new file <code>side</code>, and <code>Y</code>
modified it. <code>Y</code> is TREESAME to <code>X</code>. Its merge <code>Q</code> added <code>side</code> to <code>P</code>, and
<code>Q</code> is TREESAME to <code>P</code>, but not to <code>Y</code>.</p>
</li>
</ul>


<p><code>rev-list</code> walks backwards through history, including or excluding
commits based on whether <code>--full-history</code> and/or parent rewriting
(via <code>--parents</code> or <code>--children</code>) are used. The following settings
are available.</p>


<dl>
<dt> Default mode </dt>
<dd>
<p>Commits are included if they are not TREESAME to any parent
(though this can be changed, see <code>--sparse</code> below).  If the
commit was a merge, and it was TREESAME to one parent, follow
only that parent.  (Even if there are several TREESAME
parents, follow only one of them.)  Otherwise, follow all
parents.</p>

<p>This results in:</p>



<pre>	  .-A---N---O
	 /     /   /
	I---------D</pre>



<p>Note how the rule to only follow the TREESAME parent, if one is
available, removed <code>B</code> from consideration entirely.  <code>C</code> was
considered via <code>N</code>, but is TREESAME.  Root commits are compared to an
empty tree, so <code>I</code> is !TREESAME.</p>


<p>Parent/child relations are only visible with <code>--parents</code>, but that does
not affect the commits selected in default mode, so we have shown the
parent lines.</p>

</dd>
<dt> --full-history without parent rewriting </dt>
<dd>
<p>This mode differs from the default in one point: always follow
all parents of a merge, even if it is TREESAME to one of them.
Even if more than one side of the merge has commits that are
included, this does not imply that the merge itself is!  In
the example, we get</p>


<pre>	I  A  B  N  D  O  P  Q</pre>



<p><code>M</code> was excluded because it is TREESAME to both parents.  <code>E</code>,
<code>C</code> and <code>B</code> were all walked, but only <code>B</code> was !TREESAME, so the others
do not appear.</p>


<p>Note that without parent rewriting, it is not really possible to talk
about the parent/child relationships between the commits, so we show
them disconnected.</p>

</dd>
<dt> --full-history with parent rewriting </dt>
<dd>
<p>Ordinary commits are only included if they are !TREESAME
(though this can be changed, see <code>--sparse</code> below).</p>

<p>Merges are always included.  However, their parent list is rewritten:
Along each parent, prune away commits that are not included
themselves.  This results in</p>



<pre>	  .-A---M---N---O---P---Q
	 /     /   /   /   /
	I     B   /   D   /
	 \   /   /   /   /
	  `-------------'</pre>



<p>Compare to <code>--full-history</code> without rewriting above.  Note that <code>E</code>
was pruned away because it is TREESAME, but the parent list of P was
rewritten to contain <code>E</code>'s parent <code>I</code>.  The same happened for <code>C</code> and
<code>N</code>, and <code>X</code>, <code>Y</code> and <code>Q</code>.</p>

</dd>
</dl>


<p>In addition to the above settings, you can change whether TREESAME
affects inclusion:</p>


<dl>
<dt> --dense </dt>
<dd>
<p>Commits that are walked are included if they are not TREESAME
to any parent.</p>
</dd>
<dt> --sparse </dt>
<dd>
<p>All commits that are walked are included.</p>

<p>Note that without <code>--full-history</code>, this still simplifies merges: if
one of the parents is TREESAME, we follow only that one, so the other
sides of the merge are never walked.</p>

</dd>
<dt> --simplify-merges </dt>
<dd>
<p>First, build a history graph in the same way that
<code>--full-history</code> with parent rewriting does (see above).</p>

<p>Then simplify each commit <code>C</code> to its replacement <code>C'</code> in the final
history according to the following rules:</p>




<ul>
<li>
<p>Set <code>C'</code> to <code>C</code>.</p>
</li>
<li>
<p>Replace each parent <code>P</code> of <code>C'</code> with its simplification <code>P'</code>.  In
the process, drop parents that are ancestors of other parents or that are
root commits TREESAME to an empty tree, and remove duplicates, but take care
to never drop all parents that we are TREESAME to.</p>
</li>
<li>
<p>If after this parent rewriting, <code>C'</code> is a root or merge commit (has
zero or &gt;1 parents), a boundary commit, or !TREESAME, it remains.
Otherwise, it is replaced with its only parent.</p>
</li>
</ul>




<p>The effect of this is best shown by way of comparing to
<code>--full-history</code> with parent rewriting.  The example turns into:</p>



<pre>	  .-A---M---N---O
	 /     /       /
	I     B       D
	 \   /       /
	  `---------'</pre>



<p>Note the major differences in <code>N</code>, <code>P</code>, and <code>Q</code> over <code>--full-history</code>:</p>




<ul>
<li>
<p><code>N</code>'s parent list had <code>I</code> removed, because it is an ancestor of the
other parent <code>M</code>.  Still, <code>N</code> remained because it is !TREESAME.</p>
</li>
<li>
<p><code>P</code>'s parent list similarly had <code>I</code> removed.  <code>P</code> was then
removed completely, because it had one parent and is TREESAME.</p>
</li>
<li>
<p><code>Q</code>'s parent list had <code>Y</code> simplified to <code>X</code>. <code>X</code> was then removed, because it
was a TREESAME root. <code>Q</code> was then removed completely, because it had one
parent and is TREESAME.</p>
</li>
</ul>



</dd>
</dl>


<p>There is another simplification mode available:</p>


<dl>
<dt> --ancestry-path </dt>
<dd>
<p>Limit the displayed commits to those directly on the ancestry
chain between the “from” and “to” commits in the given commit
range. I.e. only display commits that are ancestor of the “to”
commit and descendants of the “from” commit.</p>

<p>As an example use case, consider the following commit history:</p>



<pre>	    D---E-------F
	   /     \       \
	  B---C---G---H---I---J
	 /                     \
	A-------K---------------L--M</pre>



<p>A regular <em>D..M</em> computes the set of commits that are ancestors of <code>M</code>,
but excludes the ones that are ancestors of <code>D</code>. This is useful to see
what happened to the history leading to <code>M</code> since <code>D</code>, in the sense
that “what does <code>M</code> have that did not exist in <code>D</code>”. The result in this
example would be all the commits, except <code>A</code> and <code>B</code> (and <code>D</code> itself,
of course).</p>


<p>When we want to find out what commits in <code>M</code> are contaminated with the
bug introduced by <code>D</code> and need fixing, however, we might want to view
only the subset of <em>D..M</em> that are actually descendants of <code>D</code>, i.e.
excluding <code>C</code> and <code>K</code>. This is exactly what the <code>--ancestry-path</code>
option does. Applied to the <em>D..M</em> range, it results in:</p>



<pre>		E-------F
		 \       \
		  G---H---I---J
			       \
				L--M</pre>


</dd>
</dl>


<p>Before discussing another option, <code>--show-pulls</code>, we need to
create a new example history.</p>


<p>A common problem users face when looking at simplified history is that a
commit they know changed a file somehow does not appear in the file’s
simplified history. Let’s demonstrate a new example and show how options
such as <code>--full-history</code> and <code>--simplify-merges</code> works in that case:</p>



<pre>	  .-A---M-----C--N---O---P
	 /     / \  \  \/   /   /
	I     B   \  R-'`-Z'   /
	 \   /     \/         /
	  \ /      /\        /
	   `---X--'  `---Y--'</pre>



<p>For this example, suppose <code>I</code> created <code>file.txt</code> which was modified by
<code>A</code>, <code>B</code>, and <code>X</code> in different ways. The single-parent commits <code>C</code>, <code>Z</code>,
and <code>Y</code> do not change <code>file.txt</code>. The merge commit <code>M</code> was created by
resolving the merge conflict to include both changes from <code>A</code> and <code>B</code>
and hence is not TREESAME to either. The merge commit <code>R</code>, however, was
created by ignoring the contents of <code>file.txt</code> at <code>M</code> and taking only
the contents of <code>file.txt</code> at <code>X</code>. Hence, <code>R</code> is TREESAME to <code>X</code> but not
<code>M</code>. Finally, the natural merge resolution to create <code>N</code> is to take the
contents of <code>file.txt</code> at <code>R</code>, so <code>N</code> is TREESAME to <code>R</code> but not <code>C</code>.
The merge commits <code>O</code> and <code>P</code> are TREESAME to their first parents, but
not to their second parents, <code>Z</code> and <code>Y</code> respectively.</p>


<p>When using the default mode, <code>N</code> and <code>R</code> both have a TREESAME parent, so
those edges are walked and the others are ignored. The resulting history
graph is:</p>



<pre>	I---X</pre>



<p>When using <code>--full-history</code>, Git walks every edge. This will discover
the commits <code>A</code> and <code>B</code> and the merge <code>M</code>, but also will reveal the
merge commits <code>O</code> and <code>P</code>. With parent rewriting, the resulting graph is:</p>



<pre>	  .-A---M--------N---O---P
	 /     / \  \  \/   /   /
	I     B   \  R-'`--'   /
	 \   /     \/         /
	  \ /      /\        /
	   `---X--'  `------'</pre>



<p>Here, the merge commits <code>O</code> and <code>P</code> contribute extra noise, as they did
not actually contribute a change to <code>file.txt</code>. They only merged a topic
that was based on an older version of <code>file.txt</code>. This is a common
issue in repositories using a workflow where many contributors work in
parallel and merge their topic branches along a single trunk: manu
unrelated merges appear in the <code>--full-history</code> results.</p>


<p>When using the <code>--simplify-merges</code> option, the commits <code>O</code> and <code>P</code>
disappear from the results. This is because the rewritten second parents
of <code>O</code> and <code>P</code> are reachable from their first parents. Those edges are
removed and then the commits look like single-parent commits that are
TREESAME to their parent. This also happens to the commit <code>N</code>, resulting
in a history view as follows:</p>



<pre>	  .-A---M--.
	 /     /    \
	I     B      R
	 \   /      /
	  \ /      /
	   `---X--'</pre>



<p>In this view, we see all of the important single-parent changes from
<code>A</code>, <code>B</code>, and <code>X</code>. We also see the carefully-resolved merge <code>M</code> and the
not-so-carefully-resolved merge <code>R</code>. This is usually enough information
to determine why the commits <code>A</code> and <code>B</code> "disappeared" from history in
the default view. However, there are a few issues with this approach.</p>


<p>The first issue is performance. Unlike any previous option, the
<code>--simplify-merges</code> option requires walking the entire commit history
before returning a single result. This can make the option difficult to
use for very large repositories.</p>


<p>The second issue is one of auditing. When many contributors are working
on the same repository, it is important which merge commits introduced
a change into an important branch. The problematic merge <code>R</code> above is
not likely to be the merge commit that was used to merge into an
important branch. Instead, the merge <code>N</code> was used to merge <code>R</code> and <code>X</code>
into the important branch. This commit may have information about why
the change <code>X</code> came to override the changes from <code>A</code> and <code>B</code> in its
commit message.</p>


<dl>
<dt> --show-pulls </dt>
<dd>
<p>In addition to the commits shown in the default history, show
each merge commit that is not TREESAME to its first parent but
is TREESAME to a later parent.</p>

<p>When a merge commit is included by <code>--show-pulls</code>, the merge is
treated as if it "pulled" the change from another branch. When using
<code>--show-pulls</code> on this example (and no other options) the resulting
graph is:</p>



<pre>	I---X---R---N</pre>



<p>Here, the merge commits <code>R</code> and <code>N</code> are included because they pulled
the commits <code>X</code> and <code>R</code> into the base branch, respectively. These
merges are the reason the commits <code>A</code> and <code>B</code> do not appear in the
default history.</p>


<p>When <code>--show-pulls</code> is paired with <code>--simplify-merges</code>, the
graph includes all of the necessary information:</p>



<pre>	  .-A---M--.   N
	 /     /    \ /
	I     B      R
	 \   /      /
	  \ /      /
	   `---X--'</pre>



<p>Notice that since <code>M</code> is reachable from <code>R</code>, the edge from <code>N</code> to <code>M</code>
was simplified away. However, <code>N</code> still appears in the history as an
important commit because it "pulled" the change <code>R</code> into the main
branch.</p>

</dd>
</dl>


<p>The <code>--simplify-by-decoration</code> option allows you to view only the
big picture of the topology of the history, by omitting commits
that are not referenced by tags.  Commits are marked as !TREESAME
(in other words, kept after history simplification rules described
above) if (1) they are referenced by tags, or (2) they change the
contents of the paths given on the command line.  All other
commits are marked as TREESAME (subject to be simplified away).</p>



<h3>
Commit Ordering</h3>

<p>By default, the commits are shown in reverse chronological order.</p>


<dl>
<dt> --date-order </dt>
<dd>
<p>Show no parents before all of its children are shown, but
otherwise show commits in the commit timestamp order.</p>
</dd>
<dt> --author-date-order </dt>
<dd>
<p>Show no parents before all of its children are shown, but
otherwise show commits in the author timestamp order.</p>
</dd>
<dt> --topo-order </dt>
<dd>
<p>Show no parents before all of its children are shown, and
avoid showing commits on multiple lines of history
intermixed.</p>

<p>For example, in a commit history like this:</p>



<pre>    ---1----2----4----7
	\	       \
	 3----5----6----8---</pre>



<p>where the numbers denote the order of commit timestamps, <code>git
rev-list</code> and friends with <code>--date-order</code> show the commits in the
timestamp order: 8 7 6 5 4 3 2 1.</p>


<p>With <code>--topo-order</code>, they would show 8 6 5 3 7 4 2 1 (or 8 7 4 2 6 5
3 1); some older commits are shown before newer ones in order to
avoid showing the commits from two parallel development track mixed
together.</p>

</dd>
<dt> --reverse </dt>
<dd>
<p>Output the commits chosen to be shown (see Commit Limiting
section above) in reverse order. Cannot be combined with
<code>--walk-reflogs</code>.</p>
</dd>
</dl>



<h3>
Object Traversal</h3>

<p>These options are mostly targeted for packing of Git repositories.</p>


<dl>
<dt> --no-walk[=(sorted|unsorted)] </dt>
<dd>
<p>Only show the given commits, but do not traverse their ancestors.
This has no effect if a range is specified. If the argument
<code>unsorted</code> is given, the commits are shown in the order they were
given on the command line. Otherwise (if <code>sorted</code> or no argument
was given), the commits are shown in reverse chronological order
by commit time.
Cannot be combined with <code>--graph</code>.</p>
</dd>
<dt> --do-walk </dt>
<dd>
<p>Overrides a previous <code>--no-walk</code>.</p>
</dd>
</dl>



<h3>
Commit Formatting</h3>

<dl>
<dt> --pretty[=&lt;format&gt;] </dt>
<dt> --format=&lt;format&gt; </dt>
<dd>
<p>Pretty-print the contents of the commit logs in a given format,
where <em>&lt;format&gt;</em> can be one of <em>oneline</em>, <em>short</em>, <em>medium</em>,
<em>full</em>, <em>fuller</em>, <em>reference</em>, <em>email</em>, <em>raw</em>, <em>format:&lt;string&gt;</em>
and <em>tformat:&lt;string&gt;</em>.  When <em>&lt;format&gt;</em> is none of the above,
and has <em>%placeholder</em> in it, it acts as if
<em>--pretty=tformat:&lt;format&gt;</em> were given.</p>

<p>See the "PRETTY FORMATS" section for some additional details for each
format.  When <em>=&lt;format&gt;</em> part is omitted, it defaults to <em>medium</em>.</p>


<p>Note: you can specify the default pretty format in the repository
configuration (see <a href="/docs/git-config">git-config[1]</a>).</p>

</dd>
<dt> --abbrev-commit </dt>
<dd>
<p>Instead of showing the full 40-byte hexadecimal commit object
name, show a prefix that names the object uniquely.
"--abbrev=&lt;n&gt;" (which also modifies diff output, if it is displayed)
option can be used to specify the minimum length of the prefix.</p>

<p>This should make "--pretty=oneline" a whole lot more readable for
people using 80-column terminals.</p>

</dd>
<dt> --no-abbrev-commit </dt>
<dd>
<p>Show the full 40-byte hexadecimal commit object name. This negates
<code>--abbrev-commit</code>, either explicit or implied by other options such
as "--oneline". It also overrides the <code>log.abbrevCommit</code> variable.</p>
</dd>
<dt> --oneline </dt>
<dd>
<p>This is a shorthand for "--pretty=oneline --abbrev-commit"
used together.</p>
</dd>
<dt> --encoding=&lt;encoding&gt; </dt>
<dd>
<p>Commit objects record the character encoding used for the log message
in their encoding header; this option can be used to tell the
command to re-code the commit log message in the encoding
preferred by the user.  For non plumbing commands this
defaults to UTF-8. Note that if an object claims to be encoded
in <code>X</code> and we are outputting in <code>X</code>, we will output the object
verbatim; this means that invalid sequences in the original
commit may be copied to the output. Likewise, if iconv(3) fails
to convert the commit, we will quietly output the original
object verbatim.</p>
</dd>
<dt> --expand-tabs=&lt;n&gt; </dt>
<dt> --expand-tabs </dt>
<dt> --no-expand-tabs </dt>
<dd>
<p>Perform a tab expansion (replace each tab with enough spaces
to fill to the next display column that is multiple of <em>&lt;n&gt;</em>)
in the log message before showing it in the output.
<code>--expand-tabs</code> is a short-hand for <code>--expand-tabs=8</code>, and
<code>--no-expand-tabs</code> is a short-hand for <code>--expand-tabs=0</code>,
which disables tab expansion.</p>

<p>By default, tabs are expanded in pretty formats that indent the log
message by 4 spaces (i.e.  <em>medium</em>, which is the default, <em>full</em>,
and <em>fuller</em>).</p>

</dd>
<dt> --notes[=&lt;ref&gt;] </dt>
<dd>
<p>Show the notes (see <a href="/docs/git-notes">git-notes[1]</a>) that annotate the
commit, when showing the commit log message.  This is the default
for <code>git log</code>, <code>git show</code> and <code>git whatchanged</code> commands when
there is no <code>--pretty</code>, <code>--format</code>, or <code>--oneline</code> option given
on the command line.</p>

<p>By default, the notes shown are from the notes refs listed in the
<code>core.notesRef</code> and <code>notes.displayRef</code> variables (or corresponding
environment overrides). See <a href="/docs/git-config">git-config[1]</a> for more details.</p>


<p>With an optional <em>&lt;ref&gt;</em> argument, use the ref to find the notes
to display.  The ref can specify the full refname when it begins
with <code>refs/notes/</code>; when it begins with <code>notes/</code>, <code>refs/</code> and otherwise
<code>refs/notes/</code> is prefixed to form a full name of the ref.</p>


<p>Multiple --notes options can be combined to control which notes are
being displayed. Examples: "--notes=foo" will show only notes from
"refs/notes/foo"; "--notes=foo --notes" will show both notes from
"refs/notes/foo" and from the default notes ref(s).</p>

</dd>
<dt> --no-notes </dt>
<dd>
<p>Do not show notes. This negates the above <code>--notes</code> option, by
resetting the list of notes refs from which notes are shown.
Options are parsed in the order given on the command line, so e.g.
"--notes --notes=foo --no-notes --notes=bar" will only show notes
from "refs/notes/bar".</p>
</dd>
<dt> --show-notes[=&lt;ref&gt;] </dt>
<dt> --[no-]standard-notes </dt>
<dd>
<p>These options are deprecated. Use the above --notes/--no-notes
options instead.</p>
</dd>
<dt> --show-signature </dt>
<dd>
<p>Check the validity of a signed commit object by passing the signature
to <code>gpg --verify</code> and show the output.</p>
</dd>
<dt> --relative-date </dt>
<dd>
<p>Synonym for <code>--date=relative</code>.</p>
</dd>
<dt> --date=&lt;format&gt; </dt>
<dd>
<p>Only takes effect for dates shown in human-readable format, such
as when using <code>--pretty</code>. <code>log.date</code> config variable sets a default
value for the log command’s <code>--date</code> option. By default, dates
are shown in the original time zone (either committer’s or
author’s). If <code>-local</code> is appended to the format (e.g.,
<code>iso-local</code>), the user’s local time zone is used instead.</p>



<p><code>--date=relative</code> shows dates relative to the current time,
e.g. “2 hours ago”. The <code>-local</code> option has no effect for
<code>--date=relative</code>.</p>


<p><code>--date=local</code> is an alias for <code>--date=default-local</code>.</p>


<p><code>--date=iso</code> (or <code>--date=iso8601</code>) shows timestamps in a ISO 8601-like format.
The differences to the strict ISO 8601 format are:</p>


<ul>
<li>
<p>a space instead of the <code>T</code> date/time delimiter</p>
</li>
<li>
<p>a space between time and time zone</p>
</li>
<li>
<p>no colon between hours and minutes of the time zone</p>
</li>
</ul>


<p><code>--date=iso-strict</code> (or <code>--date=iso8601-strict</code>) shows timestamps in strict
ISO 8601 format.</p>


<p><code>--date=rfc</code> (or <code>--date=rfc2822</code>) shows timestamps in RFC 2822
format, often found in email messages.</p>


<p><code>--date=short</code> shows only the date, but not the time, in <code>YYYY-MM-DD</code> format.</p>


<p><code>--date=raw</code> shows the date as seconds since the epoch (1970-01-01
00:00:00 UTC), followed by a space, and then the timezone as an offset
from UTC (a <code>+</code> or <code>-</code> with four digits; the first two are hours, and
the second two are minutes). I.e., as if the timestamp were formatted
with <code>strftime("%s %z")</code>).
Note that the <code>-local</code> option does not affect the seconds-since-epoch
value (which is always measured in UTC), but does switch the accompanying
timezone value.</p>


<p><code>--date=human</code> shows the timezone if the timezone does not match the
current time-zone, and doesn’t print the whole date if that matches
(ie skip printing year for dates that are "this year", but also skip
the whole date itself if it’s in the last few days and we can just say
what weekday it was).  For older dates the hour and minute is also
omitted.</p>


<p><code>--date=unix</code> shows the date as a Unix epoch timestamp (seconds since
1970).  As with <code>--raw</code>, this is always in UTC and therefore <code>-local</code>
has no effect.</p>


<p><code>--date=format:...</code> feeds the format <code>...</code> to your system <code>strftime</code>,
except for %s, %z, and %Z, which are handled internally.
Use <code>--date=format:%c</code> to show the date in your system locale’s
preferred format.  See the <code>strftime</code> manual for a complete list of
format placeholders. When using <code>-local</code>, the correct syntax is
<code>--date=format-local:...</code>.</p>


<p><code>--date=default</code> is the default format, and is similar to
<code>--date=rfc2822</code>, with a few exceptions:</p>




<ul>
<li>
<p>there is no comma after the day-of-week</p>
</li>
<li>
<p>the time zone is omitted when the local time zone is used</p>
</li>
</ul>

</dd>
<dt> --parents </dt>
<dd>
<p>Print also the parents of the commit (in the form "commit parent…<U+200B>").
Also enables parent rewriting, see <em>History Simplification</em> above.</p>
</dd>
<dt> --children </dt>
<dd>
<p>Print also the children of the commit (in the form "commit child…<U+200B>").
Also enables parent rewriting, see <em>History Simplification</em> above.</p>
</dd>
<dt> --left-right </dt>
<dd>
<p>Mark which side of a symmetric difference a commit is reachable from.
Commits from the left side are prefixed with <code>&lt;</code> and those from
the right with <code>&gt;</code>.  If combined with <code>--boundary</code>, those
commits are prefixed with <code>-</code>.</p>

<p>For example, if you have this topology:</p>



<pre>	     y---b---b  branch B
	    / \ /
	   /   .
	  /   / \
	 o---x---a---a  branch A</pre>



<p>you would get an output like this:</p>



<pre>	$ git rev-list --left-right --boundary --pretty=oneline A...B

	&gt;bbbbbbb... 3rd on b
	&gt;bbbbbbb... 2nd on b
	&lt;aaaaaaa... 3rd on a
	&lt;aaaaaaa... 2nd on a
	-yyyyyyy... 1st on b
	-xxxxxxx... 1st on a</pre>


</dd>
<dt> --graph </dt>
<dd>
<p>Draw a text-based graphical representation of the commit history
on the left hand side of the output.  This may cause extra lines
to be printed in between commits, in order for the graph history
to be drawn properly.
Cannot be combined with <code>--no-walk</code>.</p>

<p>This enables parent rewriting, see <em>History Simplification</em> above.</p>


<p>This implies the <code>--topo-order</code> option by default, but the
<code>--date-order</code> option may also be specified.</p>

</dd>
<dt> --show-linear-break[=&lt;barrier&gt;] </dt>
<dd>
<p>When --graph is not used, all history branches are flattened
which can make it hard to see that the two consecutive commits
do not belong to a linear branch. This option puts a barrier
in between them in that case. If <code>&lt;barrier&gt;</code> is specified, it
is the string that will be shown instead of the default one.</p>
</dd>
</dl>





<h2>PRETTY FORMATS</h2>


<p>If the commit is a merge, and if the pretty-format
is not <em>oneline</em>, <em>email</em> or <em>raw</em>, an additional line is
inserted before the <em>Author:</em> line.  This line begins with
"Merge: " and the hashes of ancestral commits are printed,
separated by spaces.  Note that the listed commits may not
necessarily be the list of the <strong>direct</strong> parent commits if you
have limited your view of history: for example, if you are
only interested in changes related to a certain directory or
file.</p>


<p>There are several built-in formats, and you can define
additional formats by setting a pretty.&lt;name&gt;
config option to either another format name, or a
<em>format:</em> string, as described below (see
<a href="/docs/git-config">git-config[1]</a>). Here are the details of the
built-in formats:</p>


<ul>
<li>
<p><em>oneline</em></p>


<pre>&lt;hash&gt; &lt;title-line&gt;</pre>



<p>This is designed to be as compact as possible.</p>

</li>
<li>
<p><em>short</em></p>


<pre>commit &lt;hash&gt;
Author: &lt;author&gt;</pre>




<pre>&lt;title-line&gt;</pre>


</li>
<li>
<p><em>medium</em></p>


<pre>commit &lt;hash&gt;
Author: &lt;author&gt;
Date:   &lt;author-date&gt;</pre>




<pre>&lt;title-line&gt;</pre>




<pre>&lt;full-commit-message&gt;</pre>


</li>
<li>
<p><em>full</em></p>


<pre>commit &lt;hash&gt;
Author: &lt;author&gt;
Commit: &lt;committer&gt;</pre>




<pre>&lt;title-line&gt;</pre>




<pre>&lt;full-commit-message&gt;</pre>


</li>
<li>
<p><em>fuller</em></p>


<pre>commit &lt;hash&gt;
Author:     &lt;author&gt;
AuthorDate: &lt;author-date&gt;
Commit:     &lt;committer&gt;
CommitDate: &lt;committer-date&gt;</pre>




<pre>&lt;title-line&gt;</pre>




<pre>&lt;full-commit-message&gt;</pre>


</li>
<li>
<p><em>reference</em></p>


<pre>&lt;abbrev-hash&gt; (&lt;title-line&gt;, &lt;short-author-date&gt;)</pre>



<p>This format is used to refer to another commit in a commit message and
is the same as <code>--pretty='format:%C(auto)%h (%s, %ad)'</code>.  By default,
the date is formatted with <code>--date=short</code> unless another <code>--date</code> option
is explicitly specified.  As with any <code>format:</code> with format
placeholders, its output is not affected by other options like
<code>--decorate</code> and <code>--walk-reflogs</code>.</p>

</li>
<li>
<p><em>email</em></p>


<pre>From &lt;hash&gt; &lt;date&gt;
From: &lt;author&gt;
Date: &lt;author-date&gt;
Subject: [PATCH] &lt;title-line&gt;</pre>




<pre>&lt;full-commit-message&gt;</pre>


</li>
<li>
<p><em>mboxrd</em></p>

<p>Like <em>email</em>, but lines in the commit message starting with "From "
(preceded by zero or more "&gt;") are quoted with "&gt;" so they aren’t
confused as starting a new commit.</p>

</li>
<li>
<p><em>raw</em></p>

<p>The <em>raw</em> format shows the entire commit exactly as
stored in the commit object.  Notably, the hashes are
displayed in full, regardless of whether --abbrev or
--no-abbrev are used, and <em>parents</em> information show the
true parent commits, without taking grafts or history
simplification into account. Note that this format affects the way
commits are displayed, but not the way the diff is shown e.g. with
<code>git log --raw</code>. To get full object names in a raw diff format,
use <code>--no-abbrev</code>.</p>

</li>
<li>
<p><em>format:&lt;format-string&gt;</em></p>

<p>The <em>format:&lt;format-string&gt;</em> format allows you to specify which information
you want to show. It works a little bit like printf format,
with the notable exception that you get a newline with <em>%n</em>
instead of <em>\n</em>.</p>


<p>E.g, <em>format:"The author of %h was %an, %ar%nThe title was &gt;&gt;%s&lt;&lt;%n"</em>
would show something like this:</p>



<pre>The author of fe6e0ee was Junio C Hamano, 23 hours ago
The title was &gt;&gt;t4119: test autocomputing -p&lt;n&gt; for traditional diff input.&lt;&lt;</pre>



<p>The placeholders are:</p>


<ul>
<li>
<p>Placeholders that expand to a single literal character:</p>

<dl>
<dt> <em>%n</em> </dt>
<dd>
<p>newline</p>
</dd>
<dt> <em>%%</em> </dt>
<dd>
<p>a raw <em>%</em></p>
</dd>
<dt> <em>%x00</em> </dt>
<dd>
<p>print a byte from a hex code</p>
</dd>
</dl>

</li>
<li>
<p>Placeholders that affect formatting of later placeholders:</p>

<dl>
<dt> <em>%Cred</em> </dt>
<dd>
<p>switch color to red</p>
</dd>
<dt> <em>%Cgreen</em> </dt>
<dd>
<p>switch color to green</p>
</dd>
<dt> <em>%Cblue</em> </dt>
<dd>
<p>switch color to blue</p>
</dd>
<dt> <em>%Creset</em> </dt>
<dd>
<p>reset color</p>
</dd>
<dt> <em>%C(…<U+200B>)</em> </dt>
<dd>
<p>color specification, as described under Values in the
"CONFIGURATION FILE" section of <a href="/docs/git-config">git-config[1]</a>.  By
default, colors are shown only when enabled for log output
(by <code>color.diff</code>, <code>color.ui</code>, or <code>--color</code>, and respecting
the <code>auto</code> settings of the former if we are going to a
terminal). <code>%C(auto,...)</code> is accepted as a historical
synonym for the default (e.g., <code>%C(auto,red)</code>). Specifying
<code>%C(always,...)</code> will show the colors even when color is
not otherwise enabled (though consider just using
<code>--color=always</code> to enable color for the whole output,
including this format and anything else git might color).
<code>auto</code> alone (i.e. <code>%C(auto)</code>) will turn on auto coloring
on the next placeholders until the color is switched
again.</p>
</dd>
<dt> <em>%m</em> </dt>
<dd>
<p>left (<code>&lt;</code>), right (<code>&gt;</code>) or boundary (<code>-</code>) mark</p>
</dd>
<dt> <em>%w([&lt;w&gt;[,&lt;i1&gt;[,&lt;i2&gt;]]])</em> </dt>
<dd>
<p>switch line wrapping, like the -w option of
<a href="/docs/git-shortlog">git-shortlog[1]</a>.</p>
</dd>
<dt> <em>%&lt;(&lt;N&gt;[,trunc|ltrunc|mtrunc])</em> </dt>
<dd>
<p>make the next placeholder take at
least N columns, padding spaces on
the right if necessary.  Optionally
truncate at the beginning (ltrunc),
the middle (mtrunc) or the end
(trunc) if the output is longer than
N columns.  Note that truncating
only works correctly with N &gt;= 2.</p>
</dd>
<dt> <em>%&lt;|(&lt;N&gt;)</em> </dt>
<dd>
<p>make the next placeholder take at least until Nth
columns, padding spaces on the right if necessary</p>
</dd>
<dt> <em>%&gt;(&lt;N&gt;)</em>, <em>%&gt;|(&lt;N&gt;)</em> </dt>
<dd>
<p>similar to <em>%&lt;(&lt;N&gt;)</em>, <em>%&lt;|(&lt;N&gt;)</em> respectively,
but padding spaces on the left</p>
</dd>
<dt> <em>%&gt;&gt;(&lt;N&gt;)</em>, <em>%&gt;&gt;|(&lt;N&gt;)</em> </dt>
<dd>
<p>similar to <em>%&gt;(&lt;N&gt;)</em>, <em>%&gt;|(&lt;N&gt;)</em>
respectively, except that if the next
placeholder takes more spaces than given and
there are spaces on its left, use those
spaces</p>
</dd>
<dt> <em>%&gt;&lt;(&lt;N&gt;)</em>, <em>%&gt;&lt;|(&lt;N&gt;)</em> </dt>
<dd>
<p>similar to <em>%&lt;(&lt;N&gt;)</em>, <em>%&lt;|(&lt;N&gt;)</em>
respectively, but padding both sides
(i.e. the text is centered)</p>
</dd>
</dl>

</li>
<li>
<p>Placeholders that expand to information extracted from the commit:</p>

<dl>
<dt> <em>%H</em> </dt>
<dd>
<p>commit hash</p>
</dd>
<dt> <em>%h</em> </dt>
<dd>
<p>abbreviated commit hash</p>
</dd>
<dt> <em>%T</em> </dt>
<dd>
<p>tree hash</p>
</dd>
<dt> <em>%t</em> </dt>
<dd>
<p>abbreviated tree hash</p>
</dd>
<dt> <em>%P</em> </dt>
<dd>
<p>parent hashes</p>
</dd>
<dt> <em>%p</em> </dt>
<dd>
<p>abbreviated parent hashes</p>
</dd>
<dt> <em>%an</em> </dt>
<dd>
<p>author name</p>
</dd>
<dt> <em>%aN</em> </dt>
<dd>
<p>author name (respecting .mailmap, see <a href="/docs/git-shortlog">git-shortlog[1]</a>
or <a href="/docs/git-blame">git-blame[1]</a>)</p>
</dd>
<dt> <em>%ae</em> </dt>
<dd>
<p>author email</p>
</dd>
<dt> <em>%aE</em> </dt>
<dd>
<p>author email (respecting .mailmap, see <a href="/docs/git-shortlog">git-shortlog[1]</a>
or <a href="/docs/git-blame">git-blame[1]</a>)</p>
</dd>
<dt> <em>%al</em> </dt>
<dd>
<p>author email local-part (the part before the <em>@</em> sign)</p>
</dd>
<dt> <em>%aL</em> </dt>
<dd>
<p>author local-part (see <em>%al</em>) respecting .mailmap, see
<a href="/docs/git-shortlog">git-shortlog[1]</a> or <a href="/docs/git-blame">git-blame[1]</a>)</p>
</dd>
<dt> <em>%ad</em> </dt>
<dd>
<p>author date (format respects --date= option)</p>
</dd>
<dt> <em>%aD</em> </dt>
<dd>
<p>author date, RFC2822 style</p>
</dd>
<dt> <em>%ar</em> </dt>
<dd>
<p>author date, relative</p>
</dd>
<dt> <em>%at</em> </dt>
<dd>
<p>author date, UNIX timestamp</p>
</dd>
<dt> <em>%ai</em> </dt>
<dd>
<p>author date, ISO 8601-like format</p>
</dd>
<dt> <em>%aI</em> </dt>
<dd>
<p>author date, strict ISO 8601 format</p>
</dd>
<dt> <em>%as</em> </dt>
<dd>
<p>author date, short format (<code>YYYY-MM-DD</code>)</p>
</dd>
<dt> <em>%ah</em> </dt>
<dd>
<p>author date, human style (like the <code>--date=human</code> option of
<a href="/docs/git-rev-list">git-rev-list[1]</a>)</p>
</dd>
<dt> <em>%cn</em> </dt>
<dd>
<p>committer name</p>
</dd>
<dt> <em>%cN</em> </dt>
<dd>
<p>committer name (respecting .mailmap, see
<a href="/docs/git-shortlog">git-shortlog[1]</a> or <a href="/docs/git-blame">git-blame[1]</a>)</p>
</dd>
<dt> <em>%ce</em> </dt>
<dd>
<p>committer email</p>
</dd>
<dt> <em>%cE</em> </dt>
<dd>
<p>committer email (respecting .mailmap, see
<a href="/docs/git-shortlog">git-shortlog[1]</a> or <a href="/docs/git-blame">git-blame[1]</a>)</p>
</dd>
<dt> <em>%cl</em> </dt>
<dd>
<p>committer email local-part (the part before the <em>@</em> sign)</p>
</dd>
<dt> <em>%cL</em> </dt>
<dd>
<p>committer local-part (see <em>%cl</em>) respecting .mailmap, see
<a href="/docs/git-shortlog">git-shortlog[1]</a> or <a href="/docs/git-blame">git-blame[1]</a>)</p>
</dd>
<dt> <em>%cd</em> </dt>
<dd>
<p>committer date (format respects --date= option)</p>
</dd>
<dt> <em>%cD</em> </dt>
<dd>
<p>committer date, RFC2822 style</p>
</dd>
<dt> <em>%cr</em> </dt>
<dd>
<p>committer date, relative</p>
</dd>
<dt> <em>%ct</em> </dt>
<dd>
<p>committer date, UNIX timestamp</p>
</dd>
<dt> <em>%ci</em> </dt>
<dd>
<p>committer date, ISO 8601-like format</p>
</dd>
<dt> <em>%cI</em> </dt>
<dd>
<p>committer date, strict ISO 8601 format</p>
</dd>
<dt> <em>%cs</em> </dt>
<dd>
<p>committer date, short format (<code>YYYY-MM-DD</code>)</p>
</dd>
<dt> <em>%ch</em> </dt>
<dd>
<p>committer date, human style (like the <code>--date=human</code> option of
<a href="/docs/git-rev-list">git-rev-list[1]</a>)</p>
</dd>
<dt> <em>%d</em> </dt>
<dd>
<p>ref names, like the --decorate option of <a href="/docs/git-log">git-log[1]</a></p>
</dd>
<dt> <em>%D</em> </dt>
<dd>
<p>ref names without the " (", ")" wrapping.</p>
</dd>
<dt> <em>%(describe[:options])</em> </dt>
<dd>
<p>human-readable name, like
<a href="/docs/git-describe">git-describe[1]</a>; empty string for
undescribable commits.  The <code>describe</code> string
may be followed by a colon and zero or more
comma-separated options.  Descriptions can be
inconsistent when tags are added or removed at
the same time.</p>

<ul>
<li>
<p><em>tags[=&lt;bool-value&gt;]</em>: Instead of only considering annotated tags,
consider lightweight tags as well.</p>
</li>
<li>
<p><em>abbrev=&lt;number&gt;</em>: Instead of using the default number of hexadecimal digits
(which will vary according to the number of objects in the repository with a
default of 7) of the abbreviated object name, use &lt;number&gt; digits, or as many
digits as needed to form a unique object name.</p>
</li>
<li>
<p><em>match=&lt;pattern&gt;</em>: Only consider tags matching the given
<code>glob(7)</code> pattern, excluding the "refs/tags/" prefix.</p>
</li>
<li>
<p><em>exclude=&lt;pattern&gt;</em>: Do not consider tags matching the given
<code>glob(7)</code> pattern, excluding the "refs/tags/" prefix.</p>
</li>
</ul>

</dd>
<dt> <em>%S</em> </dt>
<dd>
<p>ref name given on the command line by which the commit was reached
(like <code>git log --source</code>), only works with <code>git log</code></p>
</dd>
<dt> <em>%e</em> </dt>
<dd>
<p>encoding</p>
</dd>
<dt> <em>%s</em> </dt>
<dd>
<p>subject</p>
</dd>
<dt> <em>%f</em> </dt>
<dd>
<p>sanitized subject line, suitable for a filename</p>
</dd>
<dt> <em>%b</em> </dt>
<dd>
<p>body</p>
</dd>
<dt> <em>%B</em> </dt>
<dd>
<p>raw body (unwrapped subject and body)</p>
</dd>
<dt> <em>%N</em> </dt>
<dd>
<p>commit notes</p>
</dd>
<dt> <em>%GG</em> </dt>
<dd>
<p>raw verification message from GPG for a signed commit</p>
</dd>
<dt> <em>%G?</em> </dt>
<dd>
<p>show "G" for a good (valid) signature,
"B" for a bad signature,
"U" for a good signature with unknown validity,
"X" for a good signature that has expired,
"Y" for a good signature made by an expired key,
"R" for a good signature made by a revoked key,
"E" if the signature cannot be checked (e.g. missing key)
and "N" for no signature</p>
</dd>
<dt> <em>%GS</em> </dt>
<dd>
<p>show the name of the signer for a signed commit</p>
</dd>
<dt> <em>%GK</em> </dt>
<dd>
<p>show the key used to sign a signed commit</p>
</dd>
<dt> <em>%GF</em> </dt>
<dd>
<p>show the fingerprint of the key used to sign a signed commit</p>
</dd>
<dt> <em>%GP</em> </dt>
<dd>
<p>show the fingerprint of the primary key whose subkey was used
to sign a signed commit</p>
</dd>
<dt> <em>%GT</em> </dt>
<dd>
<p>show the trust level for the key used to sign a signed commit</p>
</dd>
<dt> <em>%gD</em> </dt>
<dd>
<p>reflog selector, e.g., <code>refs/stash@{1}</code> or <code>refs/stash@{2
minutes ago}</code>; the format follows the rules described for the
<code>-g</code> option. The portion before the <code>@</code> is the refname as
given on the command line (so <code>git log -g refs/heads/master</code>
would yield <code>refs/heads/master@{0}</code>).</p>
</dd>
<dt> <em>%gd</em> </dt>
<dd>
<p>shortened reflog selector; same as <code>%gD</code>, but the refname
portion is shortened for human readability (so
<code>refs/heads/master</code> becomes just <code>master</code>).</p>
</dd>
<dt> <em>%gn</em> </dt>
<dd>
<p>reflog identity name</p>
</dd>
<dt> <em>%gN</em> </dt>
<dd>
<p>reflog identity name (respecting .mailmap, see
<a href="/docs/git-shortlog">git-shortlog[1]</a> or <a href="/docs/git-blame">git-blame[1]</a>)</p>
</dd>
<dt> <em>%ge</em> </dt>
<dd>
<p>reflog identity email</p>
</dd>
<dt> <em>%gE</em> </dt>
<dd>
<p>reflog identity email (respecting .mailmap, see
<a href="/docs/git-shortlog">git-shortlog[1]</a> or <a href="/docs/git-blame">git-blame[1]</a>)</p>
</dd>
<dt> <em>%gs</em> </dt>
<dd>
<p>reflog subject</p>
</dd>
<dt> <em>%(trailers[:options])</em> </dt>
<dd>
<p>display the trailers of the body as
interpreted by
<a href="/docs/git-interpret-trailers">git-interpret-trailers[1]</a>. The
<code>trailers</code> string may be followed by a colon
and zero or more comma-separated options.
If any option is provided multiple times the
last occurrence wins.</p>

<ul>
<li>
<p><em>key=&lt;key&gt;</em>: only show trailers with specified &lt;key&gt;. Matching is done
case-insensitively and trailing colon is optional. If option is
given multiple times trailer lines matching any of the keys are
shown. This option automatically enables the <code>only</code> option so that
non-trailer lines in the trailer block are hidden. If that is not
desired it can be disabled with <code>only=false</code>.  E.g.,
<code>%(trailers:key=Reviewed-by)</code> shows trailer lines with key
<code>Reviewed-by</code>.</p>
</li>
<li>
<p><em>only[=&lt;bool&gt;]</em>: select whether non-trailer lines from the trailer
block should be included.</p>
</li>
<li>
<p><em>separator=&lt;sep&gt;</em>: specify a separator inserted between trailer
lines. When this option is not given each trailer line is
terminated with a line feed character. The string &lt;sep&gt; may contain
the literal formatting codes described above. To use comma as
separator one must use <code>%x2C</code> as it would otherwise be parsed as
next option. E.g., <code>%(trailers:key=Ticket,separator=%x2C )</code>
shows all trailer lines whose key is "Ticket" separated by a comma
and a space.</p>
</li>
<li>
<p><em>unfold[=&lt;bool&gt;]</em>: make it behave as if interpret-trailer’s <code>--unfold</code>
option was given. E.g.,
<code>%(trailers:only,unfold=true)</code> unfolds and shows all trailer lines.</p>
</li>
<li>
<p><em>keyonly[=&lt;bool&gt;]</em>: only show the key part of the trailer.</p>
</li>
<li>
<p><em>valueonly[=&lt;bool&gt;]</em>: only show the value part of the trailer.</p>
</li>
<li>
<p><em>key_value_separator=&lt;sep&gt;</em>: specify a separator inserted between
trailer lines. When this option is not given each trailer key-value
pair is separated by ": ". Otherwise it shares the same semantics
as <em>separator=&lt;sep&gt;</em> above.</p>
</li>
</ul>

</dd>
</dl>

</li>
</ul>

</li>
</ul>


<table><tr>
<td>
Note
</td>
<td>
Some placeholders may depend on other options given to the
revision traversal engine. For example, the <code>%g*</code> reflog options will
insert an empty string unless we are traversing reflog entries (e.g., by
<code>git log -g</code>). The <code>%d</code> and <code>%D</code> placeholders will use the "short"
decoration format if <code>--decorate</code> was not already provided on the command
line.
</td>
</tr></table>


<p>The boolean options accept an optional value <code>[=&lt;bool-value&gt;]</code>. The values
<code>true</code>, <code>false</code>, <code>on</code>, <code>off</code> etc. are all accepted. See the "boolean"
sub-section in "EXAMPLES" in <a href="/docs/git-config">git-config[1]</a>. If a boolean
option is given with no value, it’s enabled.</p>


<p>If you add a <code>+</code> (plus sign) after <em>%</em> of a placeholder, a line-feed
is inserted immediately before the expansion if and only if the
placeholder expands to a non-empty string.</p>


<p>If you add a <code>-</code> (minus sign) after <em>%</em> of a placeholder, all consecutive
line-feeds immediately preceding the expansion are deleted if and only if the
placeholder expands to an empty string.</p>


<p>If you add a ` ` (space) after <em>%</em> of a placeholder, a space
is inserted immediately before the expansion if and only if the
placeholder expands to a non-empty string.</p>


<ul>
<li>
<p><em>tformat:</em></p>

<p>The <em>tformat:</em> format works exactly like <em>format:</em>, except that it
provides "terminator" semantics instead of "separator" semantics. In
other words, each commit has the message terminator character (usually a
newline) appended, rather than a separator placed between entries.
This means that the final entry of a single-line format will be properly
terminated with a new line, just as the "oneline" format does.
For example:</p>



<pre>$ git log -2 --pretty=format:%h 4da45bef \
  | perl -pe '$_ .= " -- NO NEWLINE\n" unless /\n/'
4da45be
7134973 -- NO NEWLINE

$ git log -2 --pretty=tformat:%h 4da45bef \
  | perl -pe '$_ .= " -- NO NEWLINE\n" unless /\n/'
4da45be
7134973</pre>



<p>In addition, any unrecognized string that has a <code>%</code> in it is interpreted
as if it has <code>tformat:</code> in front of it.  For example, these two are
equivalent:</p>



<pre>$ git log -2 --pretty=tformat:%h 4da45bef
$ git log -2 --pretty=%h 4da45bef</pre>


</li>
</ul>




<h2>DIFF FORMATTING</h2>


<p>By default, <code>git log</code> does not generate any diff output. The options
below can be used to show the changes made by each commit.</p>


<p>Note that unless one of <code>--diff-merges</code> variants (including short
<code>-m</code>, <code>-c</code>, and <code>--cc</code> options) is explicitly given, merge commits
will not show a diff, even if a diff format like <code>--patch</code> is
selected, nor will they match search options like <code>-S</code>. The exception
is when <code>--first-parent</code> is in use, in which case <code>first-parent</code> is
the default format.</p>


<dl>
<dt> -p </dt>
<dt> -u </dt>
<dt> --patch </dt>
<dd>
<p>Generate patch (see section on generating patches).</p>
</dd>
<dt> -s </dt>
<dt> --no-patch </dt>
<dd>
<p>Suppress diff output. Useful for commands like <code>git show</code> that
show the patch by default, or to cancel the effect of <code>--patch</code>.</p>
</dd>
<dt> --diff-merges=(off|none|on|first-parent|1|separate|m|combined|c|dense-combined|cc) </dt>
<dt> --no-diff-merges </dt>
<dd>
<p>Specify diff format to be used for merge commits. Default is
`off` unless <code>--first-parent</code> is in use, in which case
<code>first-parent</code> is the default.</p>

<dl>
<dt> --diff-merges=(off|none) </dt>
<dt> --no-diff-merges </dt>
<dd>
<p>Disable output of diffs for merge commits. Useful to override
implied value.</p>
</dd>
<dt> --diff-merges=on </dt>
<dt> --diff-merges=m </dt>
<dt> -m </dt>
<dd>
<p>This option makes diff output for merge commits to be shown in
the default format. <code>-m</code> will produce the output only if <code>-p</code>
is given as well. The default format could be changed using
<code>log.diffMerges</code> configuration parameter, which default value
is <code>separate</code>.</p>
</dd>
<dt> --diff-merges=first-parent </dt>
<dt> --diff-merges=1 </dt>
<dd>
<p>This option makes merge commits show the full diff with
respect to the first parent only.</p>
</dd>
<dt> --diff-merges=separate </dt>
<dd>
<p>This makes merge commits show the full diff with respect to
each of the parents. Separate log entry and diff is generated
for each parent.</p>
</dd>
<dt> --diff-merges=combined </dt>
<dt> --diff-merges=c </dt>
<dt> -c </dt>
<dd>
<p>With this option, diff output for a merge commit shows the
differences from each of the parents to the merge result
simultaneously instead of showing pairwise diff between a
parent and the result one at a time. Furthermore, it lists
only files which were modified from all parents. <code>-c</code> implies
<code>-p</code>.</p>
</dd>
<dt> --diff-merges=dense-combined </dt>
<dt> --diff-merges=cc </dt>
<dt> --cc </dt>
<dd>
<p>With this option the output produced by
<code>--diff-merges=combined</code> is further compressed by omitting
uninteresting hunks whose contents in the parents have only
two variants and the merge result picks one of them without
modification.  <code>--cc</code> implies <code>-p</code>.</p>
</dd>
</dl>

</dd>
<dt> --combined-all-paths </dt>
<dd>
<p>This flag causes combined diffs (used for merge commits) to
list the name of the file from all parents.  It thus only has
effect when <code>--diff-merges=[dense-]combined</code> is in use, and
is likely only useful if filename changes are detected (i.e.
when either rename or copy detection have been requested).</p>
</dd>
<dt> -U&lt;n&gt; </dt>
<dt> --unified=&lt;n&gt; </dt>
<dd>
<p>Generate diffs with &lt;n&gt; lines of context instead of
the usual three.
Implies <code>--patch</code>.</p>
</dd>
<dt> --output=&lt;file&gt; </dt>
<dd>
<p>Output to a specific file instead of stdout.</p>
</dd>
<dt> --output-indicator-new=&lt;char&gt; </dt>
<dt> --output-indicator-old=&lt;char&gt; </dt>
<dt> --output-indicator-context=&lt;char&gt; </dt>
<dd>
<p>Specify the character used to indicate new, old or context
lines in the generated patch. Normally they are <em>+</em>, <em>-</em> and
' ' respectively.</p>
</dd>
<dt> --raw </dt>
<dd>
<p>For each commit, show a summary of changes using the raw diff
format. See the "RAW OUTPUT FORMAT" section of
<a href="/docs/git-diff">git-diff[1]</a>. This is different from showing the log
itself in raw format, which you can achieve with
<code>--format=raw</code>.</p>
</dd>
<dt> --patch-with-raw </dt>
<dd>
<p>Synonym for <code>-p --raw</code>.</p>
</dd>
<dt> -t </dt>
<dd>
<p>Show the tree objects in the diff output.</p>
</dd>
<dt> --indent-heuristic </dt>
<dd>
<p>Enable the heuristic that shifts diff hunk boundaries to make patches
easier to read. This is the default.</p>
</dd>
<dt> --no-indent-heuristic </dt>
<dd>
<p>Disable the indent heuristic.</p>
</dd>
<dt> --minimal </dt>
<dd>
<p>Spend extra time to make sure the smallest possible
diff is produced.</p>
</dd>
<dt> --patience </dt>
<dd>
<p>Generate a diff using the "patience diff" algorithm.</p>
</dd>
<dt> --histogram </dt>
<dd>
<p>Generate a diff using the "histogram diff" algorithm.</p>
</dd>
<dt> --anchored=&lt;text&gt; </dt>
<dd>
<p>Generate a diff using the "anchored diff" algorithm.</p>

<p>This option may be specified more than once.</p>


<p>If a line exists in both the source and destination, exists only once,
and starts with this text, this algorithm attempts to prevent it from
appearing as a deletion or addition in the output. It uses the "patience
diff" algorithm internally.</p>

</dd>
<dt> --diff-algorithm={patience|minimal|histogram|myers} </dt>
<dd>
<p>Choose a diff algorithm. The variants are as follows:</p>



<dl>
<dt> <code>default</code>, <code>myers</code> </dt>
<dd>
<p>The basic greedy diff algorithm. Currently, this is the default.</p>
</dd>
<dt> <code>minimal</code> </dt>
<dd>
<p>Spend extra time to make sure the smallest possible diff is
produced.</p>
</dd>
<dt> <code>patience</code> </dt>
<dd>
<p>Use "patience diff" algorithm when generating patches.</p>
</dd>
<dt> <code>histogram</code> </dt>
<dd>
<p>This algorithm extends the patience algorithm to "support
low-occurrence common elements".</p>
</dd>
</dl>




<p>For instance, if you configured the <code>diff.algorithm</code> variable to a
non-default value and want to use the default one, then you
have to use <code>--diff-algorithm=default</code> option.</p>

</dd>
<dt> --stat[=&lt;width&gt;[,&lt;name-width&gt;[,&lt;count&gt;]]] </dt>
<dd>
<p>Generate a diffstat. By default, as much space as necessary
will be used for the filename part, and the rest for the graph
part. Maximum width defaults to terminal width, or 80 columns
if not connected to a terminal, and can be overridden by
<code>&lt;width&gt;</code>. The width of the filename part can be limited by
giving another width <code>&lt;name-width&gt;</code> after a comma. The width
of the graph part can be limited by using
<code>--stat-graph-width=&lt;width&gt;</code> (affects all commands generating
a stat graph) or by setting <code>diff.statGraphWidth=&lt;width&gt;</code>
(does not affect <code>git format-patch</code>).
By giving a third parameter <code>&lt;count&gt;</code>, you can limit the
output to the first <code>&lt;count&gt;</code> lines, followed by <code>...</code> if
there are more.</p>

<p>These parameters can also be set individually with <code>--stat-width=&lt;width&gt;</code>,
<code>--stat-name-width=&lt;name-width&gt;</code> and <code>--stat-count=&lt;count&gt;</code>.</p>

</dd>
<dt> --compact-summary </dt>
<dd>
<p>Output a condensed summary of extended header information such
as file creations or deletions ("new" or "gone", optionally "+l"
if it’s a symlink) and mode changes ("+x" or "-x" for adding
or removing executable bit respectively) in diffstat. The
information is put between the filename part and the graph
part. Implies <code>--stat</code>.</p>
</dd>
<dt> --numstat </dt>
<dd>
<p>Similar to <code>--stat</code>, but shows number of added and
deleted lines in decimal notation and pathname without
abbreviation, to make it more machine friendly.  For
binary files, outputs two <code>-</code> instead of saying
<code>0 0</code>.</p>
</dd>
<dt> --shortstat </dt>
<dd>
<p>Output only the last line of the <code>--stat</code> format containing total
number of modified files, as well as number of added and deleted
lines.</p>
</dd>
<dt> -X[&lt;param1,param2,…<U+200B>&gt;] </dt>
<dt> --dirstat[=&lt;param1,param2,…<U+200B>&gt;] </dt>
<dd>
<p>Output the distribution of relative amount of changes for each
sub-directory. The behavior of <code>--dirstat</code> can be customized by
passing it a comma separated list of parameters.
The defaults are controlled by the <code>diff.dirstat</code> configuration
variable (see <a href="/docs/git-config">git-config[1]</a>).
The following parameters are available:</p>



<dl>
<dt> <code>changes</code> </dt>
<dd>
<p>Compute the dirstat numbers by counting the lines that have been
removed from the source, or added to the destination. This ignores
the amount of pure code movements within a file.  In other words,
rearranging lines in a file is not counted as much as other changes.
This is the default behavior when no parameter is given.</p>
</dd>
<dt> <code>lines</code> </dt>
<dd>
<p>Compute the dirstat numbers by doing the regular line-based diff
analysis, and summing the removed/added line counts. (For binary
files, count 64-byte chunks instead, since binary files have no
natural concept of lines). This is a more expensive <code>--dirstat</code>
behavior than the <code>changes</code> behavior, but it does count rearranged
lines within a file as much as other changes. The resulting output
is consistent with what you get from the other <code>--*stat</code> options.</p>
</dd>
<dt> <code>files</code> </dt>
<dd>
<p>Compute the dirstat numbers by counting the number of files changed.
Each changed file counts equally in the dirstat analysis. This is
the computationally cheapest <code>--dirstat</code> behavior, since it does
not have to look at the file contents at all.</p>
</dd>
<dt> <code>cumulative</code> </dt>
<dd>
<p>Count changes in a child directory for the parent directory as well.
Note that when using <code>cumulative</code>, the sum of the percentages
reported may exceed 100%. The default (non-cumulative) behavior can
be specified with the <code>noncumulative</code> parameter.</p>
</dd>
<dt> &lt;limit&gt; </dt>
<dd>
<p>An integer parameter specifies a cut-off percent (3% by default).
Directories contributing less than this percentage of the changes
are not shown in the output.</p>
</dd>
</dl>




<p>Example: The following will count changed files, while ignoring
directories with less than 10% of the total amount of changed files,
and accumulating child directory counts in the parent directories:
<code>--dirstat=files,10,cumulative</code>.</p>

</dd>
<dt> --cumulative </dt>
<dd>
<p>Synonym for --dirstat=cumulative</p>
</dd>
<dt> --dirstat-by-file[=&lt;param1,param2&gt;…<U+200B>] </dt>
<dd>
<p>Synonym for --dirstat=files,param1,param2…<U+200B></p>
</dd>
<dt> --summary </dt>
<dd>
<p>Output a condensed summary of extended header information
such as creations, renames and mode changes.</p>
</dd>
<dt> --patch-with-stat </dt>
<dd>
<p>Synonym for <code>-p --stat</code>.</p>
</dd>
<dt> -z </dt>
<dd>
<p>Separate the commits with NULs instead of with new newlines.</p>

<p>Also, when <code>--raw</code> or <code>--numstat</code> has been given, do not munge
pathnames and use NULs as output field terminators.</p>


<p>Without this option, pathnames with "unusual" characters are quoted as
explained for the configuration variable <code>core.quotePath</code> (see
<a href="/docs/git-config">git-config[1]</a>).</p>

</dd>
<dt> --name-only </dt>
<dd>
<p>Show only names of changed files. The file names are often encoded in UTF-8.
For more information see the discussion about encoding in the <a href="/docs/git-log">git-log[1]</a>
manual page.</p>
</dd>
<dt> --name-status </dt>
<dd>
<p>Show only names and status of changed files. See the description
of the <code>--diff-filter</code> option on what the status letters mean.
Just like <code>--name-only</code> the file names are often encoded in UTF-8.</p>
</dd>
<dt> --submodule[=&lt;format&gt;] </dt>
<dd>
<p>Specify how differences in submodules are shown.  When specifying
<code>--submodule=short</code> the <em>short</em> format is used.  This format just
shows the names of the commits at the beginning and end of the range.
When <code>--submodule</code> or <code>--submodule=log</code> is specified, the <em>log</em>
format is used.  This format lists the commits in the range like
<a href="/docs/git-submodule">git-submodule[1]</a> <code>summary</code> does.  When <code>--submodule=diff</code>
is specified, the <em>diff</em> format is used.  This format shows an
inline diff of the changes in the submodule contents between the
commit range.  Defaults to <code>diff.submodule</code> or the <em>short</em> format
if the config option is unset.</p>
</dd>
<dt> --color[=&lt;when&gt;] </dt>
<dd>
<p>Show colored diff.
<code>--color</code> (i.e. without <em>=&lt;when&gt;</em>) is the same as <code>--color=always</code>.
<em>&lt;when&gt;</em> can be one of <code>always</code>, <code>never</code>, or <code>auto</code>.</p>
</dd>
<dt> --no-color </dt>
<dd>
<p>Turn off colored diff.
It is the same as <code>--color=never</code>.</p>
</dd>
<dt> --color-moved[=&lt;mode&gt;] </dt>
<dd>
<p>Moved lines of code are colored differently.
The &lt;mode&gt; defaults to <em>no</em> if the option is not given
and to <em>zebra</em> if the option with no mode is given.
The mode must be one of:</p>



<dl>
<dt> no </dt>
<dd>
<p>Moved lines are not highlighted.</p>
</dd>
<dt> default </dt>
<dd>
<p>Is a synonym for <code>zebra</code>. This may change to a more sensible mode
in the future.</p>
</dd>
<dt> plain </dt>
<dd>
<p>Any line that is added in one location and was removed
in another location will be colored with <em>color.diff.newMoved</em>.
Similarly <em>color.diff.oldMoved</em> will be used for removed lines
that are added somewhere else in the diff. This mode picks up any
moved line, but it is not very useful in a review to determine
if a block of code was moved without permutation.</p>
</dd>
<dt> blocks </dt>
<dd>
<p>Blocks of moved text of at least 20 alphanumeric characters
are detected greedily. The detected blocks are
painted using either the <em>color.diff.{old,new}Moved</em> color.
Adjacent blocks cannot be told apart.</p>
</dd>
<dt> zebra </dt>
<dd>
<p>Blocks of moved text are detected as in <em>blocks</em> mode. The blocks
are painted using either the <em>color.diff.{old,new}Moved</em> color or
<em>color.diff.{old,new}MovedAlternative</em>. The change between
the two colors indicates that a new block was detected.</p>
</dd>
<dt> dimmed-zebra </dt>
<dd>
<p>Similar to <em>zebra</em>, but additional dimming of uninteresting parts
of moved code is performed. The bordering lines of two adjacent
blocks are considered interesting, the rest is uninteresting.
<code>dimmed_zebra</code> is a deprecated synonym.</p>
</dd>
</dl>



</dd>
<dt> --no-color-moved </dt>
<dd>
<p>Turn off move detection. This can be used to override configuration
settings. It is the same as <code>--color-moved=no</code>.</p>
</dd>
<dt> --color-moved-ws=&lt;modes&gt; </dt>
<dd>
<p>This configures how whitespace is ignored when performing the
move detection for <code>--color-moved</code>.
These modes can be given as a comma separated list:</p>



<dl>
<dt> no </dt>
<dd>
<p>Do not ignore whitespace when performing move detection.</p>
</dd>
<dt> ignore-space-at-eol </dt>
<dd>
<p>Ignore changes in whitespace at EOL.</p>
</dd>
<dt> ignore-space-change </dt>
<dd>
<p>Ignore changes in amount of whitespace.  This ignores whitespace
at line end, and considers all other sequences of one or
more whitespace characters to be equivalent.</p>
</dd>
<dt> ignore-all-space </dt>
<dd>
<p>Ignore whitespace when comparing lines. This ignores differences
even if one line has whitespace where the other line has none.</p>
</dd>
<dt> allow-indentation-change </dt>
<dd>
<p>Initially ignore any whitespace in the move detection, then
group the moved code blocks only into a block if the change in
whitespace is the same per line. This is incompatible with the
other modes.</p>
</dd>
</dl>



</dd>
<dt> --no-color-moved-ws </dt>
<dd>
<p>Do not ignore whitespace when performing move detection. This can be
used to override configuration settings. It is the same as
<code>--color-moved-ws=no</code>.</p>
</dd>
<dt> --word-diff[=&lt;mode&gt;] </dt>
<dd>
<p>Show a word diff, using the &lt;mode&gt; to delimit changed words.
By default, words are delimited by whitespace; see
<code>--word-diff-regex</code> below.  The &lt;mode&gt; defaults to <em>plain</em>, and
must be one of:</p>



<dl>
<dt> color </dt>
<dd>
<p>Highlight changed words using only colors.  Implies <code>--color</code>.</p>
</dd>
<dt> plain </dt>
<dd>
<p>Show words as <code>[-removed-]</code> and <code>{+added+}</code>.  Makes no
attempts to escape the delimiters if they appear in the input,
so the output may be ambiguous.</p>
</dd>
<dt> porcelain </dt>
<dd>
<p>Use a special line-based format intended for script
consumption.  Added/removed/unchanged runs are printed in the
usual unified diff format, starting with a <code>+</code>/<code>-</code>/` `
character at the beginning of the line and extending to the
end of the line.  Newlines in the input are represented by a
tilde <code>~</code> on a line of its own.</p>
</dd>
<dt> none </dt>
<dd>
<p>Disable word diff again.</p>
</dd>
</dl>




<p>Note that despite the name of the first mode, color is used to
highlight the changed parts in all modes if enabled.</p>

</dd>
<dt> --word-diff-regex=&lt;regex&gt; </dt>
<dd>
<p>Use &lt;regex&gt; to decide what a word is, instead of considering
runs of non-whitespace to be a word.  Also implies
<code>--word-diff</code> unless it was already enabled.</p>

<p>Every non-overlapping match of the
&lt;regex&gt; is considered a word.  Anything between these matches is
considered whitespace and ignored(!) for the purposes of finding
differences.  You may want to append <code>|[^[:space:]]</code> to your regular
expression to make sure that it matches all non-whitespace characters.
A match that contains a newline is silently truncated(!) at the
newline.</p>


<p>For example, <code>--word-diff-regex=.</code> will treat each character as a word
and, correspondingly, show differences character by character.</p>


<p>The regex can also be set via a diff driver or configuration option, see
<a href="/docs/gitattributes">gitattributes[5]</a> or <a href="/docs/git-config">git-config[1]</a>.  Giving it explicitly
overrides any diff driver or configuration setting.  Diff drivers
override configuration settings.</p>

</dd>
<dt> --color-words[=&lt;regex&gt;] </dt>
<dd>
<p>Equivalent to <code>--word-diff=color</code> plus (if a regex was
specified) <code>--word-diff-regex=&lt;regex&gt;</code>.</p>
</dd>
<dt> --no-renames </dt>
<dd>
<p>Turn off rename detection, even when the configuration
file gives the default to do so.</p>
</dd>
<dt> --[no-]rename-empty </dt>
<dd>
<p>Whether to use empty blobs as rename source.</p>
</dd>
<dt> --check </dt>
<dd>
<p>Warn if changes introduce conflict markers or whitespace errors.
What are considered whitespace errors is controlled by <code>core.whitespace</code>
configuration.  By default, trailing whitespaces (including
lines that consist solely of whitespaces) and a space character
that is immediately followed by a tab character inside the
initial indent of the line are considered whitespace errors.
Exits with non-zero status if problems are found. Not compatible
with --exit-code.</p>
</dd>
<dt> --ws-error-highlight=&lt;kind&gt; </dt>
<dd>
<p>Highlight whitespace errors in the <code>context</code>, <code>old</code> or <code>new</code>
lines of the diff.  Multiple values are separated by comma,
<code>none</code> resets previous values, <code>default</code> reset the list to
<code>new</code> and <code>all</code> is a shorthand for <code>old,new,context</code>.  When
this option is not given, and the configuration variable
<code>diff.wsErrorHighlight</code> is not set, only whitespace errors in
<code>new</code> lines are highlighted. The whitespace errors are colored
with <code>color.diff.whitespace</code>.</p>
</dd>
<dt> --full-index </dt>
<dd>
<p>Instead of the first handful of characters, show the full
pre- and post-image blob object names on the "index"
line when generating patch format output.</p>
</dd>
<dt> --binary </dt>
<dd>
<p>In addition to <code>--full-index</code>, output a binary diff that
can be applied with <code>git-apply</code>.
Implies <code>--patch</code>.</p>
</dd>
<dt> --abbrev[=&lt;n&gt;] </dt>
<dd>
<p>Instead of showing the full 40-byte hexadecimal object
name in diff-raw format output and diff-tree header
lines, show the shortest prefix that is at least <em>&lt;n&gt;</em>
hexdigits long that uniquely refers the object.
In diff-patch output format, <code>--full-index</code> takes higher
precedence, i.e. if <code>--full-index</code> is specified, full blob
names will be shown regardless of <code>--abbrev</code>.
Non default number of digits can be specified with <code>--abbrev=&lt;n&gt;</code>.</p>
</dd>
<dt> -B[&lt;n&gt;][/&lt;m&gt;] </dt>
<dt> --break-rewrites[=[&lt;n&gt;][/&lt;m&gt;]] </dt>
<dd>
<p>Break complete rewrite changes into pairs of delete and
create. This serves two purposes:</p>

<p>It affects the way a change that amounts to a total rewrite of a file
not as a series of deletion and insertion mixed together with a very
few lines that happen to match textually as the context, but as a
single deletion of everything old followed by a single insertion of
everything new, and the number <code>m</code> controls this aspect of the -B
option (defaults to 60%). <code>-B/70%</code> specifies that less than 30% of the
original should remain in the result for Git to consider it a total
rewrite (i.e. otherwise the resulting patch will be a series of
deletion and insertion mixed together with context lines).</p>


<p>When used with -M, a totally-rewritten file is also considered as the
source of a rename (usually -M only considers a file that disappeared
as the source of a rename), and the number <code>n</code> controls this aspect of
the -B option (defaults to 50%). <code>-B20%</code> specifies that a change with
addition and deletion compared to 20% or more of the file’s size are
eligible for being picked up as a possible source of a rename to
another file.</p>

</dd>
<dt> -M[&lt;n&gt;] </dt>
<dt> --find-renames[=&lt;n&gt;] </dt>
<dd>
<p>If generating diffs, detect and report renames for each commit.
For following files across renames while traversing history, see
<code>--follow</code>.
If <code>n</code> is specified, it is a threshold on the similarity
index (i.e. amount of addition/deletions compared to the
file’s size). For example, <code>-M90%</code> means Git should consider a
delete/add pair to be a rename if more than 90% of the file
hasn’t changed.  Without a <code>%</code> sign, the number is to be read as
a fraction, with a decimal point before it.  I.e., <code>-M5</code> becomes
0.5, and is thus the same as <code>-M50%</code>.  Similarly, <code>-M05</code> is
the same as <code>-M5%</code>.  To limit detection to exact renames, use
<code>-M100%</code>.  The default similarity index is 50%.</p>
</dd>
<dt> -C[&lt;n&gt;] </dt>
<dt> --find-copies[=&lt;n&gt;] </dt>
<dd>
<p>Detect copies as well as renames.  See also <code>--find-copies-harder</code>.
If <code>n</code> is specified, it has the same meaning as for <code>-M&lt;n&gt;</code>.</p>
</dd>
<dt> --find-copies-harder </dt>
<dd>
<p>For performance reasons, by default, <code>-C</code> option finds copies only
if the original file of the copy was modified in the same
changeset.  This flag makes the command
inspect unmodified files as candidates for the source of
copy.  This is a very expensive operation for large
projects, so use it with caution.  Giving more than one
<code>-C</code> option has the same effect.</p>
</dd>
<dt> -D </dt>
<dt> --irreversible-delete </dt>
<dd>
<p>Omit the preimage for deletes, i.e. print only the header but not
the diff between the preimage and <code>/dev/null</code>. The resulting patch
is not meant to be applied with <code>patch</code> or <code>git apply</code>; this is
solely for people who want to just concentrate on reviewing the
text after the change. In addition, the output obviously lacks
enough information to apply such a patch in reverse, even manually,
hence the name of the option.</p>

<p>When used together with <code>-B</code>, omit also the preimage in the deletion part
of a delete/create pair.</p>

</dd>
<dt> -l&lt;num&gt; </dt>
<dd>
<p>The <code>-M</code> and <code>-C</code> options involve some preliminary steps that
can detect subsets of renames/copies cheaply, followed by an
exhaustive fallback portion that compares all remaining
unpaired destinations to all relevant sources.  (For renames,
only remaining unpaired sources are relevant; for copies, all
original sources are relevant.)  For N sources and
destinations, this exhaustive check is O(N^2).  This option
prevents the exhaustive portion of rename/copy detection from
running if the number of source/destination files involved
exceeds the specified number.  Defaults to diff.renameLimit.
Note that a value of 0 is treated as unlimited.</p>
</dd>
<dt> --diff-filter=[(A|C|D|M|R|T|U|X|B)…<U+200B>[*]] </dt>
<dd>
<p>Select only files that are Added (<code>A</code>), Copied (<code>C</code>),
Deleted (<code>D</code>), Modified (<code>M</code>), Renamed (<code>R</code>), have their
type (i.e. regular file, symlink, submodule, …<U+200B>) changed (<code>T</code>),
are Unmerged (<code>U</code>), are
Unknown (<code>X</code>), or have had their pairing Broken (<code>B</code>).
Any combination of the filter characters (including none) can be used.
When <code>*</code> (All-or-none) is added to the combination, all
paths are selected if there is any file that matches
other criteria in the comparison; if there is no file
that matches other criteria, nothing is selected.</p>

<p>Also, these upper-case letters can be downcased to exclude.  E.g.
<code>--diff-filter=ad</code> excludes added and deleted paths.</p>


<p>Note that not all diffs can feature all types. For instance, diffs
from the index to the working tree can never have Added entries
(because the set of paths included in the diff is limited by what is in
the index).  Similarly, copied and renamed entries cannot appear if
detection for those types is disabled.</p>

</dd>
<dt> -S&lt;string&gt; </dt>
<dd>
<p>Look for differences that change the number of occurrences of
the specified string (i.e. addition/deletion) in a file.
Intended for the scripter’s use.</p>

<p>It is useful when you’re looking for an exact block of code (like a
struct), and want to know the history of that block since it first
came into being: use the feature iteratively to feed the interesting
block in the preimage back into <code>-S</code>, and keep going until you get the
very first version of the block.</p>


<p>Binary files are searched as well.</p>

</dd>
<dt> -G&lt;regex&gt; </dt>
<dd>
<p>Look for differences whose patch text contains added/removed
lines that match &lt;regex&gt;.</p>

<p>To illustrate the difference between <code>-S&lt;regex&gt; --pickaxe-regex</code> and
<code>-G&lt;regex&gt;</code>, consider a commit with the following diff in the same
file:</p>



<pre>+    return frotz(nitfol, two-&gt;ptr, 1, 0);
...
-    hit = frotz(nitfol, mf2.ptr, 1, 0);</pre>



<p>While <code>git log -G"frotz\(nitfol"</code> will show this commit, <code>git log
-S"frotz\(nitfol" --pickaxe-regex</code> will not (because the number of
occurrences of that string did not change).</p>


<p>Unless <code>--text</code> is supplied patches of binary files without a textconv
filter will be ignored.</p>


<p>See the <em>pickaxe</em> entry in <a href="/docs/gitdiffcore">gitdiffcore[7]</a> for more
information.</p>

</dd>
<dt> --find-object=&lt;object-id&gt; </dt>
<dd>
<p>Look for differences that change the number of occurrences of
the specified object. Similar to <code>-S</code>, just the argument is different
in that it doesn’t search for a specific string but for a specific
object id.</p>

<p>The object can be a blob or a submodule commit. It implies the <code>-t</code> option in
<code>git-log</code> to also find trees.</p>

</dd>
<dt> --pickaxe-all </dt>
<dd>
<p>When <code>-S</code> or <code>-G</code> finds a change, show all the changes in that
changeset, not just the files that contain the change
in &lt;string&gt;.</p>
</dd>
<dt> --pickaxe-regex </dt>
<dd>
<p>Treat the &lt;string&gt; given to <code>-S</code> as an extended POSIX regular
expression to match.</p>
</dd>
<dt> -O&lt;orderfile&gt; </dt>
<dd>
<p>Control the order in which files appear in the output.
This overrides the <code>diff.orderFile</code> configuration variable
(see <a href="/docs/git-config">git-config[1]</a>).  To cancel <code>diff.orderFile</code>,
use <code>-O/dev/null</code>.</p>

<p>The output order is determined by the order of glob patterns in
&lt;orderfile&gt;.
All files with pathnames that match the first pattern are output
first, all files with pathnames that match the second pattern (but not
the first) are output next, and so on.
All files with pathnames that do not match any pattern are output
last, as if there was an implicit match-all pattern at the end of the
file.
If multiple pathnames have the same rank (they match the same pattern
but no earlier patterns), their output order relative to each other is
the normal order.</p>


<p>&lt;orderfile&gt; is parsed as follows:</p>




<ul>
<li>
<p>Blank lines are ignored, so they can be used as separators for
readability.</p>
</li>
<li>
<p>Lines starting with a hash ("<code>#</code>") are ignored, so they can be used
for comments.  Add a backslash ("<code>\</code>") to the beginning of the
pattern if it starts with a hash.</p>
</li>
<li>
<p>Each other line contains a single pattern.</p>
</li>
</ul>




<p>Patterns have the same syntax and semantics as patterns used for
fnmatch(3) without the FNM_PATHNAME flag, except a pathname also
matches a pattern if removing any number of the final pathname
components matches the pattern.  For example, the pattern "<code>foo*bar</code>"
matches "<code>fooasdfbar</code>" and "<code>foo/bar/baz/asdf</code>" but not "<code>foobarx</code>".</p>

</dd>
<dt> --skip-to=&lt;file&gt; </dt>
<dt> --rotate-to=&lt;file&gt; </dt>
<dd>
<p>Discard the files before the named &lt;file&gt; from the output
(i.e. <em>skip to</em>), or move them to the end of the output
(i.e. <em>rotate to</em>).  These were invented primarily for use
of the <code>git difftool</code> command, and may not be very useful
otherwise.</p>
</dd>
<dt> -R </dt>
<dd>
<p>Swap two inputs; that is, show differences from index or
on-disk file to tree contents.</p>
</dd>
<dt> --relative[=&lt;path&gt;] </dt>
<dt> --no-relative </dt>
<dd>
<p>When run from a subdirectory of the project, it can be
told to exclude changes outside the directory and show
pathnames relative to it with this option.  When you are
not in a subdirectory (e.g. in a bare repository), you
can name which subdirectory to make the output relative
to by giving a &lt;path&gt; as an argument.
<code>--no-relative</code> can be used to countermand both <code>diff.relative</code> config
option and previous <code>--relative</code>.</p>
</dd>
<dt> -a </dt>
<dt> --text </dt>
<dd>
<p>Treat all files as text.</p>
</dd>
<dt> --ignore-cr-at-eol </dt>
<dd>
<p>Ignore carriage-return at the end of line when doing a comparison.</p>
</dd>
<dt> --ignore-space-at-eol </dt>
<dd>
<p>Ignore changes in whitespace at EOL.</p>
</dd>
<dt> -b </dt>
<dt> --ignore-space-change </dt>
<dd>
<p>Ignore changes in amount of whitespace.  This ignores whitespace
at line end, and considers all other sequences of one or
more whitespace characters to be equivalent.</p>
</dd>
<dt> -w </dt>
<dt> --ignore-all-space </dt>
<dd>
<p>Ignore whitespace when comparing lines.  This ignores
differences even if one line has whitespace where the other
line has none.</p>
</dd>
<dt> --ignore-blank-lines </dt>
<dd>
<p>Ignore changes whose lines are all blank.</p>
</dd>
<dt> -I&lt;regex&gt; </dt>
<dt> --ignore-matching-lines=&lt;regex&gt; </dt>
<dd>
<p>Ignore changes whose all lines match &lt;regex&gt;.  This option may
be specified more than once.</p>
</dd>
<dt> --inter-hunk-context=&lt;lines&gt; </dt>
<dd>
<p>Show the context between diff hunks, up to the specified number
of lines, thereby fusing hunks that are close to each other.
Defaults to <code>diff.interHunkContext</code> or 0 if the config option
is unset.</p>
</dd>
<dt> -W </dt>
<dt> --function-context </dt>
<dd>
<p>Show whole function as context lines for each change.
The function names are determined in the same way as
<code>git diff</code> works out patch hunk headers (see <em>Defining a
custom hunk-header</em> in <a href="/docs/gitattributes">gitattributes[5]</a>).</p>
</dd>
<dt> --ext-diff </dt>
<dd>
<p>Allow an external diff helper to be executed. If you set an
external diff driver with <a href="/docs/gitattributes">gitattributes[5]</a>, you need
to use this option with <a href="/docs/git-log">git-log[1]</a> and friends.</p>
</dd>
<dt> --no-ext-diff </dt>
<dd>
<p>Disallow external diff drivers.</p>
</dd>
<dt> --textconv </dt>
<dt> --no-textconv </dt>
<dd>
<p>Allow (or disallow) external text conversion filters to be run
when comparing binary files. See <a href="/docs/gitattributes">gitattributes[5]</a> for
details. Because textconv filters are typically a one-way
conversion, the resulting diff is suitable for human
consumption, but cannot be applied. For this reason, textconv
filters are enabled by default only for <a href="/docs/git-diff">git-diff[1]</a> and
<a href="/docs/git-log">git-log[1]</a>, but not for <a href="/docs/git-format-patch">git-format-patch[1]</a> or
diff plumbing commands.</p>
</dd>
<dt> --ignore-submodules[=&lt;when&gt;] </dt>
<dd>
<p>Ignore changes to submodules in the diff generation. &lt;when&gt; can be
either "none", "untracked", "dirty" or "all", which is the default.
Using "none" will consider the submodule modified when it either contains
untracked or modified files or its HEAD differs from the commit recorded
in the superproject and can be used to override any settings of the
<em>ignore</em> option in <a href="/docs/git-config">git-config[1]</a> or <a href="/docs/gitmodules">gitmodules[5]</a>. When
"untracked" is used submodules are not considered dirty when they only
contain untracked content (but they are still scanned for modified
content). Using "dirty" ignores all changes to the work tree of submodules,
only changes to the commits stored in the superproject are shown (this was
the behavior until 1.7.0). Using "all" hides all changes to submodules.</p>
</dd>
<dt> --src-prefix=&lt;prefix&gt; </dt>
<dd>
<p>Show the given source prefix instead of "a/".</p>
</dd>
<dt> --dst-prefix=&lt;prefix&gt; </dt>
<dd>
<p>Show the given destination prefix instead of "b/".</p>
</dd>
<dt> --no-prefix </dt>
<dd>
<p>Do not show any source or destination prefix.</p>
</dd>
<dt> --line-prefix=&lt;prefix&gt; </dt>
<dd>
<p>Prepend an additional prefix to every line of output.</p>
</dd>
<dt> --ita-invisible-in-index </dt>
<dd>
<p>By default entries added by "git add -N" appear as an existing
empty file in "git diff" and a new file in "git diff --cached".
This option makes the entry appear as a new file in "git diff"
and non-existent in "git diff --cached". This option could be
reverted with <code>--ita-visible-in-index</code>. Both options are
experimental and could be removed in future.</p>
</dd>
</dl>


<p>For more detailed explanation on these common options, see also
<a href="/docs/gitdiffcore">gitdiffcore[7]</a>.</p>




<h2>Generating patch text with -p</h2>


<p>Running
<a href="/docs/git-diff">git-diff[1]</a>,
<a href="/docs/git-log">git-log[1]</a>,
<a href="/docs/git-show">git-show[1]</a>,
<a href="/docs/git-diff-index">git-diff-index[1]</a>,
<a href="/docs/git-diff-tree">git-diff-tree[1]</a>, or
<a href="/docs/git-diff-files">git-diff-files[1]</a>
with the <code>-p</code> option produces patch text.
You can customize the creation of patch text via the
<code>GIT_EXTERNAL_DIFF</code> and the <code>GIT_DIFF_OPTS</code> environment variables
(see <a href="/docs/git">git[1]</a>), and the <code>diff</code> attribute (see <a href="/docs/gitattributes">gitattributes[5]</a>).</p>


<p>What the -p option produces is slightly different from the traditional
diff format:</p>


<ol>
<li>
<p>It is preceded with a "git diff" header that looks like this:</p>


<pre>diff --git a/file1 b/file2</pre>



<p>The <code>a/</code> and <code>b/</code> filenames are the same unless rename/copy is
involved.  Especially, even for a creation or a deletion,
<code>/dev/null</code> is <em>not</em> used in place of the <code>a/</code> or <code>b/</code> filenames.</p>


<p>When rename/copy is involved, <code>file1</code> and <code>file2</code> show the
name of the source file of the rename/copy and the name of
the file that rename/copy produces, respectively.</p>

</li>
<li>
<p>It is followed by one or more extended header lines:</p>


<pre>old mode &lt;mode&gt;
new mode &lt;mode&gt;
deleted file mode &lt;mode&gt;
new file mode &lt;mode&gt;
copy from &lt;path&gt;
copy to &lt;path&gt;
rename from &lt;path&gt;
rename to &lt;path&gt;
similarity index &lt;number&gt;
dissimilarity index &lt;number&gt;
index &lt;hash&gt;..&lt;hash&gt; &lt;mode&gt;</pre>



<p>File modes are printed as 6-digit octal numbers including the file type
and file permission bits.</p>


<p>Path names in extended headers do not include the <code>a/</code> and <code>b/</code> prefixes.</p>


<p>The similarity index is the percentage of unchanged lines, and
the dissimilarity index is the percentage of changed lines.  It
is a rounded down integer, followed by a percent sign.  The
similarity index value of 100% is thus reserved for two equal
files, while 100% dissimilarity means that no line from the old
file made it into the new one.</p>


<p>The index line includes the blob object names before and after the change.
The &lt;mode&gt; is included if the file mode does not change; otherwise,
separate lines indicate the old and the new mode.</p>

</li>
<li>
<p>Pathnames with "unusual" characters are quoted as explained for
the configuration variable <code>core.quotePath</code> (see
<a href="/docs/git-config">git-config[1]</a>).</p>
</li>
<li>
<p>All the <code>file1</code> files in the output refer to files before the
commit, and all the <code>file2</code> files refer to files after the commit.
It is incorrect to apply each change to each file sequentially.  For
example, this patch will swap a and b:</p>


<pre>diff --git a/a b/b
rename from a
rename to b
diff --git a/b b/a
rename from b
rename to a</pre>


</li>
<li>
<p>Hunk headers mention the name of the function to which the hunk
applies.  See "Defining a custom hunk-header" in
<a href="/docs/gitattributes">gitattributes[5]</a> for details of how to tailor to this to
specific languages.</p>
</li>
</ol>




<h2>Combined diff format</h2>


<p>Any diff-generating command can take the <code>-c</code> or <code>--cc</code> option to
produce a <em>combined diff</em> when showing a merge. This is the default
format when showing merges with <a href="/docs/git-diff">git-diff[1]</a> or
<a href="/docs/git-show">git-show[1]</a>. Note also that you can give suitable
<code>--diff-merges</code> option to any of these commands to force generation of
diffs in specific format.</p>


<p>A "combined diff" format looks like this:</p>



<pre>diff --combined describe.c
index fabadb8,cc95eb0..4866510
--- a/describe.c
+++ b/describe.c
@@@ -98,20 -98,12 +98,20 @@@
	return (a_date &gt; b_date) ? -1 : (a_date == b_date) ? 0 : 1;
  }

- static void describe(char *arg)
 -static void describe(struct commit *cmit, int last_one)
++static void describe(char *arg, int last_one)
  {
 +	unsigned char sha1[20];
 +	struct commit *cmit;
	struct commit_list *list;
	static int initialized = 0;
	struct commit_name *n;

 +	if (get_sha1(arg, sha1) &lt; 0)
 +		usage(describe_usage);
 +	cmit = lookup_commit_reference(sha1);
 +	if (!cmit)
 +		usage(describe_usage);
 +
	if (!initialized) {
		initialized = 1;
		for_each_ref(get_name);</pre>



<ol>
<li>
<p>It is preceded with a "git diff" header, that looks like
this (when the <code>-c</code> option is used):</p>


<pre>diff --combined file</pre>



<p>or like this (when the <code>--cc</code> option is used):</p>



<pre>diff --cc file</pre>


</li>
<li>
<p>It is followed by one or more extended header lines
(this example shows a merge with two parents):</p>


<pre>index &lt;hash&gt;,&lt;hash&gt;..&lt;hash&gt;
mode &lt;mode&gt;,&lt;mode&gt;..&lt;mode&gt;
new file mode &lt;mode&gt;
deleted file mode &lt;mode&gt;,&lt;mode&gt;</pre>



<p>The <code>mode &lt;mode&gt;,&lt;mode&gt;..&lt;mode&gt;</code> line appears only if at least one of
the &lt;mode&gt; is different from the rest. Extended headers with
information about detected contents movement (renames and
copying detection) are designed to work with diff of two
&lt;tree-ish&gt; and are not used by combined diff format.</p>

</li>
<li>
<p>It is followed by two-line from-file/to-file header</p>


<pre>--- a/file
+++ b/file</pre>



<p>Similar to two-line header for traditional <em>unified</em> diff
format, <code>/dev/null</code> is used to signal created or deleted
files.</p>


<p>However, if the --combined-all-paths option is provided, instead of a
two-line from-file/to-file you get a N+1 line from-file/to-file header,
where N is the number of parents in the merge commit</p>



<pre>--- a/file
--- a/file
--- a/file
+++ b/file</pre>



<p>This extended format can be useful if rename or copy detection is
active, to allow you to see the original name of the file in different
parents.</p>

</li>
<li>
<p>Chunk header format is modified to prevent people from
accidentally feeding it to <code>patch -p1</code>. Combined diff format
was created for review of merge commit changes, and was not
meant to be applied. The change is similar to the change in the
extended <em>index</em> header:</p>


<pre>@@@ &lt;from-file-range&gt; &lt;from-file-range&gt; &lt;to-file-range&gt; @@@</pre>



<p>There are (number of parents + 1) <code>@</code> characters in the chunk
header for combined diff format.</p>

</li>
</ol>


<p>Unlike the traditional <em>unified</em> diff format, which shows two
files A and B with a single column that has <code>-</code> (minus<U+2009>—<U+2009>appears in A but removed in B), <code>+</code> (plus<U+2009>—<U+2009>missing in A but
added to B), or <code>" "</code> (space<U+2009>—<U+2009>unchanged) prefix, this format
compares two or more files file1, file2,…<U+200B> with one file X, and
shows how X differs from each of fileN.  One column for each of
fileN is prepended to the output line to note how X’s line is
different from it.</p>


<p>A <code>-</code> character in the column N means that the line appears in
fileN but it does not appear in the result.  A <code>+</code> character
in the column N means that the line appears in the result,
and fileN does not have that line (in other words, the line was
added, from the point of view of that parent).</p>


<p>In the above example output, the function signature was changed
from both files (hence two <code>-</code> removals from both file1 and
file2, plus <code>++</code> to mean one line that was added does not appear
in either file1 or file2).  Also eight other lines are the same
from file1 but do not appear in file2 (hence prefixed with <code>+</code>).</p>


<p>When shown by <code>git diff-tree -c</code>, it compares the parents of a
merge commit with the merge result (i.e. file1..fileN are the
parents).  When shown by <code>git diff-files -c</code>, it compares the
two unresolved merge parents with the working tree file
(i.e. file1 is stage 2 aka "our version", file2 is stage 3 aka
"their version").</p>




<h2>examples</h2>


<dl>
<dt> <code>git log --no-merges</code> </dt>
<dd>
<p>Show the whole commit history, but skip any merges</p>
</dd>
<dt> <code>git log v2.6.12.. include/scsi drivers/scsi</code> </dt>
<dd>
<p>Show all commits since version <em>v2.6.12</em> that changed any file
in the <code>include/scsi</code> or <code>drivers/scsi</code> subdirectories</p>
</dd>
<dt> <code>git log --since="2 weeks ago" -- gitk</code> </dt>
<dd>
<p>Show the changes during the last two weeks to the file <em>gitk</em>.
The <code>--</code> is necessary to avoid confusion with the <strong>branch</strong> named
<em>gitk</em></p>
</dd>
<dt> <code>git log --name-status release..test</code> </dt>
<dd>
<p>Show the commits that are in the "test" branch but not yet
in the "release" branch, along with the list of paths
each commit modifies.</p>
</dd>
<dt> <code>git log --follow builtin/rev-list.c</code> </dt>
<dd>
<p>Shows the commits that changed <code>builtin/rev-list.c</code>, including
those commits that occurred before the file was given its
present name.</p>
</dd>
<dt> <code>git log --branches --not --remotes=origin</code> </dt>
<dd>
<p>Shows all commits that are in any of local branches but not in
any of remote-tracking branches for <em>origin</em> (what you have that
origin doesn’t).</p>
</dd>
<dt> <code>git log master --not --remotes=*/master</code> </dt>
<dd>
<p>Shows all commits that are in local master but not in any remote
repository master branches.</p>
</dd>
<dt> <code>git log -p -m --first-parent</code> </dt>
<dd>
<p>Shows the history including change diffs, but only from the
“main branch” perspective, skipping commits that come from merged
branches, and showing full diffs of changes introduced by the merges.
This makes sense only when following a strict policy of merging all
topic branches when staying on a single integration branch.</p>
</dd>
<dt> <code>git log -L '/int main/',/^}/:main.c</code> </dt>
<dd>
<p>Shows how the function <code>main()</code> in the file <code>main.c</code> evolved
over time.</p>
</dd>
<dt> <code>git log -3</code> </dt>
<dd>
<p>Limits the number of commits to show to 3.</p>
</dd>
</dl>




<h2>DISCUSSION</h2>


<p>Git is to some extent character encoding agnostic.</p>


<ul>
<li>
<p>The contents of the blob objects are uninterpreted sequences
of bytes.  There is no encoding translation at the core
level.</p>
</li>
<li>
<p>Path names are encoded in UTF-8 normalization form C. This
applies to tree objects, the index file, ref names, as well as
path names in command line arguments, environment variables
and config files (<code>.git/config</code> (see <a href="/docs/git-config">git-config[1]</a>),
<a href="/docs/gitignore">gitignore[5]</a>, <a href="/docs/gitattributes">gitattributes[5]</a> and
<a href="/docs/gitmodules">gitmodules[5]</a>).</p>

<p>Note that Git at the core level treats path names simply as
sequences of non-NUL bytes, there are no path name encoding
conversions (except on Mac and Windows). Therefore, using
non-ASCII path names will mostly work even on platforms and file
systems that use legacy extended ASCII encodings. However,
repositories created on such systems will not work properly on
UTF-8-based systems (e.g. Linux, Mac, Windows) and vice versa.
Additionally, many Git-based tools simply assume path names to
be UTF-8 and will fail to display other encodings correctly.</p>

</li>
<li>
<p>Commit log messages are typically encoded in UTF-8, but other
extended ASCII encodings are also supported. This includes
ISO-8859-x, CP125x and many others, but <em>not</em> UTF-16/32,
EBCDIC and CJK multi-byte encodings (GBK, Shift-JIS, Big5,
EUC-x, CP9xx etc.).</p>
</li>
</ul>


<p>Although we encourage that the commit log messages are encoded
in UTF-8, both the core and Git Porcelain are designed not to
force UTF-8 on projects.  If all participants of a particular
project find it more convenient to use legacy encodings, Git
does not forbid it.  However, there are a few things to keep in
mind.</p>


<ol>
<li>
<p><em>git commit</em> and <em>git commit-tree</em> issues
a warning if the commit log message given to it does not look
like a valid UTF-8 string, unless you explicitly say your
project uses a legacy encoding.  The way to say this is to
have <code>i18n.commitEncoding</code> in <code>.git/config</code> file, like this:</p>


<pre>[i18n]
	commitEncoding = ISO-8859-1</pre>



<p>Commit objects created with the above setting record the value
of <code>i18n.commitEncoding</code> in its <code>encoding</code> header.  This is to
help other people who look at them later.  Lack of this header
implies that the commit log message is encoded in UTF-8.</p>

</li>
<li>
<p><em>git log</em>, <em>git show</em>, <em>git blame</em> and friends look at the
<code>encoding</code> header of a commit object, and try to re-code the
log message into UTF-8 unless otherwise specified.  You can
specify the desired output encoding with
<code>i18n.logOutputEncoding</code> in <code>.git/config</code> file, like this:</p>


<pre>[i18n]
	logOutputEncoding = ISO-8859-1</pre>



<p>If you do not have this configuration variable, the value of
<code>i18n.commitEncoding</code> is used instead.</p>

</li>
</ol>


<p>Note that we deliberately chose not to re-code the commit log
message when a commit is made to force UTF-8 at the commit
object level, because re-coding to UTF-8 is not necessarily a
reversible operation.</p>




<h2>CONFIGURATION</h2>


<p>See <a href="/docs/git-config">git-config[1]</a> for core variables and <a href="/docs/git-diff">git-diff[1]</a>
for settings related to diff generation.</p>


<dl>
<dt> format.pretty </dt>
<dd>
<p>Default for the <code>--format</code> option.  (See <em>Pretty Formats</em> above.)
Defaults to <code>medium</code>.</p>
</dd>
<dt> i18n.logOutputEncoding </dt>
<dd>
<p>Encoding to use when displaying logs.  (See <em>Discussion</em> above.)
Defaults to the value of <code>i18n.commitEncoding</code> if set, and UTF-8
otherwise.</p>
</dd>
<dt> log.date </dt>
<dd>
<p>Default format for human-readable dates.  (Compare the
<code>--date</code> option.)  Defaults to "default", which means to write
dates like <code>Sat May 8 19:35:34 2010 -0500</code>.</p>

<p>If the format is set to "auto:foo" and the pager is in use, format
"foo" will be the used for the date format. Otherwise "default" will
be used.</p>

</dd>
<dt> log.follow </dt>
<dd>
<p>If <code>true</code>, <code>git log</code> will act as if the <code>--follow</code> option was used when
a single &lt;path&gt; is given.  This has the same limitations as <code>--follow</code>,
i.e. it cannot be used to follow multiple files and does not work well
on non-linear history.</p>
</dd>
<dt> log.showRoot </dt>
<dd>
<p>If <code>false</code>, <code>git log</code> and related commands will not treat the
initial commit as a big creation event.  Any root commits in
<code>git log -p</code> output would be shown without a diff attached.
The default is <code>true</code>.</p>
</dd>
<dt> log.showSignature </dt>
<dd>
<p>If <code>true</code>, <code>git log</code> and related commands will act as if the
<code>--show-signature</code> option was passed to them.</p>
</dd>
<dt> mailmap.* </dt>
<dd>
<p>See <a href="/docs/git-shortlog">git-shortlog[1]</a>.</p>
</dd>
<dt> notes.displayRef </dt>
<dd>
<p>Which refs, in addition to the default set by <code>core.notesRef</code>
or <code>GIT_NOTES_REF</code>, to read notes from when showing commit
messages with the <code>log</code> family of commands.  See
<a href="/docs/git-notes">git-notes[1]</a>.</p>

<p>May be an unabbreviated ref name or a glob and may be specified
multiple times.  A warning will be issued for refs that do not exist,
but a glob that does not match any refs is silently ignored.</p>


<p>This setting can be disabled by the <code>--no-notes</code> option,
overridden by the <code>GIT_NOTES_DISPLAY_REF</code> environment variable,
and overridden by the <code>--notes=&lt;ref&gt;</code> option.</p>

</dd>
</dl>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-stash - Stash the changes in a dirty working directory away</span></h2>




<h2><br>synopsis</h2>


<pre><em>git stash</em> list [&lt;log-options&gt;]
<em>git stash</em> show [-u|--include-untracked|--only-untracked] [&lt;diff-options&gt;] [&lt;stash&gt;]
<em>git stash</em> drop [-q|--quiet] [&lt;stash&gt;]
<em>git stash</em> ( pop | apply ) [--index] [-q|--quiet] [&lt;stash&gt;]
<em>git stash</em> branch &lt;branchname&gt; [&lt;stash&gt;]
<em>git stash</em> [push [-p|--patch] [-S|--staged] [-k|--[no-]keep-index] [-q|--quiet]
	     [-u|--include-untracked] [-a|--all] [-m|--message &lt;message&gt;]
	     [--pathspec-from-file=&lt;file&gt; [--pathspec-file-nul]]
	     [--] [&lt;pathspec&gt;…<U+200B>]]
<em>git stash</em> clear
<em>git stash</em> create [&lt;message&gt;]
<em>git stash</em> store [-m|--message &lt;message&gt;] [-q|--quiet] &lt;commit&gt;</pre>




<h2>description</h2>


<p>Use <code>git stash</code> when you want to record the current state of the
working directory and the index, but want to go back to a clean
working directory.  The command saves your local modifications away
and reverts the working directory to match the <code>HEAD</code> commit.</p>


<p>The modifications stashed away by this command can be listed with
<code>git stash list</code>, inspected with <code>git stash show</code>, and restored
(potentially on top of a different commit) with <code>git stash apply</code>.
Calling <code>git stash</code> without any arguments is equivalent to <code>git stash push</code>.
A stash is by default listed as "WIP on <em>branchname</em> …<U+200B>", but
you can give a more descriptive message on the command line when
you create one.</p>


<p>The latest stash you created is stored in <code>refs/stash</code>; older
stashes are found in the reflog of this reference and can be named using
the usual reflog syntax (e.g. <code>stash@{0}</code> is the most recently
created stash, <code>stash@{1}</code> is the one before it, <code>stash@{2.hours.ago}</code>
is also possible). Stashes may also be referenced by specifying just the
stash index (e.g. the integer <code>n</code> is equivalent to <code>stash@{n}</code>).</p>




<h2>COMMANDS</h2>


<dl>
<dt> push [-p|--patch] [-S|--staged] [-k|--[no-]keep-index] [-u|--include-untracked] [-a|--all] [-q|--quiet] [-m|--message &lt;message&gt;] [--pathspec-from-file=&lt;file&gt; [--pathspec-file-nul]] [--] [&lt;pathspec&gt;…<U+200B>] </dt>
<dd>
<p>Save your local modifications to a new <em>stash entry</em> and roll them
back to HEAD (in the working tree and in the index).
The &lt;message&gt; part is optional and gives
the description along with the stashed state.</p>

<p>For quickly making a snapshot, you can omit "push".  In this mode,
non-option arguments are not allowed to prevent a misspelled
subcommand from making an unwanted stash entry.  The two exceptions to this
are <code>stash -p</code> which acts as alias for <code>stash push -p</code> and pathspec elements,
which are allowed after a double hyphen <code>--</code> for disambiguation.</p>

</dd>
<dt> save [-p|--patch] [-S|--staged] [-k|--[no-]keep-index] [-u|--include-untracked] [-a|--all] [-q|--quiet] [&lt;message&gt;] </dt>
<dd>
<p>This option is deprecated in favour of <em>git stash push</em>.  It
differs from "stash push" in that it cannot take pathspec.
Instead, all non-option arguments are concatenated to form the stash
message.</p>
</dd>
<dt> list [&lt;log-options&gt;] </dt>
<dd>
<p>List the stash entries that you currently have.  Each <em>stash entry</em> is
listed with its name (e.g. <code>stash@{0}</code> is the latest entry, <code>stash@{1}</code> is
the one before, etc.), the name of the branch that was current when the
entry was made, and a short description of the commit the entry was
based on.</p>


<pre>stash@{0}: WIP on submit: 6ebd0e2... Update git-stash documentation
stash@{1}: On master: 9cc0589... Add git-stash</pre>



<p>The command takes options applicable to the <em>git log</em>
command to control what is shown and how. See <a href="/docs/git-log">git-log[1]</a>.</p>

</dd>
<dt> show [-u|--include-untracked|--only-untracked] [&lt;diff-options&gt;] [&lt;stash&gt;] </dt>
<dd>
<p>Show the changes recorded in the stash entry as a diff between the
stashed contents and the commit back when the stash entry was first
created.
By default, the command shows the diffstat, but it will accept any
format known to <em>git diff</em> (e.g., <code>git stash show -p stash@{1}</code>
to view the second most recent entry in patch form).
If no <code>&lt;diff-option&gt;</code> is provided, the default behavior will be given
by the <code>stash.showStat</code>, and <code>stash.showPatch</code> config variables. You
can also use <code>stash.showIncludeUntracked</code> to set whether
<code>--include-untracked</code> is enabled by default.</p>
</dd>
<dt> pop [--index] [-q|--quiet] [&lt;stash&gt;] </dt>
<dd>
<p>Remove a single stashed state from the stash list and apply it
on top of the current working tree state, i.e., do the inverse
operation of <code>git stash push</code>. The working directory must
match the index.</p>

<p>Applying the state can fail with conflicts; in this case, it is not
removed from the stash list. You need to resolve the conflicts by hand
and call <code>git stash drop</code> manually afterwards.</p>

</dd>
<dt> apply [--index] [-q|--quiet] [&lt;stash&gt;] </dt>
<dd>
<p>Like <code>pop</code>, but do not remove the state from the stash list. Unlike <code>pop</code>,
<code>&lt;stash&gt;</code> may be any commit that looks like a commit created by
<code>stash push</code> or <code>stash create</code>.</p>
</dd>
<dt> branch &lt;branchname&gt; [&lt;stash&gt;] </dt>
<dd>
<p>Creates and checks out a new branch named <code>&lt;branchname&gt;</code> starting from
the commit at which the <code>&lt;stash&gt;</code> was originally created, applies the
changes recorded in <code>&lt;stash&gt;</code> to the new working tree and index.
If that succeeds, and <code>&lt;stash&gt;</code> is a reference of the form
<code>stash@{&lt;revision&gt;}</code>, it then drops the <code>&lt;stash&gt;</code>.</p>

<p>This is useful if the branch on which you ran <code>git stash push</code> has
changed enough that <code>git stash apply</code> fails due to conflicts. Since
the stash entry is applied on top of the commit that was HEAD at the
time <code>git stash</code> was run, it restores the originally stashed state
with no conflicts.</p>

</dd>
<dt> clear </dt>
<dd>
<p>Remove all the stash entries. Note that those entries will then
be subject to pruning, and may be impossible to recover (see
<em>Examples</em> below for a possible strategy).</p>
</dd>
<dt> drop [-q|--quiet] [&lt;stash&gt;] </dt>
<dd>
<p>Remove a single stash entry from the list of stash entries.</p>
</dd>
<dt> create </dt>
<dd>
<p>Create a stash entry (which is a regular commit object) and
return its object name, without storing it anywhere in the ref
namespace.
This is intended to be useful for scripts.  It is probably not
the command you want to use; see "push" above.</p>
</dd>
<dt> store </dt>
<dd>
<p>Store a given stash created via <em>git stash create</em> (which is a
dangling merge commit) in the stash ref, updating the stash
reflog.  This is intended to be useful for scripts.  It is
probably not the command you want to use; see "push" above.</p>
</dd>
</dl>




<h2>options</h2>


<dl>
<dt> -a </dt>
<dt> --all </dt>
<dd>
<p>This option is only valid for <code>push</code> and <code>save</code> commands.</p>

<p>All ignored and untracked files are also stashed and then cleaned
up with <code>git clean</code>.</p>

</dd>
<dt> -u </dt>
<dt> --include-untracked </dt>
<dt> --no-include-untracked </dt>
<dd>
<p>When used with the <code>push</code> and <code>save</code> commands,
all untracked files are also stashed and then cleaned up with
<code>git clean</code>.</p>

<p>When used with the <code>show</code> command, show the untracked files in the stash
entry as part of the diff.</p>

</dd>
<dt> --only-untracked </dt>
<dd>
<p>This option is only valid for the <code>show</code> command.</p>

<p>Show only the untracked files in the stash entry as part of the diff.</p>

</dd>
<dt> --index </dt>
<dd>
<p>This option is only valid for <code>pop</code> and <code>apply</code> commands.</p>

<p>Tries to reinstate not only the working tree’s changes, but also
the index’s ones. However, this can fail, when you have conflicts
(which are stored in the index, where you therefore can no longer
apply the changes as they were originally).</p>

</dd>
<dt> -k </dt>
<dt> --keep-index </dt>
<dt> --no-keep-index </dt>
<dd>
<p>This option is only valid for <code>push</code> and <code>save</code> commands.</p>

<p>All changes already added to the index are left intact.</p>

</dd>
<dt> -p </dt>
<dt> --patch </dt>
<dd>
<p>This option is only valid for <code>push</code> and <code>save</code> commands.</p>

<p>Interactively select hunks from the diff between HEAD and the
working tree to be stashed.  The stash entry is constructed such
that its index state is the same as the index state of your
repository, and its worktree contains only the changes you selected
interactively.  The selected changes are then rolled back from your
worktree. See the “Interactive Mode” section of <a href="/docs/git-add">git-add[1]</a>
to learn how to operate the <code>--patch</code> mode.</p>


<p>The <code>--patch</code> option implies <code>--keep-index</code>.  You can use
<code>--no-keep-index</code> to override this.</p>

</dd>
<dt> -S </dt>
<dt> --staged </dt>
<dd>
<p>This option is only valid for <code>push</code> and <code>save</code> commands.</p>

<p>Stash only the changes that are currently staged. This is similar to
basic <code>git commit</code> except the state is committed to the stash instead
of current branch.</p>


<p>The <code>--patch</code> option has priority over this one.</p>

</dd>
<dt> --pathspec-from-file=&lt;file&gt; </dt>
<dd>
<p>This option is only valid for <code>push</code> command.</p>

<p>Pathspec is passed in <code>&lt;file&gt;</code> instead of commandline args. If
<code>&lt;file&gt;</code> is exactly <code>-</code> then standard input is used. Pathspec
elements are separated by LF or CR/LF. Pathspec elements can be
quoted as explained for the configuration variable <code>core.quotePath</code>
(see <a href="/docs/git-config">git-config[1]</a>). See also <code>--pathspec-file-nul</code> and
global <code>--literal-pathspecs</code>.</p>

</dd>
<dt> --pathspec-file-nul </dt>
<dd>
<p>This option is only valid for <code>push</code> command.</p>

<p>Only meaningful with <code>--pathspec-from-file</code>. Pathspec elements are
separated with NUL character and all other characters are taken
literally (including newlines and quotes).</p>

</dd>
<dt> -q </dt>
<dt> --quiet </dt>
<dd>
<p>This option is only valid for <code>apply</code>, <code>drop</code>, <code>pop</code>, <code>push</code>,
<code>save</code>, <code>store</code> commands.</p>

<p>Quiet, suppress feedback messages.</p>

</dd>
<dt> -- </dt>
<dd>
<p>This option is only valid for <code>push</code> command.</p>

<p>Separates pathspec from options for disambiguation purposes.</p>

</dd>
<dt> &lt;pathspec&gt;…<U+200B> </dt>
<dd>
<p>This option is only valid for <code>push</code> command.</p>

<p>The new stash entry records the modified states only for the files
that match the pathspec.  The index entries and working tree files
are then rolled back to the state in HEAD only for these files,
too, leaving files that do not match the pathspec intact.</p>


<p>For more details, see the <em>pathspec</em> entry in <a href="/docs/gitglossary">gitglossary[7]</a>.</p>

</dd>
<dt> &lt;stash&gt; </dt>
<dd>
<p>This option is only valid for <code>apply</code>, <code>branch</code>, <code>drop</code>, <code>pop</code>,
<code>show</code> commands.</p>

<p>A reference of the form <code>stash@{&lt;revision&gt;}</code>. When no <code>&lt;stash&gt;</code> is
given, the latest stash is assumed (that is, <code>stash@{0}</code>).</p>

</dd>
</dl>




<h2>DISCUSSION</h2>


<p>A stash entry is represented as a commit whose tree records the state
of the working directory, and its first parent is the commit at <code>HEAD</code>
when the entry was created.  The tree of the second parent records the
state of the index when the entry is made, and it is made a child of
the <code>HEAD</code> commit.  The ancestry graph looks like this:</p>



<pre>       .----W
      /    /
-----H----I</pre>



<p>where <code>H</code> is the <code>HEAD</code> commit, <code>I</code> is a commit that records the state
of the index, and <code>W</code> is a commit that records the state of the working
tree.</p>




<h2>examples</h2>


<dl>
<dt> Pulling into a dirty tree </dt>
<dd>
<p>When you are in the middle of something, you learn that there are
upstream changes that are possibly relevant to what you are
doing.  When your local changes do not conflict with the changes in
the upstream, a simple <code>git pull</code> will let you move forward.</p>

<p>However, there are cases in which your local changes do conflict with
the upstream changes, and <code>git pull</code> refuses to overwrite your
changes.  In such a case, you can stash your changes away,
perform a pull, and then unstash, like this:</p>



<pre>$ git pull
 ...
file foobar not up to date, cannot merge.
$ git stash
$ git pull
$ git stash pop</pre>


</dd>
<dt> Interrupted workflow </dt>
<dd>
<p>When you are in the middle of something, your boss comes in and
demands that you fix something immediately.  Traditionally, you would
make a commit to a temporary branch to store your changes away, and
return to your original branch to make the emergency fix, like this:</p>


<pre># ... hack hack hack ...
$ git switch -c my_wip
$ git commit -a -m "WIP"
$ git switch master
$ edit emergency fix
$ git commit -a -m "Fix in a hurry"
$ git switch my_wip
$ git reset --soft HEAD^
# ... continue hacking ...</pre>



<p>You can use <em>git stash</em> to simplify the above, like this:</p>



<pre># ... hack hack hack ...
$ git stash
$ edit emergency fix
$ git commit -a -m "Fix in a hurry"
$ git stash pop
# ... continue hacking ...</pre>


</dd>
<dt> Testing partial commits </dt>
<dd>
<p>You can use <code>git stash push --keep-index</code> when you want to make two or
more commits out of the changes in the work tree, and you want to test
each change before committing:</p>


<pre># ... hack hack hack ...
$ git add --patch foo            # add just first part to the index
$ git stash push --keep-index    # save all other changes to the stash
$ edit/build/test first part
$ git commit -m 'First part'     # commit fully tested change
$ git stash pop                  # prepare to work on all other changes
# ... repeat above five steps until one commit remains ...
$ edit/build/test remaining parts
$ git commit foo -m 'Remaining parts'</pre>


</dd>
<dt> Saving unrelated changes for future use </dt>
<dd>
<p>When you are in the middle of massive changes and you find some
unrelated issue that you don’t want to forget to fix, you can do the
change(s), stage them, and use <code>git stash push --staged</code> to stash them
out for future use. This is similar to committing the staged changes,
only the commit ends-up being in the stash and not on the current branch.</p>


<pre># ... hack hack hack ...
$ git add --patch foo           # add unrelated changes to the index
$ git stash push --staged       # save these changes to the stash
# ... hack hack hack, finish curent changes ...
$ git commit -m 'Massive'       # commit fully tested changes
$ git switch fixup-branch       # switch to another branch
$ git stash pop                 # to finish work on the saved changes</pre>


</dd>
<dt> Recovering stash entries that were cleared/dropped erroneously </dt>
<dd>
<p>If you mistakenly drop or clear stash entries, they cannot be recovered
through the normal safety mechanisms.  However, you can try the
following incantation to get a list of stash entries that are still in
your repository, but not reachable any more:</p>


<pre>git fsck --unreachable |
grep commit | cut -d\  -f3 |
xargs git log --merges --no-walk --grep=WIP</pre>


</dd>
</dl>




<h2>SEE ALSO</h2>


<p><a href="/docs/git-checkout">git-checkout[1]</a>,
<a href="/docs/git-commit">git-commit[1]</a>,
<a href="/docs/git-reflog">git-reflog[1]</a>,
<a href="/docs/git-reset">git-reset[1]</a>,
<a href="/docs/git-switch">git-switch[1]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-tag - Create, list, delete or verify a tag object signed with GPG</span></h2>




<h2><br>synopsis</h2>


<pre><em>git tag</em> [-a | -s | -u &lt;keyid&gt;] [-f] [-m &lt;msg&gt; | -F &lt;file&gt;] [-e]
	&lt;tagname&gt; [&lt;commit&gt; | &lt;object&gt;]
<em>git tag</em> -d &lt;tagname&gt;…<U+200B>
<em>git tag</em> [-n[&lt;num&gt;]] -l [--contains &lt;commit&gt;] [--no-contains &lt;commit&gt;]
	[--points-at &lt;object&gt;] [--column[=&lt;options&gt;] | --no-column]
	[--create-reflog] [--sort=&lt;key&gt;] [--format=&lt;format&gt;]
	[--merged &lt;commit&gt;] [--no-merged &lt;commit&gt;] [&lt;pattern&gt;…<U+200B>]
<em>git tag</em> -v [--format=&lt;format&gt;] &lt;tagname&gt;…<U+200B></pre>




<h2>description</h2>


<p>Add a tag reference in <code>refs/tags/</code>, unless <code>-d/-l/-v</code> is given
to delete, list or verify tags.</p>


<p>Unless <code>-f</code> is given, the named tag must not yet exist.</p>


<p>If one of <code>-a</code>, <code>-s</code>, or <code>-u &lt;keyid&gt;</code> is passed, the command
creates a <em>tag</em> object, and requires a tag message.  Unless
<code>-m &lt;msg&gt;</code> or <code>-F &lt;file&gt;</code> is given, an editor is started for the user to type
in the tag message.</p>


<p>If <code>-m &lt;msg&gt;</code> or <code>-F &lt;file&gt;</code> is given and <code>-a</code>, <code>-s</code>, and <code>-u &lt;keyid&gt;</code>
are absent, <code>-a</code> is implied.</p>


<p>Otherwise, a tag reference that points directly at the given object
(i.e., a lightweight tag) is created.</p>


<p>A GnuPG signed tag object will be created when <code>-s</code> or <code>-u
&lt;keyid&gt;</code> is used.  When <code>-u &lt;keyid&gt;</code> is not used, the
committer identity for the current user is used to find the
GnuPG key for signing. 	The configuration variable <code>gpg.program</code>
is used to specify custom GnuPG binary.</p>


<p>Tag objects (created with <code>-a</code>, <code>-s</code>, or <code>-u</code>) are called "annotated"
tags; they contain a creation date, the tagger name and e-mail, a
tagging message, and an optional GnuPG signature. Whereas a
"lightweight" tag is simply a name for an object (usually a commit
object).</p>


<p>Annotated tags are meant for release while lightweight tags are meant
for private or temporary object labels. For this reason, some git
commands for naming objects (like <code>git describe</code>) will ignore
lightweight tags by default.</p>




<h2>options</h2>


<dl>
<dt> -a </dt>
<dt> --annotate </dt>
<dd>
<p>Make an unsigned, annotated tag object</p>
</dd>
<dt> -s </dt>
<dt> --sign </dt>
<dd>
<p>Make a GPG-signed tag, using the default e-mail address’s key.
The default behavior of tag GPG-signing is controlled by <code>tag.gpgSign</code>
configuration variable if it exists, or disabled otherwise.
See <a href="/docs/git-config">git-config[1]</a>.</p>
</dd>
<dt> --no-sign </dt>
<dd>
<p>Override <code>tag.gpgSign</code> configuration variable that is
set to force each and every tag to be signed.</p>
</dd>
<dt> -u &lt;keyid&gt; </dt>
<dt> --local-user=&lt;keyid&gt; </dt>
<dd>
<p>Make a GPG-signed tag, using the given key.</p>
</dd>
<dt> -f </dt>
<dt> --force </dt>
<dd>
<p>Replace an existing tag with the given name (instead of failing)</p>
</dd>
<dt> -d </dt>
<dt> --delete </dt>
<dd>
<p>Delete existing tags with the given names.</p>
</dd>
<dt> -v </dt>
<dt> --verify </dt>
<dd>
<p>Verify the GPG signature of the given tag names.</p>
</dd>
<dt> -n&lt;num&gt; </dt>
<dd>
<p>&lt;num&gt; specifies how many lines from the annotation, if any,
are printed when using -l. Implies <code>--list</code>.</p>

<p>The default is not to print any annotation lines.
If no number is given to <code>-n</code>, only the first line is printed.
If the tag is not annotated, the commit message is displayed instead.</p>

</dd>
<dt> -l </dt>
<dt> --list </dt>
<dd>
<p>List tags. With optional <code>&lt;pattern&gt;...</code>, e.g. <code>git tag --list
'v-*'</code>, list only the tags that match the pattern(s).</p>

<p>Running "git tag" without arguments also lists all tags. The pattern
is a shell wildcard (i.e., matched using fnmatch(3)). Multiple
patterns may be given; if any of them matches, the tag is shown.</p>


<p>This option is implicitly supplied if any other list-like option such
as <code>--contains</code> is provided. See the documentation for each of those
options for details.</p>

</dd>
<dt> --sort=&lt;key&gt; </dt>
<dd>
<p>Sort based on the key given.  Prefix <code>-</code> to sort in
descending order of the value. You may use the --sort=&lt;key&gt; option
multiple times, in which case the last key becomes the primary
key. Also supports "version:refname" or "v:refname" (tag
names are treated as versions). The "version:refname" sort
order can also be affected by the "versionsort.suffix"
configuration variable.
The keys supported are the same as those in <code>git for-each-ref</code>.
Sort order defaults to the value configured for the <code>tag.sort</code>
variable if it exists, or lexicographic order otherwise. See
<a href="/docs/git-config">git-config[1]</a>.</p>
</dd>
<dt> --color[=&lt;when&gt;] </dt>
<dd>
<p>Respect any colors specified in the <code>--format</code> option. The
<code>&lt;when&gt;</code> field must be one of <code>always</code>, <code>never</code>, or <code>auto</code> (if
<code>&lt;when&gt;</code> is absent, behave as if <code>always</code> was given).</p>
</dd>
<dt> -i </dt>
<dt> --ignore-case </dt>
<dd>
<p>Sorting and filtering tags are case insensitive.</p>
</dd>
<dt> --column[=&lt;options&gt;] </dt>
<dt> --no-column </dt>
<dd>
<p>Display tag listing in columns. See configuration variable
<code>column.tag</code> for option syntax. <code>--column</code> and <code>--no-column</code>
without options are equivalent to <em>always</em> and <em>never</em> respectively.</p>

<p>This option is only applicable when listing tags without annotation lines.</p>

</dd>
<dt> --contains [&lt;commit&gt;] </dt>
<dd>
<p>Only list tags which contain the specified commit (HEAD if not
specified). Implies <code>--list</code>.</p>
</dd>
<dt> --no-contains [&lt;commit&gt;] </dt>
<dd>
<p>Only list tags which don’t contain the specified commit (HEAD if
not specified). Implies <code>--list</code>.</p>
</dd>
<dt> --merged [&lt;commit&gt;] </dt>
<dd>
<p>Only list tags whose commits are reachable from the specified
commit (<code>HEAD</code> if not specified).</p>
</dd>
<dt> --no-merged [&lt;commit&gt;] </dt>
<dd>
<p>Only list tags whose commits are not reachable from the specified
commit (<code>HEAD</code> if not specified).</p>
</dd>
<dt> --points-at &lt;object&gt; </dt>
<dd>
<p>Only list tags of the given object (HEAD if not
specified). Implies <code>--list</code>.</p>
</dd>
<dt> -m &lt;msg&gt; </dt>
<dt> --message=&lt;msg&gt; </dt>
<dd>
<p>Use the given tag message (instead of prompting).
If multiple <code>-m</code> options are given, their values are
concatenated as separate paragraphs.
Implies <code>-a</code> if none of <code>-a</code>, <code>-s</code>, or <code>-u &lt;keyid&gt;</code>
is given.</p>
</dd>
<dt> -F &lt;file&gt; </dt>
<dt> --file=&lt;file&gt; </dt>
<dd>
<p>Take the tag message from the given file.  Use <em>-</em> to
read the message from the standard input.
Implies <code>-a</code> if none of <code>-a</code>, <code>-s</code>, or <code>-u &lt;keyid&gt;</code>
is given.</p>
</dd>
<dt> -e </dt>
<dt> --edit </dt>
<dd>
<p>The message taken from file with <code>-F</code> and command line with
<code>-m</code> are usually used as the tag message unmodified.
This option lets you further edit the message taken from these sources.</p>
</dd>
<dt> --cleanup=&lt;mode&gt; </dt>
<dd>
<p>This option sets how the tag message is cleaned up.
The  <em>&lt;mode&gt;</em> can be one of <em>verbatim</em>, <em>whitespace</em> and <em>strip</em>.  The
<em>strip</em> mode is default. The <em>verbatim</em> mode does not change message at
all, <em>whitespace</em> removes just leading/trailing whitespace lines and
<em>strip</em> removes both whitespace and commentary.</p>
</dd>
<dt> --create-reflog </dt>
<dd>
<p>Create a reflog for the tag. To globally enable reflogs for tags, see
<code>core.logAllRefUpdates</code> in <a href="/docs/git-config">git-config[1]</a>.
The negated form <code>--no-create-reflog</code> only overrides an earlier
<code>--create-reflog</code>, but currently does not negate the setting of
<code>core.logAllRefUpdates</code>.</p>
</dd>
<dt> --format=&lt;format&gt; </dt>
<dd>
<p>A string that interpolates <code>%(fieldname)</code> from a tag ref being shown
and the object it points at.  The format is the same as
that of <a href="/docs/git-for-each-ref">git-for-each-ref[1]</a>.  When unspecified,
defaults to <code>%(refname:strip=2)</code>.</p>
</dd>
<dt> &lt;tagname&gt; </dt>
<dd>
<p>The name of the tag to create, delete, or describe.
The new tag name must pass all checks defined by
<a href="/docs/git-check-ref-format">git-check-ref-format[1]</a>.  Some of these checks
may restrict the characters allowed in a tag name.</p>
</dd>
<dt> &lt;commit&gt; </dt>
<dt> &lt;object&gt; </dt>
<dd>
<p>The object that the new tag will refer to, usually a commit.
Defaults to HEAD.</p>
</dd>
</dl>




<h2>CONFIGURATION</h2>


<p>By default, <em>git tag</em> in sign-with-default mode (-s) will use your
committer identity (of the form <code>Your Name &lt;your@email.address&gt;</code>) to
find a key.  If you want to use a different default key, you can specify
it in the repository configuration as follows:</p>



<pre>[user]
    signingKey = &lt;gpg-keyid&gt;</pre>



<p><code>pager.tag</code> is only respected when listing tags, i.e., when <code>-l</code> is
used or implied. The default is to use a pager.
See <a href="/docs/git-config">git-config[1]</a>.</p>




<h2>DISCUSSION</h2>


<h3>
On Re-tagging</h3>

<p>What should you do when you tag a wrong commit and you would
want to re-tag?</p>


<p>If you never pushed anything out, just re-tag it. Use "-f" to
replace the old one. And you’re done.</p>


<p>But if you have pushed things out (or others could just read
your repository directly), then others will have already seen
the old tag. In that case you can do one of two things:</p>


<ol>
<li>
<p>The sane thing.
Just admit you screwed up, and use a different name. Others have
already seen one tag-name, and if you keep the same name, you
may be in the situation that two people both have "version X",
but they actually have <em>different</em> "X"'s.  So just call it "X.1"
and be done with it.</p>
</li>
<li>
<p>The insane thing.
You really want to call the new version "X" too, <em>even though</em>
others have already seen the old one. So just use <em>git tag -f</em>
again, as if you hadn’t already published the old one.</p>
</li>
</ol>


<p>However, Git does <strong>not</strong> (and it should not) change tags behind
users back. So if somebody already got the old tag, doing a
<em>git pull</em> on your tree shouldn’t just make them overwrite the old
one.</p>


<p>If somebody got a release tag from you, you cannot just change
the tag for them by updating your own one. This is a big
security issue, in that people MUST be able to trust their
tag-names.  If you really want to do the insane thing, you need
to just fess up to it, and tell people that you messed up. You
can do that by making a very public announcement saying:</p>



<pre>Ok, I messed up, and I pushed out an earlier version tagged as X. I
then fixed something, and retagged the *fixed* tree as X again.

If you got the wrong tag, and want the new one, please delete
the old one and fetch the new one by doing:

	git tag -d X
	git fetch origin tag X

to get my updated tag.

You can test which tag you have by doing

	git rev-parse X

which should return 0123456789abcdef.. if you have the new version.

Sorry for the inconvenience.</pre>



<p>Does this seem a bit complicated?  It <strong>should</strong> be. There is no
way that it would be correct to just "fix" it automatically.
People need to know that their tags might have been changed.</p>



<h3>
On Automatic following</h3>

<p>If you are following somebody else’s tree, you are most likely
using remote-tracking branches (eg. <code>refs/remotes/origin/master</code>).
You usually want the tags from the other end.</p>


<p>On the other hand, if you are fetching because you would want a
one-shot merge from somebody else, you typically do not want to
get tags from there.  This happens more often for people near
the toplevel but not limited to them.  Mere mortals when pulling
from each other do not necessarily want to automatically get
private anchor point tags from the other person.</p>


<p>Often, "please pull" messages on the mailing list just provide
two pieces of information: a repo URL and a branch name; this
is designed to be easily cut&amp;pasted at the end of a <em>git fetch</em>
command line:</p>



<pre>Linus, please pull from

	git://git..../proj.git master

to get the following updates...</pre>



<p>becomes:</p>



<pre>$ git pull git://git..../proj.git master</pre>



<p>In such a case, you do not want to automatically follow the other
person’s tags.</p>


<p>One important aspect of Git is its distributed nature, which
largely means there is no inherent "upstream" or
"downstream" in the system.  On the face of it, the above
example might seem to indicate that the tag namespace is owned
by the upper echelon of people and that tags only flow downwards, but
that is not the case.  It only shows that the usage pattern
determines who are interested in whose tags.</p>


<p>A one-shot pull is a sign that a commit history is now crossing
the boundary between one circle of people (e.g. "people who are
primarily interested in the networking part of the kernel") who may
have their own set of tags (e.g. "this is the third release
candidate from the networking group to be proposed for general
consumption with 2.6.21 release") to another circle of people
(e.g. "people who integrate various subsystem improvements").
The latter are usually not interested in the detailed tags used
internally in the former group (that is what "internal" means).
That is why it is desirable not to follow tags automatically in
this case.</p>


<p>It may well be that among networking people, they may want to
exchange the tags internal to their group, but in that workflow
they are most likely tracking each other’s progress by
having remote-tracking branches.  Again, the heuristic to automatically
follow such tags is a good thing.</p>



<h3>
On Backdating Tags</h3>

<p>If you have imported some changes from another VCS and would like
to add tags for major releases of your work, it is useful to be able
to specify the date to embed inside of the tag object; such data in
the tag object affects, for example, the ordering of tags in the
gitweb interface.</p>


<p>To set the date used in future tag objects, set the environment
variable GIT_COMMITTER_DATE (see the later discussion of possible
values; the most common form is "YYYY-MM-DD HH:MM").</p>


<p>For example:</p>



<pre>$ GIT_COMMITTER_DATE="2006-10-02 10:31" git tag -s v1.0.1</pre>






<h2>DATE FORMATS</h2>


<p>The <code>GIT_AUTHOR_DATE</code> and <code>GIT_COMMITTER_DATE</code> environment variables
support the following date formats:</p>


<dl>
<dt> Git internal format </dt>
<dd>
<p>It is <code>&lt;unix-timestamp&gt; &lt;time-zone-offset&gt;</code>, where
<code>&lt;unix-timestamp&gt;</code> is the number of seconds since the UNIX epoch.
<code>&lt;time-zone-offset&gt;</code> is a positive or negative offset from UTC.
For example CET (which is 1 hour ahead of UTC) is <code>+0100</code>.</p>
</dd>
<dt> RFC 2822 </dt>
<dd>
<p>The standard email format as described by RFC 2822, for example
<code>Thu, 07 Apr 2005 22:13:13 +0200</code>.</p>
</dd>
<dt> ISO 8601 </dt>
<dd>
<p>Time and date specified by the ISO 8601 standard, for example
<code>2005-04-07T22:13:13</code>. The parser accepts a space instead of the
<code>T</code> character as well. Fractional parts of a second will be ignored,
for example <code>2005-04-07T22:13:13.019</code> will be treated as
<code>2005-04-07T22:13:13</code>.</p>

<table><tr>
<td>
Note
</td>
<td>
In addition, the date part is accepted in the following formats:
<code>YYYY.MM.DD</code>, <code>MM/DD/YYYY</code> and <code>DD.MM.YYYY</code>.
</td>
</tr></table>

</dd>
</dl>




<h2>NOTES</h2>


<p>When combining multiple <code>--contains</code> and <code>--no-contains</code> filters, only
references that contain at least one of the <code>--contains</code> commits and
contain none of the <code>--no-contains</code> commits are shown.</p>


<p>When combining multiple <code>--merged</code> and <code>--no-merged</code> filters, only
references that are reachable from at least one of the <code>--merged</code>
commits and from none of the <code>--no-merged</code> commits are shown.</p>




<h2>SEE ALSO</h2>


<p><a href="/docs/git-check-ref-format">git-check-ref-format[1]</a>.
<a href="/docs/git-config">git-config[1]</a>.</p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-worktree - Manage multiple working trees</span></h2>




<h2><br>synopsis</h2>


<pre><em>git worktree add</em> [-f] [--detach] [--checkout] [--lock [--reason &lt;string&gt;]] [-b &lt;new-branch&gt;] &lt;path&gt; [&lt;commit-ish&gt;]
<em>git worktree list</em> [-v | --porcelain]
<em>git worktree lock</em> [--reason &lt;string&gt;] &lt;worktree&gt;
<em>git worktree move</em> &lt;worktree&gt; &lt;new-path&gt;
<em>git worktree prune</em> [-n] [-v] [--expire &lt;expire&gt;]
<em>git worktree remove</em> [-f] &lt;worktree&gt;
<em>git worktree repair</em> [&lt;path&gt;…<U+200B>]
<em>git worktree unlock</em> &lt;worktree&gt;</pre>




<h2>description</h2>


<p>Manage multiple working trees attached to the same repository.</p>


<p>A git repository can support multiple working trees, allowing you to check
out more than one branch at a time.  With <code>git worktree add</code> a new working
tree is associated with the repository.  This new working tree is called a
"linked working tree" as opposed to the "main working tree" prepared by
<a href="/docs/git-init">git-init[1]</a> or <a href="/docs/git-clone">git-clone[1]</a>.
A repository has one main working tree (if it’s not a
bare repository) and zero or more linked working trees. When you are done
with a linked working tree, remove it with <code>git worktree remove</code>.</p>


<p>In its simplest form, <code>git worktree add &lt;path&gt;</code> automatically creates a
new branch whose name is the final component of <code>&lt;path&gt;</code>, which is
convenient if you plan to work on a new topic. For instance, <code>git
worktree add ../hotfix</code> creates new branch <code>hotfix</code> and checks it out at
path <code>../hotfix</code>. To instead work on an existing branch in a new working
tree, use <code>git worktree add &lt;path&gt; &lt;branch&gt;</code>. On the other hand, if you
just plan to make some experimental changes or do testing without
disturbing existing development, it is often convenient to create a
<em>throwaway</em> working tree not associated with any branch. For instance,
<code>git worktree add -d &lt;path&gt;</code> creates a new working tree with a detached
<code>HEAD</code> at the same commit as the current branch.</p>


<p>If a working tree is deleted without using <code>git worktree remove</code>, then
its associated administrative files, which reside in the repository
(see "DETAILS" below), will eventually be removed automatically (see
<code>gc.worktreePruneExpire</code> in <a href="/docs/git-config">git-config[1]</a>), or you can run
<code>git worktree prune</code> in the main or any linked working tree to
clean up any stale administrative files.</p>


<p>If a linked working tree is stored on a portable device or network share
which is not always mounted, you can prevent its administrative files from
being pruned by issuing the <code>git worktree lock</code> command, optionally
specifying <code>--reason</code> to explain why the working tree is locked.</p>




<h2>COMMANDS</h2>


<dl>
<dt> add &lt;path&gt; [&lt;commit-ish&gt;] </dt>
<dd>
<p>Create <code>&lt;path&gt;</code> and checkout <code>&lt;commit-ish&gt;</code> into it. The new working directory
is linked to the current repository, sharing everything except working
directory specific files such as <code>HEAD</code>, <code>index</code>, etc. As a convenience,
<code>&lt;commit-ish&gt;</code> may be a bare "<code>-</code>", which is synonymous with <code>@{-1}</code>.</p>

<p>If <code>&lt;commit-ish&gt;</code> is a branch name (call it <code>&lt;branch&gt;</code>) and is not found,
and neither <code>-b</code> nor <code>-B</code> nor <code>--detach</code> are used, but there does
exist a tracking branch in exactly one remote (call it <code>&lt;remote&gt;</code>)
with a matching name, treat as equivalent to:</p>



<pre>$ git worktree add --track -b &lt;branch&gt; &lt;path&gt; &lt;remote&gt;/&lt;branch&gt;</pre>



<p>If the branch exists in multiple remotes and one of them is named by
the <code>checkout.defaultRemote</code> configuration variable, we’ll use that
one for the purposes of disambiguation, even if the <code>&lt;branch&gt;</code> isn’t
unique across all remotes. Set it to
e.g. <code>checkout.defaultRemote=origin</code> to always checkout remote
branches from there if <code>&lt;branch&gt;</code> is ambiguous but exists on the
<code>origin</code> remote. See also <code>checkout.defaultRemote</code> in
<a href="/docs/git-config">git-config[1]</a>.</p>


<p>If <code>&lt;commit-ish&gt;</code> is omitted and neither <code>-b</code> nor <code>-B</code> nor <code>--detach</code> used,
then, as a convenience, the new working tree is associated with a branch
(call it <code>&lt;branch&gt;</code>) named after <code>$(basename &lt;path&gt;)</code>.  If <code>&lt;branch&gt;</code>
doesn’t exist, a new branch based on <code>HEAD</code> is automatically created as
if <code>-b &lt;branch&gt;</code> was given.  If <code>&lt;branch&gt;</code> does exist, it will be
checked out in the new working tree, if it’s not checked out anywhere
else, otherwise the command will refuse to create the working tree (unless
<code>--force</code> is used).</p>

</dd>
<dt> list </dt>
<dd>
<p>List details of each working tree.  The main working tree is listed first,
followed by each of the linked working trees.  The output details include
whether the working tree is bare, the revision currently checked out, the
branch currently checked out (or "detached HEAD" if none), "locked" if
the worktree is locked, "prunable" if the worktree can be pruned by <code>prune</code>
command.</p>
</dd>
<dt> lock </dt>
<dd>
<p>If a working tree is on a portable device or network share which
is not always mounted, lock it to prevent its administrative
files from being pruned automatically. This also prevents it from
being moved or deleted. Optionally, specify a reason for the lock
with <code>--reason</code>.</p>
</dd>
<dt> move </dt>
<dd>
<p>Move a working tree to a new location. Note that the main working tree
or linked working trees containing submodules cannot be moved with this
command. (The <code>git worktree repair</code> command, however, can reestablish
the connection with linked working trees if you move the main working
tree manually.)</p>
</dd>
<dt> prune </dt>
<dd>
<p>Prune working tree information in <code>$GIT_DIR/worktrees</code>.</p>
</dd>
<dt> remove </dt>
<dd>
<p>Remove a working tree. Only clean working trees (no untracked files
and no modification in tracked files) can be removed. Unclean working
trees or ones with submodules can be removed with <code>--force</code>. The main
working tree cannot be removed.</p>
</dd>
<dt> repair [&lt;path&gt;…<U+200B>] </dt>
<dd>
<p>Repair working tree administrative files, if possible, if they have
become corrupted or outdated due to external factors.</p>

<p>For instance, if the main working tree (or bare repository) is moved,
linked working trees will be unable to locate it. Running <code>repair</code> in
the main working tree will reestablish the connection from linked
working trees back to the main working tree.</p>


<p>Similarly, if a linked working tree is moved without using <code>git worktree
move</code>, the main working tree (or bare repository) will be unable to
locate it. Running <code>repair</code> within the recently-moved working tree will
reestablish the connection. If multiple linked working trees are moved,
running <code>repair</code> from any working tree with each tree’s new <code>&lt;path&gt;</code> as
an argument, will reestablish the connection to all the specified paths.</p>


<p>If both the main working tree and linked working trees have been moved
manually, then running <code>repair</code> in the main working tree and specifying the
new <code>&lt;path&gt;</code> of each linked working tree will reestablish all connections
in both directions.</p>

</dd>
<dt> unlock </dt>
<dd>
<p>Unlock a working tree, allowing it to be pruned, moved or deleted.</p>
</dd>
</dl>




<h2>options</h2>


<dl>
<dt> -f </dt>
<dt> --force </dt>
<dd>
<p>By default, <code>add</code> refuses to create a new working tree when
<code>&lt;commit-ish&gt;</code> is a branch name and is already checked out by
another working tree, or if <code>&lt;path&gt;</code> is already assigned to some
working tree but is missing (for instance, if <code>&lt;path&gt;</code> was deleted
manually). This option overrides these safeguards. To add a missing but
locked working tree path, specify <code>--force</code> twice.</p>

<p><code>move</code> refuses to move a locked working tree unless <code>--force</code> is specified
twice. If the destination is already assigned to some other working tree but is
missing (for instance, if <code>&lt;new-path&gt;</code> was deleted manually), then <code>--force</code>
allows the move to proceed; use <code>--force</code> twice if the destination is locked.</p>


<p><code>remove</code> refuses to remove an unclean working tree unless <code>--force</code> is used.
To remove a locked working tree, specify <code>--force</code> twice.</p>

</dd>
<dt> -b &lt;new-branch&gt; </dt>
<dt> -B &lt;new-branch&gt; </dt>
<dd>
<p>With <code>add</code>, create a new branch named <code>&lt;new-branch&gt;</code> starting at
<code>&lt;commit-ish&gt;</code>, and check out <code>&lt;new-branch&gt;</code> into the new working tree.
If <code>&lt;commit-ish&gt;</code> is omitted, it defaults to <code>HEAD</code>.
By default, <code>-b</code> refuses to create a new branch if it already
exists. <code>-B</code> overrides this safeguard, resetting <code>&lt;new-branch&gt;</code> to
<code>&lt;commit-ish&gt;</code>.</p>
</dd>
<dt> -d </dt>
<dt> --detach </dt>
<dd>
<p>With <code>add</code>, detach <code>HEAD</code> in the new working tree. See "DETACHED HEAD"
in <a href="/docs/git-checkout">git-checkout[1]</a>.</p>
</dd>
<dt> --[no-]checkout </dt>
<dd>
<p>By default, <code>add</code> checks out <code>&lt;commit-ish&gt;</code>, however, <code>--no-checkout</code> can
be used to suppress checkout in order to make customizations,
such as configuring sparse-checkout. See "Sparse checkout"
in <a href="/docs/git-read-tree">git-read-tree[1]</a>.</p>
</dd>
<dt> --[no-]guess-remote </dt>
<dd>
<p>With <code>worktree add &lt;path&gt;</code>, without <code>&lt;commit-ish&gt;</code>, instead
of creating a new branch from <code>HEAD</code>, if there exists a tracking
branch in exactly one remote matching the basename of <code>&lt;path&gt;</code>,
base the new branch on the remote-tracking branch, and mark
the remote-tracking branch as "upstream" from the new branch.</p>

<p>This can also be set up as the default behaviour by using the
<code>worktree.guessRemote</code> config option.</p>

</dd>
<dt> --[no-]track </dt>
<dd>
<p>When creating a new branch, if <code>&lt;commit-ish&gt;</code> is a branch,
mark it as "upstream" from the new branch.  This is the
default if <code>&lt;commit-ish&gt;</code> is a remote-tracking branch.  See
<code>--track</code> in <a href="/docs/git-branch">git-branch[1]</a> for details.</p>
</dd>
<dt> --lock </dt>
<dd>
<p>Keep the working tree locked after creation. This is the
equivalent of <code>git worktree lock</code> after <code>git worktree add</code>,
but without a race condition.</p>
</dd>
<dt> -n </dt>
<dt> --dry-run </dt>
<dd>
<p>With <code>prune</code>, do not remove anything; just report what it would
remove.</p>
</dd>
<dt> --porcelain </dt>
<dd>
<p>With <code>list</code>, output in an easy-to-parse format for scripts.
This format will remain stable across Git versions and regardless of user
configuration.  See below for details.</p>
</dd>
<dt> -q </dt>
<dt> --quiet </dt>
<dd>
<p>With <code>add</code>, suppress feedback messages.</p>
</dd>
<dt> -v </dt>
<dt> --verbose </dt>
<dd>
<p>With <code>prune</code>, report all removals.</p>

<p>With <code>list</code>, output additional information about worktrees (see below).</p>

</dd>
<dt> --expire &lt;time&gt; </dt>
<dd>
<p>With <code>prune</code>, only expire unused working trees older than <code>&lt;time&gt;</code>.</p>

<p>With <code>list</code>, annotate missing working trees as prunable if they are
older than <code>&lt;time&gt;</code>.</p>

</dd>
<dt> --reason &lt;string&gt; </dt>
<dd>
<p>With <code>lock</code> or with <code>add --lock</code>, an explanation why the working tree is locked.</p>
</dd>
<dt> &lt;worktree&gt; </dt>
<dd>
<p>Working trees can be identified by path, either relative or
absolute.</p>

<p>If the last path components in the working tree’s path is unique among
working trees, it can be used to identify a working tree. For example if
you only have two working trees, at <code>/abc/def/ghi</code> and <code>/abc/def/ggg</code>,
then <code>ghi</code> or <code>def/ghi</code> is enough to point to the former working tree.</p>

</dd>
</dl>




<h2>REFS</h2>


<p>In multiple working trees, some refs may be shared between all working
trees and some refs are local. One example is <code>HEAD</code> which is different for each
working tree. This section is about the sharing rules and how to access
refs of one working tree from another.</p>


<p>In general, all pseudo refs are per working tree and all refs starting
with <code>refs/</code> are shared. Pseudo refs are ones like <code>HEAD</code> which are
directly under <code>$GIT_DIR</code> instead of inside <code>$GIT_DIR/refs</code>. There are
exceptions, however: refs inside <code>refs/bisect</code> and <code>refs/worktree</code> are not
shared.</p>


<p>Refs that are per working tree can still be accessed from another
working tree via two special paths, <code>main-worktree</code> and <code>worktrees</code>. The
former gives access to per-working tree refs of the main working tree,
while the latter to all linked working trees.</p>


<p>For example, <code>main-worktree/HEAD</code> or <code>main-worktree/refs/bisect/good</code>
resolve to the same value as the main working tree’s <code>HEAD</code> and
<code>refs/bisect/good</code> respectively. Similarly, <code>worktrees/foo/HEAD</code> or
<code>worktrees/bar/refs/bisect/bad</code> are the same as
<code>$GIT_COMMON_DIR/worktrees/foo/HEAD</code> and
<code>$GIT_COMMON_DIR/worktrees/bar/refs/bisect/bad</code>.</p>


<p>To access refs, it’s best not to look inside <code>$GIT_DIR</code> directly. Instead
use commands such as <a href="/docs/git-rev-parse">git-rev-parse[1]</a> or <a href="/docs/git-update-ref">git-update-ref[1]</a>
which will handle refs correctly.</p>




<h2>CONFIGURATION FILE</h2>


<p>By default, the repository <code>config</code> file is shared across all working
trees. If the config variables <code>core.bare</code> or <code>core.worktree</code> are
already present in the config file, they will be applied to the main
working trees only.</p>


<p>In order to have configuration specific to working trees, you can turn
on the <code>worktreeConfig</code> extension, e.g.:</p>



<pre>$ git config extensions.worktreeConfig true</pre>



<p>In this mode, specific configuration stays in the path pointed by <code>git
rev-parse --git-path config.worktree</code>. You can add or update
configuration in this file with <code>git config --worktree</code>. Older Git
versions will refuse to access repositories with this extension.</p>


<p>Note that in this file, the exception for <code>core.bare</code> and <code>core.worktree</code>
is gone. If they exist in <code>$GIT_DIR/config</code>, you must move
them to the <code>config.worktree</code> of the main working tree. You may also
take this opportunity to review and move other configuration that you
do not want to share to all working trees:</p>


<ul>
<li>
<p><code>core.worktree</code> and <code>core.bare</code> should never be shared</p>
</li>
<li>
<p><code>core.sparseCheckout</code> is recommended per working tree, unless you
are sure you always use sparse checkout for all working trees.</p>
</li>
</ul>




<h2>DETAILS</h2>


<p>Each linked working tree has a private sub-directory in the repository’s
<code>$GIT_DIR/worktrees</code> directory.  The private sub-directory’s name is usually
the base name of the linked working tree’s path, possibly appended with a
number to make it unique.  For example, when <code>$GIT_DIR=/path/main/.git</code> the
command <code>git worktree add /path/other/test-next next</code> creates the linked
working tree in <code>/path/other/test-next</code> and also creates a
<code>$GIT_DIR/worktrees/test-next</code> directory (or <code>$GIT_DIR/worktrees/test-next1</code>
if <code>test-next</code> is already taken).</p>


<p>Within a linked working tree, <code>$GIT_DIR</code> is set to point to this private
directory (e.g. <code>/path/main/.git/worktrees/test-next</code> in the example) and
<code>$GIT_COMMON_DIR</code> is set to point back to the main working tree’s <code>$GIT_DIR</code>
(e.g. <code>/path/main/.git</code>). These settings are made in a <code>.git</code> file located at
the top directory of the linked working tree.</p>


<p>Path resolution via <code>git rev-parse --git-path</code> uses either
<code>$GIT_DIR</code> or <code>$GIT_COMMON_DIR</code> depending on the path. For example, in the
linked working tree <code>git rev-parse --git-path HEAD</code> returns
<code>/path/main/.git/worktrees/test-next/HEAD</code> (not
<code>/path/other/test-next/.git/HEAD</code> or <code>/path/main/.git/HEAD</code>) while <code>git
rev-parse --git-path refs/heads/master</code> uses
<code>$GIT_COMMON_DIR</code> and returns <code>/path/main/.git/refs/heads/master</code>,
since refs are shared across all working trees, except <code>refs/bisect</code> and
<code>refs/worktree</code>.</p>


<p>See <a href="/docs/gitrepository-layout">gitrepository-layout[5]</a> for more information. The rule of
thumb is do not make any assumption about whether a path belongs to
<code>$GIT_DIR</code> or <code>$GIT_COMMON_DIR</code> when you need to directly access something
inside <code>$GIT_DIR</code>. Use <code>git rev-parse --git-path</code> to get the final path.</p>


<p>If you manually move a linked working tree, you need to update the <code>gitdir</code> file
in the entry’s directory. For example, if a linked working tree is moved
to <code>/newpath/test-next</code> and its <code>.git</code> file points to
<code>/path/main/.git/worktrees/test-next</code>, then update
<code>/path/main/.git/worktrees/test-next/gitdir</code> to reference <code>/newpath/test-next</code>
instead. Better yet, run <code>git worktree repair</code> to reestablish the connection
automatically.</p>


<p>To prevent a <code>$GIT_DIR/worktrees</code> entry from being pruned (which
can be useful in some situations, such as when the
entry’s working tree is stored on a portable device), use the
<code>git worktree lock</code> command, which adds a file named
<code>locked</code> to the entry’s directory. The file contains the reason in
plain text. For example, if a linked working tree’s <code>.git</code> file points
to <code>/path/main/.git/worktrees/test-next</code> then a file named
<code>/path/main/.git/worktrees/test-next/locked</code> will prevent the
<code>test-next</code> entry from being pruned.  See
<a href="/docs/gitrepository-layout">gitrepository-layout[5]</a> for details.</p>


<p>When <code>extensions.worktreeConfig</code> is enabled, the config file
<code>.git/worktrees/&lt;id&gt;/config.worktree</code> is read after <code>.git/config</code> is.</p>




<h2>LIST OUTPUT FORMAT</h2>


<p>The <code>worktree list</code> command has two output formats. The default format shows the
details on a single line with columns.  For example:</p>



<pre>$ git worktree list
/path/to/bare-source            (bare)
/path/to/linked-worktree        abcd1234 [master]
/path/to/other-linked-worktree  1234abc  (detached HEAD)</pre>



<p>The command also shows annotations for each working tree, according to its state.
These annotations are:</p>


<ul>
<li>
<p><code>locked</code>, if the working tree is locked.</p>
</li>
<li>
<p><code>prunable</code>, if the working tree can be pruned via <code>git worktree prune</code>.</p>
</li>
</ul>



<pre>$ git worktree list
/path/to/linked-worktree    abcd1234 [master]
/path/to/locked-worktree    acbd5678 (brancha) locked
/path/to/prunable-worktree  5678abc  (detached HEAD) prunable</pre>



<p>For these annotations, a reason might also be available and this can be
seen using the verbose mode. The annotation is then moved to the next line
indented followed by the additional information.</p>



<pre>$ git worktree list --verbose
/path/to/linked-worktree              abcd1234 [master]
/path/to/locked-worktree-no-reason    abcd5678 (detached HEAD) locked
/path/to/locked-worktree-with-reason  1234abcd (brancha)
	locked: working tree path is mounted on a portable device
/path/to/prunable-worktree            5678abc1 (detached HEAD)
	prunable: gitdir file points to non-existent location</pre>



<p>Note that the annotation is moved to the next line if the additional
information is available, otherwise it stays on the same line as the
working tree itself.</p>


<h3>
Porcelain Format</h3>

<p>The porcelain format has a line per attribute.  Attributes are listed with a
label and value separated by a single space.  Boolean attributes (like <code>bare</code>
and <code>detached</code>) are listed as a label only, and are present only
if the value is true.  Some attributes (like <code>locked</code>) can be listed as a label
only or with a value depending upon whether a reason is available.  The first
attribute of a working tree is always <code>worktree</code>, an empty line indicates the
end of the record.  For example:</p>



<pre>$ git worktree list --porcelain
worktree /path/to/bare-source
bare

worktree /path/to/linked-worktree
HEAD abcd1234abcd1234abcd1234abcd1234abcd1234
branch refs/heads/master

worktree /path/to/other-linked-worktree
HEAD 1234abc1234abc1234abc1234abc1234abc1234a
detached

worktree /path/to/linked-worktree-locked-no-reason
HEAD 5678abc5678abc5678abc5678abc5678abc5678c
branch refs/heads/locked-no-reason
locked

worktree /path/to/linked-worktree-locked-with-reason
HEAD 3456def3456def3456def3456def3456def3456b
branch refs/heads/locked-with-reason
locked reason why is locked

worktree /path/to/linked-worktree-prunable
HEAD 1233def1234def1234def1234def1234def1234b
detached
prunable gitdir file points to non-existent location</pre>



<p>If the lock reason contains "unusual" characters such as newline, they
are escaped and the entire reason is quoted as explained for the
configuration variable <code>core.quotePath</code> (see <a href="/docs/git-config">git-config[1]</a>).
For Example:</p>



<pre>$ git worktree list --porcelain
...
locked "reason\nwhy is locked"
...</pre>






<h2>examples</h2>


<p>You are in the middle of a refactoring session and your boss comes in and
demands that you fix something immediately. You might typically use
<a href="/docs/git-stash">git-stash[1]</a> to store your changes away temporarily, however, your
working tree is in such a state of disarray (with new, moved, and removed
files, and other bits and pieces strewn around) that you don’t want to risk
disturbing any of it. Instead, you create a temporary linked working tree to
make the emergency fix, remove it when done, and then resume your earlier
refactoring session.</p>



<pre>$ git worktree add -b emergency-fix ../temp master
$ pushd ../temp
# ... hack hack hack ...
$ git commit -a -m 'emergency fix for boss'
$ popd
$ git worktree remove ../temp</pre>





<h2>BUGS</h2>


<p>Multiple checkout in general is still experimental, and the support
for submodules is incomplete. It is NOT recommended to make multiple
checkouts of a superproject.</p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-fetch - Download objects and refs from another repository</span></h2>




<h2><br>synopsis</h2>


<pre><em>git fetch</em> [&lt;options&gt;] [&lt;repository&gt; [&lt;refspec&gt;…<U+200B>]]
<em>git fetch</em> [&lt;options&gt;] &lt;group&gt;
<em>git fetch</em> --multiple [&lt;options&gt;] [(&lt;repository&gt; | &lt;group&gt;)…<U+200B>]
<em>git fetch</em> --all [&lt;options&gt;]</pre>




<h2>description</h2>


<p>Fetch branches and/or tags (collectively, "refs") from one or more
other repositories, along with the objects necessary to complete their
histories.  Remote-tracking branches are updated (see the description
of &lt;refspec&gt; below for ways to control this behavior).</p>


<p>By default, any tag that points into the histories being fetched is
also fetched; the effect is to fetch tags that
point at branches that you are interested in.  This default behavior
can be changed by using the --tags or --no-tags options or by
configuring remote.&lt;name&gt;.tagOpt.  By using a refspec that fetches tags
explicitly, you can fetch tags that do not point into branches you
are interested in as well.</p>


<p><em>git fetch</em> can fetch from either a single named repository or URL,
or from several repositories at once if &lt;group&gt; is given and
there is a remotes.&lt;group&gt; entry in the configuration file.
(See <a href="/docs/git-config">git-config[1]</a>).</p>


<p>When no remote is specified, by default the <code>origin</code> remote will be used,
unless there’s an upstream branch configured for the current branch.</p>


<p>The names of refs that are fetched, together with the object names
they point at, are written to <code>.git/FETCH_HEAD</code>.  This information
may be used by scripts or other git commands, such as <a href="/docs/git-pull">git-pull[1]</a>.</p>




<h2>options</h2>


<dl>
<dt> --all </dt>
<dd>
<p>Fetch all remotes.</p>
</dd>
<dt> -a </dt>
<dt> --append </dt>
<dd>
<p>Append ref names and object names of fetched refs to the
existing contents of <code>.git/FETCH_HEAD</code>.  Without this
option old data in <code>.git/FETCH_HEAD</code> will be overwritten.</p>
</dd>
<dt> --atomic </dt>
<dd>
<p>Use an atomic transaction to update local refs. Either all refs are
updated, or on error, no refs are updated.</p>
</dd>
<dt> --depth=&lt;depth&gt; </dt>
<dd>
<p>Limit fetching to the specified number of commits from the tip of
each remote branch history. If fetching to a <em>shallow</em> repository
created by <code>git clone</code> with <code>--depth=&lt;depth&gt;</code> option (see
<a href="/docs/git-clone">git-clone[1]</a>), deepen or shorten the history to the specified
number of commits. Tags for the deepened commits are not fetched.</p>
</dd>
<dt> --deepen=&lt;depth&gt; </dt>
<dd>
<p>Similar to --depth, except it specifies the number of commits
from the current shallow boundary instead of from the tip of
each remote branch history.</p>
</dd>
<dt> --shallow-since=&lt;date&gt; </dt>
<dd>
<p>Deepen or shorten the history of a shallow repository to
include all reachable commits after &lt;date&gt;.</p>
</dd>
<dt> --shallow-exclude=&lt;revision&gt; </dt>
<dd>
<p>Deepen or shorten the history of a shallow repository to
exclude commits reachable from a specified remote branch or tag.
This option can be specified multiple times.</p>
</dd>
<dt> --unshallow </dt>
<dd>
<p>If the source repository is complete, convert a shallow
repository to a complete one, removing all the limitations
imposed by shallow repositories.</p>

<p>If the source repository is shallow, fetch as much as possible so that
the current repository has the same history as the source repository.</p>

</dd>
<dt> --update-shallow </dt>
<dd>
<p>By default when fetching from a shallow repository,
<code>git fetch</code> refuses refs that require updating
.git/shallow. This option updates .git/shallow and accept such
refs.</p>
</dd>
<dt> --negotiation-tip=&lt;commit|glob&gt; </dt>
<dd>
<p>By default, Git will report, to the server, commits reachable
from all local refs to find common commits in an attempt to
reduce the size of the to-be-received packfile. If specified,
Git will only report commits reachable from the given tips.
This is useful to speed up fetches when the user knows which
local ref is likely to have commits in common with the
upstream ref being fetched.</p>

<p>This option may be specified more than once; if so, Git will report
commits reachable from any of the given commits.</p>


<p>The argument to this option may be a glob on ref names, a ref, or the (possibly
abbreviated) SHA-1 of a commit. Specifying a glob is equivalent to specifying
this option multiple times, one for each matching ref name.</p>


<p>See also the <code>fetch.negotiationAlgorithm</code> and <code>push.negotiate</code>
configuration variables documented in <a href="/docs/git-config">git-config[1]</a>, and the
<code>--negotiate-only</code> option below.</p>

</dd>
<dt> --negotiate-only </dt>
<dd>
<p>Do not fetch anything from the server, and instead print the
ancestors of the provided <code>--negotiation-tip=*</code> arguments,
which we have in common with the server.</p>

<p>Internally this is used to implement the <code>push.negotiate</code> option, see
<a href="/docs/git-config">git-config[1]</a>.</p>

</dd>
<dt> --dry-run </dt>
<dd>
<p>Show what would be done, without making any changes.</p>
</dd>
<dt> --[no-]write-fetch-head </dt>
<dd>
<p>Write the list of remote refs fetched in the <code>FETCH_HEAD</code>
file directly under <code>$GIT_DIR</code>.  This is the default.
Passing <code>--no-write-fetch-head</code> from the command line tells
Git not to write the file.  Under <code>--dry-run</code> option, the
file is never written.</p>
</dd>
<dt> -f </dt>
<dt> --force </dt>
<dd>
<p>When <em>git fetch</em> is used with <code>&lt;src&gt;:&lt;dst&gt;</code> refspec it may
refuse to update the local branch as discussed
in the <code>&lt;refspec&gt;</code> part below.
This option overrides that check.</p>
</dd>
<dt> -k </dt>
<dt> --keep </dt>
<dd>
<p>Keep downloaded pack.</p>
</dd>
<dt> --multiple </dt>
<dd>
<p>Allow several &lt;repository&gt; and &lt;group&gt; arguments to be
specified. No &lt;refspec&gt;s may be specified.</p>
</dd>
<dt> --[no-]auto-maintenance </dt>
<dt> --[no-]auto-gc </dt>
<dd>
<p>Run <code>git maintenance run --auto</code> at the end to perform automatic
repository maintenance if needed. (<code>--[no-]auto-gc</code> is a synonym.)
This is enabled by default.</p>
</dd>
<dt> --[no-]write-commit-graph </dt>
<dd>
<p>Write a commit-graph after fetching. This overrides the config
setting <code>fetch.writeCommitGraph</code>.</p>
</dd>
<dt> --prefetch </dt>
<dd>
<p>Modify the configured refspec to place all refs into the
<code>refs/prefetch/</code> namespace. See the <code>prefetch</code> task in
<a href="/docs/git-maintenance">git-maintenance[1]</a>.</p>
</dd>
<dt> -p </dt>
<dt> --prune </dt>
<dd>
<p>Before fetching, remove any remote-tracking references that no
longer exist on the remote.  Tags are not subject to pruning
if they are fetched only because of the default tag
auto-following or due to a --tags option.  However, if tags
are fetched due to an explicit refspec (either on the command
line or in the remote configuration, for example if the remote
was cloned with the --mirror option), then they are also
subject to pruning. Supplying <code>--prune-tags</code> is a shorthand for
providing the tag refspec.</p>

<p>See the PRUNING section below for more details.</p>

</dd>
<dt> -P </dt>
<dt> --prune-tags </dt>
<dd>
<p>Before fetching, remove any local tags that no longer exist on
the remote if <code>--prune</code> is enabled. This option should be used
more carefully, unlike <code>--prune</code> it will remove any local
references (local tags) that have been created. This option is
a shorthand for providing the explicit tag refspec along with
<code>--prune</code>, see the discussion about that in its documentation.</p>

<p>See the PRUNING section below for more details.</p>

</dd>
<dt> -n </dt>
<dt> --no-tags </dt>
<dd>
<p>By default, tags that point at objects that are downloaded
from the remote repository are fetched and stored locally.
This option disables this automatic tag following. The default
behavior for a remote may be specified with the remote.&lt;name&gt;.tagOpt
setting. See <a href="/docs/git-config">git-config[1]</a>.</p>
</dd>
<dt> --refmap=&lt;refspec&gt; </dt>
<dd>
<p>When fetching refs listed on the command line, use the
specified refspec (can be given more than once) to map the
refs to remote-tracking branches, instead of the values of
<code>remote.*.fetch</code> configuration variables for the remote
repository.  Providing an empty <code>&lt;refspec&gt;</code> to the
<code>--refmap</code> option causes Git to ignore the configured
refspecs and rely entirely on the refspecs supplied as
command-line arguments. See section on "Configured Remote-tracking
Branches" for details.</p>
</dd>
<dt> -t </dt>
<dt> --tags </dt>
<dd>
<p>Fetch all tags from the remote (i.e., fetch remote tags
<code>refs/tags/*</code> into local tags with the same name), in addition
to whatever else would otherwise be fetched.  Using this
option alone does not subject tags to pruning, even if --prune
is used (though tags may be pruned anyway if they are also the
destination of an explicit refspec; see <code>--prune</code>).</p>
</dd>
<dt> --recurse-submodules[=yes|on-demand|no] </dt>
<dd>
<p>This option controls if and under what conditions new commits of
populated submodules should be fetched too. It can be used as a
boolean option to completely disable recursion when set to <em>no</em> or to
unconditionally recurse into all populated submodules when set to
<em>yes</em>, which is the default when this option is used without any
value. Use <em>on-demand</em> to only recurse into a populated submodule
when the superproject retrieves a commit that updates the submodule’s
reference to a commit that isn’t already in the local submodule
clone. By default, <em>on-demand</em> is used, unless
<code>fetch.recurseSubmodules</code> is set (see <a href="/docs/git-config">git-config[1]</a>).</p>
</dd>
<dt> -j </dt>
<dt> --jobs=&lt;n&gt; </dt>
<dd>
<p>Number of parallel children to be used for all forms of fetching.</p>

<p>If the <code>--multiple</code> option was specified, the different remotes will be fetched
in parallel. If multiple submodules are fetched, they will be fetched in
parallel. To control them independently, use the config settings
<code>fetch.parallel</code> and <code>submodule.fetchJobs</code> (see <a href="/docs/git-config">git-config[1]</a>).</p>


<p>Typically, parallel recursive and multi-remote fetches will be faster. By
default fetches are performed sequentially, not in parallel.</p>

</dd>
<dt> --no-recurse-submodules </dt>
<dd>
<p>Disable recursive fetching of submodules (this has the same effect as
using the <code>--recurse-submodules=no</code> option).</p>
</dd>
<dt> --set-upstream </dt>
<dd>
<p>If the remote is fetched successfully, add upstream
(tracking) reference, used by argument-less
<a href="/docs/git-pull">git-pull[1]</a> and other commands. For more information,
see <code>branch.&lt;name&gt;.merge</code> and <code>branch.&lt;name&gt;.remote</code> in
<a href="/docs/git-config">git-config[1]</a>.</p>
</dd>
<dt> --submodule-prefix=&lt;path&gt; </dt>
<dd>
<p>Prepend &lt;path&gt; to paths printed in informative messages
such as "Fetching submodule foo".  This option is used
internally when recursing over submodules.</p>
</dd>
<dt> --recurse-submodules-default=[yes|on-demand] </dt>
<dd>
<p>This option is used internally to temporarily provide a
non-negative default value for the --recurse-submodules
option.  All other methods of configuring fetch’s submodule
recursion (such as settings in <a href="/docs/gitmodules">gitmodules[5]</a> and
<a href="/docs/git-config">git-config[1]</a>) override this option, as does
specifying --[no-]recurse-submodules directly.</p>
</dd>
<dt> -u </dt>
<dt> --update-head-ok </dt>
<dd>
<p>By default <em>git fetch</em> refuses to update the head which
corresponds to the current branch.  This flag disables the
check.  This is purely for the internal use for <em>git pull</em>
to communicate with <em>git fetch</em>, and unless you are
implementing your own Porcelain you are not supposed to
use it.</p>
</dd>
<dt> --upload-pack &lt;upload-pack&gt; </dt>
<dd>
<p>When given, and the repository to fetch from is handled
by <em>git fetch-pack</em>, <code>--exec=&lt;upload-pack&gt;</code> is passed to
the command to specify non-default path for the command
run on the other end.</p>
</dd>
<dt> -q </dt>
<dt> --quiet </dt>
<dd>
<p>Pass --quiet to git-fetch-pack and silence any other internally
used git commands. Progress is not reported to the standard error
stream.</p>
</dd>
<dt> -v </dt>
<dt> --verbose </dt>
<dd>
<p>Be verbose.</p>
</dd>
<dt> --progress </dt>
<dd>
<p>Progress status is reported on the standard error stream
by default when it is attached to a terminal, unless -q
is specified. This flag forces progress status even if the
standard error stream is not directed to a terminal.</p>
</dd>
<dt> -o &lt;option&gt; </dt>
<dt> --server-option=&lt;option&gt; </dt>
<dd>
<p>Transmit the given string to the server when communicating using
protocol version 2.  The given string must not contain a NUL or LF
character.  The server’s handling of server options, including
unknown ones, is server-specific.
When multiple <code>--server-option=&lt;option&gt;</code> are given, they are all
sent to the other side in the order listed on the command line.</p>
</dd>
<dt> --show-forced-updates </dt>
<dd>
<p>By default, git checks if a branch is force-updated during
fetch. This can be disabled through fetch.showForcedUpdates, but
the --show-forced-updates option guarantees this check occurs.
See <a href="/docs/git-config">git-config[1]</a>.</p>
</dd>
<dt> --no-show-forced-updates </dt>
<dd>
<p>By default, git checks if a branch is force-updated during
fetch. Pass --no-show-forced-updates or set fetch.showForcedUpdates
to false to skip this check for performance reasons. If used during
<em>git-pull</em> the --ff-only option will still check for forced updates
before attempting a fast-forward update. See <a href="/docs/git-config">git-config[1]</a>.</p>
</dd>
<dt> -4 </dt>
<dt> --ipv4 </dt>
<dd>
<p>Use IPv4 addresses only, ignoring IPv6 addresses.</p>
</dd>
<dt> -6 </dt>
<dt> --ipv6 </dt>
<dd>
<p>Use IPv6 addresses only, ignoring IPv4 addresses.</p>
</dd>
<dt> &lt;repository&gt; </dt>
<dd>
<p>The "remote" repository that is the source of a fetch
or pull operation.  This parameter can be either a URL
(see the section <a href="#URLS">GIT URLS</a> below) or the name
of a remote (see the section <a href="#REMOTES">REMOTES</a> below).</p>
</dd>
<dt> &lt;group&gt; </dt>
<dd>
<p>A name referring to a list of repositories as the value
of remotes.&lt;group&gt; in the configuration file.
(See <a href="/docs/git-config">git-config[1]</a>).</p>
</dd>
<dt> &lt;refspec&gt; </dt>
<dd>
<p>Specifies which refs to fetch and which local refs to update.
When no &lt;refspec&gt;s appear on the command line, the refs to fetch
are read from <code>remote.&lt;repository&gt;.fetch</code> variables instead
(see <a href="#CRTB">CONFIGURED REMOTE-TRACKING BRANCHES</a> below).</p>

<p>The format of a &lt;refspec&gt; parameter is an optional plus
<code>+</code>, followed by the source &lt;src&gt;, followed
by a colon <code>:</code>, followed by the destination ref &lt;dst&gt;.
The colon can be omitted when &lt;dst&gt; is empty.  &lt;src&gt; is
typically a ref, but it can also be a fully spelled hex object
name.</p>


<p>A &lt;refspec&gt; may contain a <code>*</code> in its &lt;src&gt; to indicate a simple pattern
match. Such a refspec functions like a glob that matches any ref with the
same prefix. A pattern &lt;refspec&gt; must have a <code>*</code> in both the &lt;src&gt; and
&lt;dst&gt;. It will map refs to the destination by replacing the <code>*</code> with the
contents matched from the source.</p>


<p>If a refspec is prefixed by <code>^</code>, it will be interpreted as a negative
refspec. Rather than specifying which refs to fetch or which local refs to
update, such a refspec will instead specify refs to exclude. A ref will be
considered to match if it matches at least one positive refspec, and does
not match any negative refspec. Negative refspecs can be useful to restrict
the scope of a pattern refspec so that it will not include specific refs.
Negative refspecs can themselves be pattern refspecs. However, they may only
contain a &lt;src&gt; and do not specify a &lt;dst&gt;. Fully spelled out hex object
names are also not supported.</p>


<p><code>tag &lt;tag&gt;</code> means the same as <code>refs/tags/&lt;tag&gt;:refs/tags/&lt;tag&gt;</code>;
it requests fetching everything up to the given tag.</p>


<p>The remote ref that matches &lt;src&gt;
is fetched, and if &lt;dst&gt; is not an empty string, an attempt
is made to update the local ref that matches it.</p>


<p>Whether that update is allowed without <code>--force</code> depends on the ref
namespace it’s being fetched to, the type of object being fetched, and
whether the update is considered to be a fast-forward. Generally, the
same rules apply for fetching as when pushing, see the <code>&lt;refspec&gt;...</code>
section of <a href="/docs/git-push">git-push[1]</a> for what those are. Exceptions to those
rules particular to <em>git fetch</em> are noted below.</p>


<p>Until Git version 2.20, and unlike when pushing with
<a href="/docs/git-push">git-push[1]</a>, any updates to <code>refs/tags/*</code> would be accepted
without <code>+</code> in the refspec (or <code>--force</code>). When fetching, we promiscuously
considered all tag updates from a remote to be forced fetches.  Since
Git version 2.20, fetching to update <code>refs/tags/*</code> works the same way
as when pushing. I.e. any updates will be rejected without <code>+</code> in the
refspec (or <code>--force</code>).</p>


<p>Unlike when pushing with <a href="/docs/git-push">git-push[1]</a>, any updates outside of
<code>refs/{tags,heads}/*</code> will be accepted without <code>+</code> in the refspec (or
<code>--force</code>), whether that’s swapping e.g. a tree object for a blob, or
a commit for another commit that’s doesn’t have the previous commit as
an ancestor etc.</p>


<p>Unlike when pushing with <a href="/docs/git-push">git-push[1]</a>, there is no
configuration which’ll amend these rules, and nothing like a
<code>pre-fetch</code> hook analogous to the <code>pre-receive</code> hook.</p>


<p>As with pushing with <a href="/docs/git-push">git-push[1]</a>, all of the rules described
above about what’s not allowed as an update can be overridden by
adding an the optional leading <code>+</code> to a refspec (or using <code>--force</code>
command line option). The only exception to this is that no amount of
forcing will make the <code>refs/heads/*</code> namespace accept a non-commit
object.</p>


<table><tr>
<td>
Note
</td>
<td>
When the remote branch you want to fetch is known to
be rewound and rebased regularly, it is expected that
its new tip will not be descendant of its previous tip
(as stored in your remote-tracking branch the last time
you fetched).  You would want
to use the <code>+</code> sign to indicate non-fast-forward updates
will be needed for such branches.  There is no way to
determine or declare that a branch will be made available
in a repository with this behavior; the pulling user simply
must know this is the expected usage pattern for a branch.
</td>
</tr></table>

</dd>
<dt> --stdin </dt>
<dd>
<p>Read refspecs, one per line, from stdin in addition to those provided
as arguments. The "tag &lt;name&gt;" format is not supported.</p>
</dd>
</dl>




<h2>GIT URLS
</h2>


<p>In general, URLs contain information about the transport protocol, the
address of the remote server, and the path to the repository.
Depending on the transport protocol, some of this information may be
absent.</p>


<p>Git supports ssh, git, http, and https protocols (in addition, ftp,
and ftps can be used for fetching, but this is inefficient and
deprecated; do not use it).</p>


<p>The native transport (i.e. git:// URL) does no authentication and
should be used with caution on unsecured networks.</p>


<p>The following syntaxes may be used with them:</p>


<ul>
<li>
<p>ssh://[user@]host.xz[:port]/path/to/repo.git/</p>
</li>
<li>
<p>git://host.xz[:port]/path/to/repo.git/</p>
</li>
<li>
<p>http[s]://host.xz[:port]/path/to/repo.git/</p>
</li>
<li>
<p>ftp[s]://host.xz[:port]/path/to/repo.git/</p>
</li>
</ul>


<p>An alternative scp-like syntax may also be used with the ssh protocol:</p>


<ul>
<li>
<p>[user@]host.xz:path/to/repo.git/</p>
</li>
</ul>


<p>This syntax is only recognized if there are no slashes before the
first colon. This helps differentiate a local path that contains a
colon. For example the local path <code>foo:bar</code> could be specified as an
absolute path or <code>./foo:bar</code> to avoid being misinterpreted as an ssh
url.</p>


<p>The ssh and git protocols additionally support ~username expansion:</p>


<ul>
<li>
<p>ssh://[user@]host.xz[:port]/~[user]/path/to/repo.git/</p>
</li>
<li>
<p>git://host.xz[:port]/~[user]/path/to/repo.git/</p>
</li>
<li>
<p>[user@]host.xz:/~[user]/path/to/repo.git/</p>
</li>
</ul>


<p>For local repositories, also supported by Git natively, the following
syntaxes may be used:</p>


<ul>
<li>
<p>/path/to/repo.git/</p>
</li>
<li>
<p>file:///path/to/repo.git/</p>
</li>
</ul>


<p>These two syntaxes are mostly equivalent, except when cloning, when
the former implies --local option. See <a href="/docs/git-clone">git-clone[1]</a> for
details.</p>


<p><em>git clone</em>, <em>git fetch</em> and <em>git pull</em>, but not <em>git push</em>, will also
accept a suitable bundle file. See <a href="/docs/git-bundle">git-bundle[1]</a>.</p>


<p>When Git doesn’t know how to handle a certain transport protocol, it
attempts to use the <em>remote-&lt;transport&gt;</em> remote helper, if one
exists. To explicitly request a remote helper, the following syntax
may be used:</p>


<ul>
<li>
<p>&lt;transport&gt;::&lt;address&gt;</p>
</li>
</ul>


<p>where &lt;address&gt; may be a path, a server and path, or an arbitrary
URL-like string recognized by the specific remote helper being
invoked. See <a href="/docs/gitremote-helpers">gitremote-helpers[7]</a> for details.</p>


<p>If there are a large number of similarly-named remote repositories and
you want to use a different format for them (such that the URLs you
use will be rewritten into URLs that work), you can create a
configuration section of the form:</p>



<pre>	[url "&lt;actual url base&gt;"]
		insteadOf = &lt;other url base&gt;</pre>



<p>For example, with this:</p>



<pre>	[url "git://git.host.xz/"]
		insteadOf = host.xz:/path/to/
		insteadOf = work:</pre>



<p>a URL like "work:repo.git" or like "host.xz:/path/to/repo.git" will be
rewritten in any context that takes a URL to be "git://git.host.xz/repo.git".</p>


<p>If you want to rewrite URLs for push only, you can create a
configuration section of the form:</p>



<pre>	[url "&lt;actual url base&gt;"]
		pushInsteadOf = &lt;other url base&gt;</pre>



<p>For example, with this:</p>



<pre>	[url "ssh://example.org/"]
		pushInsteadOf = git://example.org/</pre>



<p>a URL like "git://example.org/path/to/repo.git" will be rewritten to
"ssh://example.org/path/to/repo.git" for pushes, but pulls will still
use the original URL.</p>




<h2>REMOTES
</h2>


<p>The name of one of the following can be used instead
of a URL as <code>&lt;repository&gt;</code> argument:</p>


<ul>
<li>
<p>a remote in the Git configuration file: <code>$GIT_DIR/config</code>,</p>
</li>
<li>
<p>a file in the <code>$GIT_DIR/remotes</code> directory, or</p>
</li>
<li>
<p>a file in the <code>$GIT_DIR/branches</code> directory.</p>
</li>
</ul>


<p>All of these also allow you to omit the refspec from the command line
because they each contain a refspec which git will use by default.</p>


<h3>
Named remote in configuration file</h3>

<p>You can choose to provide the name of a remote which you had previously
configured using <a href="/docs/git-remote">git-remote[1]</a>, <a href="/docs/git-config">git-config[1]</a>
or even by a manual edit to the <code>$GIT_DIR/config</code> file.  The URL of
this remote will be used to access the repository.  The refspec
of this remote will be used by default when you do
not provide a refspec on the command line.  The entry in the
config file would appear like this:</p>



<pre>	[remote "&lt;name&gt;"]
		url = &lt;URL&gt;
		pushurl = &lt;pushurl&gt;
		push = &lt;refspec&gt;
		fetch = &lt;refspec&gt;</pre>



<p>The <code>&lt;pushurl&gt;</code> is used for pushes only. It is optional and defaults
to <code>&lt;URL&gt;</code>.</p>



<h3>
Named file in <code>$GIT_DIR/remotes</code>
</h3>

<p>You can choose to provide the name of a
file in <code>$GIT_DIR/remotes</code>.  The URL
in this file will be used to access the repository.  The refspec
in this file will be used as default when you do not
provide a refspec on the command line.  This file should have the
following format:</p>



<pre>	URL: one of the above URL format
	Push: &lt;refspec&gt;
	Pull: &lt;refspec&gt;</pre>



<p><code>Push:</code> lines are used by <em>git push</em> and
<code>Pull:</code> lines are used by <em>git pull</em> and <em>git fetch</em>.
Multiple <code>Push:</code> and <code>Pull:</code> lines may
be specified for additional branch mappings.</p>



<h3>
Named file in <code>$GIT_DIR/branches</code>
</h3>

<p>You can choose to provide the name of a
file in <code>$GIT_DIR/branches</code>.
The URL in this file will be used to access the repository.
This file should have the following format:</p>



<pre>	&lt;URL&gt;#&lt;head&gt;</pre>



<p><code>&lt;URL&gt;</code> is required; <code>#&lt;head&gt;</code> is optional.</p>


<p>Depending on the operation, git will use one of the following
refspecs, if you don’t provide one on the command line.
<code>&lt;branch&gt;</code> is the name of this file in <code>$GIT_DIR/branches</code> and
<code>&lt;head&gt;</code> defaults to <code>master</code>.</p>


<p>git fetch uses:</p>



<pre>	refs/heads/&lt;head&gt;:refs/heads/&lt;branch&gt;</pre>



<p>git push uses:</p>



<pre>	HEAD:refs/heads/&lt;head&gt;</pre>






<h2>CONFIGURED REMOTE-TRACKING BRANCHES
</h2>


<p>You often interact with the same remote repository by
regularly and repeatedly fetching from it.  In order to keep track
of the progress of such a remote repository, <code>git fetch</code> allows you
to configure <code>remote.&lt;repository&gt;.fetch</code> configuration variables.</p>


<p>Typically such a variable may look like this:</p>



<pre>[remote "origin"]
	fetch = +refs/heads/*:refs/remotes/origin/*</pre>



<p>This configuration is used in two ways:</p>


<ul>
<li>
<p>When <code>git fetch</code> is run without specifying what branches
and/or tags to fetch on the command line, e.g. <code>git fetch origin</code>
or <code>git fetch</code>, <code>remote.&lt;repository&gt;.fetch</code> values are used as
the refspecs—<U+200B>they specify which refs to fetch and which local refs
to update.  The example above will fetch
all branches that exist in the <code>origin</code> (i.e. any ref that matches
the left-hand side of the value, <code>refs/heads/*</code>) and update the
corresponding remote-tracking branches in the <code>refs/remotes/origin/*</code>
hierarchy.</p>
</li>
<li>
<p>When <code>git fetch</code> is run with explicit branches and/or tags
to fetch on the command line, e.g. <code>git fetch origin master</code>, the
&lt;refspec&gt;s given on the command line determine what are to be
fetched (e.g. <code>master</code> in the example,
which is a short-hand for <code>master:</code>, which in turn means
"fetch the <em>master</em> branch but I do not explicitly say what
remote-tracking branch to update with it from the command line"),
and the example command will
fetch <em>only</em> the <em>master</em> branch.  The <code>remote.&lt;repository&gt;.fetch</code>
values determine which
remote-tracking branch, if any, is updated.  When used in this
way, the <code>remote.&lt;repository&gt;.fetch</code> values do not have any
effect in deciding <em>what</em> gets fetched (i.e. the values are not
used as refspecs when the command-line lists refspecs); they are
only used to decide <em>where</em> the refs that are fetched are stored
by acting as a mapping.</p>
</li>
</ul>


<p>The latter use of the <code>remote.&lt;repository&gt;.fetch</code> values can be
overridden by giving the <code>--refmap=&lt;refspec&gt;</code> parameter(s) on the
command line.</p>




<h2>PRUNING</h2>


<p>Git has a default disposition of keeping data unless it’s explicitly
thrown away; this extends to holding onto local references to branches
on remotes that have themselves deleted those branches.</p>


<p>If left to accumulate, these stale references might make performance
worse on big and busy repos that have a lot of branch churn, and
e.g. make the output of commands like <code>git branch -a --contains
&lt;commit&gt;</code> needlessly verbose, as well as impacting anything else
that’ll work with the complete set of known references.</p>


<p>These remote-tracking references can be deleted as a one-off with
either of:</p>



<pre># While fetching
$ git fetch --prune &lt;name&gt;

# Only prune, don't fetch
$ git remote prune &lt;name&gt;</pre>



<p>To prune references as part of your normal workflow without needing to
remember to run that, set <code>fetch.prune</code> globally, or
<code>remote.&lt;name&gt;.prune</code> per-remote in the config. See
<a href="/docs/git-config">git-config[1]</a>.</p>


<p>Here’s where things get tricky and more specific. The pruning feature
doesn’t actually care about branches, instead it’ll prune local <U+2190><U+2192>
remote-references as a function of the refspec of the remote (see
<code>&lt;refspec&gt;</code> and <a href="#CRTB">CONFIGURED REMOTE-TRACKING BRANCHES</a> above).</p>


<p>Therefore if the refspec for the remote includes
e.g. <code>refs/tags/*:refs/tags/*</code>, or you manually run e.g. <code>git fetch
--prune &lt;name&gt; "refs/tags/*:refs/tags/*"</code> it won’t be stale remote
tracking branches that are deleted, but any local tag that doesn’t
exist on the remote.</p>


<p>This might not be what you expect, i.e. you want to prune remote
<code>&lt;name&gt;</code>, but also explicitly fetch tags from it, so when you fetch
from it you delete all your local tags, most of which may not have
come from the <code>&lt;name&gt;</code> remote in the first place.</p>


<p>So be careful when using this with a refspec like
<code>refs/tags/*:refs/tags/*</code>, or any other refspec which might map
references from multiple remotes to the same local namespace.</p>


<p>Since keeping up-to-date with both branches and tags on the remote is
a common use-case the <code>--prune-tags</code> option can be supplied along with
<code>--prune</code> to prune local tags that don’t exist on the remote, and
force-update those tags that differ. Tag pruning can also be enabled
with <code>fetch.pruneTags</code> or <code>remote.&lt;name&gt;.pruneTags</code> in the config. See
<a href="/docs/git-config">git-config[1]</a>.</p>


<p>The <code>--prune-tags</code> option is equivalent to having
<code>refs/tags/*:refs/tags/*</code> declared in the refspecs of the remote. This
can lead to some seemingly strange interactions:</p>



<pre># These both fetch tags
$ git fetch --no-tags origin 'refs/tags/*:refs/tags/*'
$ git fetch --no-tags --prune-tags origin</pre>



<p>The reason it doesn’t error out when provided without <code>--prune</code> or its
config versions is for flexibility of the configured versions, and to
maintain a 1=1 mapping between what the command line flags do, and
what the configuration versions do.</p>


<p>It’s reasonable to e.g. configure <code>fetch.pruneTags=true</code> in
<code>~/.gitconfig</code> to have tags pruned whenever <code>git fetch --prune</code> is
run, without making every invocation of <code>git fetch</code> without <code>--prune</code>
an error.</p>


<p>Pruning tags with <code>--prune-tags</code> also works when fetching a URL
instead of a named remote. These will all prune tags not found on
origin:</p>



<pre>$ git fetch origin --prune --prune-tags
$ git fetch origin --prune 'refs/tags/*:refs/tags/*'
$ git fetch &lt;url of origin&gt; --prune --prune-tags
$ git fetch &lt;url of origin&gt; --prune 'refs/tags/*:refs/tags/*'</pre>





<h2>OUTPUT</h2>


<p>The output of "git fetch" depends on the transport method used; this
section describes the output when fetching over the Git protocol
(either locally or via ssh) and Smart HTTP protocol.</p>


<p>The status of the fetch is output in tabular form, with each line
representing the status of a single ref. Each line is of the form:</p>



<pre> &lt;flag&gt; &lt;summary&gt; &lt;from&gt; -&gt; &lt;to&gt; [&lt;reason&gt;]</pre>



<p>The status of up-to-date refs is shown only if the --verbose option is
used.</p>


<p>In compact output mode, specified with configuration variable
fetch.output, if either entire <code>&lt;from&gt;</code> or <code>&lt;to&gt;</code> is found in the
other string, it will be substituted with <code>*</code> in the other string. For
example, <code>master -&gt; origin/master</code> becomes <code>master -&gt; origin/*</code>.</p>


<dl>
<dt> flag </dt>
<dd>
<p>A single character indicating the status of the ref:</p>

<dl>
<dt> (space) </dt>
<dd>
<p>for a successfully fetched fast-forward;</p>
</dd>
<dt> <code>+</code> </dt>
<dd>
<p>for a successful forced update;</p>
</dd>
<dt> <code>-</code> </dt>
<dd>
<p>for a successfully pruned ref;</p>
</dd>
<dt> <code>t</code> </dt>
<dd>
<p>for a successful tag update;</p>
</dd>
<dt> <code>*</code> </dt>
<dd>
<p>for a successfully fetched new ref;</p>
</dd>
<dt> <code>!</code> </dt>
<dd>
<p>for a ref that was rejected or failed to update; and</p>
</dd>
<dt> <code>=</code> </dt>
<dd>
<p>for a ref that was up to date and did not need fetching.</p>
</dd>
</dl>

</dd>
<dt> summary </dt>
<dd>
<p>For a successfully fetched ref, the summary shows the old and new
values of the ref in a form suitable for using as an argument to
<code>git log</code> (this is <code>&lt;old&gt;..&lt;new&gt;</code> in most cases, and
<code>&lt;old&gt;...&lt;new&gt;</code> for forced non-fast-forward updates).</p>
</dd>
<dt> from </dt>
<dd>
<p>The name of the remote ref being fetched from, minus its
<code>refs/&lt;type&gt;/</code> prefix. In the case of deletion, the name of
the remote ref is "(none)".</p>
</dd>
<dt> to </dt>
<dd>
<p>The name of the local ref being updated, minus its
<code>refs/&lt;type&gt;/</code> prefix.</p>
</dd>
<dt> reason </dt>
<dd>
<p>A human-readable explanation. In the case of successfully fetched
refs, no explanation is needed. For a failed ref, the reason for
failure is described.</p>
</dd>
</dl>




<h2>examples</h2>


<ul>
<li>
<p>Update the remote-tracking branches:</p>


<pre>$ git fetch origin</pre>



<p>The above command copies all branches from the remote refs/heads/
namespace and stores them to the local refs/remotes/origin/ namespace,
unless the branch.&lt;name&gt;.fetch option is used to specify a non-default
refspec.</p>

</li>
<li>
<p>Using refspecs explicitly:</p>


<pre>$ git fetch origin +seen:seen maint:tmp</pre>



<p>This updates (or creates, as necessary) branches <code>seen</code> and <code>tmp</code> in
the local repository by fetching from the branches (respectively)
<code>seen</code> and <code>maint</code> from the remote repository.</p>


<p>The <code>seen</code> branch will be updated even if it does not fast-forward,
because it is prefixed with a plus sign; <code>tmp</code> will not be.</p>

</li>
<li>
<p>Peek at a remote’s branch, without configuring the remote in your local
repository:</p>


<pre>$ git fetch git://git.kernel.org/pub/scm/git/git.git maint
$ git log FETCH_HEAD</pre>



<p>The first command fetches the <code>maint</code> branch from the repository at
<code>git://git.kernel.org/pub/scm/git/git.git</code> and the second command uses
<code>FETCH_HEAD</code> to examine the branch with <a href="/docs/git-log">git-log[1]</a>.  The fetched
objects will eventually be removed by git’s built-in housekeeping (see
<a href="/docs/git-gc">git-gc[1]</a>).</p>

</li>
</ul>




<h2>SECURITY</h2>


<p>The fetch and push protocols are not designed to prevent one side from
stealing data from the other repository that was not intended to be
shared. If you have private data that you need to protect from a malicious
peer, your best option is to store it in another repository. This applies
to both clients and servers. In particular, namespaces on a server are not
effective for read access control; you should only grant read access to a
namespace to clients that you would trust with read access to the entire
repository.</p>


<p>The known attack vectors are as follows:</p>


<ol>
<li>
<p>The victim sends "have" lines advertising the IDs of objects it has that
are not explicitly intended to be shared but can be used to optimize the
transfer if the peer also has them. The attacker chooses an object ID X
to steal and sends a ref to X, but isn’t required to send the content of
X because the victim already has it. Now the victim believes that the
attacker has X, and it sends the content of X back to the attacker
later. (This attack is most straightforward for a client to perform on a
server, by creating a ref to X in the namespace the client has access
to and then fetching it. The most likely way for a server to perform it
on a client is to "merge" X into a public branch and hope that the user
does additional work on this branch and pushes it back to the server
without noticing the merge.)</p>
</li>
<li>
<p>As in #1, the attacker chooses an object ID X to steal. The victim sends
an object Y that the attacker already has, and the attacker falsely
claims to have X and not Y, so the victim sends Y as a delta against X.
The delta reveals regions of X that are similar to Y to the attacker.</p>
</li>
</ol>




<h2>BUGS</h2>


<p>Using --recurse-submodules can only fetch new commits in already checked
out submodules right now. When e.g. upstream added a new submodule in the
just fetched commits of the superproject the submodule itself cannot be
fetched, making it impossible to check out that submodule later without
having to do a fetch again. This is expected to be fixed in a future Git
version.</p>




<h2>SEE ALSO</h2>


<p><a href="/docs/git-pull">git-pull[1]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-pull - Fetch from and integrate with another repository or a local branch</span></h2>




<h2><br>synopsis</h2>


<pre><em>git pull</em> [&lt;options&gt;] [&lt;repository&gt; [&lt;refspec&gt;…<U+200B>]]</pre>




<h2>description</h2>


<p>Incorporates changes from a remote repository into the current branch.
If the current branch is behind the remote, then by default it will
fast-forward the current branch to match the remote.  If the current
branch and the remote have diverged, the user needs to specify how to
reconcile the divergent branches with <code>--rebase</code> or <code>--no-rebase</code> (or
the corresponding configuration option in <code>pull.rebase</code>).</p>


<p>More precisely, <code>git pull</code> runs <code>git fetch</code> with the given parameters
and then depending on configuration options or command line flags,
will call either <code>git rebase</code> or <code>git merge</code> to reconcile diverging
branches.</p>


<p>&lt;repository&gt; should be the name of a remote repository as
passed to <a href="/docs/git-fetch">git-fetch[1]</a>.  &lt;refspec&gt; can name an
arbitrary remote ref (for example, the name of a tag) or even
a collection of refs with corresponding remote-tracking branches
(e.g., refs/heads/*:refs/remotes/origin/*),
but usually it is the name of a branch in the remote repository.</p>


<p>Default values for &lt;repository&gt; and &lt;branch&gt; are read from the
"remote" and "merge" configuration for the current branch
as set by <a href="/docs/git-branch">git-branch[1]</a> <code>--track</code>.</p>


<p>Assume the following history exists and the current branch is
"<code>master</code>":</p>



<pre>	  A---B---C master on origin
	 /
    D---E---F---G master
	^
	origin/master in your repository</pre>



<p>Then "<code>git pull</code>" will fetch and replay the changes from the remote
<code>master</code> branch since it diverged from the local <code>master</code> (i.e., <code>E</code>)
until its current commit (<code>C</code>) on top of <code>master</code> and record the
result in a new commit along with the names of the two parent commits
and a log message from the user describing the changes.</p>



<pre>	  A---B---C origin/master
	 /         \
    D---E---F---G---H master</pre>



<p>See <a href="/docs/git-merge">git-merge[1]</a> for details, including how conflicts
are presented and handled.</p>


<p>In Git 1.7.0 or later, to cancel a conflicting merge, use
<code>git reset --merge</code>.  <strong>Warning</strong>: In older versions of Git, running <em>git pull</em>
with uncommitted changes is discouraged: while possible, it leaves you
in a state that may be hard to back out of in the case of a conflict.</p>


<p>If any of the remote changes overlap with local uncommitted changes,
the merge will be automatically canceled and the work tree untouched.
It is generally best to get any local changes in working order before
pulling or stash them away with <a href="/docs/git-stash">git-stash[1]</a>.</p>




<h2>options</h2>


<dl>
<dt> -q </dt>
<dt> --quiet </dt>
<dd>
<p>This is passed to both underlying git-fetch to squelch reporting of
during transfer, and underlying git-merge to squelch output during
merging.</p>
</dd>
<dt> -v </dt>
<dt> --verbose </dt>
<dd>
<p>Pass --verbose to git-fetch and git-merge.</p>
</dd>
<dt> --[no-]recurse-submodules[=yes|on-demand|no] </dt>
<dd>
<p>This option controls if new commits of populated submodules should
be fetched, and if the working trees of active submodules should be
updated, too (see <a href="/docs/git-fetch">git-fetch[1]</a>, <a href="/docs/git-config">git-config[1]</a> and
<a href="/docs/gitmodules">gitmodules[5]</a>).</p>

<p>If the checkout is done via rebase, local submodule commits are rebased as well.</p>


<p>If the update is done via merge, the submodule conflicts are resolved and checked out.</p>

</dd>
</dl>


<h3>
Options related to merging</h3>

<dl>
<dt> --commit </dt>
<dt> --no-commit </dt>
<dd>
<p>Perform the merge and commit the result. This option can
be used to override --no-commit.
Only useful when merging.</p>

<p>With --no-commit perform the merge and stop just before creating
a merge commit, to give the user a chance to inspect and further
tweak the merge result before committing.</p>


<p>Note that fast-forward updates do not create a merge commit and
therefore there is no way to stop those merges with --no-commit.
Thus, if you want to ensure your branch is not changed or updated
by the merge command, use --no-ff with --no-commit.</p>

</dd>
<dt> --edit </dt>
<dt> -e </dt>
<dt> --no-edit </dt>
<dd>
<p>Invoke an editor before committing successful mechanical merge to
further edit the auto-generated merge message, so that the user
can explain and justify the merge. The <code>--no-edit</code> option can be
used to accept the auto-generated message (this is generally
discouraged).</p>

<p>Older scripts may depend on the historical behaviour of not allowing the
user to edit the merge log message. They will see an editor opened when
they run <code>git merge</code>. To make it easier to adjust such scripts to the
updated behaviour, the environment variable <code>GIT_MERGE_AUTOEDIT</code> can be
set to <code>no</code> at the beginning of them.</p>

</dd>
<dt> --cleanup=&lt;mode&gt; </dt>
<dd>
<p>This option determines how the merge message will be cleaned up before
committing. See <a href="/docs/git-commit">git-commit[1]</a> for more details. In addition, if
the <em>&lt;mode&gt;</em> is given a value of <code>scissors</code>, scissors will be appended
to <code>MERGE_MSG</code> before being passed on to the commit machinery in the
case of a merge conflict.</p>
</dd>
<dt> --ff-only </dt>
<dd>
<p>Only update to the new history if there is no divergent local
history.  This is the default when no method for reconciling
divergent histories is provided (via the --rebase=* flags).</p>
</dd>
<dt> --ff </dt>
<dt> --no-ff </dt>
<dd>
<p>When merging rather than rebasing, specifies how a merge is
handled when the merged-in history is already a descendant of
the current history.  If merging is requested, <code>--ff</code> is the
default unless merging an annotated (and possibly signed) tag
that is not stored in its natural place in the <code>refs/tags/</code>
hierarchy, in which case <code>--no-ff</code> is assumed.</p>

<p>With <code>--ff</code>, when possible resolve the merge as a fast-forward (only
update the branch pointer to match the merged branch; do not create a
merge commit).  When not possible (when the merged-in history is not a
descendant of the current history), create a merge commit.</p>


<p>With <code>--no-ff</code>, create a merge commit in all cases, even when the merge
could instead be resolved as a fast-forward.</p>

</dd>
<dt> -S[&lt;keyid&gt;] </dt>
<dt> --gpg-sign[=&lt;keyid&gt;] </dt>
<dt> --no-gpg-sign </dt>
<dd>
<p>GPG-sign the resulting merge commit. The <code>keyid</code> argument is
optional and defaults to the committer identity; if specified,
it must be stuck to the option without a space. <code>--no-gpg-sign</code>
is useful to countermand both <code>commit.gpgSign</code> configuration variable,
and earlier <code>--gpg-sign</code>.</p>
</dd>
<dt> --log[=&lt;n&gt;] </dt>
<dt> --no-log </dt>
<dd>
<p>In addition to branch names, populate the log message with
one-line descriptions from at most &lt;n&gt; actual commits that are being
merged. See also <a href="/docs/git-fmt-merge-msg">git-fmt-merge-msg[1]</a>.
Only useful when merging.</p>

<p>With --no-log do not list one-line descriptions from the
actual commits being merged.</p>

</dd>
<dt> --signoff </dt>
<dt> --no-signoff </dt>
<dd>
<p>Add a <code>Signed-off-by</code> trailer by the committer at the end of the commit
log message.  The meaning of a signoff depends on the project
to which you’re committing.  For example, it may certify that
the committer has the rights to submit the work under the
project’s license or agrees to some contributor representation,
such as a Developer Certificate of Origin.
(See <a href="http://developercertificate.org">http://developercertificate.org</a> for the one used by the
Linux kernel and Git projects.)  Consult the documentation or
leadership of the project to which you’re contributing to
understand how the signoffs are used in that project.</p>

<p>The --no-signoff option can be used to countermand an earlier --signoff
option on the command line.</p>

</dd>
<dt> --stat </dt>
<dt> -n </dt>
<dt> --no-stat </dt>
<dd>
<p>Show a diffstat at the end of the merge. The diffstat is also
controlled by the configuration option merge.stat.</p>

<p>With -n or --no-stat do not show a diffstat at the end of the
merge.</p>

</dd>
<dt> --squash </dt>
<dt> --no-squash </dt>
<dd>
<p>Produce the working tree and index state as if a real merge
happened (except for the merge information), but do not actually
make a commit, move the <code>HEAD</code>, or record <code>$GIT_DIR/MERGE_HEAD</code>
(to cause the next <code>git commit</code> command to create a merge
commit).  This allows you to create a single commit on top of
the current branch whose effect is the same as merging another
branch (or more in case of an octopus).</p>

<p>With --no-squash perform the merge and commit the result. This
option can be used to override --squash.</p>


<p>With --squash, --commit is not allowed, and will fail.</p>


<p>Only useful when merging.</p>

</dd>
<dt> --[no-]verify </dt>
<dd>
<p>By default, the pre-merge and commit-msg hooks are run.
When <code>--no-verify</code> is given, these are bypassed.
See also <a href="/docs/githooks">githooks[5]</a>.
Only useful when merging.</p>
</dd>
<dt> -s &lt;strategy&gt; </dt>
<dt> --strategy=&lt;strategy&gt; </dt>
<dd>
<p>Use the given merge strategy; can be supplied more than
once to specify them in the order they should be tried.
If there is no <code>-s</code> option, a built-in list of strategies
is used instead (<code>ort</code> when merging a single head,
<code>octopus</code> otherwise).</p>
</dd>
<dt> -X &lt;option&gt; </dt>
<dt> --strategy-option=&lt;option&gt; </dt>
<dd>
<p>Pass merge strategy specific option through to the merge
strategy.</p>
</dd>
<dt> --verify-signatures </dt>
<dt> --no-verify-signatures </dt>
<dd>
<p>Verify that the tip commit of the side branch being merged is
signed with a valid key, i.e. a key that has a valid uid: in the
default trust model, this means the signing key has been signed by
a trusted key.  If the tip commit of the side branch is not signed
with a valid key, the merge is aborted.</p>

<p>Only useful when merging.</p>

</dd>
<dt> --summary </dt>
<dt> --no-summary </dt>
<dd>
<p>Synonyms to --stat and --no-stat; these are deprecated and will be
removed in the future.</p>
</dd>
<dt> --autostash </dt>
<dt> --no-autostash </dt>
<dd>
<p>Automatically create a temporary stash entry before the operation
begins, record it in the special ref <code>MERGE_AUTOSTASH</code>
and apply it after the operation ends.  This means
that you can run the operation on a dirty worktree.  However, use
with care: the final stash application after a successful
merge might result in non-trivial conflicts.</p>
</dd>
<dt> --allow-unrelated-histories </dt>
<dd>
<p>By default, <code>git merge</code> command refuses to merge histories
that do not share a common ancestor.  This option can be
used to override this safety when merging histories of two
projects that started their lives independently. As that is
a very rare occasion, no configuration variable to enable
this by default exists and will not be added.</p>

<p>Only useful when merging.</p>

</dd>
<dt> -r </dt>
<dt> --rebase[=false|true|merges|interactive] </dt>
<dd>
<p>When true, rebase the current branch on top of the upstream
branch after fetching. If there is a remote-tracking branch
corresponding to the upstream branch and the upstream branch
was rebased since last fetched, the rebase uses that information
to avoid rebasing non-local changes.</p>

<p>When set to <code>merges</code>, rebase using <code>git rebase --rebase-merges</code> so that
the local merge commits are included in the rebase (see
<a href="/docs/git-rebase">git-rebase[1]</a> for details).</p>


<p>When false, merge the upstream branch into the current branch.</p>


<p>When <code>interactive</code>, enable the interactive mode of rebase.</p>


<p>See <code>pull.rebase</code>, <code>branch.&lt;name&gt;.rebase</code> and <code>branch.autoSetupRebase</code> in
<a href="/docs/git-config">git-config[1]</a> if you want to make <code>git pull</code> always use
<code>--rebase</code> instead of merging.</p>


<table><tr>
<td>
Note
</td>
<td>
This is a potentially <em>dangerous</em> mode of operation.
It rewrites history, which does not bode well when you
published that history already.  Do <strong>not</strong> use this option
unless you have read <a href="/docs/git-rebase">git-rebase[1]</a> carefully.
</td>
</tr></table>

</dd>
<dt> --no-rebase </dt>
<dd>
<p>This is shorthand for --rebase=false.</p>
</dd>
</dl>



<h3>
Options related to fetching</h3>

<dl>
<dt> --all </dt>
<dd>
<p>Fetch all remotes.</p>
</dd>
<dt> -a </dt>
<dt> --append </dt>
<dd>
<p>Append ref names and object names of fetched refs to the
existing contents of <code>.git/FETCH_HEAD</code>.  Without this
option old data in <code>.git/FETCH_HEAD</code> will be overwritten.</p>
</dd>
<dt> --atomic </dt>
<dd>
<p>Use an atomic transaction to update local refs. Either all refs are
updated, or on error, no refs are updated.</p>
</dd>
<dt> --depth=&lt;depth&gt; </dt>
<dd>
<p>Limit fetching to the specified number of commits from the tip of
each remote branch history. If fetching to a <em>shallow</em> repository
created by <code>git clone</code> with <code>--depth=&lt;depth&gt;</code> option (see
<a href="/docs/git-clone">git-clone[1]</a>), deepen or shorten the history to the specified
number of commits. Tags for the deepened commits are not fetched.</p>
</dd>
<dt> --deepen=&lt;depth&gt; </dt>
<dd>
<p>Similar to --depth, except it specifies the number of commits
from the current shallow boundary instead of from the tip of
each remote branch history.</p>
</dd>
<dt> --shallow-since=&lt;date&gt; </dt>
<dd>
<p>Deepen or shorten the history of a shallow repository to
include all reachable commits after &lt;date&gt;.</p>
</dd>
<dt> --shallow-exclude=&lt;revision&gt; </dt>
<dd>
<p>Deepen or shorten the history of a shallow repository to
exclude commits reachable from a specified remote branch or tag.
This option can be specified multiple times.</p>
</dd>
<dt> --unshallow </dt>
<dd>
<p>If the source repository is complete, convert a shallow
repository to a complete one, removing all the limitations
imposed by shallow repositories.</p>

<p>If the source repository is shallow, fetch as much as possible so that
the current repository has the same history as the source repository.</p>

</dd>
<dt> --update-shallow </dt>
<dd>
<p>By default when fetching from a shallow repository,
<code>git fetch</code> refuses refs that require updating
.git/shallow. This option updates .git/shallow and accept such
refs.</p>
</dd>
<dt> --negotiation-tip=&lt;commit|glob&gt; </dt>
<dd>
<p>By default, Git will report, to the server, commits reachable
from all local refs to find common commits in an attempt to
reduce the size of the to-be-received packfile. If specified,
Git will only report commits reachable from the given tips.
This is useful to speed up fetches when the user knows which
local ref is likely to have commits in common with the
upstream ref being fetched.</p>

<p>This option may be specified more than once; if so, Git will report
commits reachable from any of the given commits.</p>


<p>The argument to this option may be a glob on ref names, a ref, or the (possibly
abbreviated) SHA-1 of a commit. Specifying a glob is equivalent to specifying
this option multiple times, one for each matching ref name.</p>


<p>See also the <code>fetch.negotiationAlgorithm</code> and <code>push.negotiate</code>
configuration variables documented in <a href="/docs/git-config">git-config[1]</a>, and the
<code>--negotiate-only</code> option below.</p>

</dd>
<dt> --negotiate-only </dt>
<dd>
<p>Do not fetch anything from the server, and instead print the
ancestors of the provided <code>--negotiation-tip=*</code> arguments,
which we have in common with the server.</p>

<p>Internally this is used to implement the <code>push.negotiate</code> option, see
<a href="/docs/git-config">git-config[1]</a>.</p>

</dd>
<dt> --dry-run </dt>
<dd>
<p>Show what would be done, without making any changes.</p>
</dd>
<dt> -f </dt>
<dt> --force </dt>
<dd>
<p>When <em>git fetch</em> is used with <code>&lt;src&gt;:&lt;dst&gt;</code> refspec it may
refuse to update the local branch as discussed
in the <code>&lt;refspec&gt;</code> part of the <a href="/docs/git-fetch">git-fetch[1]</a>
documentation.
This option overrides that check.</p>
</dd>
<dt> -k </dt>
<dt> --keep </dt>
<dd>
<p>Keep downloaded pack.</p>
</dd>
<dt> --prefetch </dt>
<dd>
<p>Modify the configured refspec to place all refs into the
<code>refs/prefetch/</code> namespace. See the <code>prefetch</code> task in
<a href="/docs/git-maintenance">git-maintenance[1]</a>.</p>
</dd>
<dt> -p </dt>
<dt> --prune </dt>
<dd>
<p>Before fetching, remove any remote-tracking references that no
longer exist on the remote.  Tags are not subject to pruning
if they are fetched only because of the default tag
auto-following or due to a --tags option.  However, if tags
are fetched due to an explicit refspec (either on the command
line or in the remote configuration, for example if the remote
was cloned with the --mirror option), then they are also
subject to pruning. Supplying <code>--prune-tags</code> is a shorthand for
providing the tag refspec.</p>
</dd>
<dt> --no-tags </dt>
<dd>
<p>By default, tags that point at objects that are downloaded
from the remote repository are fetched and stored locally.
This option disables this automatic tag following. The default
behavior for a remote may be specified with the remote.&lt;name&gt;.tagOpt
setting. See <a href="/docs/git-config">git-config[1]</a>.</p>
</dd>
<dt> --refmap=&lt;refspec&gt; </dt>
<dd>
<p>When fetching refs listed on the command line, use the
specified refspec (can be given more than once) to map the
refs to remote-tracking branches, instead of the values of
<code>remote.*.fetch</code> configuration variables for the remote
repository.  Providing an empty <code>&lt;refspec&gt;</code> to the
<code>--refmap</code> option causes Git to ignore the configured
refspecs and rely entirely on the refspecs supplied as
command-line arguments. See section on "Configured Remote-tracking
Branches" for details.</p>
</dd>
<dt> -t </dt>
<dt> --tags </dt>
<dd>
<p>Fetch all tags from the remote (i.e., fetch remote tags
<code>refs/tags/*</code> into local tags with the same name), in addition
to whatever else would otherwise be fetched.  Using this
option alone does not subject tags to pruning, even if --prune
is used (though tags may be pruned anyway if they are also the
destination of an explicit refspec; see <code>--prune</code>).</p>
</dd>
<dt> -j </dt>
<dt> --jobs=&lt;n&gt; </dt>
<dd>
<p>Number of parallel children to be used for all forms of fetching.</p>

<p>If the <code>--multiple</code> option was specified, the different remotes will be fetched
in parallel. If multiple submodules are fetched, they will be fetched in
parallel. To control them independently, use the config settings
<code>fetch.parallel</code> and <code>submodule.fetchJobs</code> (see <a href="/docs/git-config">git-config[1]</a>).</p>


<p>Typically, parallel recursive and multi-remote fetches will be faster. By
default fetches are performed sequentially, not in parallel.</p>

</dd>
<dt> --set-upstream </dt>
<dd>
<p>If the remote is fetched successfully, add upstream
(tracking) reference, used by argument-less
<a href="/docs/git-pull">git-pull[1]</a> and other commands. For more information,
see <code>branch.&lt;name&gt;.merge</code> and <code>branch.&lt;name&gt;.remote</code> in
<a href="/docs/git-config">git-config[1]</a>.</p>
</dd>
<dt> --upload-pack &lt;upload-pack&gt; </dt>
<dd>
<p>When given, and the repository to fetch from is handled
by <em>git fetch-pack</em>, <code>--exec=&lt;upload-pack&gt;</code> is passed to
the command to specify non-default path for the command
run on the other end.</p>
</dd>
<dt> --progress </dt>
<dd>
<p>Progress status is reported on the standard error stream
by default when it is attached to a terminal, unless -q
is specified. This flag forces progress status even if the
standard error stream is not directed to a terminal.</p>
</dd>
<dt> -o &lt;option&gt; </dt>
<dt> --server-option=&lt;option&gt; </dt>
<dd>
<p>Transmit the given string to the server when communicating using
protocol version 2.  The given string must not contain a NUL or LF
character.  The server’s handling of server options, including
unknown ones, is server-specific.
When multiple <code>--server-option=&lt;option&gt;</code> are given, they are all
sent to the other side in the order listed on the command line.</p>
</dd>
<dt> --show-forced-updates </dt>
<dd>
<p>By default, git checks if a branch is force-updated during
fetch. This can be disabled through fetch.showForcedUpdates, but
the --show-forced-updates option guarantees this check occurs.
See <a href="/docs/git-config">git-config[1]</a>.</p>
</dd>
<dt> --no-show-forced-updates </dt>
<dd>
<p>By default, git checks if a branch is force-updated during
fetch. Pass --no-show-forced-updates or set fetch.showForcedUpdates
to false to skip this check for performance reasons. If used during
<em>git-pull</em> the --ff-only option will still check for forced updates
before attempting a fast-forward update. See <a href="/docs/git-config">git-config[1]</a>.</p>
</dd>
<dt> -4 </dt>
<dt> --ipv4 </dt>
<dd>
<p>Use IPv4 addresses only, ignoring IPv6 addresses.</p>
</dd>
<dt> -6 </dt>
<dt> --ipv6 </dt>
<dd>
<p>Use IPv6 addresses only, ignoring IPv4 addresses.</p>
</dd>
<dt> &lt;repository&gt; </dt>
<dd>
<p>The "remote" repository that is the source of a fetch
or pull operation.  This parameter can be either a URL
(see the section <a href="#URLS">GIT URLS</a> below) or the name
of a remote (see the section <a href="#REMOTES">REMOTES</a> below).</p>
</dd>
<dt> &lt;refspec&gt; </dt>
<dd>
<p>Specifies which refs to fetch and which local refs to update.
When no &lt;refspec&gt;s appear on the command line, the refs to fetch
are read from <code>remote.&lt;repository&gt;.fetch</code> variables instead
(see the section "CONFIGURED REMOTE-TRACKING BRANCHES"
in <a href="/docs/git-fetch">git-fetch[1]</a>).</p>

<p>The format of a &lt;refspec&gt; parameter is an optional plus
<code>+</code>, followed by the source &lt;src&gt;, followed
by a colon <code>:</code>, followed by the destination ref &lt;dst&gt;.
The colon can be omitted when &lt;dst&gt; is empty.  &lt;src&gt; is
typically a ref, but it can also be a fully spelled hex object
name.</p>


<p>A &lt;refspec&gt; may contain a <code>*</code> in its &lt;src&gt; to indicate a simple pattern
match. Such a refspec functions like a glob that matches any ref with the
same prefix. A pattern &lt;refspec&gt; must have a <code>*</code> in both the &lt;src&gt; and
&lt;dst&gt;. It will map refs to the destination by replacing the <code>*</code> with the
contents matched from the source.</p>


<p>If a refspec is prefixed by <code>^</code>, it will be interpreted as a negative
refspec. Rather than specifying which refs to fetch or which local refs to
update, such a refspec will instead specify refs to exclude. A ref will be
considered to match if it matches at least one positive refspec, and does
not match any negative refspec. Negative refspecs can be useful to restrict
the scope of a pattern refspec so that it will not include specific refs.
Negative refspecs can themselves be pattern refspecs. However, they may only
contain a &lt;src&gt; and do not specify a &lt;dst&gt;. Fully spelled out hex object
names are also not supported.</p>


<p><code>tag &lt;tag&gt;</code> means the same as <code>refs/tags/&lt;tag&gt;:refs/tags/&lt;tag&gt;</code>;
it requests fetching everything up to the given tag.</p>


<p>The remote ref that matches &lt;src&gt;
is fetched, and if &lt;dst&gt; is not an empty string, an attempt
is made to update the local ref that matches it.</p>


<p>Whether that update is allowed without <code>--force</code> depends on the ref
namespace it’s being fetched to, the type of object being fetched, and
whether the update is considered to be a fast-forward. Generally, the
same rules apply for fetching as when pushing, see the <code>&lt;refspec&gt;...</code>
section of <a href="/docs/git-push">git-push[1]</a> for what those are. Exceptions to those
rules particular to <em>git fetch</em> are noted below.</p>


<p>Until Git version 2.20, and unlike when pushing with
<a href="/docs/git-push">git-push[1]</a>, any updates to <code>refs/tags/*</code> would be accepted
without <code>+</code> in the refspec (or <code>--force</code>). When fetching, we promiscuously
considered all tag updates from a remote to be forced fetches.  Since
Git version 2.20, fetching to update <code>refs/tags/*</code> works the same way
as when pushing. I.e. any updates will be rejected without <code>+</code> in the
refspec (or <code>--force</code>).</p>


<p>Unlike when pushing with <a href="/docs/git-push">git-push[1]</a>, any updates outside of
<code>refs/{tags,heads}/*</code> will be accepted without <code>+</code> in the refspec (or
<code>--force</code>), whether that’s swapping e.g. a tree object for a blob, or
a commit for another commit that’s doesn’t have the previous commit as
an ancestor etc.</p>


<p>Unlike when pushing with <a href="/docs/git-push">git-push[1]</a>, there is no
configuration which’ll amend these rules, and nothing like a
<code>pre-fetch</code> hook analogous to the <code>pre-receive</code> hook.</p>


<p>As with pushing with <a href="/docs/git-push">git-push[1]</a>, all of the rules described
above about what’s not allowed as an update can be overridden by
adding an the optional leading <code>+</code> to a refspec (or using <code>--force</code>
command line option). The only exception to this is that no amount of
forcing will make the <code>refs/heads/*</code> namespace accept a non-commit
object.</p>


<table><tr>
<td>
Note
</td>
<td>
When the remote branch you want to fetch is known to
be rewound and rebased regularly, it is expected that
its new tip will not be descendant of its previous tip
(as stored in your remote-tracking branch the last time
you fetched).  You would want
to use the <code>+</code> sign to indicate non-fast-forward updates
will be needed for such branches.  There is no way to
determine or declare that a branch will be made available
in a repository with this behavior; the pulling user simply
must know this is the expected usage pattern for a branch.
</td>
</tr></table>


<table><tr>
<td>
Note
</td>
<td>
There is a difference between listing multiple &lt;refspec&gt;
directly on <em>git pull</em> command line and having multiple
<code>remote.&lt;repository&gt;.fetch</code> entries in your configuration
for a &lt;repository&gt; and running a
<em>git pull</em> command without any explicit &lt;refspec&gt; parameters.
&lt;refspec&gt;s listed explicitly on the command line are always
merged into the current branch after fetching.  In other words,
if you list more than one remote ref, <em>git pull</em> will create
an Octopus merge.  On the other hand, if you do not list any
explicit &lt;refspec&gt; parameter on the command line, <em>git pull</em>
will fetch all the &lt;refspec&gt;s it finds in the
<code>remote.&lt;repository&gt;.fetch</code> configuration and merge
only the first &lt;refspec&gt; found into the current branch.
This is because making an
Octopus from remote refs is rarely done, while keeping track
of multiple remote heads in one-go by fetching more than one
is often useful.
</td>
</tr></table>

</dd>
</dl>





<h2>GIT URLS
</h2>


<p>In general, URLs contain information about the transport protocol, the
address of the remote server, and the path to the repository.
Depending on the transport protocol, some of this information may be
absent.</p>


<p>Git supports ssh, git, http, and https protocols (in addition, ftp,
and ftps can be used for fetching, but this is inefficient and
deprecated; do not use it).</p>


<p>The native transport (i.e. git:// URL) does no authentication and
should be used with caution on unsecured networks.</p>


<p>The following syntaxes may be used with them:</p>


<ul>
<li>
<p>ssh://[user@]host.xz[:port]/path/to/repo.git/</p>
</li>
<li>
<p>git://host.xz[:port]/path/to/repo.git/</p>
</li>
<li>
<p>http[s]://host.xz[:port]/path/to/repo.git/</p>
</li>
<li>
<p>ftp[s]://host.xz[:port]/path/to/repo.git/</p>
</li>
</ul>


<p>An alternative scp-like syntax may also be used with the ssh protocol:</p>


<ul>
<li>
<p>[user@]host.xz:path/to/repo.git/</p>
</li>
</ul>


<p>This syntax is only recognized if there are no slashes before the
first colon. This helps differentiate a local path that contains a
colon. For example the local path <code>foo:bar</code> could be specified as an
absolute path or <code>./foo:bar</code> to avoid being misinterpreted as an ssh
url.</p>


<p>The ssh and git protocols additionally support ~username expansion:</p>


<ul>
<li>
<p>ssh://[user@]host.xz[:port]/~[user]/path/to/repo.git/</p>
</li>
<li>
<p>git://host.xz[:port]/~[user]/path/to/repo.git/</p>
</li>
<li>
<p>[user@]host.xz:/~[user]/path/to/repo.git/</p>
</li>
</ul>


<p>For local repositories, also supported by Git natively, the following
syntaxes may be used:</p>


<ul>
<li>
<p>/path/to/repo.git/</p>
</li>
<li>
<p>file:///path/to/repo.git/</p>
</li>
</ul>


<p>These two syntaxes are mostly equivalent, except when cloning, when
the former implies --local option. See <a href="/docs/git-clone">git-clone[1]</a> for
details.</p>


<p><em>git clone</em>, <em>git fetch</em> and <em>git pull</em>, but not <em>git push</em>, will also
accept a suitable bundle file. See <a href="/docs/git-bundle">git-bundle[1]</a>.</p>


<p>When Git doesn’t know how to handle a certain transport protocol, it
attempts to use the <em>remote-&lt;transport&gt;</em> remote helper, if one
exists. To explicitly request a remote helper, the following syntax
may be used:</p>


<ul>
<li>
<p>&lt;transport&gt;::&lt;address&gt;</p>
</li>
</ul>


<p>where &lt;address&gt; may be a path, a server and path, or an arbitrary
URL-like string recognized by the specific remote helper being
invoked. See <a href="/docs/gitremote-helpers">gitremote-helpers[7]</a> for details.</p>


<p>If there are a large number of similarly-named remote repositories and
you want to use a different format for them (such that the URLs you
use will be rewritten into URLs that work), you can create a
configuration section of the form:</p>



<pre>	[url "&lt;actual url base&gt;"]
		insteadOf = &lt;other url base&gt;</pre>



<p>For example, with this:</p>



<pre>	[url "git://git.host.xz/"]
		insteadOf = host.xz:/path/to/
		insteadOf = work:</pre>



<p>a URL like "work:repo.git" or like "host.xz:/path/to/repo.git" will be
rewritten in any context that takes a URL to be "git://git.host.xz/repo.git".</p>


<p>If you want to rewrite URLs for push only, you can create a
configuration section of the form:</p>



<pre>	[url "&lt;actual url base&gt;"]
		pushInsteadOf = &lt;other url base&gt;</pre>



<p>For example, with this:</p>



<pre>	[url "ssh://example.org/"]
		pushInsteadOf = git://example.org/</pre>



<p>a URL like "git://example.org/path/to/repo.git" will be rewritten to
"ssh://example.org/path/to/repo.git" for pushes, but pulls will still
use the original URL.</p>




<h2>REMOTES
</h2>


<p>The name of one of the following can be used instead
of a URL as <code>&lt;repository&gt;</code> argument:</p>


<ul>
<li>
<p>a remote in the Git configuration file: <code>$GIT_DIR/config</code>,</p>
</li>
<li>
<p>a file in the <code>$GIT_DIR/remotes</code> directory, or</p>
</li>
<li>
<p>a file in the <code>$GIT_DIR/branches</code> directory.</p>
</li>
</ul>


<p>All of these also allow you to omit the refspec from the command line
because they each contain a refspec which git will use by default.</p>


<h3>
Named remote in configuration file</h3>

<p>You can choose to provide the name of a remote which you had previously
configured using <a href="/docs/git-remote">git-remote[1]</a>, <a href="/docs/git-config">git-config[1]</a>
or even by a manual edit to the <code>$GIT_DIR/config</code> file.  The URL of
this remote will be used to access the repository.  The refspec
of this remote will be used by default when you do
not provide a refspec on the command line.  The entry in the
config file would appear like this:</p>



<pre>	[remote "&lt;name&gt;"]
		url = &lt;URL&gt;
		pushurl = &lt;pushurl&gt;
		push = &lt;refspec&gt;
		fetch = &lt;refspec&gt;</pre>



<p>The <code>&lt;pushurl&gt;</code> is used for pushes only. It is optional and defaults
to <code>&lt;URL&gt;</code>.</p>



<h3>
Named file in <code>$GIT_DIR/remotes</code>
</h3>

<p>You can choose to provide the name of a
file in <code>$GIT_DIR/remotes</code>.  The URL
in this file will be used to access the repository.  The refspec
in this file will be used as default when you do not
provide a refspec on the command line.  This file should have the
following format:</p>



<pre>	URL: one of the above URL format
	Push: &lt;refspec&gt;
	Pull: &lt;refspec&gt;</pre>



<p><code>Push:</code> lines are used by <em>git push</em> and
<code>Pull:</code> lines are used by <em>git pull</em> and <em>git fetch</em>.
Multiple <code>Push:</code> and <code>Pull:</code> lines may
be specified for additional branch mappings.</p>



<h3>
Named file in <code>$GIT_DIR/branches</code>
</h3>

<p>You can choose to provide the name of a
file in <code>$GIT_DIR/branches</code>.
The URL in this file will be used to access the repository.
This file should have the following format:</p>



<pre>	&lt;URL&gt;#&lt;head&gt;</pre>



<p><code>&lt;URL&gt;</code> is required; <code>#&lt;head&gt;</code> is optional.</p>


<p>Depending on the operation, git will use one of the following
refspecs, if you don’t provide one on the command line.
<code>&lt;branch&gt;</code> is the name of this file in <code>$GIT_DIR/branches</code> and
<code>&lt;head&gt;</code> defaults to <code>master</code>.</p>


<p>git fetch uses:</p>



<pre>	refs/heads/&lt;head&gt;:refs/heads/&lt;branch&gt;</pre>



<p>git push uses:</p>



<pre>	HEAD:refs/heads/&lt;head&gt;</pre>






<h2>MERGE STRATEGIES</h2>


<p>The merge mechanism (<code>git merge</code> and <code>git pull</code> commands) allows the
backend <em>merge strategies</em> to be chosen with <code>-s</code> option.  Some strategies
can also take their own options, which can be passed by giving <code>-X&lt;option&gt;</code>
arguments to <code>git merge</code> and/or <code>git pull</code>.</p>


<dl>
<dt> ort </dt>
<dd>
<p>This is the default merge strategy when pulling or merging one
branch.  This strategy can only resolve two heads using a
3-way merge algorithm.  When there is more than one common
ancestor that can be used for 3-way merge, it creates a merged
tree of the common ancestors and uses that as the reference
tree for the 3-way merge.  This has been reported to result in
fewer merge conflicts without causing mismerges by tests done
on actual merge commits taken from Linux 2.6 kernel
development history.  Additionally this strategy can detect
and handle merges involving renames.  It does not make use of
detected copies.  The name for this algorithm is an acronym
("Ostensibly Recursive’s Twin") and came from the fact that it
was written as a replacement for the previous default
algorithm, <code>recursive</code>.</p>

<p>The <em>ort</em> strategy can take the following options:</p>


<dl>
<dt> ours </dt>
<dd>
<p>This option forces conflicting hunks to be auto-resolved cleanly by
favoring <em>our</em> version.  Changes from the other tree that do not
conflict with our side are reflected in the merge result.
For a binary file, the entire contents are taken from our side.</p>

<p>This should not be confused with the <em>ours</em> merge strategy, which does not
even look at what the other tree contains at all.  It discards everything
the other tree did, declaring <em>our</em> history contains all that happened in it.</p>

</dd>
<dt> theirs </dt>
<dd>
<p>This is the opposite of <em>ours</em>; note that, unlike <em>ours</em>, there is
no <em>theirs</em> merge strategy to confuse this merge option with.</p>
</dd>
<dt> ignore-space-change </dt>
<dt> ignore-all-space </dt>
<dt> ignore-space-at-eol </dt>
<dt> ignore-cr-at-eol </dt>
<dd>
<p>Treats lines with the indicated type of whitespace change as
unchanged for the sake of a three-way merge.  Whitespace
changes mixed with other changes to a line are not ignored.
See also <a href="/docs/git-diff">git-diff[1]</a> <code>-b</code>, <code>-w</code>,
<code>--ignore-space-at-eol</code>, and <code>--ignore-cr-at-eol</code>.</p>

<ul>
<li>
<p>If <em>their</em> version only introduces whitespace changes to a line,
<em>our</em> version is used;</p>
</li>
<li>
<p>If <em>our</em> version introduces whitespace changes but <em>their</em>
version includes a substantial change, <em>their</em> version is used;</p>
</li>
<li>
<p>Otherwise, the merge proceeds in the usual way.</p>
</li>
</ul>

</dd>
<dt> renormalize </dt>
<dd>
<p>This runs a virtual check-out and check-in of all three stages
of a file when resolving a three-way merge.  This option is
meant to be used when merging branches with different clean
filters or end-of-line normalization rules.  See "Merging
branches with differing checkin/checkout attributes" in
<a href="/docs/gitattributes">gitattributes[5]</a> for details.</p>
</dd>
<dt> no-renormalize </dt>
<dd>
<p>Disables the <code>renormalize</code> option.  This overrides the
<code>merge.renormalize</code> configuration variable.</p>
</dd>
<dt> find-renames[=&lt;n&gt;] </dt>
<dd>
<p>Turn on rename detection, optionally setting the similarity
threshold.  This is the default. This overrides the
<em>merge.renames</em> configuration variable.
See also <a href="/docs/git-diff">git-diff[1]</a> <code>--find-renames</code>.</p>
</dd>
<dt> rename-threshold=&lt;n&gt; </dt>
<dd>
<p>Deprecated synonym for <code>find-renames=&lt;n&gt;</code>.</p>
</dd>
<dt> subtree[=&lt;path&gt;] </dt>
<dd>
<p>This option is a more advanced form of <em>subtree</em> strategy, where
the strategy makes a guess on how two trees must be shifted to
match with each other when merging.  Instead, the specified path
is prefixed (or stripped from the beginning) to make the shape of
two trees to match.</p>
</dd>
</dl>

</dd>
<dt> recursive </dt>
<dd>
<p>This can only resolve two heads using a 3-way merge
algorithm.  When there is more than one common
ancestor that can be used for 3-way merge, it creates a
merged tree of the common ancestors and uses that as
the reference tree for the 3-way merge.  This has been
reported to result in fewer merge conflicts without
causing mismerges by tests done on actual merge commits
taken from Linux 2.6 kernel development history.
Additionally this can detect and handle merges involving
renames.  It does not make use of detected copies.  This was
the default strategy for resolving two heads from Git v0.99.9k
until v2.33.0.</p>

<p>The <em>recursive</em> strategy takes the same options as <em>ort</em>.  However,
there are three additional options that <em>ort</em> ignores (not documented
above) that are potentially useful with the <em>recursive</em> strategy:</p>


<dl>
<dt> patience </dt>
<dd>
<p>Deprecated synonym for <code>diff-algorithm=patience</code>.</p>
</dd>
<dt> diff-algorithm=[patience|minimal|histogram|myers] </dt>
<dd>
<p>Use a different diff algorithm while merging, which can help
avoid mismerges that occur due to unimportant matching lines
(such as braces from distinct functions).  See also
<a href="/docs/git-diff">git-diff[1]</a> <code>--diff-algorithm</code>.  Note that <code>ort</code>
specifically uses <code>diff-algorithm=histogram</code>, while <code>recursive</code>
defaults to the <code>diff.algorithm</code> config setting.</p>
</dd>
<dt> no-renames </dt>
<dd>
<p>Turn off rename detection. This overrides the <code>merge.renames</code>
configuration variable.
See also <a href="/docs/git-diff">git-diff[1]</a> <code>--no-renames</code>.</p>
</dd>
</dl>

</dd>
<dt> resolve </dt>
<dd>
<p>This can only resolve two heads (i.e. the current branch
and another branch you pulled from) using a 3-way merge
algorithm.  It tries to carefully detect criss-cross
merge ambiguities.  It does not handle renames.</p>
</dd>
<dt> octopus </dt>
<dd>
<p>This resolves cases with more than two heads, but refuses to do
a complex merge that needs manual resolution.  It is
primarily meant to be used for bundling topic branch
heads together.  This is the default merge strategy when
pulling or merging more than one branch.</p>
</dd>
<dt> ours </dt>
<dd>
<p>This resolves any number of heads, but the resulting tree of the
merge is always that of the current branch head, effectively
ignoring all changes from all other branches.  It is meant to
be used to supersede old development history of side
branches.  Note that this is different from the -Xours option to
the <em>recursive</em> merge strategy.</p>
</dd>
<dt> subtree </dt>
<dd>
<p>This is a modified <code>ort</code> strategy. When merging trees A and
B, if B corresponds to a subtree of A, B is first adjusted to
match the tree structure of A, instead of reading the trees at
the same level. This adjustment is also done to the common
ancestor tree.</p>
</dd>
</dl>


<p>With the strategies that use 3-way merge (including the default, <em>ort</em>),
if a change is made on both branches, but later reverted on one of the
branches, that change will be present in the merged result; some people find
this behavior confusing.  It occurs because only the heads and the merge base
are considered when performing a merge, not the individual commits.  The merge
algorithm therefore considers the reverted change as no change at all, and
substitutes the changed version instead.</p>




<h2>DEFAULT BEHAVIOUR</h2>


<p>Often people use <code>git pull</code> without giving any parameter.
Traditionally, this has been equivalent to saying <code>git pull
origin</code>.  However, when configuration <code>branch.&lt;name&gt;.remote</code> is
present while on branch <code>&lt;name&gt;</code>, that value is used instead of
<code>origin</code>.</p>


<p>In order to determine what URL to use to fetch from, the value
of the configuration <code>remote.&lt;origin&gt;.url</code> is consulted
and if there is not any such variable, the value on the <code>URL:</code> line
in <code>$GIT_DIR/remotes/&lt;origin&gt;</code> is used.</p>


<p>In order to determine what remote branches to fetch (and
optionally store in the remote-tracking branches) when the command is
run without any refspec parameters on the command line, values
of the configuration variable <code>remote.&lt;origin&gt;.fetch</code> are
consulted, and if there aren’t any, <code>$GIT_DIR/remotes/&lt;origin&gt;</code>
is consulted and its <code>Pull:</code> lines are used.
In addition to the refspec formats described in the OPTIONS
section, you can have a globbing refspec that looks like this:</p>



<pre>refs/heads/*:refs/remotes/origin/*</pre>



<p>A globbing refspec must have a non-empty RHS (i.e. must store
what were fetched in remote-tracking branches), and its LHS and RHS
must end with <code>/*</code>.  The above specifies that all remote
branches are tracked using remote-tracking branches in
<code>refs/remotes/origin/</code> hierarchy under the same name.</p>


<p>The rule to determine which remote branch to merge after
fetching is a bit involved, in order not to break backward
compatibility.</p>


<p>If explicit refspecs were given on the command
line of <code>git pull</code>, they are all merged.</p>


<p>When no refspec was given on the command line, then <code>git pull</code>
uses the refspec from the configuration or
<code>$GIT_DIR/remotes/&lt;origin&gt;</code>.  In such cases, the following
rules apply:</p>


<ol>
<li>
<p>If <code>branch.&lt;name&gt;.merge</code> configuration for the current
branch <code>&lt;name&gt;</code> exists, that is the name of the branch at the
remote site that is merged.</p>
</li>
<li>
<p>If the refspec is a globbing one, nothing is merged.</p>
</li>
<li>
<p>Otherwise the remote branch of the first refspec is merged.</p>
</li>
</ol>




<h2>examples</h2>


<ul>
<li>
<p>Update the remote-tracking branches for the repository
you cloned from, then merge one of them into your
current branch:</p>


<pre>$ git pull
$ git pull origin</pre>



<p>Normally the branch merged in is the HEAD of the remote repository,
but the choice is determined by the branch.&lt;name&gt;.remote and
branch.&lt;name&gt;.merge options; see <a href="/docs/git-config">git-config[1]</a> for details.</p>

</li>
<li>
<p>Merge into the current branch the remote branch <code>next</code>:</p>


<pre>$ git pull origin next</pre>



<p>This leaves a copy of <code>next</code> temporarily in FETCH_HEAD, and
updates the remote-tracking branch <code>origin/next</code>.
The same can be done by invoking fetch and merge:</p>



<pre>$ git fetch origin
$ git merge origin/next</pre>


</li>
</ul>


<p>If you tried a pull which resulted in complex conflicts and
would want to start over, you can recover with <em>git reset</em>.</p>




<h2>SECURITY</h2>


<p>The fetch and push protocols are not designed to prevent one side from
stealing data from the other repository that was not intended to be
shared. If you have private data that you need to protect from a malicious
peer, your best option is to store it in another repository. This applies
to both clients and servers. In particular, namespaces on a server are not
effective for read access control; you should only grant read access to a
namespace to clients that you would trust with read access to the entire
repository.</p>


<p>The known attack vectors are as follows:</p>


<ol>
<li>
<p>The victim sends "have" lines advertising the IDs of objects it has that
are not explicitly intended to be shared but can be used to optimize the
transfer if the peer also has them. The attacker chooses an object ID X
to steal and sends a ref to X, but isn’t required to send the content of
X because the victim already has it. Now the victim believes that the
attacker has X, and it sends the content of X back to the attacker
later. (This attack is most straightforward for a client to perform on a
server, by creating a ref to X in the namespace the client has access
to and then fetching it. The most likely way for a server to perform it
on a client is to "merge" X into a public branch and hope that the user
does additional work on this branch and pushes it back to the server
without noticing the merge.)</p>
</li>
<li>
<p>As in #1, the attacker chooses an object ID X to steal. The victim sends
an object Y that the attacker already has, and the attacker falsely
claims to have X and not Y, so the victim sends Y as a delta against X.
The delta reveals regions of X that are similar to Y to the attacker.</p>
</li>
</ol>




<h2>BUGS</h2>


<p>Using --recurse-submodules can only fetch new commits in already checked
out submodules right now. When e.g. upstream added a new submodule in the
just fetched commits of the superproject the submodule itself cannot be
fetched, making it impossible to check out that submodule later without
having to do a fetch again. This is expected to be fixed in a future Git
version.</p>




<h2>SEE ALSO</h2>


<p><a href="/docs/git-fetch">git-fetch[1]</a>, <a href="/docs/git-merge">git-merge[1]</a>, <a href="/docs/git-config">git-config[1]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-push - Update remote refs along with associated objects</span></h2>




<h2><br>synopsis</h2>


<pre><em>git push</em> [--all | --mirror | --tags] [--follow-tags] [--atomic] [-n | --dry-run] [--receive-pack=&lt;git-receive-pack&gt;]
	   [--repo=&lt;repository&gt;] [-f | --force] [-d | --delete] [--prune] [-v | --verbose]
	   [-u | --set-upstream] [-o &lt;string&gt; | --push-option=&lt;string&gt;]
	   [--[no-]signed|--signed=(true|false|if-asked)]
	   [--force-with-lease[=&lt;refname&gt;[:&lt;expect&gt;]] [--force-if-includes]]
	   [--no-verify] [&lt;repository&gt; [&lt;refspec&gt;…<U+200B>]]</pre>




<h2>description</h2>


<p>Updates remote refs using local refs, while sending objects
necessary to complete the given refs.</p>


<p>You can make interesting things happen to a repository
every time you push into it, by setting up <em>hooks</em> there.  See
documentation for <a href="/docs/git-receive-pack">git-receive-pack[1]</a>.</p>


<p>When the command line does not specify where to push with the
<code>&lt;repository&gt;</code> argument, <code>branch.*.remote</code> configuration for the
current branch is consulted to determine where to push.  If the
configuration is missing, it defaults to <em>origin</em>.</p>


<p>When the command line does not specify what to push with <code>&lt;refspec&gt;...</code>
arguments or <code>--all</code>, <code>--mirror</code>, <code>--tags</code> options, the command finds
the default <code>&lt;refspec&gt;</code> by consulting <code>remote.*.push</code> configuration,
and if it is not found, honors <code>push.default</code> configuration to decide
what to push (See <a href="/docs/git-config">git-config[1]</a> for the meaning of <code>push.default</code>).</p>


<p>When neither the command-line nor the configuration specify what to
push, the default behavior is used, which corresponds to the <code>simple</code>
value for <code>push.default</code>: the current branch is pushed to the
corresponding upstream branch, but as a safety measure, the push is
aborted if the upstream branch does not have the same name as the
local one.</p>




<h2>OPTIONS
</h2>


<dl>
<dt> &lt;repository&gt; </dt>
<dd>
<p>The "remote" repository that is destination of a push
operation.  This parameter can be either a URL
(see the section <a href="#URLS">GIT URLS</a> below) or the name
of a remote (see the section <a href="#REMOTES">REMOTES</a> below).</p>
</dd>
<dt> &lt;refspec&gt;…<U+200B> </dt>
<dd>
<p>Specify what destination ref to update with what source object.
The format of a &lt;refspec&gt; parameter is an optional plus
<code>+</code>, followed by the source object &lt;src&gt;, followed
by a colon <code>:</code>, followed by the destination ref &lt;dst&gt;.</p>

<p>The &lt;src&gt; is often the name of the branch you would want to push, but
it can be any arbitrary "SHA-1 expression", such as <code>master~4</code> or
<code>HEAD</code> (see <a href="/docs/gitrevisions">gitrevisions[7]</a>).</p>


<p>The &lt;dst&gt; tells which ref on the remote side is updated with this
push. Arbitrary expressions cannot be used here, an actual ref must
be named.
If <code>git push [&lt;repository&gt;]</code> without any <code>&lt;refspec&gt;</code> argument is set to
update some ref at the destination with <code>&lt;src&gt;</code> with
<code>remote.&lt;repository&gt;.push</code> configuration variable, <code>:&lt;dst&gt;</code> part can
be omitted—<U+200B>such a push will update a ref that <code>&lt;src&gt;</code> normally updates
without any <code>&lt;refspec&gt;</code> on the command line.  Otherwise, missing
<code>:&lt;dst&gt;</code> means to update the same ref as the <code>&lt;src&gt;</code>.</p>


<p>If &lt;dst&gt; doesn’t start with <code>refs/</code> (e.g. <code>refs/heads/master</code>) we will
try to infer where in <code>refs/*</code> on the destination &lt;repository&gt; it
belongs based on the type of &lt;src&gt; being pushed and whether &lt;dst&gt;
is ambiguous.</p>




<ul>
<li>
<p>If &lt;dst&gt; unambiguously refers to a ref on the &lt;repository&gt; remote,
then push to that ref.</p>
</li>
<li>
<p>If &lt;src&gt; resolves to a ref starting with refs/heads/ or refs/tags/,
then prepend that to &lt;dst&gt;.</p>
</li>
<li>
<p>Other ambiguity resolutions might be added in the future, but for
now any other cases will error out with an error indicating what we
tried, and depending on the <code>advice.pushUnqualifiedRefname</code>
configuration (see <a href="/docs/git-config">git-config[1]</a>) suggest what refs/
namespace you may have wanted to push to.</p>
</li>
</ul>




<p>The object referenced by &lt;src&gt; is used to update the &lt;dst&gt; reference
on the remote side. Whether this is allowed depends on where in
<code>refs/*</code> the &lt;dst&gt; reference lives as described in detail below, in
those sections "update" means any modifications except deletes, which
as noted after the next few sections are treated differently.</p>


<p>The <code>refs/heads/*</code> namespace will only accept commit objects, and
updates only if they can be fast-forwarded.</p>


<p>The <code>refs/tags/*</code> namespace will accept any kind of object (as
commits, trees and blobs can be tagged), and any updates to them will
be rejected.</p>


<p>It’s possible to push any type of object to any namespace outside of
<code>refs/{tags,heads}/*</code>. In the case of tags and commits, these will be
treated as if they were the commits inside <code>refs/heads/*</code> for the
purposes of whether the update is allowed.</p>


<p>I.e. a fast-forward of commits and tags outside <code>refs/{tags,heads}/*</code>
is allowed, even in cases where what’s being fast-forwarded is not a
commit, but a tag object which happens to point to a new commit which
is a fast-forward of the commit the last tag (or commit) it’s
replacing. Replacing a tag with an entirely different tag is also
allowed, if it points to the same commit, as well as pushing a peeled
tag, i.e. pushing the commit that existing tag object points to, or a
new tag object which an existing commit points to.</p>


<p>Tree and blob objects outside of <code>refs/{tags,heads}/*</code> will be treated
the same way as if they were inside <code>refs/tags/*</code>, any update of them
will be rejected.</p>


<p>All of the rules described above about what’s not allowed as an update
can be overridden by adding an the optional leading <code>+</code> to a refspec
(or using <code>--force</code> command line option). The only exception to this
is that no amount of forcing will make the <code>refs/heads/*</code> namespace
accept a non-commit object. Hooks and configuration can also override
or amend these rules, see e.g. <code>receive.denyNonFastForwards</code> in
<a href="/docs/git-config">git-config[1]</a> and <code>pre-receive</code> and <code>update</code> in
<a href="/docs/githooks">githooks[5]</a>.</p>


<p>Pushing an empty &lt;src&gt; allows you to delete the &lt;dst&gt; ref from the
remote repository. Deletions are always accepted without a leading <code>+</code>
in the refspec (or <code>--force</code>), except when forbidden by configuration
or hooks. See <code>receive.denyDeletes</code> in <a href="/docs/git-config">git-config[1]</a> and
<code>pre-receive</code> and <code>update</code> in <a href="/docs/githooks">githooks[5]</a>.</p>


<p>The special refspec <code>:</code> (or <code>+:</code> to allow non-fast-forward updates)
directs Git to push "matching" branches: for every branch that exists on
the local side, the remote side is updated if a branch of the same name
already exists on the remote side.</p>


<p><code>tag &lt;tag&gt;</code> means the same as <code>refs/tags/&lt;tag&gt;:refs/tags/&lt;tag&gt;</code>.</p>

</dd>
<dt> --all </dt>
<dd>
<p>Push all branches (i.e. refs under <code>refs/heads/</code>); cannot be
used with other &lt;refspec&gt;.</p>
</dd>
<dt> --prune </dt>
<dd>
<p>Remove remote branches that don’t have a local counterpart. For example
a remote branch <code>tmp</code> will be removed if a local branch with the same
name doesn’t exist any more. This also respects refspecs, e.g.
<code>git push --prune remote refs/heads/*:refs/tmp/*</code> would
make sure that remote <code>refs/tmp/foo</code> will be removed if <code>refs/heads/foo</code>
doesn’t exist.</p>
</dd>
<dt> --mirror </dt>
<dd>
<p>Instead of naming each ref to push, specifies that all
refs under <code>refs/</code> (which includes but is not
limited to <code>refs/heads/</code>, <code>refs/remotes/</code>, and <code>refs/tags/</code>)
be mirrored to the remote repository.  Newly created local
refs will be pushed to the remote end, locally updated refs
will be force updated on the remote end, and deleted refs
will be removed from the remote end.  This is the default
if the configuration option <code>remote.&lt;remote&gt;.mirror</code> is
set.</p>
</dd>
<dt> -n </dt>
<dt> --dry-run </dt>
<dd>
<p>Do everything except actually send the updates.</p>
</dd>
<dt> --porcelain </dt>
<dd>
<p>Produce machine-readable output.  The output status line for each ref
will be tab-separated and sent to stdout instead of stderr.  The full
symbolic names of the refs will be given.</p>
</dd>
<dt> -d </dt>
<dt> --delete </dt>
<dd>
<p>All listed refs are deleted from the remote repository. This is
the same as prefixing all refs with a colon.</p>
</dd>
<dt> --tags </dt>
<dd>
<p>All refs under <code>refs/tags</code> are pushed, in
addition to refspecs explicitly listed on the command
line.</p>
</dd>
<dt> --follow-tags </dt>
<dd>
<p>Push all the refs that would be pushed without this option,
and also push annotated tags in <code>refs/tags</code> that are missing
from the remote but are pointing at commit-ish that are
reachable from the refs being pushed.  This can also be specified
with configuration variable <code>push.followTags</code>.  For more
information, see <code>push.followTags</code> in <a href="/docs/git-config">git-config[1]</a>.</p>
</dd>
<dt> --[no-]signed </dt>
<dt> --signed=(true|false|if-asked) </dt>
<dd>
<p>GPG-sign the push request to update refs on the receiving
side, to allow it to be checked by the hooks and/or be
logged.  If <code>false</code> or <code>--no-signed</code>, no signing will be
attempted.  If <code>true</code> or <code>--signed</code>, the push will fail if the
server does not support signed pushes.  If set to <code>if-asked</code>,
sign if and only if the server supports signed pushes.  The push
will also fail if the actual call to <code>gpg --sign</code> fails.  See
<a href="/docs/git-receive-pack">git-receive-pack[1]</a> for the details on the receiving end.</p>
</dd>
<dt> --[no-]atomic </dt>
<dd>
<p>Use an atomic transaction on the remote side if available.
Either all refs are updated, or on error, no refs are updated.
If the server does not support atomic pushes the push will fail.</p>
</dd>
<dt> -o &lt;option&gt; </dt>
<dt> --push-option=&lt;option&gt; </dt>
<dd>
<p>Transmit the given string to the server, which passes them to
the pre-receive as well as the post-receive hook. The given string
must not contain a NUL or LF character.
When multiple <code>--push-option=&lt;option&gt;</code> are given, they are
all sent to the other side in the order listed on the
command line.
When no <code>--push-option=&lt;option&gt;</code> is given from the command
line, the values of configuration variable <code>push.pushOption</code>
are used instead.</p>
</dd>
<dt> --receive-pack=&lt;git-receive-pack&gt; </dt>
<dt> --exec=&lt;git-receive-pack&gt; </dt>
<dd>
<p>Path to the <em>git-receive-pack</em> program on the remote
end.  Sometimes useful when pushing to a remote
repository over ssh, and you do not have the program in
a directory on the default $PATH.</p>
</dd>
<dt> --[no-]force-with-lease </dt>
<dt> --force-with-lease=&lt;refname&gt; </dt>
<dt> --force-with-lease=&lt;refname&gt;:&lt;expect&gt; </dt>
<dd>
<p>Usually, "git push" refuses to update a remote ref that is
not an ancestor of the local ref used to overwrite it.</p>

<p>This option overrides this restriction if the current value of the
remote ref is the expected value.  "git push" fails otherwise.</p>


<p>Imagine that you have to rebase what you have already published.
You will have to bypass the "must fast-forward" rule in order to
replace the history you originally published with the rebased history.
If somebody else built on top of your original history while you are
rebasing, the tip of the branch at the remote may advance with their
commit, and blindly pushing with <code>--force</code> will lose their work.</p>


<p>This option allows you to say that you expect the history you are
updating is what you rebased and want to replace. If the remote ref
still points at the commit you specified, you can be sure that no
other people did anything to the ref. It is like taking a "lease" on
the ref without explicitly locking it, and the remote ref is updated
only if the "lease" is still valid.</p>


<p><code>--force-with-lease</code> alone, without specifying the details, will protect
all remote refs that are going to be updated by requiring their
current value to be the same as the remote-tracking branch we have
for them.</p>


<p><code>--force-with-lease=&lt;refname&gt;</code>, without specifying the expected value, will
protect the named ref (alone), if it is going to be updated, by
requiring its current value to be the same as the remote-tracking
branch we have for it.</p>


<p><code>--force-with-lease=&lt;refname&gt;:&lt;expect&gt;</code> will protect the named ref (alone),
if it is going to be updated, by requiring its current value to be
the same as the specified value <code>&lt;expect&gt;</code> (which is allowed to be
different from the remote-tracking branch we have for the refname,
or we do not even have to have such a remote-tracking branch when
this form is used).  If <code>&lt;expect&gt;</code> is the empty string, then the named ref
must not already exist.</p>


<p>Note that all forms other than <code>--force-with-lease=&lt;refname&gt;:&lt;expect&gt;</code>
that specifies the expected current value of the ref explicitly are
still experimental and their semantics may change as we gain experience
with this feature.</p>


<p>"--no-force-with-lease" will cancel all the previous --force-with-lease on the
command line.</p>


<p>A general note on safety: supplying this option without an expected
value, i.e. as <code>--force-with-lease</code> or <code>--force-with-lease=&lt;refname&gt;</code>
interacts very badly with anything that implicitly runs <code>git fetch</code> on
the remote to be pushed to in the background, e.g. <code>git fetch origin</code>
on your repository in a cronjob.</p>


<p>The protection it offers over <code>--force</code> is ensuring that subsequent
changes your work wasn’t based on aren’t clobbered, but this is
trivially defeated if some background process is updating refs in the
background. We don’t have anything except the remote tracking info to
go by as a heuristic for refs you’re expected to have seen &amp; are
willing to clobber.</p>


<p>If your editor or some other system is running <code>git fetch</code> in the
background for you a way to mitigate this is to simply set up another
remote:</p>



<pre>git remote add origin-push $(git config remote.origin.url)
git fetch origin-push</pre>



<p>Now when the background process runs <code>git fetch origin</code> the references
on <code>origin-push</code> won’t be updated, and thus commands like:</p>



<pre>git push --force-with-lease origin-push</pre>



<p>Will fail unless you manually run <code>git fetch origin-push</code>. This method
is of course entirely defeated by something that runs <code>git fetch
--all</code>, in that case you’d need to either disable it or do something
more tedious like:</p>



<pre>git fetch              # update 'master' from remote
git tag base master    # mark our base point
git rebase -i master   # rewrite some commits
git push --force-with-lease=master:base master:master</pre>



<p>I.e. create a <code>base</code> tag for versions of the upstream code that you’ve
seen and are willing to overwrite, then rewrite history, and finally
force push changes to <code>master</code> if the remote version is still at
<code>base</code>, regardless of what your local <code>remotes/origin/master</code> has been
updated to in the background.</p>


<p>Alternatively, specifying <code>--force-if-includes</code> as an ancillary option
along with <code>--force-with-lease[=&lt;refname&gt;]</code> (i.e., without saying what
exact commit the ref on the remote side must be pointing at, or which
refs on the remote side are being protected) at the time of "push" will
verify if updates from the remote-tracking refs that may have been
implicitly updated in the background are integrated locally before
allowing a forced update.</p>

</dd>
<dt> -f </dt>
<dt> --force </dt>
<dd>
<p>Usually, the command refuses to update a remote ref that is
not an ancestor of the local ref used to overwrite it.
Also, when <code>--force-with-lease</code> option is used, the command refuses
to update a remote ref whose current value does not match
what is expected.</p>

<p>This flag disables these checks, and can cause the remote repository
to lose commits; use it with care.</p>


<p>Note that <code>--force</code> applies to all the refs that are pushed, hence
using it with <code>push.default</code> set to <code>matching</code> or with multiple push
destinations configured with <code>remote.*.push</code> may overwrite refs
other than the current branch (including local refs that are
strictly behind their remote counterpart).  To force a push to only
one branch, use a <code>+</code> in front of the refspec to push (e.g <code>git push
origin +master</code> to force a push to the <code>master</code> branch). See the
<code>&lt;refspec&gt;...</code> section above for details.</p>

</dd>
<dt> --[no-]force-if-includes </dt>
<dd>
<p>Force an update only if the tip of the remote-tracking ref
has been integrated locally.</p>

<p>This option enables a check that verifies if the tip of the
remote-tracking ref is reachable from one of the "reflog" entries of
the local branch based in it for a rewrite. The check ensures that any
updates from the remote have been incorporated locally by rejecting the
forced update if that is not the case.</p>


<p>If the option is passed without specifying <code>--force-with-lease</code>, or
specified along with <code>--force-with-lease=&lt;refname&gt;:&lt;expect&gt;</code>, it is
a "no-op".</p>


<p>Specifying <code>--no-force-if-includes</code> disables this behavior.</p>

</dd>
<dt> --repo=&lt;repository&gt; </dt>
<dd>
<p>This option is equivalent to the &lt;repository&gt; argument. If both
are specified, the command-line argument takes precedence.</p>
</dd>
<dt> -u </dt>
<dt> --set-upstream </dt>
<dd>
<p>For every branch that is up to date or successfully pushed, add
upstream (tracking) reference, used by argument-less
<a href="/docs/git-pull">git-pull[1]</a> and other commands. For more information,
see <code>branch.&lt;name&gt;.merge</code> in <a href="/docs/git-config">git-config[1]</a>.</p>
</dd>
<dt> --[no-]thin </dt>
<dd>
<p>These options are passed to <a href="/docs/git-send-pack">git-send-pack[1]</a>. A thin transfer
significantly reduces the amount of sent data when the sender and
receiver share many of the same objects in common. The default is
<code>--thin</code>.</p>
</dd>
<dt> -q </dt>
<dt> --quiet </dt>
<dd>
<p>Suppress all output, including the listing of updated refs,
unless an error occurs. Progress is not reported to the standard
error stream.</p>
</dd>
<dt> -v </dt>
<dt> --verbose </dt>
<dd>
<p>Run verbosely.</p>
</dd>
<dt> --progress </dt>
<dd>
<p>Progress status is reported on the standard error stream
by default when it is attached to a terminal, unless -q
is specified. This flag forces progress status even if the
standard error stream is not directed to a terminal.</p>
</dd>
<dt> --no-recurse-submodules </dt>
<dt> --recurse-submodules=check|on-demand|only|no </dt>
<dd>
<p>May be used to make sure all submodule commits used by the
revisions to be pushed are available on a remote-tracking branch.
If <em>check</em> is used Git will verify that all submodule commits that
changed in the revisions to be pushed are available on at least one
remote of the submodule. If any commits are missing the push will
be aborted and exit with non-zero status. If <em>on-demand</em> is used
all submodules that changed in the revisions to be pushed will be
pushed. If on-demand was not able to push all necessary revisions it will
also be aborted and exit with non-zero status. If <em>only</em> is used all
submodules will be recursively pushed while the superproject is left
unpushed. A value of <em>no</em> or using <code>--no-recurse-submodules</code> can be used
to override the push.recurseSubmodules configuration variable when no
submodule recursion is required.</p>
</dd>
<dt> --[no-]verify </dt>
<dd>
<p>Toggle the pre-push hook (see <a href="/docs/githooks">githooks[5]</a>).  The
default is --verify, giving the hook a chance to prevent the
push.  With --no-verify, the hook is bypassed completely.</p>
</dd>
<dt> -4 </dt>
<dt> --ipv4 </dt>
<dd>
<p>Use IPv4 addresses only, ignoring IPv6 addresses.</p>
</dd>
<dt> -6 </dt>
<dt> --ipv6 </dt>
<dd>
<p>Use IPv6 addresses only, ignoring IPv4 addresses.</p>
</dd>
</dl>




<h2>GIT URLS
</h2>


<p>In general, URLs contain information about the transport protocol, the
address of the remote server, and the path to the repository.
Depending on the transport protocol, some of this information may be
absent.</p>


<p>Git supports ssh, git, http, and https protocols (in addition, ftp,
and ftps can be used for fetching, but this is inefficient and
deprecated; do not use it).</p>


<p>The native transport (i.e. git:// URL) does no authentication and
should be used with caution on unsecured networks.</p>


<p>The following syntaxes may be used with them:</p>


<ul>
<li>
<p>ssh://[user@]host.xz[:port]/path/to/repo.git/</p>
</li>
<li>
<p>git://host.xz[:port]/path/to/repo.git/</p>
</li>
<li>
<p>http[s]://host.xz[:port]/path/to/repo.git/</p>
</li>
<li>
<p>ftp[s]://host.xz[:port]/path/to/repo.git/</p>
</li>
</ul>


<p>An alternative scp-like syntax may also be used with the ssh protocol:</p>


<ul>
<li>
<p>[user@]host.xz:path/to/repo.git/</p>
</li>
</ul>


<p>This syntax is only recognized if there are no slashes before the
first colon. This helps differentiate a local path that contains a
colon. For example the local path <code>foo:bar</code> could be specified as an
absolute path or <code>./foo:bar</code> to avoid being misinterpreted as an ssh
url.</p>


<p>The ssh and git protocols additionally support ~username expansion:</p>


<ul>
<li>
<p>ssh://[user@]host.xz[:port]/~[user]/path/to/repo.git/</p>
</li>
<li>
<p>git://host.xz[:port]/~[user]/path/to/repo.git/</p>
</li>
<li>
<p>[user@]host.xz:/~[user]/path/to/repo.git/</p>
</li>
</ul>


<p>For local repositories, also supported by Git natively, the following
syntaxes may be used:</p>


<ul>
<li>
<p>/path/to/repo.git/</p>
</li>
<li>
<p>file:///path/to/repo.git/</p>
</li>
</ul>


<p>These two syntaxes are mostly equivalent, except when cloning, when
the former implies --local option. See <a href="/docs/git-clone">git-clone[1]</a> for
details.</p>


<p><em>git clone</em>, <em>git fetch</em> and <em>git pull</em>, but not <em>git push</em>, will also
accept a suitable bundle file. See <a href="/docs/git-bundle">git-bundle[1]</a>.</p>


<p>When Git doesn’t know how to handle a certain transport protocol, it
attempts to use the <em>remote-&lt;transport&gt;</em> remote helper, if one
exists. To explicitly request a remote helper, the following syntax
may be used:</p>


<ul>
<li>
<p>&lt;transport&gt;::&lt;address&gt;</p>
</li>
</ul>


<p>where &lt;address&gt; may be a path, a server and path, or an arbitrary
URL-like string recognized by the specific remote helper being
invoked. See <a href="/docs/gitremote-helpers">gitremote-helpers[7]</a> for details.</p>


<p>If there are a large number of similarly-named remote repositories and
you want to use a different format for them (such that the URLs you
use will be rewritten into URLs that work), you can create a
configuration section of the form:</p>



<pre>	[url "&lt;actual url base&gt;"]
		insteadOf = &lt;other url base&gt;</pre>



<p>For example, with this:</p>



<pre>	[url "git://git.host.xz/"]
		insteadOf = host.xz:/path/to/
		insteadOf = work:</pre>



<p>a URL like "work:repo.git" or like "host.xz:/path/to/repo.git" will be
rewritten in any context that takes a URL to be "git://git.host.xz/repo.git".</p>


<p>If you want to rewrite URLs for push only, you can create a
configuration section of the form:</p>



<pre>	[url "&lt;actual url base&gt;"]
		pushInsteadOf = &lt;other url base&gt;</pre>



<p>For example, with this:</p>



<pre>	[url "ssh://example.org/"]
		pushInsteadOf = git://example.org/</pre>



<p>a URL like "git://example.org/path/to/repo.git" will be rewritten to
"ssh://example.org/path/to/repo.git" for pushes, but pulls will still
use the original URL.</p>




<h2>REMOTES
</h2>


<p>The name of one of the following can be used instead
of a URL as <code>&lt;repository&gt;</code> argument:</p>


<ul>
<li>
<p>a remote in the Git configuration file: <code>$GIT_DIR/config</code>,</p>
</li>
<li>
<p>a file in the <code>$GIT_DIR/remotes</code> directory, or</p>
</li>
<li>
<p>a file in the <code>$GIT_DIR/branches</code> directory.</p>
</li>
</ul>


<p>All of these also allow you to omit the refspec from the command line
because they each contain a refspec which git will use by default.</p>


<h3>
Named remote in configuration file</h3>

<p>You can choose to provide the name of a remote which you had previously
configured using <a href="/docs/git-remote">git-remote[1]</a>, <a href="/docs/git-config">git-config[1]</a>
or even by a manual edit to the <code>$GIT_DIR/config</code> file.  The URL of
this remote will be used to access the repository.  The refspec
of this remote will be used by default when you do
not provide a refspec on the command line.  The entry in the
config file would appear like this:</p>



<pre>	[remote "&lt;name&gt;"]
		url = &lt;URL&gt;
		pushurl = &lt;pushurl&gt;
		push = &lt;refspec&gt;
		fetch = &lt;refspec&gt;</pre>



<p>The <code>&lt;pushurl&gt;</code> is used for pushes only. It is optional and defaults
to <code>&lt;URL&gt;</code>.</p>



<h3>
Named file in <code>$GIT_DIR/remotes</code>
</h3>

<p>You can choose to provide the name of a
file in <code>$GIT_DIR/remotes</code>.  The URL
in this file will be used to access the repository.  The refspec
in this file will be used as default when you do not
provide a refspec on the command line.  This file should have the
following format:</p>



<pre>	URL: one of the above URL format
	Push: &lt;refspec&gt;
	Pull: &lt;refspec&gt;</pre>



<p><code>Push:</code> lines are used by <em>git push</em> and
<code>Pull:</code> lines are used by <em>git pull</em> and <em>git fetch</em>.
Multiple <code>Push:</code> and <code>Pull:</code> lines may
be specified for additional branch mappings.</p>



<h3>
Named file in <code>$GIT_DIR/branches</code>
</h3>

<p>You can choose to provide the name of a
file in <code>$GIT_DIR/branches</code>.
The URL in this file will be used to access the repository.
This file should have the following format:</p>



<pre>	&lt;URL&gt;#&lt;head&gt;</pre>



<p><code>&lt;URL&gt;</code> is required; <code>#&lt;head&gt;</code> is optional.</p>


<p>Depending on the operation, git will use one of the following
refspecs, if you don’t provide one on the command line.
<code>&lt;branch&gt;</code> is the name of this file in <code>$GIT_DIR/branches</code> and
<code>&lt;head&gt;</code> defaults to <code>master</code>.</p>


<p>git fetch uses:</p>



<pre>	refs/heads/&lt;head&gt;:refs/heads/&lt;branch&gt;</pre>



<p>git push uses:</p>



<pre>	HEAD:refs/heads/&lt;head&gt;</pre>






<h2>OUTPUT</h2>


<p>The output of "git push" depends on the transport method used; this
section describes the output when pushing over the Git protocol (either
locally or via ssh).</p>


<p>The status of the push is output in tabular form, with each line
representing the status of a single ref. Each line is of the form:</p>



<pre> &lt;flag&gt; &lt;summary&gt; &lt;from&gt; -&gt; &lt;to&gt; (&lt;reason&gt;)</pre>



<p>If --porcelain is used, then each line of the output is of the form:</p>



<pre> &lt;flag&gt; \t &lt;from&gt;:&lt;to&gt; \t &lt;summary&gt; (&lt;reason&gt;)</pre>



<p>The status of up-to-date refs is shown only if --porcelain or --verbose
option is used.</p>


<dl>
<dt> flag </dt>
<dd>
<p>A single character indicating the status of the ref:</p>

<dl>
<dt> (space) </dt>
<dd>
<p>for a successfully pushed fast-forward;</p>
</dd>
<dt> <code>+</code> </dt>
<dd>
<p>for a successful forced update;</p>
</dd>
<dt> <code>-</code> </dt>
<dd>
<p>for a successfully deleted ref;</p>
</dd>
<dt> <code>*</code> </dt>
<dd>
<p>for a successfully pushed new ref;</p>
</dd>
<dt> <code>!</code> </dt>
<dd>
<p>for a ref that was rejected or failed to push; and</p>
</dd>
<dt> <code>=</code> </dt>
<dd>
<p>for a ref that was up to date and did not need pushing.</p>
</dd>
</dl>

</dd>
<dt> summary </dt>
<dd>
<p>For a successfully pushed ref, the summary shows the old and new
values of the ref in a form suitable for using as an argument to
<code>git log</code> (this is <code>&lt;old&gt;..&lt;new&gt;</code> in most cases, and
<code>&lt;old&gt;...&lt;new&gt;</code> for forced non-fast-forward updates).</p>

<p>For a failed update, more details are given:</p>




<dl>
<dt> rejected </dt>
<dd>
<p>Git did not try to send the ref at all, typically because it
is not a fast-forward and you did not force the update.</p>
</dd>
<dt> remote rejected </dt>
<dd>
<p>The remote end refused the update.  Usually caused by a hook
on the remote side, or because the remote repository has one
of the following safety options in effect:
<code>receive.denyCurrentBranch</code> (for pushes to the checked out
branch), <code>receive.denyNonFastForwards</code> (for forced
non-fast-forward updates), <code>receive.denyDeletes</code> or
<code>receive.denyDeleteCurrent</code>.  See <a href="/docs/git-config">git-config[1]</a>.</p>
</dd>
<dt> remote failure </dt>
<dd>
<p>The remote end did not report the successful update of the ref,
perhaps because of a temporary error on the remote side, a
break in the network connection, or other transient error.</p>
</dd>
</dl>



</dd>
<dt> from </dt>
<dd>
<p>The name of the local ref being pushed, minus its
<code>refs/&lt;type&gt;/</code> prefix. In the case of deletion, the
name of the local ref is omitted.</p>
</dd>
<dt> to </dt>
<dd>
<p>The name of the remote ref being updated, minus its
<code>refs/&lt;type&gt;/</code> prefix.</p>
</dd>
<dt> reason </dt>
<dd>
<p>A human-readable explanation. In the case of successfully pushed
refs, no explanation is needed. For a failed ref, the reason for
failure is described.</p>
</dd>
</dl>




<h2>NOTE ABOUT FAST-FORWARDS</h2>


<p>When an update changes a branch (or more in general, a ref) that used to
point at commit A to point at another commit B, it is called a
fast-forward update if and only if B is a descendant of A.</p>


<p>In a fast-forward update from A to B, the set of commits that the original
commit A built on top of is a subset of the commits the new commit B
builds on top of.  Hence, it does not lose any history.</p>


<p>In contrast, a non-fast-forward update will lose history.  For example,
suppose you and somebody else started at the same commit X, and you built
a history leading to commit B while the other person built a history
leading to commit A.  The history looks like this:</p>



<pre>      B
     /
 ---X---A</pre>



<p>Further suppose that the other person already pushed changes leading to A
back to the original repository from which you two obtained the original
commit X.</p>


<p>The push done by the other person updated the branch that used to point at
commit X to point at commit A.  It is a fast-forward.</p>


<p>But if you try to push, you will attempt to update the branch (that
now points at A) with commit B.  This does <em>not</em> fast-forward.  If you did
so, the changes introduced by commit A will be lost, because everybody
will now start building on top of B.</p>


<p>The command by default does not allow an update that is not a fast-forward
to prevent such loss of history.</p>


<p>If you do not want to lose your work (history from X to B) or the work by
the other person (history from X to A), you would need to first fetch the
history from the repository, create a history that contains changes done
by both parties, and push the result back.</p>


<p>You can perform "git pull", resolve potential conflicts, and "git push"
the result.  A "git pull" will create a merge commit C between commits A
and B.</p>



<pre>      B---C
     /   /
 ---X---A</pre>



<p>Updating A with the resulting merge commit will fast-forward and your
push will be accepted.</p>


<p>Alternatively, you can rebase your change between X and B on top of A,
with "git pull --rebase", and push the result back.  The rebase will
create a new commit D that builds the change between X and B on top of
A.</p>



<pre>      B   D
     /   /
 ---X---A</pre>



<p>Again, updating A with this commit will fast-forward and your push will be
accepted.</p>


<p>There is another common situation where you may encounter non-fast-forward
rejection when you try to push, and it is possible even when you are
pushing into a repository nobody else pushes into. After you push commit
A yourself (in the first picture in this section), replace it with "git
commit --amend" to produce commit B, and you try to push it out, because
forgot that you have pushed A out already. In such a case, and only if
you are certain that nobody in the meantime fetched your earlier commit A
(and started building on top of it), you can run "git push --force" to
overwrite it. In other words, "git push --force" is a method reserved for
a case where you do mean to lose history.</p>




<h2>examples</h2>


<dl>
<dt> <code>git push</code> </dt>
<dd>
<p>Works like <code>git push &lt;remote&gt;</code>, where &lt;remote&gt; is the
current branch’s remote (or <code>origin</code>, if no remote is
configured for the current branch).</p>
</dd>
<dt> <code>git push origin</code> </dt>
<dd>
<p>Without additional configuration, pushes the current branch to
the configured upstream (<code>branch.&lt;name&gt;.merge</code> configuration
variable) if it has the same name as the current branch, and
errors out without pushing otherwise.</p>

<p>The default behavior of this command when no &lt;refspec&gt; is given can be
configured by setting the <code>push</code> option of the remote, or the <code>push.default</code>
configuration variable.</p>


<p>For example, to default to pushing only the current branch to <code>origin</code>
use <code>git config remote.origin.push HEAD</code>.  Any valid &lt;refspec&gt; (like
the ones in the examples below) can be configured as the default for
<code>git push origin</code>.</p>

</dd>
<dt> <code>git push origin :</code> </dt>
<dd>
<p>Push "matching" branches to <code>origin</code>. See
&lt;refspec&gt; in the <a href="#OPTIONS">OPTIONS</a> section above for a
description of "matching" branches.</p>
</dd>
<dt> <code>git push origin master</code> </dt>
<dd>
<p>Find a ref that matches <code>master</code> in the source repository
(most likely, it would find <code>refs/heads/master</code>), and update
the same ref (e.g. <code>refs/heads/master</code>) in <code>origin</code> repository
with it.  If <code>master</code> did not exist remotely, it would be
created.</p>
</dd>
<dt> <code>git push origin HEAD</code> </dt>
<dd>
<p>A handy way to push the current branch to the same name on the
remote.</p>
</dd>
<dt> <code>git push mothership master:satellite/master dev:satellite/dev</code> </dt>
<dd>
<p>Use the source ref that matches <code>master</code> (e.g. <code>refs/heads/master</code>)
to update the ref that matches <code>satellite/master</code> (most probably
<code>refs/remotes/satellite/master</code>) in the <code>mothership</code> repository;
do the same for <code>dev</code> and <code>satellite/dev</code>.</p>

<p>See the section describing <code>&lt;refspec&gt;...</code> above for a discussion of
the matching semantics.</p>


<p>This is to emulate <code>git fetch</code> run on the <code>mothership</code> using <code>git
push</code> that is run in the opposite direction in order to integrate
the work done on <code>satellite</code>, and is often necessary when you can
only make connection in one way (i.e. satellite can ssh into
mothership but mothership cannot initiate connection to satellite
because the latter is behind a firewall or does not run sshd).</p>


<p>After running this <code>git push</code> on the <code>satellite</code> machine, you would
ssh into the <code>mothership</code> and run <code>git merge</code> there to complete the
emulation of <code>git pull</code> that were run on <code>mothership</code> to pull changes
made on <code>satellite</code>.</p>

</dd>
<dt> <code>git push origin HEAD:master</code> </dt>
<dd>
<p>Push the current branch to the remote ref matching <code>master</code> in the
<code>origin</code> repository. This form is convenient to push the current
branch without thinking about its local name.</p>
</dd>
<dt> <code>git push origin master:refs/heads/experimental</code> </dt>
<dd>
<p>Create the branch <code>experimental</code> in the <code>origin</code> repository
by copying the current <code>master</code> branch.  This form is only
needed to create a new branch or tag in the remote repository when
the local name and the remote name are different; otherwise,
the ref name on its own will work.</p>
</dd>
<dt> <code>git push origin :experimental</code> </dt>
<dd>
<p>Find a ref that matches <code>experimental</code> in the <code>origin</code> repository
(e.g. <code>refs/heads/experimental</code>), and delete it.</p>
</dd>
<dt> <code>git push origin +dev:master</code> </dt>
<dd>
<p>Update the origin repository’s master branch with the dev branch,
allowing non-fast-forward updates.  <strong>This can leave unreferenced
commits dangling in the origin repository.</strong>  Consider the
following situation, where a fast-forward is not possible:</p>


<pre>	    o---o---o---A---B  origin/master
		     \
		      X---Y---Z  dev</pre>



<p>The above command would change the origin repository to</p>



<pre>		      A---B  (unnamed branch)
		     /
	    o---o---o---X---Y---Z  master</pre>



<p>Commits A and B would no longer belong to a branch with a symbolic name,
and so would be unreachable.  As such, these commits would be removed by
a <code>git gc</code> command on the origin repository.</p>

</dd>
</dl>




<h2>SECURITY</h2>


<p>The fetch and push protocols are not designed to prevent one side from
stealing data from the other repository that was not intended to be
shared. If you have private data that you need to protect from a malicious
peer, your best option is to store it in another repository. This applies
to both clients and servers. In particular, namespaces on a server are not
effective for read access control; you should only grant read access to a
namespace to clients that you would trust with read access to the entire
repository.</p>


<p>The known attack vectors are as follows:</p>


<ol>
<li>
<p>The victim sends "have" lines advertising the IDs of objects it has that
are not explicitly intended to be shared but can be used to optimize the
transfer if the peer also has them. The attacker chooses an object ID X
to steal and sends a ref to X, but isn’t required to send the content of
X because the victim already has it. Now the victim believes that the
attacker has X, and it sends the content of X back to the attacker
later. (This attack is most straightforward for a client to perform on a
server, by creating a ref to X in the namespace the client has access
to and then fetching it. The most likely way for a server to perform it
on a client is to "merge" X into a public branch and hope that the user
does additional work on this branch and pushes it back to the server
without noticing the merge.)</p>
</li>
<li>
<p>As in #1, the attacker chooses an object ID X to steal. The victim sends
an object Y that the attacker already has, and the attacker falsely
claims to have X and not Y, so the victim sends Y as a delta against X.
The delta reveals regions of X that are similar to Y to the attacker.</p>
</li>
</ol>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-remote - Manage set of tracked repositories</span></h2>




<h2><br>synopsis</h2>


<pre><em>git remote</em> [-v | --verbose]
<em>git remote add</em> [-t &lt;branch&gt;] [-m &lt;master&gt;] [-f] [--[no-]tags] [--mirror=(fetch|push)] &lt;name&gt; &lt;URL&gt;
<em>git remote rename</em> &lt;old&gt; &lt;new&gt;
<em>git remote remove</em> &lt;name&gt;
<em>git remote set-head</em> &lt;name&gt; (-a | --auto | -d | --delete | &lt;branch&gt;)
<em>git remote set-branches</em> [--add] &lt;name&gt; &lt;branch&gt;…<U+200B>
<em>git remote get-url</em> [--push] [--all] &lt;name&gt;
<em>git remote set-url</em> [--push] &lt;name&gt; &lt;newurl&gt; [&lt;oldurl&gt;]
<em>git remote set-url --add</em> [--push] &lt;name&gt; &lt;newurl&gt;
<em>git remote set-url --delete</em> [--push] &lt;name&gt; &lt;URL&gt;
<em>git remote</em> [-v | --verbose] <em>show</em> [-n] &lt;name&gt;…<U+200B>
<em>git remote prune</em> [-n | --dry-run] &lt;name&gt;…<U+200B>
<em>git remote</em> [-v | --verbose] <em>update</em> [-p | --prune] [(&lt;group&gt; | &lt;remote&gt;)…<U+200B>]</pre>




<h2>description</h2>


<p>Manage the set of repositories ("remotes") whose branches you track.</p>




<h2>options</h2>


<dl>
<dt> -v </dt>
<dt> --verbose </dt>
<dd>
<p>Be a little more verbose and show remote url after name.
NOTE: This must be placed between <code>remote</code> and subcommand.</p>
</dd>
</dl>




<h2>COMMANDS</h2>


<p>With no arguments, shows a list of existing remotes.  Several
subcommands are available to perform operations on the remotes.</p>


<dl>
<dt> <em>add</em> </dt>
<dd>
<p>Add a remote named &lt;name&gt; for the repository at
&lt;URL&gt;.  The command <code>git fetch &lt;name&gt;</code> can then be used to create and
update remote-tracking branches &lt;name&gt;/&lt;branch&gt;.</p>

<p>With <code>-f</code> option, <code>git fetch &lt;name&gt;</code> is run immediately after
the remote information is set up.</p>


<p>With <code>--tags</code> option, <code>git fetch &lt;name&gt;</code> imports every tag from the
remote repository.</p>


<p>With <code>--no-tags</code> option, <code>git fetch &lt;name&gt;</code> does not import tags from
the remote repository.</p>


<p>By default, only tags on fetched branches are imported
(see <a href="/docs/git-fetch">git-fetch[1]</a>).</p>


<p>With <code>-t &lt;branch&gt;</code> option, instead of the default glob
refspec for the remote to track all branches under
the <code>refs/remotes/&lt;name&gt;/</code> namespace, a refspec to track only <code>&lt;branch&gt;</code>
is created.  You can give more than one <code>-t &lt;branch&gt;</code> to track
multiple branches without grabbing all branches.</p>


<p>With <code>-m &lt;master&gt;</code> option, a symbolic-ref <code>refs/remotes/&lt;name&gt;/HEAD</code> is set
up to point at remote’s <code>&lt;master&gt;</code> branch. See also the set-head command.</p>


<p>When a fetch mirror is created with <code>--mirror=fetch</code>, the refs will not
be stored in the <em>refs/remotes/</em> namespace, but rather everything in
<em>refs/</em> on the remote will be directly mirrored into <em>refs/</em> in the
local repository. This option only makes sense in bare repositories,
because a fetch would overwrite any local commits.</p>


<p>When a push mirror is created with <code>--mirror=push</code>, then <code>git push</code>
will always behave as if <code>--mirror</code> was passed.</p>

</dd>
<dt> <em>rename</em> </dt>
<dd>
<p>Rename the remote named &lt;old&gt; to &lt;new&gt;. All remote-tracking branches and
configuration settings for the remote are updated.</p>

<p>In case &lt;old&gt; and &lt;new&gt; are the same, and &lt;old&gt; is a file under
<code>$GIT_DIR/remotes</code> or <code>$GIT_DIR/branches</code>, the remote is converted to
the configuration file format.</p>

</dd>
<dt> <em>remove</em> </dt>
<dt> <em>rm</em> </dt>
<dd>
<p>Remove the remote named &lt;name&gt;. All remote-tracking branches and
configuration settings for the remote are removed.</p>
</dd>
<dt> <em>set-head</em> </dt>
<dd>
<p>Sets or deletes the default branch (i.e. the target of the
symbolic-ref <code>refs/remotes/&lt;name&gt;/HEAD</code>) for
the named remote. Having a default branch for a remote is not required,
but allows the name of the remote to be specified in lieu of a specific
branch. For example, if the default branch for <code>origin</code> is set to
<code>master</code>, then <code>origin</code> may be specified wherever you would normally
specify <code>origin/master</code>.</p>

<p>With <code>-d</code> or <code>--delete</code>, the symbolic ref <code>refs/remotes/&lt;name&gt;/HEAD</code> is deleted.</p>


<p>With <code>-a</code> or <code>--auto</code>, the remote is queried to determine its <code>HEAD</code>, then the
symbolic-ref <code>refs/remotes/&lt;name&gt;/HEAD</code> is set to the same branch. e.g., if the remote
<code>HEAD</code> is pointed at <code>next</code>, <code>git remote set-head origin -a</code> will set
the symbolic-ref <code>refs/remotes/origin/HEAD</code> to <code>refs/remotes/origin/next</code>. This will
only work if <code>refs/remotes/origin/next</code> already exists; if not it must be
fetched first.</p>


<p>Use <code>&lt;branch&gt;</code> to set the symbolic-ref <code>refs/remotes/&lt;name&gt;/HEAD</code> explicitly. e.g., <code>git
remote set-head origin master</code> will set the symbolic-ref <code>refs/remotes/origin/HEAD</code> to
<code>refs/remotes/origin/master</code>. This will only work if
<code>refs/remotes/origin/master</code> already exists; if not it must be fetched first.</p>

</dd>
<dt> <em>set-branches</em> </dt>
<dd>
<p>Changes the list of branches tracked by the named remote.
This can be used to track a subset of the available remote branches
after the initial setup for a remote.</p>

<p>The named branches will be interpreted as if specified with the
<code>-t</code> option on the <code>git remote add</code> command line.</p>


<p>With <code>--add</code>, instead of replacing the list of currently tracked
branches, adds to that list.</p>

</dd>
<dt> <em>get-url</em> </dt>
<dd>
<p>Retrieves the URLs for a remote. Configurations for <code>insteadOf</code> and
<code>pushInsteadOf</code> are expanded here. By default, only the first URL is listed.</p>

<p>With <code>--push</code>, push URLs are queried rather than fetch URLs.</p>


<p>With <code>--all</code>, all URLs for the remote will be listed.</p>

</dd>
<dt> <em>set-url</em> </dt>
<dd>
<p>Changes URLs for the remote. Sets first URL for remote &lt;name&gt; that matches
regex &lt;oldurl&gt; (first URL if no &lt;oldurl&gt; is given) to &lt;newurl&gt;. If
&lt;oldurl&gt; doesn’t match any URL, an error occurs and nothing is changed.</p>

<p>With <code>--push</code>, push URLs are manipulated instead of fetch URLs.</p>


<p>With <code>--add</code>, instead of changing existing URLs, new URL is added.</p>


<p>With <code>--delete</code>, instead of changing existing URLs, all URLs matching
regex &lt;URL&gt; are deleted for remote &lt;name&gt;.  Trying to delete all
non-push URLs is an error.</p>


<p>Note that the push URL and the fetch URL, even though they can
be set differently, must still refer to the same place.  What you
pushed to the push URL should be what you would see if you
immediately fetched from the fetch URL.  If you are trying to
fetch from one place (e.g. your upstream) and push to another (e.g.
your publishing repository), use two separate remotes.</p>

</dd>
<dt> <em>show</em> </dt>
<dd>
<p>Gives some information about the remote &lt;name&gt;.</p>

<p>With <code>-n</code> option, the remote heads are not queried first with
<code>git ls-remote &lt;name&gt;</code>; cached information is used instead.</p>

</dd>
<dt> <em>prune</em> </dt>
<dd>
<p>Deletes stale references associated with &lt;name&gt;. By default, stale
remote-tracking branches under &lt;name&gt; are deleted, but depending on
global configuration and the configuration of the remote we might even
prune local tags that haven’t been pushed there. Equivalent to <code>git
fetch --prune &lt;name&gt;</code>, except that no new references will be fetched.</p>

<p>See the PRUNING section of <a href="/docs/git-fetch">git-fetch[1]</a> for what it’ll prune
depending on various configuration.</p>


<p>With <code>--dry-run</code> option, report what branches would be pruned, but do not
actually prune them.</p>

</dd>
<dt> <em>update</em> </dt>
<dd>
<p>Fetch updates for remotes or remote groups in the repository as defined by
<code>remotes.&lt;group&gt;</code>. If neither group nor remote is specified on the command line,
the configuration parameter remotes.default will be used; if
remotes.default is not defined, all remotes which do not have the
configuration parameter <code>remote.&lt;name&gt;.skipDefaultUpdate</code> set to true will
be updated.  (See <a href="/docs/git-config">git-config[1]</a>).</p>

<p>With <code>--prune</code> option, run pruning against all the remotes that are updated.</p>

</dd>
</dl>




<h2>DISCUSSION</h2>


<p>The remote configuration is achieved using the <code>remote.origin.url</code> and
<code>remote.origin.fetch</code> configuration variables.  (See
<a href="/docs/git-config">git-config[1]</a>).</p>




<h2>EXIT STATUS</h2>


<p>On success, the exit status is <code>0</code>.</p>


<p>When subcommands such as <em>add</em>, <em>rename</em>, and <em>remove</em> can’t find the
remote in question, the exit status is <code>2</code>. When the remote already
exists, the exit status is <code>3</code>.</p>


<p>On any other error, the exit status may be any other non-zero value.</p>




<h2>examples</h2>


<ul>
<li>
<p>Add a new remote, fetch, and check out a branch from it</p>


<pre>$ git remote
origin
$ git branch -r
  origin/HEAD -&gt; origin/master
  origin/master
$ git remote add staging git://git.kernel.org/.../gregkh/staging.git
$ git remote
origin
staging
$ git fetch staging
...
From git://git.kernel.org/pub/scm/linux/kernel/git/gregkh/staging
 * [new branch]      master     -&gt; staging/master
 * [new branch]      staging-linus -&gt; staging/staging-linus
 * [new branch]      staging-next -&gt; staging/staging-next
$ git branch -r
  origin/HEAD -&gt; origin/master
  origin/master
  staging/master
  staging/staging-linus
  staging/staging-next
$ git switch -c staging staging/master
...</pre>


</li>
<li>
<p>Imitate <em>git clone</em> but track only selected branches</p>


<pre>$ mkdir project.git
$ cd project.git
$ git init
$ git remote add -f -t master -m master origin git://example.com/git.git/
$ git merge origin</pre>


</li>
</ul>




<h2>SEE ALSO</h2>


<p><a href="/docs/git-fetch">git-fetch[1]</a>
<a href="/docs/git-branch">git-branch[1]</a>
<a href="/docs/git-config">git-config[1]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-submodule - Initialize, update or inspect submodules</span></h2>




<h2><br>synopsis</h2>


<pre><em>git submodule</em> [--quiet] [--cached]
<em>git submodule</em> [--quiet] add [&lt;options&gt;] [--] &lt;repository&gt; [&lt;path&gt;]
<em>git submodule</em> [--quiet] status [--cached] [--recursive] [--] [&lt;path&gt;…<U+200B>]
<em>git submodule</em> [--quiet] init [--] [&lt;path&gt;…<U+200B>]
<em>git submodule</em> [--quiet] deinit [-f|--force] (--all|[--] &lt;path&gt;…<U+200B>)
<em>git submodule</em> [--quiet] update [&lt;options&gt;] [--] [&lt;path&gt;…<U+200B>]
<em>git submodule</em> [--quiet] set-branch [&lt;options&gt;] [--] &lt;path&gt;
<em>git submodule</em> [--quiet] set-url [--] &lt;path&gt; &lt;newurl&gt;
<em>git submodule</em> [--quiet] summary [&lt;options&gt;] [--] [&lt;path&gt;…<U+200B>]
<em>git submodule</em> [--quiet] foreach [--recursive] &lt;command&gt;
<em>git submodule</em> [--quiet] sync [--recursive] [--] [&lt;path&gt;…<U+200B>]
<em>git submodule</em> [--quiet] absorbgitdirs [--] [&lt;path&gt;…<U+200B>]</pre>




<h2>description</h2>


<p>Inspects, updates and manages submodules.</p>


<p>For more information about submodules, see <a href="/docs/gitsubmodules">gitsubmodules[7]</a>.</p>




<h2>COMMANDS</h2>


<p>With no arguments, shows the status of existing submodules.  Several
subcommands are available to perform operations on the submodules.</p>


<dl>
<dt> add [-b &lt;branch&gt;] [-f|--force] [--name &lt;name&gt;] [--reference &lt;repository&gt;] [--depth &lt;depth&gt;] [--] &lt;repository&gt; [&lt;path&gt;] </dt>
<dd>
<p>Add the given repository as a submodule at the given path
to the changeset to be committed next to the current
project: the current project is termed the "superproject".</p>

<p>&lt;repository&gt; is the URL of the new submodule’s origin repository.
This may be either an absolute URL, or (if it begins with ./
or ../), the location relative to the superproject’s default remote
repository (Please note that to specify a repository <em>foo.git</em>
which is located right next to a superproject <em>bar.git</em>, you’ll
have to use <code>../foo.git</code> instead of <code>./foo.git</code> - as one might expect
when following the rules for relative URLs - because the evaluation
of relative URLs in Git is identical to that of relative directories).</p>


<p>The default remote is the remote of the remote-tracking branch
of the current branch. If no such remote-tracking branch exists or
the HEAD is detached, "origin" is assumed to be the default remote.
If the superproject doesn’t have a default remote configured
the superproject is its own authoritative upstream and the current
working directory is used instead.</p>


<p>The optional argument &lt;path&gt; is the relative location for the cloned
submodule to exist in the superproject. If &lt;path&gt; is not given, the
canonical part of the source repository is used ("repo" for
"/path/to/repo.git" and "foo" for "host.xz:foo/.git"). If &lt;path&gt;
exists and is already a valid Git repository, then it is staged
for commit without cloning. The &lt;path&gt; is also used as the submodule’s
logical name in its configuration entries unless <code>--name</code> is used
to specify a logical name.</p>


<p>The given URL is recorded into <code>.gitmodules</code> for use by subsequent users
cloning the superproject. If the URL is given relative to the
superproject’s repository, the presumption is the superproject and
submodule repositories will be kept together in the same relative
location, and only the superproject’s URL needs to be provided.
git-submodule will correctly locate the submodule using the relative
URL in <code>.gitmodules</code>.</p>

</dd>
<dt> status [--cached] [--recursive] [--] [&lt;path&gt;…<U+200B>] </dt>
<dd>
<p>Show the status of the submodules. This will print the SHA-1 of the
currently checked out commit for each submodule, along with the
submodule path and the output of <em>git describe</em> for the
SHA-1. Each SHA-1 will possibly be prefixed with <code>-</code> if the submodule is
not initialized, <code>+</code> if the currently checked out submodule commit
does not match the SHA-1 found in the index of the containing
repository and <code>U</code> if the submodule has merge conflicts.</p>

<p>If <code>--cached</code> is specified, this command will instead print the SHA-1
recorded in the superproject for each submodule.</p>


<p>If <code>--recursive</code> is specified, this command will recurse into nested
submodules, and show their status as well.</p>


<p>If you are only interested in changes of the currently initialized
submodules with respect to the commit recorded in the index or the HEAD,
<a href="/docs/git-status">git-status[1]</a> and <a href="/docs/git-diff">git-diff[1]</a> will provide that information
too (and can also report changes to a submodule’s work tree).</p>

</dd>
<dt> init [--] [&lt;path&gt;…<U+200B>] </dt>
<dd>
<p>Initialize the submodules recorded in the index (which were
added and committed elsewhere) by setting <code>submodule.$name.url</code>
in .git/config. It uses the same setting from <code>.gitmodules</code> as
a template. If the URL is relative, it will be resolved using
the default remote. If there is no default remote, the current
repository will be assumed to be upstream.</p>

<p>Optional &lt;path&gt; arguments limit which submodules will be initialized.
If no path is specified and submodule.active has been configured, submodules
configured to be active will be initialized, otherwise all submodules are
initialized.</p>


<p>When present, it will also copy the value of <code>submodule.$name.update</code>.
This command does not alter existing information in .git/config.
You can then customize the submodule clone URLs in .git/config
for your local setup and proceed to <code>git submodule update</code>;
you can also just use <code>git submodule update --init</code> without
the explicit <em>init</em> step if you do not intend to customize
any submodule locations.</p>


<p>See the add subcommand for the definition of default remote.</p>

</dd>
<dt> deinit [-f|--force] (--all|[--] &lt;path&gt;…<U+200B>) </dt>
<dd>
<p>Unregister the given submodules, i.e. remove the whole
<code>submodule.$name</code> section from .git/config together with their work
tree. Further calls to <code>git submodule update</code>, <code>git submodule foreach</code>
and <code>git submodule sync</code> will skip any unregistered submodules until
they are initialized again, so use this command if you don’t want to
have a local checkout of the submodule in your working tree anymore.</p>

<p>When the command is run without pathspec, it errors out,
instead of deinit-ing everything, to prevent mistakes.</p>


<p>If <code>--force</code> is specified, the submodule’s working tree will
be removed even if it contains local modifications.</p>


<p>If you really want to remove a submodule from the repository and commit
that use <a href="/docs/git-rm">git-rm[1]</a> instead. See <a href="/docs/gitsubmodules">gitsubmodules[7]</a> for removal
options.</p>

</dd>
<dt> update [--init] [--remote] [-N|--no-fetch] [--[no-]recommend-shallow] [-f|--force] [--checkout|--rebase|--merge] [--reference &lt;repository&gt;] [--depth &lt;depth&gt;] [--recursive] [--jobs &lt;n&gt;] [--[no-]single-branch] [--] [&lt;path&gt;…<U+200B>] </dt>
<dd>



<p>Update the registered submodules to match what the superproject
expects by cloning missing submodules, fetching missing commits
in submodules and updating the working tree of
the submodules. The "updating" can be done in several ways depending
on command line options and the value of <code>submodule.&lt;name&gt;.update</code>
configuration variable. The command line option takes precedence over
the configuration variable. If neither is given, a <em>checkout</em> is performed.
The <em>update</em> procedures supported both from the command line as well as
through the <code>submodule.&lt;name&gt;.update</code> configuration are:</p>


<dl>
<dt> checkout </dt>
<dd>
<p>the commit recorded in the superproject will be
checked out in the submodule on a detached HEAD.</p>

<p>If <code>--force</code> is specified, the submodule will be checked out (using
<code>git checkout --force</code>), even if the commit specified
in the index of the containing repository already matches the commit
checked out in the submodule.</p>

</dd>
<dt> rebase </dt>
<dd>
<p>the current branch of the submodule will be rebased
onto the commit recorded in the superproject.</p>
</dd>
<dt> merge </dt>
<dd>
<p>the commit recorded in the superproject will be merged
into the current branch in the submodule.</p>
</dd>
</dl>


<p>The following <em>update</em> procedures are only available via the
<code>submodule.&lt;name&gt;.update</code> configuration variable:</p>


<dl>
<dt> custom command </dt>
<dd>
<p>arbitrary shell command that takes a single
argument (the sha1 of the commit recorded in the
superproject) is executed. When <code>submodule.&lt;name&gt;.update</code>
is set to <em>!command</em>, the remainder after the exclamation mark
is the custom command.</p>
</dd>
<dt> none </dt>
<dd>
<p>the submodule is not updated.</p>
</dd>
</dl>


<p>If the submodule is not yet initialized, and you just want to use the
setting as stored in <code>.gitmodules</code>, you can automatically initialize the
submodule with the <code>--init</code> option.</p>


<p>If <code>--recursive</code> is specified, this command will recurse into the
registered submodules, and update any nested submodules within.</p>



</dd>
<dt> set-branch (-b|--branch) &lt;branch&gt; [--] &lt;path&gt; </dt>
<dt> set-branch (-d|--default) [--] &lt;path&gt; </dt>
<dd>
<p>Sets the default remote tracking branch for the submodule. The
<code>--branch</code> option allows the remote branch to be specified. The
<code>--default</code> option removes the submodule.&lt;name&gt;.branch configuration
key, which causes the tracking branch to default to the remote <em>HEAD</em>.</p>
</dd>
<dt> set-url [--] &lt;path&gt; &lt;newurl&gt; </dt>
<dd>
<p>Sets the URL of the specified submodule to &lt;newurl&gt;. Then, it will
automatically synchronize the submodule’s new remote URL
configuration.</p>
</dd>
<dt> summary [--cached|--files] [(-n|--summary-limit) &lt;n&gt;] [commit] [--] [&lt;path&gt;…<U+200B>] </dt>
<dd>
<p>Show commit summary between the given commit (defaults to HEAD) and
working tree/index. For a submodule in question, a series of commits
in the submodule between the given super project commit and the
index or working tree (switched by <code>--cached</code>) are shown. If the option
<code>--files</code> is given, show the series of commits in the submodule between
the index of the super project and the working tree of the submodule
(this option doesn’t allow to use the <code>--cached</code> option or to provide an
explicit commit).</p>

<p>Using the <code>--submodule=log</code> option with <a href="/docs/git-diff">git-diff[1]</a> will provide that
information too.</p>

</dd>
<dt> foreach [--recursive] &lt;command&gt; </dt>
<dd>
<p>Evaluates an arbitrary shell command in each checked out submodule.
The command has access to the variables $name, $sm_path, $displaypath,
$sha1 and $toplevel:
$name is the name of the relevant submodule section in <code>.gitmodules</code>,
$sm_path is the path of the submodule as recorded in the immediate
superproject, $displaypath contains the relative path from the
current working directory to the submodules root directory,
$sha1 is the commit as recorded in the immediate
superproject, and $toplevel is the absolute path to the top-level
of the immediate superproject.
Note that to avoid conflicts with <em>$PATH</em> on Windows, the <em>$path</em>
variable is now a deprecated synonym of <em>$sm_path</em> variable.
Any submodules defined in the superproject but not checked out are
ignored by this command. Unless given <code>--quiet</code>, foreach prints the name
of each submodule before evaluating the command.
If <code>--recursive</code> is given, submodules are traversed recursively (i.e.
the given shell command is evaluated in nested submodules as well).
A non-zero return from the command in any submodule causes
the processing to terminate. This can be overridden by adding <em>|| :</em>
to the end of the command.</p>

<p>As an example, the command below will show the path and currently
checked out commit for each submodule:</p>



<pre>git submodule foreach 'echo $sm_path `git rev-parse HEAD`'</pre>


</dd>
<dt> sync [--recursive] [--] [&lt;path&gt;…<U+200B>] </dt>
<dd>
<p>Synchronizes submodules' remote URL configuration setting
to the value specified in <code>.gitmodules</code>. It will only affect those
submodules which already have a URL entry in .git/config (that is the
case when they are initialized or freshly added). This is useful when
submodule URLs change upstream and you need to update your local
repositories accordingly.</p>

<p><code>git submodule sync</code> synchronizes all submodules while
<code>git submodule sync -- A</code> synchronizes submodule "A" only.</p>


<p>If <code>--recursive</code> is specified, this command will recurse into the
registered submodules, and sync any nested submodules within.</p>

</dd>
<dt> absorbgitdirs </dt>
<dd>
<p>If a git directory of a submodule is inside the submodule,
move the git directory of the submodule into its superproject’s
<code>$GIT_DIR/modules</code> path and then connect the git directory and
its working directory by setting the <code>core.worktree</code> and adding
a .git file pointing to the git directory embedded in the
superprojects git directory.</p>

<p>A repository that was cloned independently and later added as a submodule or
old setups have the submodules git directory inside the submodule instead of
embedded into the superprojects git directory.</p>


<p>This command is recursive by default.</p>

</dd>
</dl>




<h2>options</h2>


<dl>
<dt> -q </dt>
<dt> --quiet </dt>
<dd>
<p>Only print error messages.</p>
</dd>
<dt> --progress </dt>
<dd>
<p>This option is only valid for add and update commands.
Progress status is reported on the standard error stream
by default when it is attached to a terminal, unless -q
is specified. This flag forces progress status even if the
standard error stream is not directed to a terminal.</p>
</dd>
<dt> --all </dt>
<dd>
<p>This option is only valid for the deinit command. Unregister all
submodules in the working tree.</p>
</dd>
<dt> -b &lt;branch&gt; </dt>
<dt> --branch &lt;branch&gt; </dt>
<dd>
<p>Branch of repository to add as submodule.
The name of the branch is recorded as <code>submodule.&lt;name&gt;.branch</code> in
<code>.gitmodules</code> for <code>update --remote</code>.  A special value of <code>.</code> is used to
indicate that the name of the branch in the submodule should be the
same name as the current branch in the current repository.  If the
option is not specified, it defaults to the remote <em>HEAD</em>.</p>
</dd>
<dt> -f </dt>
<dt> --force </dt>
<dd>
<p>This option is only valid for add, deinit and update commands.
When running add, allow adding an otherwise ignored submodule path.
When running deinit the submodule working trees will be removed even
if they contain local changes.
When running update (only effective with the checkout procedure),
throw away local changes in submodules when switching to a
different commit; and always run a checkout operation in the
submodule, even if the commit listed in the index of the
containing repository matches the commit checked out in the
submodule.</p>
</dd>
<dt> --cached </dt>
<dd>
<p>This option is only valid for status and summary commands.  These
commands typically use the commit found in the submodule HEAD, but
with this option, the commit stored in the index is used instead.</p>
</dd>
<dt> --files </dt>
<dd>
<p>This option is only valid for the summary command. This command
compares the commit in the index with that in the submodule HEAD
when this option is used.</p>
</dd>
<dt> -n </dt>
<dt> --summary-limit </dt>
<dd>
<p>This option is only valid for the summary command.
Limit the summary size (number of commits shown in total).
Giving 0 will disable the summary; a negative number means unlimited
(the default). This limit only applies to modified submodules. The
size is always limited to 1 for added/deleted/typechanged submodules.</p>
</dd>
<dt> --remote </dt>
<dd>
<p>This option is only valid for the update command.  Instead of using
the superproject’s recorded SHA-1 to update the submodule, use the
status of the submodule’s remote-tracking branch.  The remote used
is branch’s remote (<code>branch.&lt;name&gt;.remote</code>), defaulting to <code>origin</code>.
The remote branch used defaults to the remote <code>HEAD</code>, but the branch
name may be overridden by setting the <code>submodule.&lt;name&gt;.branch</code>
option in either <code>.gitmodules</code> or <code>.git/config</code> (with <code>.git/config</code>
taking precedence).</p>

<p>This works for any of the supported update procedures (<code>--checkout</code>,
<code>--rebase</code>, etc.).  The only change is the source of the target SHA-1.
For example, <code>submodule update --remote --merge</code> will merge upstream
submodule changes into the submodules, while <code>submodule update
--merge</code> will merge superproject gitlink changes into the submodules.</p>


<p>In order to ensure a current tracking branch state, <code>update --remote</code>
fetches the submodule’s remote repository before calculating the
SHA-1.  If you don’t want to fetch, you should use <code>submodule update
--remote --no-fetch</code>.</p>


<p>Use this option to integrate changes from the upstream subproject with
your submodule’s current HEAD.  Alternatively, you can run <code>git pull</code>
from the submodule, which is equivalent except for the remote branch
name: <code>update --remote</code> uses the default upstream repository and
<code>submodule.&lt;name&gt;.branch</code>, while <code>git pull</code> uses the submodule’s
<code>branch.&lt;name&gt;.merge</code>.  Prefer <code>submodule.&lt;name&gt;.branch</code> if you want
to distribute the default upstream branch with the superproject and
<code>branch.&lt;name&gt;.merge</code> if you want a more native feel while working in
the submodule itself.</p>

</dd>
<dt> -N </dt>
<dt> --no-fetch </dt>
<dd>
<p>This option is only valid for the update command.
Don’t fetch new objects from the remote site.</p>
</dd>
<dt> --checkout </dt>
<dd>
<p>This option is only valid for the update command.
Checkout the commit recorded in the superproject on a detached HEAD
in the submodule. This is the default behavior, the main use of
this option is to override <code>submodule.$name.update</code> when set to
a value other than <code>checkout</code>.
If the key <code>submodule.$name.update</code> is either not explicitly set or
set to <code>checkout</code>, this option is implicit.</p>
</dd>
<dt> --merge </dt>
<dd>
<p>This option is only valid for the update command.
Merge the commit recorded in the superproject into the current branch
of the submodule. If this option is given, the submodule’s HEAD will
not be detached. If a merge failure prevents this process, you will
have to resolve the resulting conflicts within the submodule with the
usual conflict resolution tools.
If the key <code>submodule.$name.update</code> is set to <code>merge</code>, this option is
implicit.</p>
</dd>
<dt> --rebase </dt>
<dd>
<p>This option is only valid for the update command.
Rebase the current branch onto the commit recorded in the
superproject. If this option is given, the submodule’s HEAD will not
be detached. If a merge failure prevents this process, you will have
to resolve these failures with <a href="/docs/git-rebase">git-rebase[1]</a>.
If the key <code>submodule.$name.update</code> is set to <code>rebase</code>, this option is
implicit.</p>
</dd>
<dt> --init </dt>
<dd>
<p>This option is only valid for the update command.
Initialize all submodules for which "git submodule init" has not been
called so far before updating.</p>
</dd>
<dt> --name </dt>
<dd>
<p>This option is only valid for the add command. It sets the submodule’s
name to the given string instead of defaulting to its path. The name
must be valid as a directory name and may not end with a <em>/</em>.</p>
</dd>
<dt> --reference &lt;repository&gt; </dt>
<dd>
<p>This option is only valid for add and update commands.  These
commands sometimes need to clone a remote repository. In this case,
this option will be passed to the <a href="/docs/git-clone">git-clone[1]</a> command.</p>

<p><strong>NOTE</strong>: Do <strong>not</strong> use this option unless you have read the note
for <a href="/docs/git-clone">git-clone[1]</a>'s <code>--reference</code>, <code>--shared</code>, and <code>--dissociate</code>
options carefully.</p>

</dd>
<dt> --dissociate </dt>
<dd>
<p>This option is only valid for add and update commands.  These
commands sometimes need to clone a remote repository. In this case,
this option will be passed to the <a href="/docs/git-clone">git-clone[1]</a> command.</p>

<p><strong>NOTE</strong>: see the NOTE for the <code>--reference</code> option.</p>

</dd>
<dt> --recursive </dt>
<dd>
<p>This option is only valid for foreach, update, status and sync commands.
Traverse submodules recursively. The operation is performed not
only in the submodules of the current repo, but also
in any nested submodules inside those submodules (and so on).</p>
</dd>
<dt> --depth </dt>
<dd>
<p>This option is valid for add and update commands. Create a <em>shallow</em>
clone with a history truncated to the specified number of revisions.
See <a href="/docs/git-clone">git-clone[1]</a></p>
</dd>
<dt> --[no-]recommend-shallow </dt>
<dd>
<p>This option is only valid for the update command.
The initial clone of a submodule will use the recommended
<code>submodule.&lt;name&gt;.shallow</code> as provided by the <code>.gitmodules</code> file
by default. To ignore the suggestions use <code>--no-recommend-shallow</code>.</p>
</dd>
<dt> -j &lt;n&gt; </dt>
<dt> --jobs &lt;n&gt; </dt>
<dd>
<p>This option is only valid for the update command.
Clone new submodules in parallel with as many jobs.
Defaults to the <code>submodule.fetchJobs</code> option.</p>
</dd>
<dt> --[no-]single-branch </dt>
<dd>
<p>This option is only valid for the update command.
Clone only one branch during update: HEAD or one specified by --branch.</p>
</dd>
<dt> &lt;path&gt;…<U+200B> </dt>
<dd>
<p>Paths to submodule(s). When specified this will restrict the command
to only operate on the submodules found at the specified paths.
(This argument is required with add).</p>
</dd>
</dl>




<h2>FILES</h2>


<p>When initializing submodules, a <code>.gitmodules</code> file in the top-level directory
of the containing repository is used to find the url of each submodule.
This file should be formatted in the same way as <code>$GIT_DIR/config</code>. The key
to each submodule url is "submodule.$name.url".  See <a href="/docs/gitmodules">gitmodules[5]</a>
for details.</p>




<h2>SEE ALSO</h2>


<p><a href="/docs/gitsubmodules">gitsubmodules[7]</a>, <a href="/docs/gitmodules">gitmodules[5]</a>.</p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-show - Show various types of objects</span></h2>




<h2><br>synopsis</h2>


<pre><em>git show</em> [&lt;options&gt;] [&lt;object&gt;…<U+200B>]</pre>




<h2>description</h2>


<p>Shows one or more objects (blobs, trees, tags and commits).</p>


<p>For commits it shows the log message and textual diff. It also
presents the merge commit in a special format as produced by
<em>git diff-tree --cc</em>.</p>


<p>For tags, it shows the tag message and the referenced objects.</p>


<p>For trees, it shows the names (equivalent to <em>git ls-tree</em>
with --name-only).</p>


<p>For plain blobs, it shows the plain contents.</p>


<p>The command takes options applicable to the <em>git diff-tree</em> command to
control how the changes the commit introduces are shown.</p>


<p>This manual page describes only the most frequently used options.</p>




<h2>options</h2>


<dl>
<dt> &lt;object&gt;…<U+200B> </dt>
<dd>
<p>The names of objects to show (defaults to <em>HEAD</em>).
For a more complete list of ways to spell object names, see
"SPECIFYING REVISIONS" section in <a href="/docs/gitrevisions">gitrevisions[7]</a>.</p>
</dd>
<dt> --pretty[=&lt;format&gt;] </dt>
<dt> --format=&lt;format&gt; </dt>
<dd>
<p>Pretty-print the contents of the commit logs in a given format,
where <em>&lt;format&gt;</em> can be one of <em>oneline</em>, <em>short</em>, <em>medium</em>,
<em>full</em>, <em>fuller</em>, <em>reference</em>, <em>email</em>, <em>raw</em>, <em>format:&lt;string&gt;</em>
and <em>tformat:&lt;string&gt;</em>.  When <em>&lt;format&gt;</em> is none of the above,
and has <em>%placeholder</em> in it, it acts as if
<em>--pretty=tformat:&lt;format&gt;</em> were given.</p>

<p>See the "PRETTY FORMATS" section for some additional details for each
format.  When <em>=&lt;format&gt;</em> part is omitted, it defaults to <em>medium</em>.</p>


<p>Note: you can specify the default pretty format in the repository
configuration (see <a href="/docs/git-config">git-config[1]</a>).</p>

</dd>
<dt> --abbrev-commit </dt>
<dd>
<p>Instead of showing the full 40-byte hexadecimal commit object
name, show a prefix that names the object uniquely.
"--abbrev=&lt;n&gt;" (which also modifies diff output, if it is displayed)
option can be used to specify the minimum length of the prefix.</p>

<p>This should make "--pretty=oneline" a whole lot more readable for
people using 80-column terminals.</p>

</dd>
<dt> --no-abbrev-commit </dt>
<dd>
<p>Show the full 40-byte hexadecimal commit object name. This negates
<code>--abbrev-commit</code>, either explicit or implied by other options such
as "--oneline". It also overrides the <code>log.abbrevCommit</code> variable.</p>
</dd>
<dt> --oneline </dt>
<dd>
<p>This is a shorthand for "--pretty=oneline --abbrev-commit"
used together.</p>
</dd>
<dt> --encoding=&lt;encoding&gt; </dt>
<dd>
<p>Commit objects record the character encoding used for the log message
in their encoding header; this option can be used to tell the
command to re-code the commit log message in the encoding
preferred by the user.  For non plumbing commands this
defaults to UTF-8. Note that if an object claims to be encoded
in <code>X</code> and we are outputting in <code>X</code>, we will output the object
verbatim; this means that invalid sequences in the original
commit may be copied to the output. Likewise, if iconv(3) fails
to convert the commit, we will quietly output the original
object verbatim.</p>
</dd>
<dt> --expand-tabs=&lt;n&gt; </dt>
<dt> --expand-tabs </dt>
<dt> --no-expand-tabs </dt>
<dd>
<p>Perform a tab expansion (replace each tab with enough spaces
to fill to the next display column that is multiple of <em>&lt;n&gt;</em>)
in the log message before showing it in the output.
<code>--expand-tabs</code> is a short-hand for <code>--expand-tabs=8</code>, and
<code>--no-expand-tabs</code> is a short-hand for <code>--expand-tabs=0</code>,
which disables tab expansion.</p>

<p>By default, tabs are expanded in pretty formats that indent the log
message by 4 spaces (i.e.  <em>medium</em>, which is the default, <em>full</em>,
and <em>fuller</em>).</p>

</dd>
<dt> --notes[=&lt;ref&gt;] </dt>
<dd>
<p>Show the notes (see <a href="/docs/git-notes">git-notes[1]</a>) that annotate the
commit, when showing the commit log message.  This is the default
for <code>git log</code>, <code>git show</code> and <code>git whatchanged</code> commands when
there is no <code>--pretty</code>, <code>--format</code>, or <code>--oneline</code> option given
on the command line.</p>

<p>By default, the notes shown are from the notes refs listed in the
<code>core.notesRef</code> and <code>notes.displayRef</code> variables (or corresponding
environment overrides). See <a href="/docs/git-config">git-config[1]</a> for more details.</p>


<p>With an optional <em>&lt;ref&gt;</em> argument, use the ref to find the notes
to display.  The ref can specify the full refname when it begins
with <code>refs/notes/</code>; when it begins with <code>notes/</code>, <code>refs/</code> and otherwise
<code>refs/notes/</code> is prefixed to form a full name of the ref.</p>


<p>Multiple --notes options can be combined to control which notes are
being displayed. Examples: "--notes=foo" will show only notes from
"refs/notes/foo"; "--notes=foo --notes" will show both notes from
"refs/notes/foo" and from the default notes ref(s).</p>

</dd>
<dt> --no-notes </dt>
<dd>
<p>Do not show notes. This negates the above <code>--notes</code> option, by
resetting the list of notes refs from which notes are shown.
Options are parsed in the order given on the command line, so e.g.
"--notes --notes=foo --no-notes --notes=bar" will only show notes
from "refs/notes/bar".</p>
</dd>
<dt> --show-notes[=&lt;ref&gt;] </dt>
<dt> --[no-]standard-notes </dt>
<dd>
<p>These options are deprecated. Use the above --notes/--no-notes
options instead.</p>
</dd>
<dt> --show-signature </dt>
<dd>
<p>Check the validity of a signed commit object by passing the signature
to <code>gpg --verify</code> and show the output.</p>
</dd>
</dl>




<h2>PRETTY FORMATS</h2>


<p>If the commit is a merge, and if the pretty-format
is not <em>oneline</em>, <em>email</em> or <em>raw</em>, an additional line is
inserted before the <em>Author:</em> line.  This line begins with
"Merge: " and the hashes of ancestral commits are printed,
separated by spaces.  Note that the listed commits may not
necessarily be the list of the <strong>direct</strong> parent commits if you
have limited your view of history: for example, if you are
only interested in changes related to a certain directory or
file.</p>


<p>There are several built-in formats, and you can define
additional formats by setting a pretty.&lt;name&gt;
config option to either another format name, or a
<em>format:</em> string, as described below (see
<a href="/docs/git-config">git-config[1]</a>). Here are the details of the
built-in formats:</p>


<ul>
<li>
<p><em>oneline</em></p>


<pre>&lt;hash&gt; &lt;title-line&gt;</pre>



<p>This is designed to be as compact as possible.</p>

</li>
<li>
<p><em>short</em></p>


<pre>commit &lt;hash&gt;
Author: &lt;author&gt;</pre>




<pre>&lt;title-line&gt;</pre>


</li>
<li>
<p><em>medium</em></p>


<pre>commit &lt;hash&gt;
Author: &lt;author&gt;
Date:   &lt;author-date&gt;</pre>




<pre>&lt;title-line&gt;</pre>




<pre>&lt;full-commit-message&gt;</pre>


</li>
<li>
<p><em>full</em></p>


<pre>commit &lt;hash&gt;
Author: &lt;author&gt;
Commit: &lt;committer&gt;</pre>




<pre>&lt;title-line&gt;</pre>




<pre>&lt;full-commit-message&gt;</pre>


</li>
<li>
<p><em>fuller</em></p>


<pre>commit &lt;hash&gt;
Author:     &lt;author&gt;
AuthorDate: &lt;author-date&gt;
Commit:     &lt;committer&gt;
CommitDate: &lt;committer-date&gt;</pre>




<pre>&lt;title-line&gt;</pre>




<pre>&lt;full-commit-message&gt;</pre>


</li>
<li>
<p><em>reference</em></p>


<pre>&lt;abbrev-hash&gt; (&lt;title-line&gt;, &lt;short-author-date&gt;)</pre>



<p>This format is used to refer to another commit in a commit message and
is the same as <code>--pretty='format:%C(auto)%h (%s, %ad)'</code>.  By default,
the date is formatted with <code>--date=short</code> unless another <code>--date</code> option
is explicitly specified.  As with any <code>format:</code> with format
placeholders, its output is not affected by other options like
<code>--decorate</code> and <code>--walk-reflogs</code>.</p>

</li>
<li>
<p><em>email</em></p>


<pre>From &lt;hash&gt; &lt;date&gt;
From: &lt;author&gt;
Date: &lt;author-date&gt;
Subject: [PATCH] &lt;title-line&gt;</pre>




<pre>&lt;full-commit-message&gt;</pre>


</li>
<li>
<p><em>mboxrd</em></p>

<p>Like <em>email</em>, but lines in the commit message starting with "From "
(preceded by zero or more "&gt;") are quoted with "&gt;" so they aren’t
confused as starting a new commit.</p>

</li>
<li>
<p><em>raw</em></p>

<p>The <em>raw</em> format shows the entire commit exactly as
stored in the commit object.  Notably, the hashes are
displayed in full, regardless of whether --abbrev or
--no-abbrev are used, and <em>parents</em> information show the
true parent commits, without taking grafts or history
simplification into account. Note that this format affects the way
commits are displayed, but not the way the diff is shown e.g. with
<code>git log --raw</code>. To get full object names in a raw diff format,
use <code>--no-abbrev</code>.</p>

</li>
<li>
<p><em>format:&lt;format-string&gt;</em></p>

<p>The <em>format:&lt;format-string&gt;</em> format allows you to specify which information
you want to show. It works a little bit like printf format,
with the notable exception that you get a newline with <em>%n</em>
instead of <em>\n</em>.</p>


<p>E.g, <em>format:"The author of %h was %an, %ar%nThe title was &gt;&gt;%s&lt;&lt;%n"</em>
would show something like this:</p>



<pre>The author of fe6e0ee was Junio C Hamano, 23 hours ago
The title was &gt;&gt;t4119: test autocomputing -p&lt;n&gt; for traditional diff input.&lt;&lt;</pre>



<p>The placeholders are:</p>


<ul>
<li>
<p>Placeholders that expand to a single literal character:</p>

<dl>
<dt> <em>%n</em> </dt>
<dd>
<p>newline</p>
</dd>
<dt> <em>%%</em> </dt>
<dd>
<p>a raw <em>%</em></p>
</dd>
<dt> <em>%x00</em> </dt>
<dd>
<p>print a byte from a hex code</p>
</dd>
</dl>

</li>
<li>
<p>Placeholders that affect formatting of later placeholders:</p>

<dl>
<dt> <em>%Cred</em> </dt>
<dd>
<p>switch color to red</p>
</dd>
<dt> <em>%Cgreen</em> </dt>
<dd>
<p>switch color to green</p>
</dd>
<dt> <em>%Cblue</em> </dt>
<dd>
<p>switch color to blue</p>
</dd>
<dt> <em>%Creset</em> </dt>
<dd>
<p>reset color</p>
</dd>
<dt> <em>%C(…<U+200B>)</em> </dt>
<dd>
<p>color specification, as described under Values in the
"CONFIGURATION FILE" section of <a href="/docs/git-config">git-config[1]</a>.  By
default, colors are shown only when enabled for log output
(by <code>color.diff</code>, <code>color.ui</code>, or <code>--color</code>, and respecting
the <code>auto</code> settings of the former if we are going to a
terminal). <code>%C(auto,...)</code> is accepted as a historical
synonym for the default (e.g., <code>%C(auto,red)</code>). Specifying
<code>%C(always,...)</code> will show the colors even when color is
not otherwise enabled (though consider just using
<code>--color=always</code> to enable color for the whole output,
including this format and anything else git might color).
<code>auto</code> alone (i.e. <code>%C(auto)</code>) will turn on auto coloring
on the next placeholders until the color is switched
again.</p>
</dd>
<dt> <em>%m</em> </dt>
<dd>
<p>left (<code>&lt;</code>), right (<code>&gt;</code>) or boundary (<code>-</code>) mark</p>
</dd>
<dt> <em>%w([&lt;w&gt;[,&lt;i1&gt;[,&lt;i2&gt;]]])</em> </dt>
<dd>
<p>switch line wrapping, like the -w option of
<a href="/docs/git-shortlog">git-shortlog[1]</a>.</p>
</dd>
<dt> <em>%&lt;(&lt;N&gt;[,trunc|ltrunc|mtrunc])</em> </dt>
<dd>
<p>make the next placeholder take at
least N columns, padding spaces on
the right if necessary.  Optionally
truncate at the beginning (ltrunc),
the middle (mtrunc) or the end
(trunc) if the output is longer than
N columns.  Note that truncating
only works correctly with N &gt;= 2.</p>
</dd>
<dt> <em>%&lt;|(&lt;N&gt;)</em> </dt>
<dd>
<p>make the next placeholder take at least until Nth
columns, padding spaces on the right if necessary</p>
</dd>
<dt> <em>%&gt;(&lt;N&gt;)</em>, <em>%&gt;|(&lt;N&gt;)</em> </dt>
<dd>
<p>similar to <em>%&lt;(&lt;N&gt;)</em>, <em>%&lt;|(&lt;N&gt;)</em> respectively,
but padding spaces on the left</p>
</dd>
<dt> <em>%&gt;&gt;(&lt;N&gt;)</em>, <em>%&gt;&gt;|(&lt;N&gt;)</em> </dt>
<dd>
<p>similar to <em>%&gt;(&lt;N&gt;)</em>, <em>%&gt;|(&lt;N&gt;)</em>
respectively, except that if the next
placeholder takes more spaces than given and
there are spaces on its left, use those
spaces</p>
</dd>
<dt> <em>%&gt;&lt;(&lt;N&gt;)</em>, <em>%&gt;&lt;|(&lt;N&gt;)</em> </dt>
<dd>
<p>similar to <em>%&lt;(&lt;N&gt;)</em>, <em>%&lt;|(&lt;N&gt;)</em>
respectively, but padding both sides
(i.e. the text is centered)</p>
</dd>
</dl>

</li>
<li>
<p>Placeholders that expand to information extracted from the commit:</p>

<dl>
<dt> <em>%H</em> </dt>
<dd>
<p>commit hash</p>
</dd>
<dt> <em>%h</em> </dt>
<dd>
<p>abbreviated commit hash</p>
</dd>
<dt> <em>%T</em> </dt>
<dd>
<p>tree hash</p>
</dd>
<dt> <em>%t</em> </dt>
<dd>
<p>abbreviated tree hash</p>
</dd>
<dt> <em>%P</em> </dt>
<dd>
<p>parent hashes</p>
</dd>
<dt> <em>%p</em> </dt>
<dd>
<p>abbreviated parent hashes</p>
</dd>
<dt> <em>%an</em> </dt>
<dd>
<p>author name</p>
</dd>
<dt> <em>%aN</em> </dt>
<dd>
<p>author name (respecting .mailmap, see <a href="/docs/git-shortlog">git-shortlog[1]</a>
or <a href="/docs/git-blame">git-blame[1]</a>)</p>
</dd>
<dt> <em>%ae</em> </dt>
<dd>
<p>author email</p>
</dd>
<dt> <em>%aE</em> </dt>
<dd>
<p>author email (respecting .mailmap, see <a href="/docs/git-shortlog">git-shortlog[1]</a>
or <a href="/docs/git-blame">git-blame[1]</a>)</p>
</dd>
<dt> <em>%al</em> </dt>
<dd>
<p>author email local-part (the part before the <em>@</em> sign)</p>
</dd>
<dt> <em>%aL</em> </dt>
<dd>
<p>author local-part (see <em>%al</em>) respecting .mailmap, see
<a href="/docs/git-shortlog">git-shortlog[1]</a> or <a href="/docs/git-blame">git-blame[1]</a>)</p>
</dd>
<dt> <em>%ad</em> </dt>
<dd>
<p>author date (format respects --date= option)</p>
</dd>
<dt> <em>%aD</em> </dt>
<dd>
<p>author date, RFC2822 style</p>
</dd>
<dt> <em>%ar</em> </dt>
<dd>
<p>author date, relative</p>
</dd>
<dt> <em>%at</em> </dt>
<dd>
<p>author date, UNIX timestamp</p>
</dd>
<dt> <em>%ai</em> </dt>
<dd>
<p>author date, ISO 8601-like format</p>
</dd>
<dt> <em>%aI</em> </dt>
<dd>
<p>author date, strict ISO 8601 format</p>
</dd>
<dt> <em>%as</em> </dt>
<dd>
<p>author date, short format (<code>YYYY-MM-DD</code>)</p>
</dd>
<dt> <em>%ah</em> </dt>
<dd>
<p>author date, human style (like the <code>--date=human</code> option of
<a href="/docs/git-rev-list">git-rev-list[1]</a>)</p>
</dd>
<dt> <em>%cn</em> </dt>
<dd>
<p>committer name</p>
</dd>
<dt> <em>%cN</em> </dt>
<dd>
<p>committer name (respecting .mailmap, see
<a href="/docs/git-shortlog">git-shortlog[1]</a> or <a href="/docs/git-blame">git-blame[1]</a>)</p>
</dd>
<dt> <em>%ce</em> </dt>
<dd>
<p>committer email</p>
</dd>
<dt> <em>%cE</em> </dt>
<dd>
<p>committer email (respecting .mailmap, see
<a href="/docs/git-shortlog">git-shortlog[1]</a> or <a href="/docs/git-blame">git-blame[1]</a>)</p>
</dd>
<dt> <em>%cl</em> </dt>
<dd>
<p>committer email local-part (the part before the <em>@</em> sign)</p>
</dd>
<dt> <em>%cL</em> </dt>
<dd>
<p>committer local-part (see <em>%cl</em>) respecting .mailmap, see
<a href="/docs/git-shortlog">git-shortlog[1]</a> or <a href="/docs/git-blame">git-blame[1]</a>)</p>
</dd>
<dt> <em>%cd</em> </dt>
<dd>
<p>committer date (format respects --date= option)</p>
</dd>
<dt> <em>%cD</em> </dt>
<dd>
<p>committer date, RFC2822 style</p>
</dd>
<dt> <em>%cr</em> </dt>
<dd>
<p>committer date, relative</p>
</dd>
<dt> <em>%ct</em> </dt>
<dd>
<p>committer date, UNIX timestamp</p>
</dd>
<dt> <em>%ci</em> </dt>
<dd>
<p>committer date, ISO 8601-like format</p>
</dd>
<dt> <em>%cI</em> </dt>
<dd>
<p>committer date, strict ISO 8601 format</p>
</dd>
<dt> <em>%cs</em> </dt>
<dd>
<p>committer date, short format (<code>YYYY-MM-DD</code>)</p>
</dd>
<dt> <em>%ch</em> </dt>
<dd>
<p>committer date, human style (like the <code>--date=human</code> option of
<a href="/docs/git-rev-list">git-rev-list[1]</a>)</p>
</dd>
<dt> <em>%d</em> </dt>
<dd>
<p>ref names, like the --decorate option of <a href="/docs/git-log">git-log[1]</a></p>
</dd>
<dt> <em>%D</em> </dt>
<dd>
<p>ref names without the " (", ")" wrapping.</p>
</dd>
<dt> <em>%(describe[:options])</em> </dt>
<dd>
<p>human-readable name, like
<a href="/docs/git-describe">git-describe[1]</a>; empty string for
undescribable commits.  The <code>describe</code> string
may be followed by a colon and zero or more
comma-separated options.  Descriptions can be
inconsistent when tags are added or removed at
the same time.</p>

<ul>
<li>
<p><em>tags[=&lt;bool-value&gt;]</em>: Instead of only considering annotated tags,
consider lightweight tags as well.</p>
</li>
<li>
<p><em>abbrev=&lt;number&gt;</em>: Instead of using the default number of hexadecimal digits
(which will vary according to the number of objects in the repository with a
default of 7) of the abbreviated object name, use &lt;number&gt; digits, or as many
digits as needed to form a unique object name.</p>
</li>
<li>
<p><em>match=&lt;pattern&gt;</em>: Only consider tags matching the given
<code>glob(7)</code> pattern, excluding the "refs/tags/" prefix.</p>
</li>
<li>
<p><em>exclude=&lt;pattern&gt;</em>: Do not consider tags matching the given
<code>glob(7)</code> pattern, excluding the "refs/tags/" prefix.</p>
</li>
</ul>

</dd>
<dt> <em>%S</em> </dt>
<dd>
<p>ref name given on the command line by which the commit was reached
(like <code>git log --source</code>), only works with <code>git log</code></p>
</dd>
<dt> <em>%e</em> </dt>
<dd>
<p>encoding</p>
</dd>
<dt> <em>%s</em> </dt>
<dd>
<p>subject</p>
</dd>
<dt> <em>%f</em> </dt>
<dd>
<p>sanitized subject line, suitable for a filename</p>
</dd>
<dt> <em>%b</em> </dt>
<dd>
<p>body</p>
</dd>
<dt> <em>%B</em> </dt>
<dd>
<p>raw body (unwrapped subject and body)</p>
</dd>
<dt> <em>%N</em> </dt>
<dd>
<p>commit notes</p>
</dd>
<dt> <em>%GG</em> </dt>
<dd>
<p>raw verification message from GPG for a signed commit</p>
</dd>
<dt> <em>%G?</em> </dt>
<dd>
<p>show "G" for a good (valid) signature,
"B" for a bad signature,
"U" for a good signature with unknown validity,
"X" for a good signature that has expired,
"Y" for a good signature made by an expired key,
"R" for a good signature made by a revoked key,
"E" if the signature cannot be checked (e.g. missing key)
and "N" for no signature</p>
</dd>
<dt> <em>%GS</em> </dt>
<dd>
<p>show the name of the signer for a signed commit</p>
</dd>
<dt> <em>%GK</em> </dt>
<dd>
<p>show the key used to sign a signed commit</p>
</dd>
<dt> <em>%GF</em> </dt>
<dd>
<p>show the fingerprint of the key used to sign a signed commit</p>
</dd>
<dt> <em>%GP</em> </dt>
<dd>
<p>show the fingerprint of the primary key whose subkey was used
to sign a signed commit</p>
</dd>
<dt> <em>%GT</em> </dt>
<dd>
<p>show the trust level for the key used to sign a signed commit</p>
</dd>
<dt> <em>%gD</em> </dt>
<dd>
<p>reflog selector, e.g., <code>refs/stash@{1}</code> or <code>refs/stash@{2
minutes ago}</code>; the format follows the rules described for the
<code>-g</code> option. The portion before the <code>@</code> is the refname as
given on the command line (so <code>git log -g refs/heads/master</code>
would yield <code>refs/heads/master@{0}</code>).</p>
</dd>
<dt> <em>%gd</em> </dt>
<dd>
<p>shortened reflog selector; same as <code>%gD</code>, but the refname
portion is shortened for human readability (so
<code>refs/heads/master</code> becomes just <code>master</code>).</p>
</dd>
<dt> <em>%gn</em> </dt>
<dd>
<p>reflog identity name</p>
</dd>
<dt> <em>%gN</em> </dt>
<dd>
<p>reflog identity name (respecting .mailmap, see
<a href="/docs/git-shortlog">git-shortlog[1]</a> or <a href="/docs/git-blame">git-blame[1]</a>)</p>
</dd>
<dt> <em>%ge</em> </dt>
<dd>
<p>reflog identity email</p>
</dd>
<dt> <em>%gE</em> </dt>
<dd>
<p>reflog identity email (respecting .mailmap, see
<a href="/docs/git-shortlog">git-shortlog[1]</a> or <a href="/docs/git-blame">git-blame[1]</a>)</p>
</dd>
<dt> <em>%gs</em> </dt>
<dd>
<p>reflog subject</p>
</dd>
<dt> <em>%(trailers[:options])</em> </dt>
<dd>
<p>display the trailers of the body as
interpreted by
<a href="/docs/git-interpret-trailers">git-interpret-trailers[1]</a>. The
<code>trailers</code> string may be followed by a colon
and zero or more comma-separated options.
If any option is provided multiple times the
last occurrence wins.</p>

<ul>
<li>
<p><em>key=&lt;key&gt;</em>: only show trailers with specified &lt;key&gt;. Matching is done
case-insensitively and trailing colon is optional. If option is
given multiple times trailer lines matching any of the keys are
shown. This option automatically enables the <code>only</code> option so that
non-trailer lines in the trailer block are hidden. If that is not
desired it can be disabled with <code>only=false</code>.  E.g.,
<code>%(trailers:key=Reviewed-by)</code> shows trailer lines with key
<code>Reviewed-by</code>.</p>
</li>
<li>
<p><em>only[=&lt;bool&gt;]</em>: select whether non-trailer lines from the trailer
block should be included.</p>
</li>
<li>
<p><em>separator=&lt;sep&gt;</em>: specify a separator inserted between trailer
lines. When this option is not given each trailer line is
terminated with a line feed character. The string &lt;sep&gt; may contain
the literal formatting codes described above. To use comma as
separator one must use <code>%x2C</code> as it would otherwise be parsed as
next option. E.g., <code>%(trailers:key=Ticket,separator=%x2C )</code>
shows all trailer lines whose key is "Ticket" separated by a comma
and a space.</p>
</li>
<li>
<p><em>unfold[=&lt;bool&gt;]</em>: make it behave as if interpret-trailer’s <code>--unfold</code>
option was given. E.g.,
<code>%(trailers:only,unfold=true)</code> unfolds and shows all trailer lines.</p>
</li>
<li>
<p><em>keyonly[=&lt;bool&gt;]</em>: only show the key part of the trailer.</p>
</li>
<li>
<p><em>valueonly[=&lt;bool&gt;]</em>: only show the value part of the trailer.</p>
</li>
<li>
<p><em>key_value_separator=&lt;sep&gt;</em>: specify a separator inserted between
trailer lines. When this option is not given each trailer key-value
pair is separated by ": ". Otherwise it shares the same semantics
as <em>separator=&lt;sep&gt;</em> above.</p>
</li>
</ul>

</dd>
</dl>

</li>
</ul>

</li>
</ul>


<table><tr>
<td>
Note
</td>
<td>
Some placeholders may depend on other options given to the
revision traversal engine. For example, the <code>%g*</code> reflog options will
insert an empty string unless we are traversing reflog entries (e.g., by
<code>git log -g</code>). The <code>%d</code> and <code>%D</code> placeholders will use the "short"
decoration format if <code>--decorate</code> was not already provided on the command
line.
</td>
</tr></table>


<p>The boolean options accept an optional value <code>[=&lt;bool-value&gt;]</code>. The values
<code>true</code>, <code>false</code>, <code>on</code>, <code>off</code> etc. are all accepted. See the "boolean"
sub-section in "EXAMPLES" in <a href="/docs/git-config">git-config[1]</a>. If a boolean
option is given with no value, it’s enabled.</p>


<p>If you add a <code>+</code> (plus sign) after <em>%</em> of a placeholder, a line-feed
is inserted immediately before the expansion if and only if the
placeholder expands to a non-empty string.</p>


<p>If you add a <code>-</code> (minus sign) after <em>%</em> of a placeholder, all consecutive
line-feeds immediately preceding the expansion are deleted if and only if the
placeholder expands to an empty string.</p>


<p>If you add a ` ` (space) after <em>%</em> of a placeholder, a space
is inserted immediately before the expansion if and only if the
placeholder expands to a non-empty string.</p>


<ul>
<li>
<p><em>tformat:</em></p>

<p>The <em>tformat:</em> format works exactly like <em>format:</em>, except that it
provides "terminator" semantics instead of "separator" semantics. In
other words, each commit has the message terminator character (usually a
newline) appended, rather than a separator placed between entries.
This means that the final entry of a single-line format will be properly
terminated with a new line, just as the "oneline" format does.
For example:</p>



<pre>$ git log -2 --pretty=format:%h 4da45bef \
  | perl -pe '$_ .= " -- NO NEWLINE\n" unless /\n/'
4da45be
7134973 -- NO NEWLINE

$ git log -2 --pretty=tformat:%h 4da45bef \
  | perl -pe '$_ .= " -- NO NEWLINE\n" unless /\n/'
4da45be
7134973</pre>



<p>In addition, any unrecognized string that has a <code>%</code> in it is interpreted
as if it has <code>tformat:</code> in front of it.  For example, these two are
equivalent:</p>



<pre>$ git log -2 --pretty=tformat:%h 4da45bef
$ git log -2 --pretty=%h 4da45bef</pre>


</li>
</ul>




<h2>DIFF FORMATTING</h2>


<p>The options below can be used to change the way <code>git show</code> generates
diff output.</p>


<dl>
<dt> -p </dt>
<dt> -u </dt>
<dt> --patch </dt>
<dd>
<p>Generate patch (see section on generating patches).</p>
</dd>
<dt> -s </dt>
<dt> --no-patch </dt>
<dd>
<p>Suppress diff output. Useful for commands like <code>git show</code> that
show the patch by default, or to cancel the effect of <code>--patch</code>.</p>
</dd>
<dt> --diff-merges=(off|none|on|first-parent|1|separate|m|combined|c|dense-combined|cc) </dt>
<dt> --no-diff-merges </dt>
<dd>
<p>Specify diff format to be used for merge commits. Default is
`dense-combined` unless <code>--first-parent</code> is in use, in which case
<code>first-parent</code> is the default.</p>

<dl>
<dt> --diff-merges=(off|none) </dt>
<dt> --no-diff-merges </dt>
<dd>
<p>Disable output of diffs for merge commits. Useful to override
implied value.</p>
</dd>
<dt> --diff-merges=on </dt>
<dt> --diff-merges=m </dt>
<dt> -m </dt>
<dd>
<p>This option makes diff output for merge commits to be shown in
the default format. <code>-m</code> will produce the output only if <code>-p</code>
is given as well. The default format could be changed using
<code>log.diffMerges</code> configuration parameter, which default value
is <code>separate</code>.</p>
</dd>
<dt> --diff-merges=first-parent </dt>
<dt> --diff-merges=1 </dt>
<dd>
<p>This option makes merge commits show the full diff with
respect to the first parent only.</p>
</dd>
<dt> --diff-merges=separate </dt>
<dd>
<p>This makes merge commits show the full diff with respect to
each of the parents. Separate log entry and diff is generated
for each parent.</p>
</dd>
<dt> --diff-merges=combined </dt>
<dt> --diff-merges=c </dt>
<dt> -c </dt>
<dd>
<p>With this option, diff output for a merge commit shows the
differences from each of the parents to the merge result
simultaneously instead of showing pairwise diff between a
parent and the result one at a time. Furthermore, it lists
only files which were modified from all parents. <code>-c</code> implies
<code>-p</code>.</p>
</dd>
<dt> --diff-merges=dense-combined </dt>
<dt> --diff-merges=cc </dt>
<dt> --cc </dt>
<dd>
<p>With this option the output produced by
<code>--diff-merges=combined</code> is further compressed by omitting
uninteresting hunks whose contents in the parents have only
two variants and the merge result picks one of them without
modification.  <code>--cc</code> implies <code>-p</code>.</p>
</dd>
</dl>

</dd>
<dt> --combined-all-paths </dt>
<dd>
<p>This flag causes combined diffs (used for merge commits) to
list the name of the file from all parents.  It thus only has
effect when <code>--diff-merges=[dense-]combined</code> is in use, and
is likely only useful if filename changes are detected (i.e.
when either rename or copy detection have been requested).</p>
</dd>
<dt> -U&lt;n&gt; </dt>
<dt> --unified=&lt;n&gt; </dt>
<dd>
<p>Generate diffs with &lt;n&gt; lines of context instead of
the usual three.
Implies <code>--patch</code>.</p>
</dd>
<dt> --output=&lt;file&gt; </dt>
<dd>
<p>Output to a specific file instead of stdout.</p>
</dd>
<dt> --output-indicator-new=&lt;char&gt; </dt>
<dt> --output-indicator-old=&lt;char&gt; </dt>
<dt> --output-indicator-context=&lt;char&gt; </dt>
<dd>
<p>Specify the character used to indicate new, old or context
lines in the generated patch. Normally they are <em>+</em>, <em>-</em> and
' ' respectively.</p>
</dd>
<dt> --raw </dt>
<dd>
<p>For each commit, show a summary of changes using the raw diff
format. See the "RAW OUTPUT FORMAT" section of
<a href="/docs/git-diff">git-diff[1]</a>. This is different from showing the log
itself in raw format, which you can achieve with
<code>--format=raw</code>.</p>
</dd>
<dt> --patch-with-raw </dt>
<dd>
<p>Synonym for <code>-p --raw</code>.</p>
</dd>
<dt> -t </dt>
<dd>
<p>Show the tree objects in the diff output.</p>
</dd>
<dt> --indent-heuristic </dt>
<dd>
<p>Enable the heuristic that shifts diff hunk boundaries to make patches
easier to read. This is the default.</p>
</dd>
<dt> --no-indent-heuristic </dt>
<dd>
<p>Disable the indent heuristic.</p>
</dd>
<dt> --minimal </dt>
<dd>
<p>Spend extra time to make sure the smallest possible
diff is produced.</p>
</dd>
<dt> --patience </dt>
<dd>
<p>Generate a diff using the "patience diff" algorithm.</p>
</dd>
<dt> --histogram </dt>
<dd>
<p>Generate a diff using the "histogram diff" algorithm.</p>
</dd>
<dt> --anchored=&lt;text&gt; </dt>
<dd>
<p>Generate a diff using the "anchored diff" algorithm.</p>

<p>This option may be specified more than once.</p>


<p>If a line exists in both the source and destination, exists only once,
and starts with this text, this algorithm attempts to prevent it from
appearing as a deletion or addition in the output. It uses the "patience
diff" algorithm internally.</p>

</dd>
<dt> --diff-algorithm={patience|minimal|histogram|myers} </dt>
<dd>
<p>Choose a diff algorithm. The variants are as follows:</p>



<dl>
<dt> <code>default</code>, <code>myers</code> </dt>
<dd>
<p>The basic greedy diff algorithm. Currently, this is the default.</p>
</dd>
<dt> <code>minimal</code> </dt>
<dd>
<p>Spend extra time to make sure the smallest possible diff is
produced.</p>
</dd>
<dt> <code>patience</code> </dt>
<dd>
<p>Use "patience diff" algorithm when generating patches.</p>
</dd>
<dt> <code>histogram</code> </dt>
<dd>
<p>This algorithm extends the patience algorithm to "support
low-occurrence common elements".</p>
</dd>
</dl>




<p>For instance, if you configured the <code>diff.algorithm</code> variable to a
non-default value and want to use the default one, then you
have to use <code>--diff-algorithm=default</code> option.</p>

</dd>
<dt> --stat[=&lt;width&gt;[,&lt;name-width&gt;[,&lt;count&gt;]]] </dt>
<dd>
<p>Generate a diffstat. By default, as much space as necessary
will be used for the filename part, and the rest for the graph
part. Maximum width defaults to terminal width, or 80 columns
if not connected to a terminal, and can be overridden by
<code>&lt;width&gt;</code>. The width of the filename part can be limited by
giving another width <code>&lt;name-width&gt;</code> after a comma. The width
of the graph part can be limited by using
<code>--stat-graph-width=&lt;width&gt;</code> (affects all commands generating
a stat graph) or by setting <code>diff.statGraphWidth=&lt;width&gt;</code>
(does not affect <code>git format-patch</code>).
By giving a third parameter <code>&lt;count&gt;</code>, you can limit the
output to the first <code>&lt;count&gt;</code> lines, followed by <code>...</code> if
there are more.</p>

<p>These parameters can also be set individually with <code>--stat-width=&lt;width&gt;</code>,
<code>--stat-name-width=&lt;name-width&gt;</code> and <code>--stat-count=&lt;count&gt;</code>.</p>

</dd>
<dt> --compact-summary </dt>
<dd>
<p>Output a condensed summary of extended header information such
as file creations or deletions ("new" or "gone", optionally "+l"
if it’s a symlink) and mode changes ("+x" or "-x" for adding
or removing executable bit respectively) in diffstat. The
information is put between the filename part and the graph
part. Implies <code>--stat</code>.</p>
</dd>
<dt> --numstat </dt>
<dd>
<p>Similar to <code>--stat</code>, but shows number of added and
deleted lines in decimal notation and pathname without
abbreviation, to make it more machine friendly.  For
binary files, outputs two <code>-</code> instead of saying
<code>0 0</code>.</p>
</dd>
<dt> --shortstat </dt>
<dd>
<p>Output only the last line of the <code>--stat</code> format containing total
number of modified files, as well as number of added and deleted
lines.</p>
</dd>
<dt> -X[&lt;param1,param2,…<U+200B>&gt;] </dt>
<dt> --dirstat[=&lt;param1,param2,…<U+200B>&gt;] </dt>
<dd>
<p>Output the distribution of relative amount of changes for each
sub-directory. The behavior of <code>--dirstat</code> can be customized by
passing it a comma separated list of parameters.
The defaults are controlled by the <code>diff.dirstat</code> configuration
variable (see <a href="/docs/git-config">git-config[1]</a>).
The following parameters are available:</p>



<dl>
<dt> <code>changes</code> </dt>
<dd>
<p>Compute the dirstat numbers by counting the lines that have been
removed from the source, or added to the destination. This ignores
the amount of pure code movements within a file.  In other words,
rearranging lines in a file is not counted as much as other changes.
This is the default behavior when no parameter is given.</p>
</dd>
<dt> <code>lines</code> </dt>
<dd>
<p>Compute the dirstat numbers by doing the regular line-based diff
analysis, and summing the removed/added line counts. (For binary
files, count 64-byte chunks instead, since binary files have no
natural concept of lines). This is a more expensive <code>--dirstat</code>
behavior than the <code>changes</code> behavior, but it does count rearranged
lines within a file as much as other changes. The resulting output
is consistent with what you get from the other <code>--*stat</code> options.</p>
</dd>
<dt> <code>files</code> </dt>
<dd>
<p>Compute the dirstat numbers by counting the number of files changed.
Each changed file counts equally in the dirstat analysis. This is
the computationally cheapest <code>--dirstat</code> behavior, since it does
not have to look at the file contents at all.</p>
</dd>
<dt> <code>cumulative</code> </dt>
<dd>
<p>Count changes in a child directory for the parent directory as well.
Note that when using <code>cumulative</code>, the sum of the percentages
reported may exceed 100%. The default (non-cumulative) behavior can
be specified with the <code>noncumulative</code> parameter.</p>
</dd>
<dt> &lt;limit&gt; </dt>
<dd>
<p>An integer parameter specifies a cut-off percent (3% by default).
Directories contributing less than this percentage of the changes
are not shown in the output.</p>
</dd>
</dl>




<p>Example: The following will count changed files, while ignoring
directories with less than 10% of the total amount of changed files,
and accumulating child directory counts in the parent directories:
<code>--dirstat=files,10,cumulative</code>.</p>

</dd>
<dt> --cumulative </dt>
<dd>
<p>Synonym for --dirstat=cumulative</p>
</dd>
<dt> --dirstat-by-file[=&lt;param1,param2&gt;…<U+200B>] </dt>
<dd>
<p>Synonym for --dirstat=files,param1,param2…<U+200B></p>
</dd>
<dt> --summary </dt>
<dd>
<p>Output a condensed summary of extended header information
such as creations, renames and mode changes.</p>
</dd>
<dt> --patch-with-stat </dt>
<dd>
<p>Synonym for <code>-p --stat</code>.</p>
</dd>
<dt> -z </dt>
<dd>
<p>Separate the commits with NULs instead of with new newlines.</p>

<p>Also, when <code>--raw</code> or <code>--numstat</code> has been given, do not munge
pathnames and use NULs as output field terminators.</p>


<p>Without this option, pathnames with "unusual" characters are quoted as
explained for the configuration variable <code>core.quotePath</code> (see
<a href="/docs/git-config">git-config[1]</a>).</p>

</dd>
<dt> --name-only </dt>
<dd>
<p>Show only names of changed files. The file names are often encoded in UTF-8.
For more information see the discussion about encoding in the <a href="/docs/git-log">git-log[1]</a>
manual page.</p>
</dd>
<dt> --name-status </dt>
<dd>
<p>Show only names and status of changed files. See the description
of the <code>--diff-filter</code> option on what the status letters mean.
Just like <code>--name-only</code> the file names are often encoded in UTF-8.</p>
</dd>
<dt> --submodule[=&lt;format&gt;] </dt>
<dd>
<p>Specify how differences in submodules are shown.  When specifying
<code>--submodule=short</code> the <em>short</em> format is used.  This format just
shows the names of the commits at the beginning and end of the range.
When <code>--submodule</code> or <code>--submodule=log</code> is specified, the <em>log</em>
format is used.  This format lists the commits in the range like
<a href="/docs/git-submodule">git-submodule[1]</a> <code>summary</code> does.  When <code>--submodule=diff</code>
is specified, the <em>diff</em> format is used.  This format shows an
inline diff of the changes in the submodule contents between the
commit range.  Defaults to <code>diff.submodule</code> or the <em>short</em> format
if the config option is unset.</p>
</dd>
<dt> --color[=&lt;when&gt;] </dt>
<dd>
<p>Show colored diff.
<code>--color</code> (i.e. without <em>=&lt;when&gt;</em>) is the same as <code>--color=always</code>.
<em>&lt;when&gt;</em> can be one of <code>always</code>, <code>never</code>, or <code>auto</code>.</p>
</dd>
<dt> --no-color </dt>
<dd>
<p>Turn off colored diff.
It is the same as <code>--color=never</code>.</p>
</dd>
<dt> --color-moved[=&lt;mode&gt;] </dt>
<dd>
<p>Moved lines of code are colored differently.
The &lt;mode&gt; defaults to <em>no</em> if the option is not given
and to <em>zebra</em> if the option with no mode is given.
The mode must be one of:</p>



<dl>
<dt> no </dt>
<dd>
<p>Moved lines are not highlighted.</p>
</dd>
<dt> default </dt>
<dd>
<p>Is a synonym for <code>zebra</code>. This may change to a more sensible mode
in the future.</p>
</dd>
<dt> plain </dt>
<dd>
<p>Any line that is added in one location and was removed
in another location will be colored with <em>color.diff.newMoved</em>.
Similarly <em>color.diff.oldMoved</em> will be used for removed lines
that are added somewhere else in the diff. This mode picks up any
moved line, but it is not very useful in a review to determine
if a block of code was moved without permutation.</p>
</dd>
<dt> blocks </dt>
<dd>
<p>Blocks of moved text of at least 20 alphanumeric characters
are detected greedily. The detected blocks are
painted using either the <em>color.diff.{old,new}Moved</em> color.
Adjacent blocks cannot be told apart.</p>
</dd>
<dt> zebra </dt>
<dd>
<p>Blocks of moved text are detected as in <em>blocks</em> mode. The blocks
are painted using either the <em>color.diff.{old,new}Moved</em> color or
<em>color.diff.{old,new}MovedAlternative</em>. The change between
the two colors indicates that a new block was detected.</p>
</dd>
<dt> dimmed-zebra </dt>
<dd>
<p>Similar to <em>zebra</em>, but additional dimming of uninteresting parts
of moved code is performed. The bordering lines of two adjacent
blocks are considered interesting, the rest is uninteresting.
<code>dimmed_zebra</code> is a deprecated synonym.</p>
</dd>
</dl>



</dd>
<dt> --no-color-moved </dt>
<dd>
<p>Turn off move detection. This can be used to override configuration
settings. It is the same as <code>--color-moved=no</code>.</p>
</dd>
<dt> --color-moved-ws=&lt;modes&gt; </dt>
<dd>
<p>This configures how whitespace is ignored when performing the
move detection for <code>--color-moved</code>.
These modes can be given as a comma separated list:</p>



<dl>
<dt> no </dt>
<dd>
<p>Do not ignore whitespace when performing move detection.</p>
</dd>
<dt> ignore-space-at-eol </dt>
<dd>
<p>Ignore changes in whitespace at EOL.</p>
</dd>
<dt> ignore-space-change </dt>
<dd>
<p>Ignore changes in amount of whitespace.  This ignores whitespace
at line end, and considers all other sequences of one or
more whitespace characters to be equivalent.</p>
</dd>
<dt> ignore-all-space </dt>
<dd>
<p>Ignore whitespace when comparing lines. This ignores differences
even if one line has whitespace where the other line has none.</p>
</dd>
<dt> allow-indentation-change </dt>
<dd>
<p>Initially ignore any whitespace in the move detection, then
group the moved code blocks only into a block if the change in
whitespace is the same per line. This is incompatible with the
other modes.</p>
</dd>
</dl>



</dd>
<dt> --no-color-moved-ws </dt>
<dd>
<p>Do not ignore whitespace when performing move detection. This can be
used to override configuration settings. It is the same as
<code>--color-moved-ws=no</code>.</p>
</dd>
<dt> --word-diff[=&lt;mode&gt;] </dt>
<dd>
<p>Show a word diff, using the &lt;mode&gt; to delimit changed words.
By default, words are delimited by whitespace; see
<code>--word-diff-regex</code> below.  The &lt;mode&gt; defaults to <em>plain</em>, and
must be one of:</p>



<dl>
<dt> color </dt>
<dd>
<p>Highlight changed words using only colors.  Implies <code>--color</code>.</p>
</dd>
<dt> plain </dt>
<dd>
<p>Show words as <code>[-removed-]</code> and <code>{+added+}</code>.  Makes no
attempts to escape the delimiters if they appear in the input,
so the output may be ambiguous.</p>
</dd>
<dt> porcelain </dt>
<dd>
<p>Use a special line-based format intended for script
consumption.  Added/removed/unchanged runs are printed in the
usual unified diff format, starting with a <code>+</code>/<code>-</code>/` `
character at the beginning of the line and extending to the
end of the line.  Newlines in the input are represented by a
tilde <code>~</code> on a line of its own.</p>
</dd>
<dt> none </dt>
<dd>
<p>Disable word diff again.</p>
</dd>
</dl>




<p>Note that despite the name of the first mode, color is used to
highlight the changed parts in all modes if enabled.</p>

</dd>
<dt> --word-diff-regex=&lt;regex&gt; </dt>
<dd>
<p>Use &lt;regex&gt; to decide what a word is, instead of considering
runs of non-whitespace to be a word.  Also implies
<code>--word-diff</code> unless it was already enabled.</p>

<p>Every non-overlapping match of the
&lt;regex&gt; is considered a word.  Anything between these matches is
considered whitespace and ignored(!) for the purposes of finding
differences.  You may want to append <code>|[^[:space:]]</code> to your regular
expression to make sure that it matches all non-whitespace characters.
A match that contains a newline is silently truncated(!) at the
newline.</p>


<p>For example, <code>--word-diff-regex=.</code> will treat each character as a word
and, correspondingly, show differences character by character.</p>


<p>The regex can also be set via a diff driver or configuration option, see
<a href="/docs/gitattributes">gitattributes[5]</a> or <a href="/docs/git-config">git-config[1]</a>.  Giving it explicitly
overrides any diff driver or configuration setting.  Diff drivers
override configuration settings.</p>

</dd>
<dt> --color-words[=&lt;regex&gt;] </dt>
<dd>
<p>Equivalent to <code>--word-diff=color</code> plus (if a regex was
specified) <code>--word-diff-regex=&lt;regex&gt;</code>.</p>
</dd>
<dt> --no-renames </dt>
<dd>
<p>Turn off rename detection, even when the configuration
file gives the default to do so.</p>
</dd>
<dt> --[no-]rename-empty </dt>
<dd>
<p>Whether to use empty blobs as rename source.</p>
</dd>
<dt> --check </dt>
<dd>
<p>Warn if changes introduce conflict markers or whitespace errors.
What are considered whitespace errors is controlled by <code>core.whitespace</code>
configuration.  By default, trailing whitespaces (including
lines that consist solely of whitespaces) and a space character
that is immediately followed by a tab character inside the
initial indent of the line are considered whitespace errors.
Exits with non-zero status if problems are found. Not compatible
with --exit-code.</p>
</dd>
<dt> --ws-error-highlight=&lt;kind&gt; </dt>
<dd>
<p>Highlight whitespace errors in the <code>context</code>, <code>old</code> or <code>new</code>
lines of the diff.  Multiple values are separated by comma,
<code>none</code> resets previous values, <code>default</code> reset the list to
<code>new</code> and <code>all</code> is a shorthand for <code>old,new,context</code>.  When
this option is not given, and the configuration variable
<code>diff.wsErrorHighlight</code> is not set, only whitespace errors in
<code>new</code> lines are highlighted. The whitespace errors are colored
with <code>color.diff.whitespace</code>.</p>
</dd>
<dt> --full-index </dt>
<dd>
<p>Instead of the first handful of characters, show the full
pre- and post-image blob object names on the "index"
line when generating patch format output.</p>
</dd>
<dt> --binary </dt>
<dd>
<p>In addition to <code>--full-index</code>, output a binary diff that
can be applied with <code>git-apply</code>.
Implies <code>--patch</code>.</p>
</dd>
<dt> --abbrev[=&lt;n&gt;] </dt>
<dd>
<p>Instead of showing the full 40-byte hexadecimal object
name in diff-raw format output and diff-tree header
lines, show the shortest prefix that is at least <em>&lt;n&gt;</em>
hexdigits long that uniquely refers the object.
In diff-patch output format, <code>--full-index</code> takes higher
precedence, i.e. if <code>--full-index</code> is specified, full blob
names will be shown regardless of <code>--abbrev</code>.
Non default number of digits can be specified with <code>--abbrev=&lt;n&gt;</code>.</p>
</dd>
<dt> -B[&lt;n&gt;][/&lt;m&gt;] </dt>
<dt> --break-rewrites[=[&lt;n&gt;][/&lt;m&gt;]] </dt>
<dd>
<p>Break complete rewrite changes into pairs of delete and
create. This serves two purposes:</p>

<p>It affects the way a change that amounts to a total rewrite of a file
not as a series of deletion and insertion mixed together with a very
few lines that happen to match textually as the context, but as a
single deletion of everything old followed by a single insertion of
everything new, and the number <code>m</code> controls this aspect of the -B
option (defaults to 60%). <code>-B/70%</code> specifies that less than 30% of the
original should remain in the result for Git to consider it a total
rewrite (i.e. otherwise the resulting patch will be a series of
deletion and insertion mixed together with context lines).</p>


<p>When used with -M, a totally-rewritten file is also considered as the
source of a rename (usually -M only considers a file that disappeared
as the source of a rename), and the number <code>n</code> controls this aspect of
the -B option (defaults to 50%). <code>-B20%</code> specifies that a change with
addition and deletion compared to 20% or more of the file’s size are
eligible for being picked up as a possible source of a rename to
another file.</p>

</dd>
<dt> -M[&lt;n&gt;] </dt>
<dt> --find-renames[=&lt;n&gt;] </dt>
<dd>
<p>If generating diffs, detect and report renames for each commit.
For following files across renames while traversing history, see
<code>--follow</code>.
If <code>n</code> is specified, it is a threshold on the similarity
index (i.e. amount of addition/deletions compared to the
file’s size). For example, <code>-M90%</code> means Git should consider a
delete/add pair to be a rename if more than 90% of the file
hasn’t changed.  Without a <code>%</code> sign, the number is to be read as
a fraction, with a decimal point before it.  I.e., <code>-M5</code> becomes
0.5, and is thus the same as <code>-M50%</code>.  Similarly, <code>-M05</code> is
the same as <code>-M5%</code>.  To limit detection to exact renames, use
<code>-M100%</code>.  The default similarity index is 50%.</p>
</dd>
<dt> -C[&lt;n&gt;] </dt>
<dt> --find-copies[=&lt;n&gt;] </dt>
<dd>
<p>Detect copies as well as renames.  See also <code>--find-copies-harder</code>.
If <code>n</code> is specified, it has the same meaning as for <code>-M&lt;n&gt;</code>.</p>
</dd>
<dt> --find-copies-harder </dt>
<dd>
<p>For performance reasons, by default, <code>-C</code> option finds copies only
if the original file of the copy was modified in the same
changeset.  This flag makes the command
inspect unmodified files as candidates for the source of
copy.  This is a very expensive operation for large
projects, so use it with caution.  Giving more than one
<code>-C</code> option has the same effect.</p>
</dd>
<dt> -D </dt>
<dt> --irreversible-delete </dt>
<dd>
<p>Omit the preimage for deletes, i.e. print only the header but not
the diff between the preimage and <code>/dev/null</code>. The resulting patch
is not meant to be applied with <code>patch</code> or <code>git apply</code>; this is
solely for people who want to just concentrate on reviewing the
text after the change. In addition, the output obviously lacks
enough information to apply such a patch in reverse, even manually,
hence the name of the option.</p>

<p>When used together with <code>-B</code>, omit also the preimage in the deletion part
of a delete/create pair.</p>

</dd>
<dt> -l&lt;num&gt; </dt>
<dd>
<p>The <code>-M</code> and <code>-C</code> options involve some preliminary steps that
can detect subsets of renames/copies cheaply, followed by an
exhaustive fallback portion that compares all remaining
unpaired destinations to all relevant sources.  (For renames,
only remaining unpaired sources are relevant; for copies, all
original sources are relevant.)  For N sources and
destinations, this exhaustive check is O(N^2).  This option
prevents the exhaustive portion of rename/copy detection from
running if the number of source/destination files involved
exceeds the specified number.  Defaults to diff.renameLimit.
Note that a value of 0 is treated as unlimited.</p>
</dd>
<dt> --diff-filter=[(A|C|D|M|R|T|U|X|B)…<U+200B>[*]] </dt>
<dd>
<p>Select only files that are Added (<code>A</code>), Copied (<code>C</code>),
Deleted (<code>D</code>), Modified (<code>M</code>), Renamed (<code>R</code>), have their
type (i.e. regular file, symlink, submodule, …<U+200B>) changed (<code>T</code>),
are Unmerged (<code>U</code>), are
Unknown (<code>X</code>), or have had their pairing Broken (<code>B</code>).
Any combination of the filter characters (including none) can be used.
When <code>*</code> (All-or-none) is added to the combination, all
paths are selected if there is any file that matches
other criteria in the comparison; if there is no file
that matches other criteria, nothing is selected.</p>

<p>Also, these upper-case letters can be downcased to exclude.  E.g.
<code>--diff-filter=ad</code> excludes added and deleted paths.</p>


<p>Note that not all diffs can feature all types. For instance, diffs
from the index to the working tree can never have Added entries
(because the set of paths included in the diff is limited by what is in
the index).  Similarly, copied and renamed entries cannot appear if
detection for those types is disabled.</p>

</dd>
<dt> -S&lt;string&gt; </dt>
<dd>
<p>Look for differences that change the number of occurrences of
the specified string (i.e. addition/deletion) in a file.
Intended for the scripter’s use.</p>

<p>It is useful when you’re looking for an exact block of code (like a
struct), and want to know the history of that block since it first
came into being: use the feature iteratively to feed the interesting
block in the preimage back into <code>-S</code>, and keep going until you get the
very first version of the block.</p>


<p>Binary files are searched as well.</p>

</dd>
<dt> -G&lt;regex&gt; </dt>
<dd>
<p>Look for differences whose patch text contains added/removed
lines that match &lt;regex&gt;.</p>

<p>To illustrate the difference between <code>-S&lt;regex&gt; --pickaxe-regex</code> and
<code>-G&lt;regex&gt;</code>, consider a commit with the following diff in the same
file:</p>



<pre>+    return frotz(nitfol, two-&gt;ptr, 1, 0);
...
-    hit = frotz(nitfol, mf2.ptr, 1, 0);</pre>



<p>While <code>git log -G"frotz\(nitfol"</code> will show this commit, <code>git log
-S"frotz\(nitfol" --pickaxe-regex</code> will not (because the number of
occurrences of that string did not change).</p>


<p>Unless <code>--text</code> is supplied patches of binary files without a textconv
filter will be ignored.</p>


<p>See the <em>pickaxe</em> entry in <a href="/docs/gitdiffcore">gitdiffcore[7]</a> for more
information.</p>

</dd>
<dt> --find-object=&lt;object-id&gt; </dt>
<dd>
<p>Look for differences that change the number of occurrences of
the specified object. Similar to <code>-S</code>, just the argument is different
in that it doesn’t search for a specific string but for a specific
object id.</p>

<p>The object can be a blob or a submodule commit. It implies the <code>-t</code> option in
<code>git-log</code> to also find trees.</p>

</dd>
<dt> --pickaxe-all </dt>
<dd>
<p>When <code>-S</code> or <code>-G</code> finds a change, show all the changes in that
changeset, not just the files that contain the change
in &lt;string&gt;.</p>
</dd>
<dt> --pickaxe-regex </dt>
<dd>
<p>Treat the &lt;string&gt; given to <code>-S</code> as an extended POSIX regular
expression to match.</p>
</dd>
<dt> -O&lt;orderfile&gt; </dt>
<dd>
<p>Control the order in which files appear in the output.
This overrides the <code>diff.orderFile</code> configuration variable
(see <a href="/docs/git-config">git-config[1]</a>).  To cancel <code>diff.orderFile</code>,
use <code>-O/dev/null</code>.</p>

<p>The output order is determined by the order of glob patterns in
&lt;orderfile&gt;.
All files with pathnames that match the first pattern are output
first, all files with pathnames that match the second pattern (but not
the first) are output next, and so on.
All files with pathnames that do not match any pattern are output
last, as if there was an implicit match-all pattern at the end of the
file.
If multiple pathnames have the same rank (they match the same pattern
but no earlier patterns), their output order relative to each other is
the normal order.</p>


<p>&lt;orderfile&gt; is parsed as follows:</p>




<ul>
<li>
<p>Blank lines are ignored, so they can be used as separators for
readability.</p>
</li>
<li>
<p>Lines starting with a hash ("<code>#</code>") are ignored, so they can be used
for comments.  Add a backslash ("<code>\</code>") to the beginning of the
pattern if it starts with a hash.</p>
</li>
<li>
<p>Each other line contains a single pattern.</p>
</li>
</ul>




<p>Patterns have the same syntax and semantics as patterns used for
fnmatch(3) without the FNM_PATHNAME flag, except a pathname also
matches a pattern if removing any number of the final pathname
components matches the pattern.  For example, the pattern "<code>foo*bar</code>"
matches "<code>fooasdfbar</code>" and "<code>foo/bar/baz/asdf</code>" but not "<code>foobarx</code>".</p>

</dd>
<dt> --skip-to=&lt;file&gt; </dt>
<dt> --rotate-to=&lt;file&gt; </dt>
<dd>
<p>Discard the files before the named &lt;file&gt; from the output
(i.e. <em>skip to</em>), or move them to the end of the output
(i.e. <em>rotate to</em>).  These were invented primarily for use
of the <code>git difftool</code> command, and may not be very useful
otherwise.</p>
</dd>
<dt> -R </dt>
<dd>
<p>Swap two inputs; that is, show differences from index or
on-disk file to tree contents.</p>
</dd>
<dt> --relative[=&lt;path&gt;] </dt>
<dt> --no-relative </dt>
<dd>
<p>When run from a subdirectory of the project, it can be
told to exclude changes outside the directory and show
pathnames relative to it with this option.  When you are
not in a subdirectory (e.g. in a bare repository), you
can name which subdirectory to make the output relative
to by giving a &lt;path&gt; as an argument.
<code>--no-relative</code> can be used to countermand both <code>diff.relative</code> config
option and previous <code>--relative</code>.</p>
</dd>
<dt> -a </dt>
<dt> --text </dt>
<dd>
<p>Treat all files as text.</p>
</dd>
<dt> --ignore-cr-at-eol </dt>
<dd>
<p>Ignore carriage-return at the end of line when doing a comparison.</p>
</dd>
<dt> --ignore-space-at-eol </dt>
<dd>
<p>Ignore changes in whitespace at EOL.</p>
</dd>
<dt> -b </dt>
<dt> --ignore-space-change </dt>
<dd>
<p>Ignore changes in amount of whitespace.  This ignores whitespace
at line end, and considers all other sequences of one or
more whitespace characters to be equivalent.</p>
</dd>
<dt> -w </dt>
<dt> --ignore-all-space </dt>
<dd>
<p>Ignore whitespace when comparing lines.  This ignores
differences even if one line has whitespace where the other
line has none.</p>
</dd>
<dt> --ignore-blank-lines </dt>
<dd>
<p>Ignore changes whose lines are all blank.</p>
</dd>
<dt> -I&lt;regex&gt; </dt>
<dt> --ignore-matching-lines=&lt;regex&gt; </dt>
<dd>
<p>Ignore changes whose all lines match &lt;regex&gt;.  This option may
be specified more than once.</p>
</dd>
<dt> --inter-hunk-context=&lt;lines&gt; </dt>
<dd>
<p>Show the context between diff hunks, up to the specified number
of lines, thereby fusing hunks that are close to each other.
Defaults to <code>diff.interHunkContext</code> or 0 if the config option
is unset.</p>
</dd>
<dt> -W </dt>
<dt> --function-context </dt>
<dd>
<p>Show whole function as context lines for each change.
The function names are determined in the same way as
<code>git diff</code> works out patch hunk headers (see <em>Defining a
custom hunk-header</em> in <a href="/docs/gitattributes">gitattributes[5]</a>).</p>
</dd>
<dt> --ext-diff </dt>
<dd>
<p>Allow an external diff helper to be executed. If you set an
external diff driver with <a href="/docs/gitattributes">gitattributes[5]</a>, you need
to use this option with <a href="/docs/git-log">git-log[1]</a> and friends.</p>
</dd>
<dt> --no-ext-diff </dt>
<dd>
<p>Disallow external diff drivers.</p>
</dd>
<dt> --textconv </dt>
<dt> --no-textconv </dt>
<dd>
<p>Allow (or disallow) external text conversion filters to be run
when comparing binary files. See <a href="/docs/gitattributes">gitattributes[5]</a> for
details. Because textconv filters are typically a one-way
conversion, the resulting diff is suitable for human
consumption, but cannot be applied. For this reason, textconv
filters are enabled by default only for <a href="/docs/git-diff">git-diff[1]</a> and
<a href="/docs/git-log">git-log[1]</a>, but not for <a href="/docs/git-format-patch">git-format-patch[1]</a> or
diff plumbing commands.</p>
</dd>
<dt> --ignore-submodules[=&lt;when&gt;] </dt>
<dd>
<p>Ignore changes to submodules in the diff generation. &lt;when&gt; can be
either "none", "untracked", "dirty" or "all", which is the default.
Using "none" will consider the submodule modified when it either contains
untracked or modified files or its HEAD differs from the commit recorded
in the superproject and can be used to override any settings of the
<em>ignore</em> option in <a href="/docs/git-config">git-config[1]</a> or <a href="/docs/gitmodules">gitmodules[5]</a>. When
"untracked" is used submodules are not considered dirty when they only
contain untracked content (but they are still scanned for modified
content). Using "dirty" ignores all changes to the work tree of submodules,
only changes to the commits stored in the superproject are shown (this was
the behavior until 1.7.0). Using "all" hides all changes to submodules.</p>
</dd>
<dt> --src-prefix=&lt;prefix&gt; </dt>
<dd>
<p>Show the given source prefix instead of "a/".</p>
</dd>
<dt> --dst-prefix=&lt;prefix&gt; </dt>
<dd>
<p>Show the given destination prefix instead of "b/".</p>
</dd>
<dt> --no-prefix </dt>
<dd>
<p>Do not show any source or destination prefix.</p>
</dd>
<dt> --line-prefix=&lt;prefix&gt; </dt>
<dd>
<p>Prepend an additional prefix to every line of output.</p>
</dd>
<dt> --ita-invisible-in-index </dt>
<dd>
<p>By default entries added by "git add -N" appear as an existing
empty file in "git diff" and a new file in "git diff --cached".
This option makes the entry appear as a new file in "git diff"
and non-existent in "git diff --cached". This option could be
reverted with <code>--ita-visible-in-index</code>. Both options are
experimental and could be removed in future.</p>
</dd>
</dl>


<p>For more detailed explanation on these common options, see also
<a href="/docs/gitdiffcore">gitdiffcore[7]</a>.</p>




<h2>Generating patch text with -p</h2>


<p>Running
<a href="/docs/git-diff">git-diff[1]</a>,
<a href="/docs/git-log">git-log[1]</a>,
<a href="/docs/git-show">git-show[1]</a>,
<a href="/docs/git-diff-index">git-diff-index[1]</a>,
<a href="/docs/git-diff-tree">git-diff-tree[1]</a>, or
<a href="/docs/git-diff-files">git-diff-files[1]</a>
with the <code>-p</code> option produces patch text.
You can customize the creation of patch text via the
<code>GIT_EXTERNAL_DIFF</code> and the <code>GIT_DIFF_OPTS</code> environment variables
(see <a href="/docs/git">git[1]</a>), and the <code>diff</code> attribute (see <a href="/docs/gitattributes">gitattributes[5]</a>).</p>


<p>What the -p option produces is slightly different from the traditional
diff format:</p>


<ol>
<li>
<p>It is preceded with a "git diff" header that looks like this:</p>


<pre>diff --git a/file1 b/file2</pre>



<p>The <code>a/</code> and <code>b/</code> filenames are the same unless rename/copy is
involved.  Especially, even for a creation or a deletion,
<code>/dev/null</code> is <em>not</em> used in place of the <code>a/</code> or <code>b/</code> filenames.</p>


<p>When rename/copy is involved, <code>file1</code> and <code>file2</code> show the
name of the source file of the rename/copy and the name of
the file that rename/copy produces, respectively.</p>

</li>
<li>
<p>It is followed by one or more extended header lines:</p>


<pre>old mode &lt;mode&gt;
new mode &lt;mode&gt;
deleted file mode &lt;mode&gt;
new file mode &lt;mode&gt;
copy from &lt;path&gt;
copy to &lt;path&gt;
rename from &lt;path&gt;
rename to &lt;path&gt;
similarity index &lt;number&gt;
dissimilarity index &lt;number&gt;
index &lt;hash&gt;..&lt;hash&gt; &lt;mode&gt;</pre>



<p>File modes are printed as 6-digit octal numbers including the file type
and file permission bits.</p>


<p>Path names in extended headers do not include the <code>a/</code> and <code>b/</code> prefixes.</p>


<p>The similarity index is the percentage of unchanged lines, and
the dissimilarity index is the percentage of changed lines.  It
is a rounded down integer, followed by a percent sign.  The
similarity index value of 100% is thus reserved for two equal
files, while 100% dissimilarity means that no line from the old
file made it into the new one.</p>


<p>The index line includes the blob object names before and after the change.
The &lt;mode&gt; is included if the file mode does not change; otherwise,
separate lines indicate the old and the new mode.</p>

</li>
<li>
<p>Pathnames with "unusual" characters are quoted as explained for
the configuration variable <code>core.quotePath</code> (see
<a href="/docs/git-config">git-config[1]</a>).</p>
</li>
<li>
<p>All the <code>file1</code> files in the output refer to files before the
commit, and all the <code>file2</code> files refer to files after the commit.
It is incorrect to apply each change to each file sequentially.  For
example, this patch will swap a and b:</p>


<pre>diff --git a/a b/b
rename from a
rename to b
diff --git a/b b/a
rename from b
rename to a</pre>


</li>
<li>
<p>Hunk headers mention the name of the function to which the hunk
applies.  See "Defining a custom hunk-header" in
<a href="/docs/gitattributes">gitattributes[5]</a> for details of how to tailor to this to
specific languages.</p>
</li>
</ol>




<h2>Combined diff format</h2>


<p>Any diff-generating command can take the <code>-c</code> or <code>--cc</code> option to
produce a <em>combined diff</em> when showing a merge. This is the default
format when showing merges with <a href="/docs/git-diff">git-diff[1]</a> or
<a href="/docs/git-show">git-show[1]</a>. Note also that you can give suitable
<code>--diff-merges</code> option to any of these commands to force generation of
diffs in specific format.</p>


<p>A "combined diff" format looks like this:</p>



<pre>diff --combined describe.c
index fabadb8,cc95eb0..4866510
--- a/describe.c
+++ b/describe.c
@@@ -98,20 -98,12 +98,20 @@@
	return (a_date &gt; b_date) ? -1 : (a_date == b_date) ? 0 : 1;
  }

- static void describe(char *arg)
 -static void describe(struct commit *cmit, int last_one)
++static void describe(char *arg, int last_one)
  {
 +	unsigned char sha1[20];
 +	struct commit *cmit;
	struct commit_list *list;
	static int initialized = 0;
	struct commit_name *n;

 +	if (get_sha1(arg, sha1) &lt; 0)
 +		usage(describe_usage);
 +	cmit = lookup_commit_reference(sha1);
 +	if (!cmit)
 +		usage(describe_usage);
 +
	if (!initialized) {
		initialized = 1;
		for_each_ref(get_name);</pre>



<ol>
<li>
<p>It is preceded with a "git diff" header, that looks like
this (when the <code>-c</code> option is used):</p>


<pre>diff --combined file</pre>



<p>or like this (when the <code>--cc</code> option is used):</p>



<pre>diff --cc file</pre>


</li>
<li>
<p>It is followed by one or more extended header lines
(this example shows a merge with two parents):</p>


<pre>index &lt;hash&gt;,&lt;hash&gt;..&lt;hash&gt;
mode &lt;mode&gt;,&lt;mode&gt;..&lt;mode&gt;
new file mode &lt;mode&gt;
deleted file mode &lt;mode&gt;,&lt;mode&gt;</pre>



<p>The <code>mode &lt;mode&gt;,&lt;mode&gt;..&lt;mode&gt;</code> line appears only if at least one of
the &lt;mode&gt; is different from the rest. Extended headers with
information about detected contents movement (renames and
copying detection) are designed to work with diff of two
&lt;tree-ish&gt; and are not used by combined diff format.</p>

</li>
<li>
<p>It is followed by two-line from-file/to-file header</p>


<pre>--- a/file
+++ b/file</pre>



<p>Similar to two-line header for traditional <em>unified</em> diff
format, <code>/dev/null</code> is used to signal created or deleted
files.</p>


<p>However, if the --combined-all-paths option is provided, instead of a
two-line from-file/to-file you get a N+1 line from-file/to-file header,
where N is the number of parents in the merge commit</p>



<pre>--- a/file
--- a/file
--- a/file
+++ b/file</pre>



<p>This extended format can be useful if rename or copy detection is
active, to allow you to see the original name of the file in different
parents.</p>

</li>
<li>
<p>Chunk header format is modified to prevent people from
accidentally feeding it to <code>patch -p1</code>. Combined diff format
was created for review of merge commit changes, and was not
meant to be applied. The change is similar to the change in the
extended <em>index</em> header:</p>


<pre>@@@ &lt;from-file-range&gt; &lt;from-file-range&gt; &lt;to-file-range&gt; @@@</pre>



<p>There are (number of parents + 1) <code>@</code> characters in the chunk
header for combined diff format.</p>

</li>
</ol>


<p>Unlike the traditional <em>unified</em> diff format, which shows two
files A and B with a single column that has <code>-</code> (minus<U+2009>—<U+2009>appears in A but removed in B), <code>+</code> (plus<U+2009>—<U+2009>missing in A but
added to B), or <code>" "</code> (space<U+2009>—<U+2009>unchanged) prefix, this format
compares two or more files file1, file2,…<U+200B> with one file X, and
shows how X differs from each of fileN.  One column for each of
fileN is prepended to the output line to note how X’s line is
different from it.</p>


<p>A <code>-</code> character in the column N means that the line appears in
fileN but it does not appear in the result.  A <code>+</code> character
in the column N means that the line appears in the result,
and fileN does not have that line (in other words, the line was
added, from the point of view of that parent).</p>


<p>In the above example output, the function signature was changed
from both files (hence two <code>-</code> removals from both file1 and
file2, plus <code>++</code> to mean one line that was added does not appear
in either file1 or file2).  Also eight other lines are the same
from file1 but do not appear in file2 (hence prefixed with <code>+</code>).</p>


<p>When shown by <code>git diff-tree -c</code>, it compares the parents of a
merge commit with the merge result (i.e. file1..fileN are the
parents).  When shown by <code>git diff-files -c</code>, it compares the
two unresolved merge parents with the working tree file
(i.e. file1 is stage 2 aka "our version", file2 is stage 3 aka
"their version").</p>




<h2>examples</h2>


<dl>
<dt> <code>git show v1.0.0</code> </dt>
<dd>
<p>Shows the tag <code>v1.0.0</code>, along with the object the tags
points at.</p>
</dd>
<dt> <code>git show v1.0.0^{tree}</code> </dt>
<dd>
<p>Shows the tree pointed to by the tag <code>v1.0.0</code>.</p>
</dd>
<dt> <code>git show -s --format=%s v1.0.0^{commit}</code> </dt>
<dd>
<p>Shows the subject of the commit pointed to by the
tag <code>v1.0.0</code>.</p>
</dd>
<dt> <code>git show next~10:Documentation/README</code> </dt>
<dd>
<p>Shows the contents of the file <code>Documentation/README</code> as
they were current in the 10th last commit of the branch
<code>next</code>.</p>
</dd>
<dt> <code>git show master:Makefile master:t/Makefile</code> </dt>
<dd>
<p>Concatenates the contents of said Makefiles in the head
of the branch <code>master</code>.</p>
</dd>
</dl>




<h2>DISCUSSION</h2>


<p>Git is to some extent character encoding agnostic.</p>


<ul>
<li>
<p>The contents of the blob objects are uninterpreted sequences
of bytes.  There is no encoding translation at the core
level.</p>
</li>
<li>
<p>Path names are encoded in UTF-8 normalization form C. This
applies to tree objects, the index file, ref names, as well as
path names in command line arguments, environment variables
and config files (<code>.git/config</code> (see <a href="/docs/git-config">git-config[1]</a>),
<a href="/docs/gitignore">gitignore[5]</a>, <a href="/docs/gitattributes">gitattributes[5]</a> and
<a href="/docs/gitmodules">gitmodules[5]</a>).</p>

<p>Note that Git at the core level treats path names simply as
sequences of non-NUL bytes, there are no path name encoding
conversions (except on Mac and Windows). Therefore, using
non-ASCII path names will mostly work even on platforms and file
systems that use legacy extended ASCII encodings. However,
repositories created on such systems will not work properly on
UTF-8-based systems (e.g. Linux, Mac, Windows) and vice versa.
Additionally, many Git-based tools simply assume path names to
be UTF-8 and will fail to display other encodings correctly.</p>

</li>
<li>
<p>Commit log messages are typically encoded in UTF-8, but other
extended ASCII encodings are also supported. This includes
ISO-8859-x, CP125x and many others, but <em>not</em> UTF-16/32,
EBCDIC and CJK multi-byte encodings (GBK, Shift-JIS, Big5,
EUC-x, CP9xx etc.).</p>
</li>
</ul>


<p>Although we encourage that the commit log messages are encoded
in UTF-8, both the core and Git Porcelain are designed not to
force UTF-8 on projects.  If all participants of a particular
project find it more convenient to use legacy encodings, Git
does not forbid it.  However, there are a few things to keep in
mind.</p>


<ol>
<li>
<p><em>git commit</em> and <em>git commit-tree</em> issues
a warning if the commit log message given to it does not look
like a valid UTF-8 string, unless you explicitly say your
project uses a legacy encoding.  The way to say this is to
have <code>i18n.commitEncoding</code> in <code>.git/config</code> file, like this:</p>


<pre>[i18n]
	commitEncoding = ISO-8859-1</pre>



<p>Commit objects created with the above setting record the value
of <code>i18n.commitEncoding</code> in its <code>encoding</code> header.  This is to
help other people who look at them later.  Lack of this header
implies that the commit log message is encoded in UTF-8.</p>

</li>
<li>
<p><em>git log</em>, <em>git show</em>, <em>git blame</em> and friends look at the
<code>encoding</code> header of a commit object, and try to re-code the
log message into UTF-8 unless otherwise specified.  You can
specify the desired output encoding with
<code>i18n.logOutputEncoding</code> in <code>.git/config</code> file, like this:</p>


<pre>[i18n]
	logOutputEncoding = ISO-8859-1</pre>



<p>If you do not have this configuration variable, the value of
<code>i18n.commitEncoding</code> is used instead.</p>

</li>
</ol>


<p>Note that we deliberately chose not to re-code the commit log
message when a commit is made to force UTF-8 at the commit
object level, because re-coding to UTF-8 is not necessarily a
reversible operation.</p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-log - Show commit logs</span></h2>




<h2><br>synopsis</h2>


<pre><em>git log</em> [&lt;options&gt;] [&lt;revision-range&gt;] [[--] &lt;path&gt;…<U+200B>]</pre>




<h2>description</h2>


<p>Shows the commit logs.</p>


<p>List commits that are reachable by following the <code>parent</code> links from the
given commit(s), but exclude commits that are reachable from the one(s)
given with a <em>^</em> in front of them.  The output is given in reverse
chronological order by default.</p>


<p>You can think of this as a set operation. Commits reachable from any of
the commits given on the command line form a set, and then commits reachable
from any of the ones given with <em>^</em> in front are subtracted from that
set.  The remaining commits are what comes out in the command’s output.
Various other options and paths parameters can be used to further limit the
result.</p>


<p>Thus, the following command:</p>



<pre>$ git log foo bar ^baz</pre>



<p>means "list all the commits which are reachable from <em>foo</em> or <em>bar</em>, but
not from <em>baz</em>".</p>


<p>A special notation "<em>&lt;commit1&gt;</em>..<em>&lt;commit2&gt;</em>" can be used as a
short-hand for "^<em>&lt;commit1&gt;</em> <em>&lt;commit2&gt;</em>". For example, either of
the following may be used interchangeably:</p>



<pre>$ git log origin..HEAD
$ git log HEAD ^origin</pre>



<p>Another special notation is "<em>&lt;commit1&gt;</em>…<U+200B><em>&lt;commit2&gt;</em>" which is useful
for merges.  The resulting set of commits is the symmetric difference
between the two operands.  The following two commands are equivalent:</p>



<pre>$ git log A B --not $(git merge-base --all A B)
$ git log A...B</pre>



<p>The command takes options applicable to the <a href="/docs/git-rev-list">git-rev-list[1]</a>
command to control what is shown and how, and options applicable to
the <a href="/docs/git-diff">git-diff[1]</a> command to control how the changes
each commit introduces are shown.</p>




<h2>options</h2>


<dl>
<dt> --follow </dt>
<dd>
<p>Continue listing the history of a file beyond renames
(works only for a single file).</p>
</dd>
<dt> --no-decorate </dt>
<dt> --decorate[=short|full|auto|no] </dt>
<dd>
<p>Print out the ref names of any commits that are shown. If <em>short</em> is
specified, the ref name prefixes <em>refs/heads/</em>, <em>refs/tags/</em> and
<em>refs/remotes/</em> will not be printed. If <em>full</em> is specified, the
full ref name (including prefix) will be printed. If <em>auto</em> is
specified, then if the output is going to a terminal, the ref names
are shown as if <em>short</em> were given, otherwise no ref names are
shown. The option <code>--decorate</code> is short-hand for <code>--decorate=short</code>.
Default to configuration value of <code>log.decorate</code> if configured,
otherwise, <code>auto</code>.</p>
</dd>
<dt> --decorate-refs=&lt;pattern&gt; </dt>
<dt> --decorate-refs-exclude=&lt;pattern&gt; </dt>
<dd>
<p>If no <code>--decorate-refs</code> is given, pretend as if all refs were
included.  For each candidate, do not use it for decoration if it
matches any patterns given to <code>--decorate-refs-exclude</code> or if it
doesn’t match any of the patterns given to <code>--decorate-refs</code>. The
<code>log.excludeDecoration</code> config option allows excluding refs from
the decorations, but an explicit <code>--decorate-refs</code> pattern will
override a match in <code>log.excludeDecoration</code>.</p>
</dd>
<dt> --source </dt>
<dd>
<p>Print out the ref name given on the command line by which each
commit was reached.</p>
</dd>
<dt> --[no-]mailmap </dt>
<dt> --[no-]use-mailmap </dt>
<dd>
<p>Use mailmap file to map author and committer names and email
addresses to canonical real names and email addresses. See
<a href="/docs/git-shortlog">git-shortlog[1]</a>.</p>
</dd>
<dt> --full-diff </dt>
<dd>
<p>Without this flag, <code>git log -p &lt;path&gt;...</code> shows commits that
touch the specified paths, and diffs about the same specified
paths.  With this, the full diff is shown for commits that touch
the specified paths; this means that "&lt;path&gt;…<U+200B>" limits only
commits, and doesn’t limit diff for those commits.</p>

<p>Note that this affects all diff-based output types, e.g. those
produced by <code>--stat</code>, etc.</p>

</dd>
<dt> --log-size </dt>
<dd>
<p>Include a line “log size &lt;number&gt;” in the output for each commit,
where &lt;number&gt; is the length of that commit’s message in bytes.
Intended to speed up tools that read log messages from <code>git log</code>
output by allowing them to allocate space in advance.</p>
</dd>
<dt> -L&lt;start&gt;,&lt;end&gt;:&lt;file&gt; </dt>
<dt> -L:&lt;funcname&gt;:&lt;file&gt; </dt>
<dd>
<p>Trace the evolution of the line range given by <em>&lt;start&gt;,&lt;end&gt;</em>,
or by the function name regex <em>&lt;funcname&gt;</em>, within the <em>&lt;file&gt;</em>. You may
not give any pathspec limiters.  This is currently limited to
a walk starting from a single revision, i.e., you may only
give zero or one positive revision arguments, and
<em>&lt;start&gt;</em> and <em>&lt;end&gt;</em> (or <em>&lt;funcname&gt;</em>) must exist in the starting revision.
You can specify this option more than once. Implies <code>--patch</code>.
Patch output can be suppressed using <code>--no-patch</code>, but other diff formats
(namely <code>--raw</code>, <code>--numstat</code>, <code>--shortstat</code>, <code>--dirstat</code>, <code>--summary</code>,
<code>--name-only</code>, <code>--name-status</code>, <code>--check</code>) are not currently implemented.</p>

<p><em>&lt;start&gt;</em> and <em>&lt;end&gt;</em> can take one of these forms:</p>


<ul>
<li>
<p>number</p>

<p>If <em>&lt;start&gt;</em> or <em>&lt;end&gt;</em> is a number, it specifies an
absolute line number (lines count from 1).</p>

</li>
<li>
<p><code>/regex/</code></p>

<p>This form will use the first line matching the given
POSIX regex. If <em>&lt;start&gt;</em> is a regex, it will search from the end of
the previous <code>-L</code> range, if any, otherwise from the start of file.
If <em>&lt;start&gt;</em> is <code>^/regex/</code>, it will search from the start of file.
If <em>&lt;end&gt;</em> is a regex, it will search
starting at the line given by <em>&lt;start&gt;</em>.</p>

</li>
<li>
<p>+offset or -offset</p>

<p>This is only valid for <em>&lt;end&gt;</em> and will specify a number
of lines before or after the line given by <em>&lt;start&gt;</em>.</p>

</li>
</ul>


<p>If <code>:&lt;funcname&gt;</code> is given in place of <em>&lt;start&gt;</em> and <em>&lt;end&gt;</em>, it is a
regular expression that denotes the range from the first funcname line
that matches <em>&lt;funcname&gt;</em>, up to the next funcname line. <code>:&lt;funcname&gt;</code>
searches from the end of the previous <code>-L</code> range, if any, otherwise
from the start of file. <code>^:&lt;funcname&gt;</code> searches from the start of
file. The function names are determined in the same way as <code>git diff</code>
works out patch hunk headers (see <em>Defining a custom hunk-header</em>
in <a href="/docs/gitattributes">gitattributes[5]</a>).</p>

</dd>
<dt> &lt;revision-range&gt; </dt>
<dd>
<p>Show only commits in the specified revision range.  When no
&lt;revision-range&gt; is specified, it defaults to <code>HEAD</code> (i.e. the
whole history leading to the current commit).  <code>origin..HEAD</code>
specifies all the commits reachable from the current commit
(i.e. <code>HEAD</code>), but not from <code>origin</code>. For a complete list of
ways to spell &lt;revision-range&gt;, see the <em>Specifying Ranges</em>
section of <a href="/docs/gitrevisions">gitrevisions[7]</a>.</p>
</dd>
<dt> [--] &lt;path&gt;…<U+200B> </dt>
<dd>
<p>Show only commits that are enough to explain how the files
that match the specified paths came to be.  See <em>History
Simplification</em> below for details and other simplification
modes.</p>

<p>Paths may need to be prefixed with <code>--</code> to separate them from
options or the revision range, when confusion arises.</p>

</dd>
</dl>


<h3>
Commit Limiting</h3>

<p>Besides specifying a range of commits that should be listed using the
special notations explained in the description, additional commit
limiting may be applied.</p>


<p>Using more options generally further limits the output (e.g.
<code>--since=&lt;date1&gt;</code> limits to commits newer than <code>&lt;date1&gt;</code>, and using it
with <code>--grep=&lt;pattern&gt;</code> further limits to commits whose log message
has a line that matches <code>&lt;pattern&gt;</code>), unless otherwise noted.</p>


<p>Note that these are applied before commit
ordering and formatting options, such as <code>--reverse</code>.</p>


<dl>
<dt> -&lt;number&gt; </dt>
<dt> -n &lt;number&gt; </dt>
<dt> --max-count=&lt;number&gt; </dt>
<dd>
<p>Limit the number of commits to output.</p>
</dd>
<dt> --skip=&lt;number&gt; </dt>
<dd>
<p>Skip <em>number</em> commits before starting to show the commit output.</p>
</dd>
<dt> --since=&lt;date&gt; </dt>
<dt> --after=&lt;date&gt; </dt>
<dd>
<p>Show commits more recent than a specific date.</p>
</dd>
<dt> --until=&lt;date&gt; </dt>
<dt> --before=&lt;date&gt; </dt>
<dd>
<p>Show commits older than a specific date.</p>
</dd>
<dt> --author=&lt;pattern&gt; </dt>
<dt> --committer=&lt;pattern&gt; </dt>
<dd>
<p>Limit the commits output to ones with author/committer
header lines that match the specified pattern (regular
expression).  With more than one <code>--author=&lt;pattern&gt;</code>,
commits whose author matches any of the given patterns are
chosen (similarly for multiple <code>--committer=&lt;pattern&gt;</code>).</p>
</dd>
<dt> --grep-reflog=&lt;pattern&gt; </dt>
<dd>
<p>Limit the commits output to ones with reflog entries that
match the specified pattern (regular expression). With
more than one <code>--grep-reflog</code>, commits whose reflog message
matches any of the given patterns are chosen.  It is an
error to use this option unless <code>--walk-reflogs</code> is in use.</p>
</dd>
<dt> --grep=&lt;pattern&gt; </dt>
<dd>
<p>Limit the commits output to ones with log message that
matches the specified pattern (regular expression).  With
more than one <code>--grep=&lt;pattern&gt;</code>, commits whose message
matches any of the given patterns are chosen (but see
<code>--all-match</code>).</p>

<p>When <code>--notes</code> is in effect, the message from the notes is
matched as if it were part of the log message.</p>

</dd>
<dt> --all-match </dt>
<dd>
<p>Limit the commits output to ones that match all given <code>--grep</code>,
instead of ones that match at least one.</p>
</dd>
<dt> --invert-grep </dt>
<dd>
<p>Limit the commits output to ones with log message that do not
match the pattern specified with <code>--grep=&lt;pattern&gt;</code>.</p>
</dd>
<dt> -i </dt>
<dt> --regexp-ignore-case </dt>
<dd>
<p>Match the regular expression limiting patterns without regard to letter
case.</p>
</dd>
<dt> --basic-regexp </dt>
<dd>
<p>Consider the limiting patterns to be basic regular expressions;
this is the default.</p>
</dd>
<dt> -E </dt>
<dt> --extended-regexp </dt>
<dd>
<p>Consider the limiting patterns to be extended regular expressions
instead of the default basic regular expressions.</p>
</dd>
<dt> -F </dt>
<dt> --fixed-strings </dt>
<dd>
<p>Consider the limiting patterns to be fixed strings (don’t interpret
pattern as a regular expression).</p>
</dd>
<dt> -P </dt>
<dt> --perl-regexp </dt>
<dd>
<p>Consider the limiting patterns to be Perl-compatible regular
expressions.</p>

<p>Support for these types of regular expressions is an optional
compile-time dependency. If Git wasn’t compiled with support for them
providing this option will cause it to die.</p>

</dd>
<dt> --remove-empty </dt>
<dd>
<p>Stop when a given path disappears from the tree.</p>
</dd>
<dt> --merges </dt>
<dd>
<p>Print only merge commits. This is exactly the same as <code>--min-parents=2</code>.</p>
</dd>
<dt> --no-merges </dt>
<dd>
<p>Do not print commits with more than one parent. This is
exactly the same as <code>--max-parents=1</code>.</p>
</dd>
<dt> --min-parents=&lt;number&gt; </dt>
<dt> --max-parents=&lt;number&gt; </dt>
<dt> --no-min-parents </dt>
<dt> --no-max-parents </dt>
<dd>
<p>Show only commits which have at least (or at most) that many parent
commits. In particular, <code>--max-parents=1</code> is the same as <code>--no-merges</code>,
<code>--min-parents=2</code> is the same as <code>--merges</code>.  <code>--max-parents=0</code>
gives all root commits and <code>--min-parents=3</code> all octopus merges.</p>

<p><code>--no-min-parents</code> and <code>--no-max-parents</code> reset these limits (to no limit)
again.  Equivalent forms are <code>--min-parents=0</code> (any commit has 0 or more
parents) and <code>--max-parents=-1</code> (negative numbers denote no upper limit).</p>

</dd>
<dt> --first-parent </dt>
<dd>
<p>Follow only the first parent commit upon seeing a merge
commit.  This option can give a better overview when
viewing the evolution of a particular topic branch,
because merges into a topic branch tend to be only about
adjusting to updated upstream from time to time, and
this option allows you to ignore the individual commits
brought in to your history by such a merge.</p>

<p>This option also changes default diff format for merge commits
to <code>first-parent</code>, see <code>--diff-merges=first-parent</code> for details.</p>

</dd>
<dt> --not </dt>
<dd>
<p>Reverses the meaning of the <em>^</em> prefix (or lack thereof)
for all following revision specifiers, up to the next <code>--not</code>.</p>
</dd>
<dt> --all </dt>
<dd>
<p>Pretend as if all the refs in <code>refs/</code>, along with <code>HEAD</code>, are
listed on the command line as <em>&lt;commit&gt;</em>.</p>
</dd>
<dt> --branches[=&lt;pattern&gt;] </dt>
<dd>
<p>Pretend as if all the refs in <code>refs/heads</code> are listed
on the command line as <em>&lt;commit&gt;</em>. If <em>&lt;pattern&gt;</em> is given, limit
branches to ones matching given shell glob. If pattern lacks <em>?</em>,
<em>*</em>, or <em>[</em>, <em>/*</em> at the end is implied.</p>
</dd>
<dt> --tags[=&lt;pattern&gt;] </dt>
<dd>
<p>Pretend as if all the refs in <code>refs/tags</code> are listed
on the command line as <em>&lt;commit&gt;</em>. If <em>&lt;pattern&gt;</em> is given, limit
tags to ones matching given shell glob. If pattern lacks <em>?</em>, <em>*</em>,
or <em>[</em>, <em>/*</em> at the end is implied.</p>
</dd>
<dt> --remotes[=&lt;pattern&gt;] </dt>
<dd>
<p>Pretend as if all the refs in <code>refs/remotes</code> are listed
on the command line as <em>&lt;commit&gt;</em>. If <em>&lt;pattern&gt;</em> is given, limit
remote-tracking branches to ones matching given shell glob.
If pattern lacks <em>?</em>, <em>*</em>, or <em>[</em>, <em>/*</em> at the end is implied.</p>
</dd>
<dt> --glob=&lt;glob-pattern&gt; </dt>
<dd>
<p>Pretend as if all the refs matching shell glob <em>&lt;glob-pattern&gt;</em>
are listed on the command line as <em>&lt;commit&gt;</em>. Leading <em>refs/</em>,
is automatically prepended if missing. If pattern lacks <em>?</em>, <em>*</em>,
or <em>[</em>, <em>/*</em> at the end is implied.</p>
</dd>
<dt> --exclude=&lt;glob-pattern&gt; </dt>
<dd>
<p>Do not include refs matching <em>&lt;glob-pattern&gt;</em> that the next <code>--all</code>,
<code>--branches</code>, <code>--tags</code>, <code>--remotes</code>, or <code>--glob</code> would otherwise
consider. Repetitions of this option accumulate exclusion patterns
up to the next <code>--all</code>, <code>--branches</code>, <code>--tags</code>, <code>--remotes</code>, or
<code>--glob</code> option (other options or arguments do not clear
accumulated patterns).</p>

<p>The patterns given should not begin with <code>refs/heads</code>, <code>refs/tags</code>, or
<code>refs/remotes</code> when applied to <code>--branches</code>, <code>--tags</code>, or <code>--remotes</code>,
respectively, and they must begin with <code>refs/</code> when applied to <code>--glob</code>
or <code>--all</code>. If a trailing <em>/*</em> is intended, it must be given
explicitly.</p>

</dd>
<dt> --reflog </dt>
<dd>
<p>Pretend as if all objects mentioned by reflogs are listed on the
command line as <code>&lt;commit&gt;</code>.</p>
</dd>
<dt> --alternate-refs </dt>
<dd>
<p>Pretend as if all objects mentioned as ref tips of alternate
repositories were listed on the command line. An alternate
repository is any repository whose object directory is specified
in <code>objects/info/alternates</code>.  The set of included objects may
be modified by <code>core.alternateRefsCommand</code>, etc. See
<a href="/docs/git-config">git-config[1]</a>.</p>
</dd>
<dt> --single-worktree </dt>
<dd>
<p>By default, all working trees will be examined by the
following options when there are more than one (see
<a href="/docs/git-worktree">git-worktree[1]</a>): <code>--all</code>, <code>--reflog</code> and
<code>--indexed-objects</code>.
This option forces them to examine the current working tree
only.</p>
</dd>
<dt> --ignore-missing </dt>
<dd>
<p>Upon seeing an invalid object name in the input, pretend as if
the bad input was not given.</p>
</dd>
<dt> --bisect </dt>
<dd>
<p>Pretend as if the bad bisection ref <code>refs/bisect/bad</code>
was listed and as if it was followed by <code>--not</code> and the good
bisection refs <code>refs/bisect/good-*</code> on the command
line.</p>
</dd>
<dt> --stdin </dt>
<dd>
<p>In addition to the <em>&lt;commit&gt;</em> listed on the command
line, read them from the standard input. If a <code>--</code> separator is
seen, stop reading commits and start reading paths to limit the
result.</p>
</dd>
<dt> --cherry-mark </dt>
<dd>
<p>Like <code>--cherry-pick</code> (see below) but mark equivalent commits
with <code>=</code> rather than omitting them, and inequivalent ones with <code>+</code>.</p>
</dd>
<dt> --cherry-pick </dt>
<dd>
<p>Omit any commit that introduces the same change as
another commit on the “other side” when the set of
commits are limited with symmetric difference.</p>

<p>For example, if you have two branches, <code>A</code> and <code>B</code>, a usual way
to list all commits on only one side of them is with
<code>--left-right</code> (see the example below in the description of
the <code>--left-right</code> option). However, it shows the commits that were
cherry-picked from the other branch (for example, “3rd on b” may be
cherry-picked from branch A). With this option, such pairs of commits are
excluded from the output.</p>

</dd>
<dt> --left-only </dt>
<dt> --right-only </dt>
<dd>
<p>List only commits on the respective side of a symmetric difference,
i.e. only those which would be marked <code>&lt;</code> resp. <code>&gt;</code> by
<code>--left-right</code>.</p>

<p>For example, <code>--cherry-pick --right-only A...B</code> omits those
commits from <code>B</code> which are in <code>A</code> or are patch-equivalent to a commit in
<code>A</code>. In other words, this lists the <code>+</code> commits from <code>git cherry A B</code>.
More precisely, <code>--cherry-pick --right-only --no-merges</code> gives the exact
list.</p>

</dd>
<dt> --cherry </dt>
<dd>
<p>A synonym for <code>--right-only --cherry-mark --no-merges</code>; useful to
limit the output to the commits on our side and mark those that
have been applied to the other side of a forked history with
<code>git log --cherry upstream...mybranch</code>, similar to
<code>git cherry upstream mybranch</code>.</p>
</dd>
<dt> -g </dt>
<dt> --walk-reflogs </dt>
<dd>
<p>Instead of walking the commit ancestry chain, walk
reflog entries from the most recent one to older ones.
When this option is used you cannot specify commits to
exclude (that is, <em>^commit</em>, <em>commit1..commit2</em>,
and <em>commit1...commit2</em> notations cannot be used).</p>

<p>With <code>--pretty</code> format other than <code>oneline</code> and <code>reference</code> (for obvious reasons),
this causes the output to have two extra lines of information
taken from the reflog.  The reflog designator in the output may be shown
as <code>ref@{Nth}</code> (where <code>Nth</code> is the reverse-chronological index in the
reflog) or as <code>ref@{timestamp}</code> (with the timestamp for that entry),
depending on a few rules:</p>




<ol>
<li>
<p>If the starting point is specified as <code>ref@{Nth}</code>, show the index
format.</p>
</li>
<li>
<p>If the starting point was specified as <code>ref@{now}</code>, show the
timestamp format.</p>
</li>
<li>
<p>If neither was used, but <code>--date</code> was given on the command line, show
the timestamp in the format requested by <code>--date</code>.</p>
</li>
<li>
<p>Otherwise, show the index format.</p>
</li>
</ol>




<p>Under <code>--pretty=oneline</code>, the commit message is
prefixed with this information on the same line.
This option cannot be combined with <code>--reverse</code>.
See also <a href="/docs/git-reflog">git-reflog[1]</a>.</p>


<p>Under <code>--pretty=reference</code>, this information will not be shown at all.</p>

</dd>
<dt> --merge </dt>
<dd>
<p>After a failed merge, show refs that touch files having a
conflict and don’t exist on all heads to merge.</p>
</dd>
<dt> --boundary </dt>
<dd>
<p>Output excluded boundary commits. Boundary commits are
prefixed with <code>-</code>.</p>
</dd>
</dl>



<h3>
History Simplification</h3>

<p>Sometimes you are only interested in parts of the history, for example the
commits modifying a particular &lt;path&gt;. But there are two parts of
<em>History Simplification</em>, one part is selecting the commits and the other
is how to do it, as there are various strategies to simplify the history.</p>


<p>The following options select the commits to be shown:</p>


<dl>
<dt> &lt;paths&gt; </dt>
<dd>
<p>Commits modifying the given &lt;paths&gt; are selected.</p>
</dd>
<dt> --simplify-by-decoration </dt>
<dd>
<p>Commits that are referred by some branch or tag are selected.</p>
</dd>
</dl>


<p>Note that extra commits can be shown to give a meaningful history.</p>


<p>The following options affect the way the simplification is performed:</p>


<dl>
<dt> Default mode </dt>
<dd>
<p>Simplifies the history to the simplest history explaining the
final state of the tree. Simplest because it prunes some side
branches if the end result is the same (i.e. merging branches
with the same content)</p>
</dd>
<dt> --show-pulls </dt>
<dd>
<p>Include all commits from the default mode, but also any merge
commits that are not TREESAME to the first parent but are
TREESAME to a later parent. This mode is helpful for showing
the merge commits that "first introduced" a change to a branch.</p>
</dd>
<dt> --full-history </dt>
<dd>
<p>Same as the default mode, but does not prune some history.</p>
</dd>
<dt> --dense </dt>
<dd>
<p>Only the selected commits are shown, plus some to have a
meaningful history.</p>
</dd>
<dt> --sparse </dt>
<dd>
<p>All commits in the simplified history are shown.</p>
</dd>
<dt> --simplify-merges </dt>
<dd>
<p>Additional option to <code>--full-history</code> to remove some needless
merges from the resulting history, as there are no selected
commits contributing to this merge.</p>
</dd>
<dt> --ancestry-path </dt>
<dd>
<p>When given a range of commits to display (e.g. <em>commit1..commit2</em>
or <em>commit2 ^commit1</em>), only display commits that exist
directly on the ancestry chain between the <em>commit1</em> and
<em>commit2</em>, i.e. commits that are both descendants of <em>commit1</em>,
and ancestors of <em>commit2</em>.</p>
</dd>
</dl>


<p>A more detailed explanation follows.</p>


<p>Suppose you specified <code>foo</code> as the &lt;paths&gt;.  We shall call commits
that modify <code>foo</code> !TREESAME, and the rest TREESAME.  (In a diff
filtered for <code>foo</code>, they look different and equal, respectively.)</p>


<p>In the following, we will always refer to the same example history to
illustrate the differences between simplification settings.  We assume
that you are filtering for a file <code>foo</code> in this commit graph:</p>



<pre>	  .-A---M---N---O---P---Q
	 /     /   /   /   /   /
	I     B   C   D   E   Y
	 \   /   /   /   /   /
	  `-------------'   X</pre>



<p>The horizontal line of history A---Q is taken to be the first parent of
each merge.  The commits are:</p>


<ul>
<li>
<p><code>I</code> is the initial commit, in which <code>foo</code> exists with contents
“asdf”, and a file <code>quux</code> exists with contents “quux”. Initial
commits are compared to an empty tree, so <code>I</code> is !TREESAME.</p>
</li>
<li>
<p>In <code>A</code>, <code>foo</code> contains just “foo”.</p>
</li>
<li>
<p><code>B</code> contains the same change as <code>A</code>.  Its merge <code>M</code> is trivial and
hence TREESAME to all parents.</p>
</li>
<li>
<p><code>C</code> does not change <code>foo</code>, but its merge <code>N</code> changes it to “foobar”,
so it is not TREESAME to any parent.</p>
</li>
<li>
<p><code>D</code> sets <code>foo</code> to “baz”. Its merge <code>O</code> combines the strings from
<code>N</code> and <code>D</code> to “foobarbaz”; i.e., it is not TREESAME to any parent.</p>
</li>
<li>
<p><code>E</code> changes <code>quux</code> to “xyzzy”, and its merge <code>P</code> combines the
strings to “quux xyzzy”. <code>P</code> is TREESAME to <code>O</code>, but not to <code>E</code>.</p>
</li>
<li>
<p><code>X</code> is an independent root commit that added a new file <code>side</code>, and <code>Y</code>
modified it. <code>Y</code> is TREESAME to <code>X</code>. Its merge <code>Q</code> added <code>side</code> to <code>P</code>, and
<code>Q</code> is TREESAME to <code>P</code>, but not to <code>Y</code>.</p>
</li>
</ul>


<p><code>rev-list</code> walks backwards through history, including or excluding
commits based on whether <code>--full-history</code> and/or parent rewriting
(via <code>--parents</code> or <code>--children</code>) are used. The following settings
are available.</p>


<dl>
<dt> Default mode </dt>
<dd>
<p>Commits are included if they are not TREESAME to any parent
(though this can be changed, see <code>--sparse</code> below).  If the
commit was a merge, and it was TREESAME to one parent, follow
only that parent.  (Even if there are several TREESAME
parents, follow only one of them.)  Otherwise, follow all
parents.</p>

<p>This results in:</p>



<pre>	  .-A---N---O
	 /     /   /
	I---------D</pre>



<p>Note how the rule to only follow the TREESAME parent, if one is
available, removed <code>B</code> from consideration entirely.  <code>C</code> was
considered via <code>N</code>, but is TREESAME.  Root commits are compared to an
empty tree, so <code>I</code> is !TREESAME.</p>


<p>Parent/child relations are only visible with <code>--parents</code>, but that does
not affect the commits selected in default mode, so we have shown the
parent lines.</p>

</dd>
<dt> --full-history without parent rewriting </dt>
<dd>
<p>This mode differs from the default in one point: always follow
all parents of a merge, even if it is TREESAME to one of them.
Even if more than one side of the merge has commits that are
included, this does not imply that the merge itself is!  In
the example, we get</p>


<pre>	I  A  B  N  D  O  P  Q</pre>



<p><code>M</code> was excluded because it is TREESAME to both parents.  <code>E</code>,
<code>C</code> and <code>B</code> were all walked, but only <code>B</code> was !TREESAME, so the others
do not appear.</p>


<p>Note that without parent rewriting, it is not really possible to talk
about the parent/child relationships between the commits, so we show
them disconnected.</p>

</dd>
<dt> --full-history with parent rewriting </dt>
<dd>
<p>Ordinary commits are only included if they are !TREESAME
(though this can be changed, see <code>--sparse</code> below).</p>

<p>Merges are always included.  However, their parent list is rewritten:
Along each parent, prune away commits that are not included
themselves.  This results in</p>



<pre>	  .-A---M---N---O---P---Q
	 /     /   /   /   /
	I     B   /   D   /
	 \   /   /   /   /
	  `-------------'</pre>



<p>Compare to <code>--full-history</code> without rewriting above.  Note that <code>E</code>
was pruned away because it is TREESAME, but the parent list of P was
rewritten to contain <code>E</code>'s parent <code>I</code>.  The same happened for <code>C</code> and
<code>N</code>, and <code>X</code>, <code>Y</code> and <code>Q</code>.</p>

</dd>
</dl>


<p>In addition to the above settings, you can change whether TREESAME
affects inclusion:</p>


<dl>
<dt> --dense </dt>
<dd>
<p>Commits that are walked are included if they are not TREESAME
to any parent.</p>
</dd>
<dt> --sparse </dt>
<dd>
<p>All commits that are walked are included.</p>

<p>Note that without <code>--full-history</code>, this still simplifies merges: if
one of the parents is TREESAME, we follow only that one, so the other
sides of the merge are never walked.</p>

</dd>
<dt> --simplify-merges </dt>
<dd>
<p>First, build a history graph in the same way that
<code>--full-history</code> with parent rewriting does (see above).</p>

<p>Then simplify each commit <code>C</code> to its replacement <code>C'</code> in the final
history according to the following rules:</p>




<ul>
<li>
<p>Set <code>C'</code> to <code>C</code>.</p>
</li>
<li>
<p>Replace each parent <code>P</code> of <code>C'</code> with its simplification <code>P'</code>.  In
the process, drop parents that are ancestors of other parents or that are
root commits TREESAME to an empty tree, and remove duplicates, but take care
to never drop all parents that we are TREESAME to.</p>
</li>
<li>
<p>If after this parent rewriting, <code>C'</code> is a root or merge commit (has
zero or &gt;1 parents), a boundary commit, or !TREESAME, it remains.
Otherwise, it is replaced with its only parent.</p>
</li>
</ul>




<p>The effect of this is best shown by way of comparing to
<code>--full-history</code> with parent rewriting.  The example turns into:</p>



<pre>	  .-A---M---N---O
	 /     /       /
	I     B       D
	 \   /       /
	  `---------'</pre>



<p>Note the major differences in <code>N</code>, <code>P</code>, and <code>Q</code> over <code>--full-history</code>:</p>




<ul>
<li>
<p><code>N</code>'s parent list had <code>I</code> removed, because it is an ancestor of the
other parent <code>M</code>.  Still, <code>N</code> remained because it is !TREESAME.</p>
</li>
<li>
<p><code>P</code>'s parent list similarly had <code>I</code> removed.  <code>P</code> was then
removed completely, because it had one parent and is TREESAME.</p>
</li>
<li>
<p><code>Q</code>'s parent list had <code>Y</code> simplified to <code>X</code>. <code>X</code> was then removed, because it
was a TREESAME root. <code>Q</code> was then removed completely, because it had one
parent and is TREESAME.</p>
</li>
</ul>



</dd>
</dl>


<p>There is another simplification mode available:</p>


<dl>
<dt> --ancestry-path </dt>
<dd>
<p>Limit the displayed commits to those directly on the ancestry
chain between the “from” and “to” commits in the given commit
range. I.e. only display commits that are ancestor of the “to”
commit and descendants of the “from” commit.</p>

<p>As an example use case, consider the following commit history:</p>



<pre>	    D---E-------F
	   /     \       \
	  B---C---G---H---I---J
	 /                     \
	A-------K---------------L--M</pre>



<p>A regular <em>D..M</em> computes the set of commits that are ancestors of <code>M</code>,
but excludes the ones that are ancestors of <code>D</code>. This is useful to see
what happened to the history leading to <code>M</code> since <code>D</code>, in the sense
that “what does <code>M</code> have that did not exist in <code>D</code>”. The result in this
example would be all the commits, except <code>A</code> and <code>B</code> (and <code>D</code> itself,
of course).</p>


<p>When we want to find out what commits in <code>M</code> are contaminated with the
bug introduced by <code>D</code> and need fixing, however, we might want to view
only the subset of <em>D..M</em> that are actually descendants of <code>D</code>, i.e.
excluding <code>C</code> and <code>K</code>. This is exactly what the <code>--ancestry-path</code>
option does. Applied to the <em>D..M</em> range, it results in:</p>



<pre>		E-------F
		 \       \
		  G---H---I---J
			       \
				L--M</pre>


</dd>
</dl>


<p>Before discussing another option, <code>--show-pulls</code>, we need to
create a new example history.</p>


<p>A common problem users face when looking at simplified history is that a
commit they know changed a file somehow does not appear in the file’s
simplified history. Let’s demonstrate a new example and show how options
such as <code>--full-history</code> and <code>--simplify-merges</code> works in that case:</p>



<pre>	  .-A---M-----C--N---O---P
	 /     / \  \  \/   /   /
	I     B   \  R-'`-Z'   /
	 \   /     \/         /
	  \ /      /\        /
	   `---X--'  `---Y--'</pre>



<p>For this example, suppose <code>I</code> created <code>file.txt</code> which was modified by
<code>A</code>, <code>B</code>, and <code>X</code> in different ways. The single-parent commits <code>C</code>, <code>Z</code>,
and <code>Y</code> do not change <code>file.txt</code>. The merge commit <code>M</code> was created by
resolving the merge conflict to include both changes from <code>A</code> and <code>B</code>
and hence is not TREESAME to either. The merge commit <code>R</code>, however, was
created by ignoring the contents of <code>file.txt</code> at <code>M</code> and taking only
the contents of <code>file.txt</code> at <code>X</code>. Hence, <code>R</code> is TREESAME to <code>X</code> but not
<code>M</code>. Finally, the natural merge resolution to create <code>N</code> is to take the
contents of <code>file.txt</code> at <code>R</code>, so <code>N</code> is TREESAME to <code>R</code> but not <code>C</code>.
The merge commits <code>O</code> and <code>P</code> are TREESAME to their first parents, but
not to their second parents, <code>Z</code> and <code>Y</code> respectively.</p>


<p>When using the default mode, <code>N</code> and <code>R</code> both have a TREESAME parent, so
those edges are walked and the others are ignored. The resulting history
graph is:</p>



<pre>	I---X</pre>



<p>When using <code>--full-history</code>, Git walks every edge. This will discover
the commits <code>A</code> and <code>B</code> and the merge <code>M</code>, but also will reveal the
merge commits <code>O</code> and <code>P</code>. With parent rewriting, the resulting graph is:</p>



<pre>	  .-A---M--------N---O---P
	 /     / \  \  \/   /   /
	I     B   \  R-'`--'   /
	 \   /     \/         /
	  \ /      /\        /
	   `---X--'  `------'</pre>



<p>Here, the merge commits <code>O</code> and <code>P</code> contribute extra noise, as they did
not actually contribute a change to <code>file.txt</code>. They only merged a topic
that was based on an older version of <code>file.txt</code>. This is a common
issue in repositories using a workflow where many contributors work in
parallel and merge their topic branches along a single trunk: manu
unrelated merges appear in the <code>--full-history</code> results.</p>


<p>When using the <code>--simplify-merges</code> option, the commits <code>O</code> and <code>P</code>
disappear from the results. This is because the rewritten second parents
of <code>O</code> and <code>P</code> are reachable from their first parents. Those edges are
removed and then the commits look like single-parent commits that are
TREESAME to their parent. This also happens to the commit <code>N</code>, resulting
in a history view as follows:</p>



<pre>	  .-A---M--.
	 /     /    \
	I     B      R
	 \   /      /
	  \ /      /
	   `---X--'</pre>



<p>In this view, we see all of the important single-parent changes from
<code>A</code>, <code>B</code>, and <code>X</code>. We also see the carefully-resolved merge <code>M</code> and the
not-so-carefully-resolved merge <code>R</code>. This is usually enough information
to determine why the commits <code>A</code> and <code>B</code> "disappeared" from history in
the default view. However, there are a few issues with this approach.</p>


<p>The first issue is performance. Unlike any previous option, the
<code>--simplify-merges</code> option requires walking the entire commit history
before returning a single result. This can make the option difficult to
use for very large repositories.</p>


<p>The second issue is one of auditing. When many contributors are working
on the same repository, it is important which merge commits introduced
a change into an important branch. The problematic merge <code>R</code> above is
not likely to be the merge commit that was used to merge into an
important branch. Instead, the merge <code>N</code> was used to merge <code>R</code> and <code>X</code>
into the important branch. This commit may have information about why
the change <code>X</code> came to override the changes from <code>A</code> and <code>B</code> in its
commit message.</p>


<dl>
<dt> --show-pulls </dt>
<dd>
<p>In addition to the commits shown in the default history, show
each merge commit that is not TREESAME to its first parent but
is TREESAME to a later parent.</p>

<p>When a merge commit is included by <code>--show-pulls</code>, the merge is
treated as if it "pulled" the change from another branch. When using
<code>--show-pulls</code> on this example (and no other options) the resulting
graph is:</p>



<pre>	I---X---R---N</pre>



<p>Here, the merge commits <code>R</code> and <code>N</code> are included because they pulled
the commits <code>X</code> and <code>R</code> into the base branch, respectively. These
merges are the reason the commits <code>A</code> and <code>B</code> do not appear in the
default history.</p>


<p>When <code>--show-pulls</code> is paired with <code>--simplify-merges</code>, the
graph includes all of the necessary information:</p>



<pre>	  .-A---M--.   N
	 /     /    \ /
	I     B      R
	 \   /      /
	  \ /      /
	   `---X--'</pre>



<p>Notice that since <code>M</code> is reachable from <code>R</code>, the edge from <code>N</code> to <code>M</code>
was simplified away. However, <code>N</code> still appears in the history as an
important commit because it "pulled" the change <code>R</code> into the main
branch.</p>

</dd>
</dl>


<p>The <code>--simplify-by-decoration</code> option allows you to view only the
big picture of the topology of the history, by omitting commits
that are not referenced by tags.  Commits are marked as !TREESAME
(in other words, kept after history simplification rules described
above) if (1) they are referenced by tags, or (2) they change the
contents of the paths given on the command line.  All other
commits are marked as TREESAME (subject to be simplified away).</p>



<h3>
Commit Ordering</h3>

<p>By default, the commits are shown in reverse chronological order.</p>


<dl>
<dt> --date-order </dt>
<dd>
<p>Show no parents before all of its children are shown, but
otherwise show commits in the commit timestamp order.</p>
</dd>
<dt> --author-date-order </dt>
<dd>
<p>Show no parents before all of its children are shown, but
otherwise show commits in the author timestamp order.</p>
</dd>
<dt> --topo-order </dt>
<dd>
<p>Show no parents before all of its children are shown, and
avoid showing commits on multiple lines of history
intermixed.</p>

<p>For example, in a commit history like this:</p>



<pre>    ---1----2----4----7
	\	       \
	 3----5----6----8---</pre>



<p>where the numbers denote the order of commit timestamps, <code>git
rev-list</code> and friends with <code>--date-order</code> show the commits in the
timestamp order: 8 7 6 5 4 3 2 1.</p>


<p>With <code>--topo-order</code>, they would show 8 6 5 3 7 4 2 1 (or 8 7 4 2 6 5
3 1); some older commits are shown before newer ones in order to
avoid showing the commits from two parallel development track mixed
together.</p>

</dd>
<dt> --reverse </dt>
<dd>
<p>Output the commits chosen to be shown (see Commit Limiting
section above) in reverse order. Cannot be combined with
<code>--walk-reflogs</code>.</p>
</dd>
</dl>



<h3>
Object Traversal</h3>

<p>These options are mostly targeted for packing of Git repositories.</p>


<dl>
<dt> --no-walk[=(sorted|unsorted)] </dt>
<dd>
<p>Only show the given commits, but do not traverse their ancestors.
This has no effect if a range is specified. If the argument
<code>unsorted</code> is given, the commits are shown in the order they were
given on the command line. Otherwise (if <code>sorted</code> or no argument
was given), the commits are shown in reverse chronological order
by commit time.
Cannot be combined with <code>--graph</code>.</p>
</dd>
<dt> --do-walk </dt>
<dd>
<p>Overrides a previous <code>--no-walk</code>.</p>
</dd>
</dl>



<h3>
Commit Formatting</h3>

<dl>
<dt> --pretty[=&lt;format&gt;] </dt>
<dt> --format=&lt;format&gt; </dt>
<dd>
<p>Pretty-print the contents of the commit logs in a given format,
where <em>&lt;format&gt;</em> can be one of <em>oneline</em>, <em>short</em>, <em>medium</em>,
<em>full</em>, <em>fuller</em>, <em>reference</em>, <em>email</em>, <em>raw</em>, <em>format:&lt;string&gt;</em>
and <em>tformat:&lt;string&gt;</em>.  When <em>&lt;format&gt;</em> is none of the above,
and has <em>%placeholder</em> in it, it acts as if
<em>--pretty=tformat:&lt;format&gt;</em> were given.</p>

<p>See the "PRETTY FORMATS" section for some additional details for each
format.  When <em>=&lt;format&gt;</em> part is omitted, it defaults to <em>medium</em>.</p>


<p>Note: you can specify the default pretty format in the repository
configuration (see <a href="/docs/git-config">git-config[1]</a>).</p>

</dd>
<dt> --abbrev-commit </dt>
<dd>
<p>Instead of showing the full 40-byte hexadecimal commit object
name, show a prefix that names the object uniquely.
"--abbrev=&lt;n&gt;" (which also modifies diff output, if it is displayed)
option can be used to specify the minimum length of the prefix.</p>

<p>This should make "--pretty=oneline" a whole lot more readable for
people using 80-column terminals.</p>

</dd>
<dt> --no-abbrev-commit </dt>
<dd>
<p>Show the full 40-byte hexadecimal commit object name. This negates
<code>--abbrev-commit</code>, either explicit or implied by other options such
as "--oneline". It also overrides the <code>log.abbrevCommit</code> variable.</p>
</dd>
<dt> --oneline </dt>
<dd>
<p>This is a shorthand for "--pretty=oneline --abbrev-commit"
used together.</p>
</dd>
<dt> --encoding=&lt;encoding&gt; </dt>
<dd>
<p>Commit objects record the character encoding used for the log message
in their encoding header; this option can be used to tell the
command to re-code the commit log message in the encoding
preferred by the user.  For non plumbing commands this
defaults to UTF-8. Note that if an object claims to be encoded
in <code>X</code> and we are outputting in <code>X</code>, we will output the object
verbatim; this means that invalid sequences in the original
commit may be copied to the output. Likewise, if iconv(3) fails
to convert the commit, we will quietly output the original
object verbatim.</p>
</dd>
<dt> --expand-tabs=&lt;n&gt; </dt>
<dt> --expand-tabs </dt>
<dt> --no-expand-tabs </dt>
<dd>
<p>Perform a tab expansion (replace each tab with enough spaces
to fill to the next display column that is multiple of <em>&lt;n&gt;</em>)
in the log message before showing it in the output.
<code>--expand-tabs</code> is a short-hand for <code>--expand-tabs=8</code>, and
<code>--no-expand-tabs</code> is a short-hand for <code>--expand-tabs=0</code>,
which disables tab expansion.</p>

<p>By default, tabs are expanded in pretty formats that indent the log
message by 4 spaces (i.e.  <em>medium</em>, which is the default, <em>full</em>,
and <em>fuller</em>).</p>

</dd>
<dt> --notes[=&lt;ref&gt;] </dt>
<dd>
<p>Show the notes (see <a href="/docs/git-notes">git-notes[1]</a>) that annotate the
commit, when showing the commit log message.  This is the default
for <code>git log</code>, <code>git show</code> and <code>git whatchanged</code> commands when
there is no <code>--pretty</code>, <code>--format</code>, or <code>--oneline</code> option given
on the command line.</p>

<p>By default, the notes shown are from the notes refs listed in the
<code>core.notesRef</code> and <code>notes.displayRef</code> variables (or corresponding
environment overrides). See <a href="/docs/git-config">git-config[1]</a> for more details.</p>


<p>With an optional <em>&lt;ref&gt;</em> argument, use the ref to find the notes
to display.  The ref can specify the full refname when it begins
with <code>refs/notes/</code>; when it begins with <code>notes/</code>, <code>refs/</code> and otherwise
<code>refs/notes/</code> is prefixed to form a full name of the ref.</p>


<p>Multiple --notes options can be combined to control which notes are
being displayed. Examples: "--notes=foo" will show only notes from
"refs/notes/foo"; "--notes=foo --notes" will show both notes from
"refs/notes/foo" and from the default notes ref(s).</p>

</dd>
<dt> --no-notes </dt>
<dd>
<p>Do not show notes. This negates the above <code>--notes</code> option, by
resetting the list of notes refs from which notes are shown.
Options are parsed in the order given on the command line, so e.g.
"--notes --notes=foo --no-notes --notes=bar" will only show notes
from "refs/notes/bar".</p>
</dd>
<dt> --show-notes[=&lt;ref&gt;] </dt>
<dt> --[no-]standard-notes </dt>
<dd>
<p>These options are deprecated. Use the above --notes/--no-notes
options instead.</p>
</dd>
<dt> --show-signature </dt>
<dd>
<p>Check the validity of a signed commit object by passing the signature
to <code>gpg --verify</code> and show the output.</p>
</dd>
<dt> --relative-date </dt>
<dd>
<p>Synonym for <code>--date=relative</code>.</p>
</dd>
<dt> --date=&lt;format&gt; </dt>
<dd>
<p>Only takes effect for dates shown in human-readable format, such
as when using <code>--pretty</code>. <code>log.date</code> config variable sets a default
value for the log command’s <code>--date</code> option. By default, dates
are shown in the original time zone (either committer’s or
author’s). If <code>-local</code> is appended to the format (e.g.,
<code>iso-local</code>), the user’s local time zone is used instead.</p>



<p><code>--date=relative</code> shows dates relative to the current time,
e.g. “2 hours ago”. The <code>-local</code> option has no effect for
<code>--date=relative</code>.</p>


<p><code>--date=local</code> is an alias for <code>--date=default-local</code>.</p>


<p><code>--date=iso</code> (or <code>--date=iso8601</code>) shows timestamps in a ISO 8601-like format.
The differences to the strict ISO 8601 format are:</p>


<ul>
<li>
<p>a space instead of the <code>T</code> date/time delimiter</p>
</li>
<li>
<p>a space between time and time zone</p>
</li>
<li>
<p>no colon between hours and minutes of the time zone</p>
</li>
</ul>


<p><code>--date=iso-strict</code> (or <code>--date=iso8601-strict</code>) shows timestamps in strict
ISO 8601 format.</p>


<p><code>--date=rfc</code> (or <code>--date=rfc2822</code>) shows timestamps in RFC 2822
format, often found in email messages.</p>


<p><code>--date=short</code> shows only the date, but not the time, in <code>YYYY-MM-DD</code> format.</p>


<p><code>--date=raw</code> shows the date as seconds since the epoch (1970-01-01
00:00:00 UTC), followed by a space, and then the timezone as an offset
from UTC (a <code>+</code> or <code>-</code> with four digits; the first two are hours, and
the second two are minutes). I.e., as if the timestamp were formatted
with <code>strftime("%s %z")</code>).
Note that the <code>-local</code> option does not affect the seconds-since-epoch
value (which is always measured in UTC), but does switch the accompanying
timezone value.</p>


<p><code>--date=human</code> shows the timezone if the timezone does not match the
current time-zone, and doesn’t print the whole date if that matches
(ie skip printing year for dates that are "this year", but also skip
the whole date itself if it’s in the last few days and we can just say
what weekday it was).  For older dates the hour and minute is also
omitted.</p>


<p><code>--date=unix</code> shows the date as a Unix epoch timestamp (seconds since
1970).  As with <code>--raw</code>, this is always in UTC and therefore <code>-local</code>
has no effect.</p>


<p><code>--date=format:...</code> feeds the format <code>...</code> to your system <code>strftime</code>,
except for %s, %z, and %Z, which are handled internally.
Use <code>--date=format:%c</code> to show the date in your system locale’s
preferred format.  See the <code>strftime</code> manual for a complete list of
format placeholders. When using <code>-local</code>, the correct syntax is
<code>--date=format-local:...</code>.</p>


<p><code>--date=default</code> is the default format, and is similar to
<code>--date=rfc2822</code>, with a few exceptions:</p>




<ul>
<li>
<p>there is no comma after the day-of-week</p>
</li>
<li>
<p>the time zone is omitted when the local time zone is used</p>
</li>
</ul>

</dd>
<dt> --parents </dt>
<dd>
<p>Print also the parents of the commit (in the form "commit parent…<U+200B>").
Also enables parent rewriting, see <em>History Simplification</em> above.</p>
</dd>
<dt> --children </dt>
<dd>
<p>Print also the children of the commit (in the form "commit child…<U+200B>").
Also enables parent rewriting, see <em>History Simplification</em> above.</p>
</dd>
<dt> --left-right </dt>
<dd>
<p>Mark which side of a symmetric difference a commit is reachable from.
Commits from the left side are prefixed with <code>&lt;</code> and those from
the right with <code>&gt;</code>.  If combined with <code>--boundary</code>, those
commits are prefixed with <code>-</code>.</p>

<p>For example, if you have this topology:</p>



<pre>	     y---b---b  branch B
	    / \ /
	   /   .
	  /   / \
	 o---x---a---a  branch A</pre>



<p>you would get an output like this:</p>



<pre>	$ git rev-list --left-right --boundary --pretty=oneline A...B

	&gt;bbbbbbb... 3rd on b
	&gt;bbbbbbb... 2nd on b
	&lt;aaaaaaa... 3rd on a
	&lt;aaaaaaa... 2nd on a
	-yyyyyyy... 1st on b
	-xxxxxxx... 1st on a</pre>


</dd>
<dt> --graph </dt>
<dd>
<p>Draw a text-based graphical representation of the commit history
on the left hand side of the output.  This may cause extra lines
to be printed in between commits, in order for the graph history
to be drawn properly.
Cannot be combined with <code>--no-walk</code>.</p>

<p>This enables parent rewriting, see <em>History Simplification</em> above.</p>


<p>This implies the <code>--topo-order</code> option by default, but the
<code>--date-order</code> option may also be specified.</p>

</dd>
<dt> --show-linear-break[=&lt;barrier&gt;] </dt>
<dd>
<p>When --graph is not used, all history branches are flattened
which can make it hard to see that the two consecutive commits
do not belong to a linear branch. This option puts a barrier
in between them in that case. If <code>&lt;barrier&gt;</code> is specified, it
is the string that will be shown instead of the default one.</p>
</dd>
</dl>





<h2>PRETTY FORMATS</h2>


<p>If the commit is a merge, and if the pretty-format
is not <em>oneline</em>, <em>email</em> or <em>raw</em>, an additional line is
inserted before the <em>Author:</em> line.  This line begins with
"Merge: " and the hashes of ancestral commits are printed,
separated by spaces.  Note that the listed commits may not
necessarily be the list of the <strong>direct</strong> parent commits if you
have limited your view of history: for example, if you are
only interested in changes related to a certain directory or
file.</p>


<p>There are several built-in formats, and you can define
additional formats by setting a pretty.&lt;name&gt;
config option to either another format name, or a
<em>format:</em> string, as described below (see
<a href="/docs/git-config">git-config[1]</a>). Here are the details of the
built-in formats:</p>


<ul>
<li>
<p><em>oneline</em></p>


<pre>&lt;hash&gt; &lt;title-line&gt;</pre>



<p>This is designed to be as compact as possible.</p>

</li>
<li>
<p><em>short</em></p>


<pre>commit &lt;hash&gt;
Author: &lt;author&gt;</pre>




<pre>&lt;title-line&gt;</pre>


</li>
<li>
<p><em>medium</em></p>


<pre>commit &lt;hash&gt;
Author: &lt;author&gt;
Date:   &lt;author-date&gt;</pre>




<pre>&lt;title-line&gt;</pre>




<pre>&lt;full-commit-message&gt;</pre>


</li>
<li>
<p><em>full</em></p>


<pre>commit &lt;hash&gt;
Author: &lt;author&gt;
Commit: &lt;committer&gt;</pre>




<pre>&lt;title-line&gt;</pre>




<pre>&lt;full-commit-message&gt;</pre>


</li>
<li>
<p><em>fuller</em></p>


<pre>commit &lt;hash&gt;
Author:     &lt;author&gt;
AuthorDate: &lt;author-date&gt;
Commit:     &lt;committer&gt;
CommitDate: &lt;committer-date&gt;</pre>




<pre>&lt;title-line&gt;</pre>




<pre>&lt;full-commit-message&gt;</pre>


</li>
<li>
<p><em>reference</em></p>


<pre>&lt;abbrev-hash&gt; (&lt;title-line&gt;, &lt;short-author-date&gt;)</pre>



<p>This format is used to refer to another commit in a commit message and
is the same as <code>--pretty='format:%C(auto)%h (%s, %ad)'</code>.  By default,
the date is formatted with <code>--date=short</code> unless another <code>--date</code> option
is explicitly specified.  As with any <code>format:</code> with format
placeholders, its output is not affected by other options like
<code>--decorate</code> and <code>--walk-reflogs</code>.</p>

</li>
<li>
<p><em>email</em></p>


<pre>From &lt;hash&gt; &lt;date&gt;
From: &lt;author&gt;
Date: &lt;author-date&gt;
Subject: [PATCH] &lt;title-line&gt;</pre>




<pre>&lt;full-commit-message&gt;</pre>


</li>
<li>
<p><em>mboxrd</em></p>

<p>Like <em>email</em>, but lines in the commit message starting with "From "
(preceded by zero or more "&gt;") are quoted with "&gt;" so they aren’t
confused as starting a new commit.</p>

</li>
<li>
<p><em>raw</em></p>

<p>The <em>raw</em> format shows the entire commit exactly as
stored in the commit object.  Notably, the hashes are
displayed in full, regardless of whether --abbrev or
--no-abbrev are used, and <em>parents</em> information show the
true parent commits, without taking grafts or history
simplification into account. Note that this format affects the way
commits are displayed, but not the way the diff is shown e.g. with
<code>git log --raw</code>. To get full object names in a raw diff format,
use <code>--no-abbrev</code>.</p>

</li>
<li>
<p><em>format:&lt;format-string&gt;</em></p>

<p>The <em>format:&lt;format-string&gt;</em> format allows you to specify which information
you want to show. It works a little bit like printf format,
with the notable exception that you get a newline with <em>%n</em>
instead of <em>\n</em>.</p>


<p>E.g, <em>format:"The author of %h was %an, %ar%nThe title was &gt;&gt;%s&lt;&lt;%n"</em>
would show something like this:</p>



<pre>The author of fe6e0ee was Junio C Hamano, 23 hours ago
The title was &gt;&gt;t4119: test autocomputing -p&lt;n&gt; for traditional diff input.&lt;&lt;</pre>



<p>The placeholders are:</p>


<ul>
<li>
<p>Placeholders that expand to a single literal character:</p>

<dl>
<dt> <em>%n</em> </dt>
<dd>
<p>newline</p>
</dd>
<dt> <em>%%</em> </dt>
<dd>
<p>a raw <em>%</em></p>
</dd>
<dt> <em>%x00</em> </dt>
<dd>
<p>print a byte from a hex code</p>
</dd>
</dl>

</li>
<li>
<p>Placeholders that affect formatting of later placeholders:</p>

<dl>
<dt> <em>%Cred</em> </dt>
<dd>
<p>switch color to red</p>
</dd>
<dt> <em>%Cgreen</em> </dt>
<dd>
<p>switch color to green</p>
</dd>
<dt> <em>%Cblue</em> </dt>
<dd>
<p>switch color to blue</p>
</dd>
<dt> <em>%Creset</em> </dt>
<dd>
<p>reset color</p>
</dd>
<dt> <em>%C(…<U+200B>)</em> </dt>
<dd>
<p>color specification, as described under Values in the
"CONFIGURATION FILE" section of <a href="/docs/git-config">git-config[1]</a>.  By
default, colors are shown only when enabled for log output
(by <code>color.diff</code>, <code>color.ui</code>, or <code>--color</code>, and respecting
the <code>auto</code> settings of the former if we are going to a
terminal). <code>%C(auto,...)</code> is accepted as a historical
synonym for the default (e.g., <code>%C(auto,red)</code>). Specifying
<code>%C(always,...)</code> will show the colors even when color is
not otherwise enabled (though consider just using
<code>--color=always</code> to enable color for the whole output,
including this format and anything else git might color).
<code>auto</code> alone (i.e. <code>%C(auto)</code>) will turn on auto coloring
on the next placeholders until the color is switched
again.</p>
</dd>
<dt> <em>%m</em> </dt>
<dd>
<p>left (<code>&lt;</code>), right (<code>&gt;</code>) or boundary (<code>-</code>) mark</p>
</dd>
<dt> <em>%w([&lt;w&gt;[,&lt;i1&gt;[,&lt;i2&gt;]]])</em> </dt>
<dd>
<p>switch line wrapping, like the -w option of
<a href="/docs/git-shortlog">git-shortlog[1]</a>.</p>
</dd>
<dt> <em>%&lt;(&lt;N&gt;[,trunc|ltrunc|mtrunc])</em> </dt>
<dd>
<p>make the next placeholder take at
least N columns, padding spaces on
the right if necessary.  Optionally
truncate at the beginning (ltrunc),
the middle (mtrunc) or the end
(trunc) if the output is longer than
N columns.  Note that truncating
only works correctly with N &gt;= 2.</p>
</dd>
<dt> <em>%&lt;|(&lt;N&gt;)</em> </dt>
<dd>
<p>make the next placeholder take at least until Nth
columns, padding spaces on the right if necessary</p>
</dd>
<dt> <em>%&gt;(&lt;N&gt;)</em>, <em>%&gt;|(&lt;N&gt;)</em> </dt>
<dd>
<p>similar to <em>%&lt;(&lt;N&gt;)</em>, <em>%&lt;|(&lt;N&gt;)</em> respectively,
but padding spaces on the left</p>
</dd>
<dt> <em>%&gt;&gt;(&lt;N&gt;)</em>, <em>%&gt;&gt;|(&lt;N&gt;)</em> </dt>
<dd>
<p>similar to <em>%&gt;(&lt;N&gt;)</em>, <em>%&gt;|(&lt;N&gt;)</em>
respectively, except that if the next
placeholder takes more spaces than given and
there are spaces on its left, use those
spaces</p>
</dd>
<dt> <em>%&gt;&lt;(&lt;N&gt;)</em>, <em>%&gt;&lt;|(&lt;N&gt;)</em> </dt>
<dd>
<p>similar to <em>%&lt;(&lt;N&gt;)</em>, <em>%&lt;|(&lt;N&gt;)</em>
respectively, but padding both sides
(i.e. the text is centered)</p>
</dd>
</dl>

</li>
<li>
<p>Placeholders that expand to information extracted from the commit:</p>

<dl>
<dt> <em>%H</em> </dt>
<dd>
<p>commit hash</p>
</dd>
<dt> <em>%h</em> </dt>
<dd>
<p>abbreviated commit hash</p>
</dd>
<dt> <em>%T</em> </dt>
<dd>
<p>tree hash</p>
</dd>
<dt> <em>%t</em> </dt>
<dd>
<p>abbreviated tree hash</p>
</dd>
<dt> <em>%P</em> </dt>
<dd>
<p>parent hashes</p>
</dd>
<dt> <em>%p</em> </dt>
<dd>
<p>abbreviated parent hashes</p>
</dd>
<dt> <em>%an</em> </dt>
<dd>
<p>author name</p>
</dd>
<dt> <em>%aN</em> </dt>
<dd>
<p>author name (respecting .mailmap, see <a href="/docs/git-shortlog">git-shortlog[1]</a>
or <a href="/docs/git-blame">git-blame[1]</a>)</p>
</dd>
<dt> <em>%ae</em> </dt>
<dd>
<p>author email</p>
</dd>
<dt> <em>%aE</em> </dt>
<dd>
<p>author email (respecting .mailmap, see <a href="/docs/git-shortlog">git-shortlog[1]</a>
or <a href="/docs/git-blame">git-blame[1]</a>)</p>
</dd>
<dt> <em>%al</em> </dt>
<dd>
<p>author email local-part (the part before the <em>@</em> sign)</p>
</dd>
<dt> <em>%aL</em> </dt>
<dd>
<p>author local-part (see <em>%al</em>) respecting .mailmap, see
<a href="/docs/git-shortlog">git-shortlog[1]</a> or <a href="/docs/git-blame">git-blame[1]</a>)</p>
</dd>
<dt> <em>%ad</em> </dt>
<dd>
<p>author date (format respects --date= option)</p>
</dd>
<dt> <em>%aD</em> </dt>
<dd>
<p>author date, RFC2822 style</p>
</dd>
<dt> <em>%ar</em> </dt>
<dd>
<p>author date, relative</p>
</dd>
<dt> <em>%at</em> </dt>
<dd>
<p>author date, UNIX timestamp</p>
</dd>
<dt> <em>%ai</em> </dt>
<dd>
<p>author date, ISO 8601-like format</p>
</dd>
<dt> <em>%aI</em> </dt>
<dd>
<p>author date, strict ISO 8601 format</p>
</dd>
<dt> <em>%as</em> </dt>
<dd>
<p>author date, short format (<code>YYYY-MM-DD</code>)</p>
</dd>
<dt> <em>%ah</em> </dt>
<dd>
<p>author date, human style (like the <code>--date=human</code> option of
<a href="/docs/git-rev-list">git-rev-list[1]</a>)</p>
</dd>
<dt> <em>%cn</em> </dt>
<dd>
<p>committer name</p>
</dd>
<dt> <em>%cN</em> </dt>
<dd>
<p>committer name (respecting .mailmap, see
<a href="/docs/git-shortlog">git-shortlog[1]</a> or <a href="/docs/git-blame">git-blame[1]</a>)</p>
</dd>
<dt> <em>%ce</em> </dt>
<dd>
<p>committer email</p>
</dd>
<dt> <em>%cE</em> </dt>
<dd>
<p>committer email (respecting .mailmap, see
<a href="/docs/git-shortlog">git-shortlog[1]</a> or <a href="/docs/git-blame">git-blame[1]</a>)</p>
</dd>
<dt> <em>%cl</em> </dt>
<dd>
<p>committer email local-part (the part before the <em>@</em> sign)</p>
</dd>
<dt> <em>%cL</em> </dt>
<dd>
<p>committer local-part (see <em>%cl</em>) respecting .mailmap, see
<a href="/docs/git-shortlog">git-shortlog[1]</a> or <a href="/docs/git-blame">git-blame[1]</a>)</p>
</dd>
<dt> <em>%cd</em> </dt>
<dd>
<p>committer date (format respects --date= option)</p>
</dd>
<dt> <em>%cD</em> </dt>
<dd>
<p>committer date, RFC2822 style</p>
</dd>
<dt> <em>%cr</em> </dt>
<dd>
<p>committer date, relative</p>
</dd>
<dt> <em>%ct</em> </dt>
<dd>
<p>committer date, UNIX timestamp</p>
</dd>
<dt> <em>%ci</em> </dt>
<dd>
<p>committer date, ISO 8601-like format</p>
</dd>
<dt> <em>%cI</em> </dt>
<dd>
<p>committer date, strict ISO 8601 format</p>
</dd>
<dt> <em>%cs</em> </dt>
<dd>
<p>committer date, short format (<code>YYYY-MM-DD</code>)</p>
</dd>
<dt> <em>%ch</em> </dt>
<dd>
<p>committer date, human style (like the <code>--date=human</code> option of
<a href="/docs/git-rev-list">git-rev-list[1]</a>)</p>
</dd>
<dt> <em>%d</em> </dt>
<dd>
<p>ref names, like the --decorate option of <a href="/docs/git-log">git-log[1]</a></p>
</dd>
<dt> <em>%D</em> </dt>
<dd>
<p>ref names without the " (", ")" wrapping.</p>
</dd>
<dt> <em>%(describe[:options])</em> </dt>
<dd>
<p>human-readable name, like
<a href="/docs/git-describe">git-describe[1]</a>; empty string for
undescribable commits.  The <code>describe</code> string
may be followed by a colon and zero or more
comma-separated options.  Descriptions can be
inconsistent when tags are added or removed at
the same time.</p>

<ul>
<li>
<p><em>tags[=&lt;bool-value&gt;]</em>: Instead of only considering annotated tags,
consider lightweight tags as well.</p>
</li>
<li>
<p><em>abbrev=&lt;number&gt;</em>: Instead of using the default number of hexadecimal digits
(which will vary according to the number of objects in the repository with a
default of 7) of the abbreviated object name, use &lt;number&gt; digits, or as many
digits as needed to form a unique object name.</p>
</li>
<li>
<p><em>match=&lt;pattern&gt;</em>: Only consider tags matching the given
<code>glob(7)</code> pattern, excluding the "refs/tags/" prefix.</p>
</li>
<li>
<p><em>exclude=&lt;pattern&gt;</em>: Do not consider tags matching the given
<code>glob(7)</code> pattern, excluding the "refs/tags/" prefix.</p>
</li>
</ul>

</dd>
<dt> <em>%S</em> </dt>
<dd>
<p>ref name given on the command line by which the commit was reached
(like <code>git log --source</code>), only works with <code>git log</code></p>
</dd>
<dt> <em>%e</em> </dt>
<dd>
<p>encoding</p>
</dd>
<dt> <em>%s</em> </dt>
<dd>
<p>subject</p>
</dd>
<dt> <em>%f</em> </dt>
<dd>
<p>sanitized subject line, suitable for a filename</p>
</dd>
<dt> <em>%b</em> </dt>
<dd>
<p>body</p>
</dd>
<dt> <em>%B</em> </dt>
<dd>
<p>raw body (unwrapped subject and body)</p>
</dd>
<dt> <em>%N</em> </dt>
<dd>
<p>commit notes</p>
</dd>
<dt> <em>%GG</em> </dt>
<dd>
<p>raw verification message from GPG for a signed commit</p>
</dd>
<dt> <em>%G?</em> </dt>
<dd>
<p>show "G" for a good (valid) signature,
"B" for a bad signature,
"U" for a good signature with unknown validity,
"X" for a good signature that has expired,
"Y" for a good signature made by an expired key,
"R" for a good signature made by a revoked key,
"E" if the signature cannot be checked (e.g. missing key)
and "N" for no signature</p>
</dd>
<dt> <em>%GS</em> </dt>
<dd>
<p>show the name of the signer for a signed commit</p>
</dd>
<dt> <em>%GK</em> </dt>
<dd>
<p>show the key used to sign a signed commit</p>
</dd>
<dt> <em>%GF</em> </dt>
<dd>
<p>show the fingerprint of the key used to sign a signed commit</p>
</dd>
<dt> <em>%GP</em> </dt>
<dd>
<p>show the fingerprint of the primary key whose subkey was used
to sign a signed commit</p>
</dd>
<dt> <em>%GT</em> </dt>
<dd>
<p>show the trust level for the key used to sign a signed commit</p>
</dd>
<dt> <em>%gD</em> </dt>
<dd>
<p>reflog selector, e.g., <code>refs/stash@{1}</code> or <code>refs/stash@{2
minutes ago}</code>; the format follows the rules described for the
<code>-g</code> option. The portion before the <code>@</code> is the refname as
given on the command line (so <code>git log -g refs/heads/master</code>
would yield <code>refs/heads/master@{0}</code>).</p>
</dd>
<dt> <em>%gd</em> </dt>
<dd>
<p>shortened reflog selector; same as <code>%gD</code>, but the refname
portion is shortened for human readability (so
<code>refs/heads/master</code> becomes just <code>master</code>).</p>
</dd>
<dt> <em>%gn</em> </dt>
<dd>
<p>reflog identity name</p>
</dd>
<dt> <em>%gN</em> </dt>
<dd>
<p>reflog identity name (respecting .mailmap, see
<a href="/docs/git-shortlog">git-shortlog[1]</a> or <a href="/docs/git-blame">git-blame[1]</a>)</p>
</dd>
<dt> <em>%ge</em> </dt>
<dd>
<p>reflog identity email</p>
</dd>
<dt> <em>%gE</em> </dt>
<dd>
<p>reflog identity email (respecting .mailmap, see
<a href="/docs/git-shortlog">git-shortlog[1]</a> or <a href="/docs/git-blame">git-blame[1]</a>)</p>
</dd>
<dt> <em>%gs</em> </dt>
<dd>
<p>reflog subject</p>
</dd>
<dt> <em>%(trailers[:options])</em> </dt>
<dd>
<p>display the trailers of the body as
interpreted by
<a href="/docs/git-interpret-trailers">git-interpret-trailers[1]</a>. The
<code>trailers</code> string may be followed by a colon
and zero or more comma-separated options.
If any option is provided multiple times the
last occurrence wins.</p>

<ul>
<li>
<p><em>key=&lt;key&gt;</em>: only show trailers with specified &lt;key&gt;. Matching is done
case-insensitively and trailing colon is optional. If option is
given multiple times trailer lines matching any of the keys are
shown. This option automatically enables the <code>only</code> option so that
non-trailer lines in the trailer block are hidden. If that is not
desired it can be disabled with <code>only=false</code>.  E.g.,
<code>%(trailers:key=Reviewed-by)</code> shows trailer lines with key
<code>Reviewed-by</code>.</p>
</li>
<li>
<p><em>only[=&lt;bool&gt;]</em>: select whether non-trailer lines from the trailer
block should be included.</p>
</li>
<li>
<p><em>separator=&lt;sep&gt;</em>: specify a separator inserted between trailer
lines. When this option is not given each trailer line is
terminated with a line feed character. The string &lt;sep&gt; may contain
the literal formatting codes described above. To use comma as
separator one must use <code>%x2C</code> as it would otherwise be parsed as
next option. E.g., <code>%(trailers:key=Ticket,separator=%x2C )</code>
shows all trailer lines whose key is "Ticket" separated by a comma
and a space.</p>
</li>
<li>
<p><em>unfold[=&lt;bool&gt;]</em>: make it behave as if interpret-trailer’s <code>--unfold</code>
option was given. E.g.,
<code>%(trailers:only,unfold=true)</code> unfolds and shows all trailer lines.</p>
</li>
<li>
<p><em>keyonly[=&lt;bool&gt;]</em>: only show the key part of the trailer.</p>
</li>
<li>
<p><em>valueonly[=&lt;bool&gt;]</em>: only show the value part of the trailer.</p>
</li>
<li>
<p><em>key_value_separator=&lt;sep&gt;</em>: specify a separator inserted between
trailer lines. When this option is not given each trailer key-value
pair is separated by ": ". Otherwise it shares the same semantics
as <em>separator=&lt;sep&gt;</em> above.</p>
</li>
</ul>

</dd>
</dl>

</li>
</ul>

</li>
</ul>


<table><tr>
<td>
Note
</td>
<td>
Some placeholders may depend on other options given to the
revision traversal engine. For example, the <code>%g*</code> reflog options will
insert an empty string unless we are traversing reflog entries (e.g., by
<code>git log -g</code>). The <code>%d</code> and <code>%D</code> placeholders will use the "short"
decoration format if <code>--decorate</code> was not already provided on the command
line.
</td>
</tr></table>


<p>The boolean options accept an optional value <code>[=&lt;bool-value&gt;]</code>. The values
<code>true</code>, <code>false</code>, <code>on</code>, <code>off</code> etc. are all accepted. See the "boolean"
sub-section in "EXAMPLES" in <a href="/docs/git-config">git-config[1]</a>. If a boolean
option is given with no value, it’s enabled.</p>


<p>If you add a <code>+</code> (plus sign) after <em>%</em> of a placeholder, a line-feed
is inserted immediately before the expansion if and only if the
placeholder expands to a non-empty string.</p>


<p>If you add a <code>-</code> (minus sign) after <em>%</em> of a placeholder, all consecutive
line-feeds immediately preceding the expansion are deleted if and only if the
placeholder expands to an empty string.</p>


<p>If you add a ` ` (space) after <em>%</em> of a placeholder, a space
is inserted immediately before the expansion if and only if the
placeholder expands to a non-empty string.</p>


<ul>
<li>
<p><em>tformat:</em></p>

<p>The <em>tformat:</em> format works exactly like <em>format:</em>, except that it
provides "terminator" semantics instead of "separator" semantics. In
other words, each commit has the message terminator character (usually a
newline) appended, rather than a separator placed between entries.
This means that the final entry of a single-line format will be properly
terminated with a new line, just as the "oneline" format does.
For example:</p>



<pre>$ git log -2 --pretty=format:%h 4da45bef \
  | perl -pe '$_ .= " -- NO NEWLINE\n" unless /\n/'
4da45be
7134973 -- NO NEWLINE

$ git log -2 --pretty=tformat:%h 4da45bef \
  | perl -pe '$_ .= " -- NO NEWLINE\n" unless /\n/'
4da45be
7134973</pre>



<p>In addition, any unrecognized string that has a <code>%</code> in it is interpreted
as if it has <code>tformat:</code> in front of it.  For example, these two are
equivalent:</p>



<pre>$ git log -2 --pretty=tformat:%h 4da45bef
$ git log -2 --pretty=%h 4da45bef</pre>


</li>
</ul>




<h2>DIFF FORMATTING</h2>


<p>By default, <code>git log</code> does not generate any diff output. The options
below can be used to show the changes made by each commit.</p>


<p>Note that unless one of <code>--diff-merges</code> variants (including short
<code>-m</code>, <code>-c</code>, and <code>--cc</code> options) is explicitly given, merge commits
will not show a diff, even if a diff format like <code>--patch</code> is
selected, nor will they match search options like <code>-S</code>. The exception
is when <code>--first-parent</code> is in use, in which case <code>first-parent</code> is
the default format.</p>


<dl>
<dt> -p </dt>
<dt> -u </dt>
<dt> --patch </dt>
<dd>
<p>Generate patch (see section on generating patches).</p>
</dd>
<dt> -s </dt>
<dt> --no-patch </dt>
<dd>
<p>Suppress diff output. Useful for commands like <code>git show</code> that
show the patch by default, or to cancel the effect of <code>--patch</code>.</p>
</dd>
<dt> --diff-merges=(off|none|on|first-parent|1|separate|m|combined|c|dense-combined|cc) </dt>
<dt> --no-diff-merges </dt>
<dd>
<p>Specify diff format to be used for merge commits. Default is
`off` unless <code>--first-parent</code> is in use, in which case
<code>first-parent</code> is the default.</p>

<dl>
<dt> --diff-merges=(off|none) </dt>
<dt> --no-diff-merges </dt>
<dd>
<p>Disable output of diffs for merge commits. Useful to override
implied value.</p>
</dd>
<dt> --diff-merges=on </dt>
<dt> --diff-merges=m </dt>
<dt> -m </dt>
<dd>
<p>This option makes diff output for merge commits to be shown in
the default format. <code>-m</code> will produce the output only if <code>-p</code>
is given as well. The default format could be changed using
<code>log.diffMerges</code> configuration parameter, which default value
is <code>separate</code>.</p>
</dd>
<dt> --diff-merges=first-parent </dt>
<dt> --diff-merges=1 </dt>
<dd>
<p>This option makes merge commits show the full diff with
respect to the first parent only.</p>
</dd>
<dt> --diff-merges=separate </dt>
<dd>
<p>This makes merge commits show the full diff with respect to
each of the parents. Separate log entry and diff is generated
for each parent.</p>
</dd>
<dt> --diff-merges=combined </dt>
<dt> --diff-merges=c </dt>
<dt> -c </dt>
<dd>
<p>With this option, diff output for a merge commit shows the
differences from each of the parents to the merge result
simultaneously instead of showing pairwise diff between a
parent and the result one at a time. Furthermore, it lists
only files which were modified from all parents. <code>-c</code> implies
<code>-p</code>.</p>
</dd>
<dt> --diff-merges=dense-combined </dt>
<dt> --diff-merges=cc </dt>
<dt> --cc </dt>
<dd>
<p>With this option the output produced by
<code>--diff-merges=combined</code> is further compressed by omitting
uninteresting hunks whose contents in the parents have only
two variants and the merge result picks one of them without
modification.  <code>--cc</code> implies <code>-p</code>.</p>
</dd>
</dl>

</dd>
<dt> --combined-all-paths </dt>
<dd>
<p>This flag causes combined diffs (used for merge commits) to
list the name of the file from all parents.  It thus only has
effect when <code>--diff-merges=[dense-]combined</code> is in use, and
is likely only useful if filename changes are detected (i.e.
when either rename or copy detection have been requested).</p>
</dd>
<dt> -U&lt;n&gt; </dt>
<dt> --unified=&lt;n&gt; </dt>
<dd>
<p>Generate diffs with &lt;n&gt; lines of context instead of
the usual three.
Implies <code>--patch</code>.</p>
</dd>
<dt> --output=&lt;file&gt; </dt>
<dd>
<p>Output to a specific file instead of stdout.</p>
</dd>
<dt> --output-indicator-new=&lt;char&gt; </dt>
<dt> --output-indicator-old=&lt;char&gt; </dt>
<dt> --output-indicator-context=&lt;char&gt; </dt>
<dd>
<p>Specify the character used to indicate new, old or context
lines in the generated patch. Normally they are <em>+</em>, <em>-</em> and
' ' respectively.</p>
</dd>
<dt> --raw </dt>
<dd>
<p>For each commit, show a summary of changes using the raw diff
format. See the "RAW OUTPUT FORMAT" section of
<a href="/docs/git-diff">git-diff[1]</a>. This is different from showing the log
itself in raw format, which you can achieve with
<code>--format=raw</code>.</p>
</dd>
<dt> --patch-with-raw </dt>
<dd>
<p>Synonym for <code>-p --raw</code>.</p>
</dd>
<dt> -t </dt>
<dd>
<p>Show the tree objects in the diff output.</p>
</dd>
<dt> --indent-heuristic </dt>
<dd>
<p>Enable the heuristic that shifts diff hunk boundaries to make patches
easier to read. This is the default.</p>
</dd>
<dt> --no-indent-heuristic </dt>
<dd>
<p>Disable the indent heuristic.</p>
</dd>
<dt> --minimal </dt>
<dd>
<p>Spend extra time to make sure the smallest possible
diff is produced.</p>
</dd>
<dt> --patience </dt>
<dd>
<p>Generate a diff using the "patience diff" algorithm.</p>
</dd>
<dt> --histogram </dt>
<dd>
<p>Generate a diff using the "histogram diff" algorithm.</p>
</dd>
<dt> --anchored=&lt;text&gt; </dt>
<dd>
<p>Generate a diff using the "anchored diff" algorithm.</p>

<p>This option may be specified more than once.</p>


<p>If a line exists in both the source and destination, exists only once,
and starts with this text, this algorithm attempts to prevent it from
appearing as a deletion or addition in the output. It uses the "patience
diff" algorithm internally.</p>

</dd>
<dt> --diff-algorithm={patience|minimal|histogram|myers} </dt>
<dd>
<p>Choose a diff algorithm. The variants are as follows:</p>



<dl>
<dt> <code>default</code>, <code>myers</code> </dt>
<dd>
<p>The basic greedy diff algorithm. Currently, this is the default.</p>
</dd>
<dt> <code>minimal</code> </dt>
<dd>
<p>Spend extra time to make sure the smallest possible diff is
produced.</p>
</dd>
<dt> <code>patience</code> </dt>
<dd>
<p>Use "patience diff" algorithm when generating patches.</p>
</dd>
<dt> <code>histogram</code> </dt>
<dd>
<p>This algorithm extends the patience algorithm to "support
low-occurrence common elements".</p>
</dd>
</dl>




<p>For instance, if you configured the <code>diff.algorithm</code> variable to a
non-default value and want to use the default one, then you
have to use <code>--diff-algorithm=default</code> option.</p>

</dd>
<dt> --stat[=&lt;width&gt;[,&lt;name-width&gt;[,&lt;count&gt;]]] </dt>
<dd>
<p>Generate a diffstat. By default, as much space as necessary
will be used for the filename part, and the rest for the graph
part. Maximum width defaults to terminal width, or 80 columns
if not connected to a terminal, and can be overridden by
<code>&lt;width&gt;</code>. The width of the filename part can be limited by
giving another width <code>&lt;name-width&gt;</code> after a comma. The width
of the graph part can be limited by using
<code>--stat-graph-width=&lt;width&gt;</code> (affects all commands generating
a stat graph) or by setting <code>diff.statGraphWidth=&lt;width&gt;</code>
(does not affect <code>git format-patch</code>).
By giving a third parameter <code>&lt;count&gt;</code>, you can limit the
output to the first <code>&lt;count&gt;</code> lines, followed by <code>...</code> if
there are more.</p>

<p>These parameters can also be set individually with <code>--stat-width=&lt;width&gt;</code>,
<code>--stat-name-width=&lt;name-width&gt;</code> and <code>--stat-count=&lt;count&gt;</code>.</p>

</dd>
<dt> --compact-summary </dt>
<dd>
<p>Output a condensed summary of extended header information such
as file creations or deletions ("new" or "gone", optionally "+l"
if it’s a symlink) and mode changes ("+x" or "-x" for adding
or removing executable bit respectively) in diffstat. The
information is put between the filename part and the graph
part. Implies <code>--stat</code>.</p>
</dd>
<dt> --numstat </dt>
<dd>
<p>Similar to <code>--stat</code>, but shows number of added and
deleted lines in decimal notation and pathname without
abbreviation, to make it more machine friendly.  For
binary files, outputs two <code>-</code> instead of saying
<code>0 0</code>.</p>
</dd>
<dt> --shortstat </dt>
<dd>
<p>Output only the last line of the <code>--stat</code> format containing total
number of modified files, as well as number of added and deleted
lines.</p>
</dd>
<dt> -X[&lt;param1,param2,…<U+200B>&gt;] </dt>
<dt> --dirstat[=&lt;param1,param2,…<U+200B>&gt;] </dt>
<dd>
<p>Output the distribution of relative amount of changes for each
sub-directory. The behavior of <code>--dirstat</code> can be customized by
passing it a comma separated list of parameters.
The defaults are controlled by the <code>diff.dirstat</code> configuration
variable (see <a href="/docs/git-config">git-config[1]</a>).
The following parameters are available:</p>



<dl>
<dt> <code>changes</code> </dt>
<dd>
<p>Compute the dirstat numbers by counting the lines that have been
removed from the source, or added to the destination. This ignores
the amount of pure code movements within a file.  In other words,
rearranging lines in a file is not counted as much as other changes.
This is the default behavior when no parameter is given.</p>
</dd>
<dt> <code>lines</code> </dt>
<dd>
<p>Compute the dirstat numbers by doing the regular line-based diff
analysis, and summing the removed/added line counts. (For binary
files, count 64-byte chunks instead, since binary files have no
natural concept of lines). This is a more expensive <code>--dirstat</code>
behavior than the <code>changes</code> behavior, but it does count rearranged
lines within a file as much as other changes. The resulting output
is consistent with what you get from the other <code>--*stat</code> options.</p>
</dd>
<dt> <code>files</code> </dt>
<dd>
<p>Compute the dirstat numbers by counting the number of files changed.
Each changed file counts equally in the dirstat analysis. This is
the computationally cheapest <code>--dirstat</code> behavior, since it does
not have to look at the file contents at all.</p>
</dd>
<dt> <code>cumulative</code> </dt>
<dd>
<p>Count changes in a child directory for the parent directory as well.
Note that when using <code>cumulative</code>, the sum of the percentages
reported may exceed 100%. The default (non-cumulative) behavior can
be specified with the <code>noncumulative</code> parameter.</p>
</dd>
<dt> &lt;limit&gt; </dt>
<dd>
<p>An integer parameter specifies a cut-off percent (3% by default).
Directories contributing less than this percentage of the changes
are not shown in the output.</p>
</dd>
</dl>




<p>Example: The following will count changed files, while ignoring
directories with less than 10% of the total amount of changed files,
and accumulating child directory counts in the parent directories:
<code>--dirstat=files,10,cumulative</code>.</p>

</dd>
<dt> --cumulative </dt>
<dd>
<p>Synonym for --dirstat=cumulative</p>
</dd>
<dt> --dirstat-by-file[=&lt;param1,param2&gt;…<U+200B>] </dt>
<dd>
<p>Synonym for --dirstat=files,param1,param2…<U+200B></p>
</dd>
<dt> --summary </dt>
<dd>
<p>Output a condensed summary of extended header information
such as creations, renames and mode changes.</p>
</dd>
<dt> --patch-with-stat </dt>
<dd>
<p>Synonym for <code>-p --stat</code>.</p>
</dd>
<dt> -z </dt>
<dd>
<p>Separate the commits with NULs instead of with new newlines.</p>

<p>Also, when <code>--raw</code> or <code>--numstat</code> has been given, do not munge
pathnames and use NULs as output field terminators.</p>


<p>Without this option, pathnames with "unusual" characters are quoted as
explained for the configuration variable <code>core.quotePath</code> (see
<a href="/docs/git-config">git-config[1]</a>).</p>

</dd>
<dt> --name-only </dt>
<dd>
<p>Show only names of changed files. The file names are often encoded in UTF-8.
For more information see the discussion about encoding in the <a href="/docs/git-log">git-log[1]</a>
manual page.</p>
</dd>
<dt> --name-status </dt>
<dd>
<p>Show only names and status of changed files. See the description
of the <code>--diff-filter</code> option on what the status letters mean.
Just like <code>--name-only</code> the file names are often encoded in UTF-8.</p>
</dd>
<dt> --submodule[=&lt;format&gt;] </dt>
<dd>
<p>Specify how differences in submodules are shown.  When specifying
<code>--submodule=short</code> the <em>short</em> format is used.  This format just
shows the names of the commits at the beginning and end of the range.
When <code>--submodule</code> or <code>--submodule=log</code> is specified, the <em>log</em>
format is used.  This format lists the commits in the range like
<a href="/docs/git-submodule">git-submodule[1]</a> <code>summary</code> does.  When <code>--submodule=diff</code>
is specified, the <em>diff</em> format is used.  This format shows an
inline diff of the changes in the submodule contents between the
commit range.  Defaults to <code>diff.submodule</code> or the <em>short</em> format
if the config option is unset.</p>
</dd>
<dt> --color[=&lt;when&gt;] </dt>
<dd>
<p>Show colored diff.
<code>--color</code> (i.e. without <em>=&lt;when&gt;</em>) is the same as <code>--color=always</code>.
<em>&lt;when&gt;</em> can be one of <code>always</code>, <code>never</code>, or <code>auto</code>.</p>
</dd>
<dt> --no-color </dt>
<dd>
<p>Turn off colored diff.
It is the same as <code>--color=never</code>.</p>
</dd>
<dt> --color-moved[=&lt;mode&gt;] </dt>
<dd>
<p>Moved lines of code are colored differently.
The &lt;mode&gt; defaults to <em>no</em> if the option is not given
and to <em>zebra</em> if the option with no mode is given.
The mode must be one of:</p>



<dl>
<dt> no </dt>
<dd>
<p>Moved lines are not highlighted.</p>
</dd>
<dt> default </dt>
<dd>
<p>Is a synonym for <code>zebra</code>. This may change to a more sensible mode
in the future.</p>
</dd>
<dt> plain </dt>
<dd>
<p>Any line that is added in one location and was removed
in another location will be colored with <em>color.diff.newMoved</em>.
Similarly <em>color.diff.oldMoved</em> will be used for removed lines
that are added somewhere else in the diff. This mode picks up any
moved line, but it is not very useful in a review to determine
if a block of code was moved without permutation.</p>
</dd>
<dt> blocks </dt>
<dd>
<p>Blocks of moved text of at least 20 alphanumeric characters
are detected greedily. The detected blocks are
painted using either the <em>color.diff.{old,new}Moved</em> color.
Adjacent blocks cannot be told apart.</p>
</dd>
<dt> zebra </dt>
<dd>
<p>Blocks of moved text are detected as in <em>blocks</em> mode. The blocks
are painted using either the <em>color.diff.{old,new}Moved</em> color or
<em>color.diff.{old,new}MovedAlternative</em>. The change between
the two colors indicates that a new block was detected.</p>
</dd>
<dt> dimmed-zebra </dt>
<dd>
<p>Similar to <em>zebra</em>, but additional dimming of uninteresting parts
of moved code is performed. The bordering lines of two adjacent
blocks are considered interesting, the rest is uninteresting.
<code>dimmed_zebra</code> is a deprecated synonym.</p>
</dd>
</dl>



</dd>
<dt> --no-color-moved </dt>
<dd>
<p>Turn off move detection. This can be used to override configuration
settings. It is the same as <code>--color-moved=no</code>.</p>
</dd>
<dt> --color-moved-ws=&lt;modes&gt; </dt>
<dd>
<p>This configures how whitespace is ignored when performing the
move detection for <code>--color-moved</code>.
These modes can be given as a comma separated list:</p>



<dl>
<dt> no </dt>
<dd>
<p>Do not ignore whitespace when performing move detection.</p>
</dd>
<dt> ignore-space-at-eol </dt>
<dd>
<p>Ignore changes in whitespace at EOL.</p>
</dd>
<dt> ignore-space-change </dt>
<dd>
<p>Ignore changes in amount of whitespace.  This ignores whitespace
at line end, and considers all other sequences of one or
more whitespace characters to be equivalent.</p>
</dd>
<dt> ignore-all-space </dt>
<dd>
<p>Ignore whitespace when comparing lines. This ignores differences
even if one line has whitespace where the other line has none.</p>
</dd>
<dt> allow-indentation-change </dt>
<dd>
<p>Initially ignore any whitespace in the move detection, then
group the moved code blocks only into a block if the change in
whitespace is the same per line. This is incompatible with the
other modes.</p>
</dd>
</dl>



</dd>
<dt> --no-color-moved-ws </dt>
<dd>
<p>Do not ignore whitespace when performing move detection. This can be
used to override configuration settings. It is the same as
<code>--color-moved-ws=no</code>.</p>
</dd>
<dt> --word-diff[=&lt;mode&gt;] </dt>
<dd>
<p>Show a word diff, using the &lt;mode&gt; to delimit changed words.
By default, words are delimited by whitespace; see
<code>--word-diff-regex</code> below.  The &lt;mode&gt; defaults to <em>plain</em>, and
must be one of:</p>



<dl>
<dt> color </dt>
<dd>
<p>Highlight changed words using only colors.  Implies <code>--color</code>.</p>
</dd>
<dt> plain </dt>
<dd>
<p>Show words as <code>[-removed-]</code> and <code>{+added+}</code>.  Makes no
attempts to escape the delimiters if they appear in the input,
so the output may be ambiguous.</p>
</dd>
<dt> porcelain </dt>
<dd>
<p>Use a special line-based format intended for script
consumption.  Added/removed/unchanged runs are printed in the
usual unified diff format, starting with a <code>+</code>/<code>-</code>/` `
character at the beginning of the line and extending to the
end of the line.  Newlines in the input are represented by a
tilde <code>~</code> on a line of its own.</p>
</dd>
<dt> none </dt>
<dd>
<p>Disable word diff again.</p>
</dd>
</dl>




<p>Note that despite the name of the first mode, color is used to
highlight the changed parts in all modes if enabled.</p>

</dd>
<dt> --word-diff-regex=&lt;regex&gt; </dt>
<dd>
<p>Use &lt;regex&gt; to decide what a word is, instead of considering
runs of non-whitespace to be a word.  Also implies
<code>--word-diff</code> unless it was already enabled.</p>

<p>Every non-overlapping match of the
&lt;regex&gt; is considered a word.  Anything between these matches is
considered whitespace and ignored(!) for the purposes of finding
differences.  You may want to append <code>|[^[:space:]]</code> to your regular
expression to make sure that it matches all non-whitespace characters.
A match that contains a newline is silently truncated(!) at the
newline.</p>


<p>For example, <code>--word-diff-regex=.</code> will treat each character as a word
and, correspondingly, show differences character by character.</p>


<p>The regex can also be set via a diff driver or configuration option, see
<a href="/docs/gitattributes">gitattributes[5]</a> or <a href="/docs/git-config">git-config[1]</a>.  Giving it explicitly
overrides any diff driver or configuration setting.  Diff drivers
override configuration settings.</p>

</dd>
<dt> --color-words[=&lt;regex&gt;] </dt>
<dd>
<p>Equivalent to <code>--word-diff=color</code> plus (if a regex was
specified) <code>--word-diff-regex=&lt;regex&gt;</code>.</p>
</dd>
<dt> --no-renames </dt>
<dd>
<p>Turn off rename detection, even when the configuration
file gives the default to do so.</p>
</dd>
<dt> --[no-]rename-empty </dt>
<dd>
<p>Whether to use empty blobs as rename source.</p>
</dd>
<dt> --check </dt>
<dd>
<p>Warn if changes introduce conflict markers or whitespace errors.
What are considered whitespace errors is controlled by <code>core.whitespace</code>
configuration.  By default, trailing whitespaces (including
lines that consist solely of whitespaces) and a space character
that is immediately followed by a tab character inside the
initial indent of the line are considered whitespace errors.
Exits with non-zero status if problems are found. Not compatible
with --exit-code.</p>
</dd>
<dt> --ws-error-highlight=&lt;kind&gt; </dt>
<dd>
<p>Highlight whitespace errors in the <code>context</code>, <code>old</code> or <code>new</code>
lines of the diff.  Multiple values are separated by comma,
<code>none</code> resets previous values, <code>default</code> reset the list to
<code>new</code> and <code>all</code> is a shorthand for <code>old,new,context</code>.  When
this option is not given, and the configuration variable
<code>diff.wsErrorHighlight</code> is not set, only whitespace errors in
<code>new</code> lines are highlighted. The whitespace errors are colored
with <code>color.diff.whitespace</code>.</p>
</dd>
<dt> --full-index </dt>
<dd>
<p>Instead of the first handful of characters, show the full
pre- and post-image blob object names on the "index"
line when generating patch format output.</p>
</dd>
<dt> --binary </dt>
<dd>
<p>In addition to <code>--full-index</code>, output a binary diff that
can be applied with <code>git-apply</code>.
Implies <code>--patch</code>.</p>
</dd>
<dt> --abbrev[=&lt;n&gt;] </dt>
<dd>
<p>Instead of showing the full 40-byte hexadecimal object
name in diff-raw format output and diff-tree header
lines, show the shortest prefix that is at least <em>&lt;n&gt;</em>
hexdigits long that uniquely refers the object.
In diff-patch output format, <code>--full-index</code> takes higher
precedence, i.e. if <code>--full-index</code> is specified, full blob
names will be shown regardless of <code>--abbrev</code>.
Non default number of digits can be specified with <code>--abbrev=&lt;n&gt;</code>.</p>
</dd>
<dt> -B[&lt;n&gt;][/&lt;m&gt;] </dt>
<dt> --break-rewrites[=[&lt;n&gt;][/&lt;m&gt;]] </dt>
<dd>
<p>Break complete rewrite changes into pairs of delete and
create. This serves two purposes:</p>

<p>It affects the way a change that amounts to a total rewrite of a file
not as a series of deletion and insertion mixed together with a very
few lines that happen to match textually as the context, but as a
single deletion of everything old followed by a single insertion of
everything new, and the number <code>m</code> controls this aspect of the -B
option (defaults to 60%). <code>-B/70%</code> specifies that less than 30% of the
original should remain in the result for Git to consider it a total
rewrite (i.e. otherwise the resulting patch will be a series of
deletion and insertion mixed together with context lines).</p>


<p>When used with -M, a totally-rewritten file is also considered as the
source of a rename (usually -M only considers a file that disappeared
as the source of a rename), and the number <code>n</code> controls this aspect of
the -B option (defaults to 50%). <code>-B20%</code> specifies that a change with
addition and deletion compared to 20% or more of the file’s size are
eligible for being picked up as a possible source of a rename to
another file.</p>

</dd>
<dt> -M[&lt;n&gt;] </dt>
<dt> --find-renames[=&lt;n&gt;] </dt>
<dd>
<p>If generating diffs, detect and report renames for each commit.
For following files across renames while traversing history, see
<code>--follow</code>.
If <code>n</code> is specified, it is a threshold on the similarity
index (i.e. amount of addition/deletions compared to the
file’s size). For example, <code>-M90%</code> means Git should consider a
delete/add pair to be a rename if more than 90% of the file
hasn’t changed.  Without a <code>%</code> sign, the number is to be read as
a fraction, with a decimal point before it.  I.e., <code>-M5</code> becomes
0.5, and is thus the same as <code>-M50%</code>.  Similarly, <code>-M05</code> is
the same as <code>-M5%</code>.  To limit detection to exact renames, use
<code>-M100%</code>.  The default similarity index is 50%.</p>
</dd>
<dt> -C[&lt;n&gt;] </dt>
<dt> --find-copies[=&lt;n&gt;] </dt>
<dd>
<p>Detect copies as well as renames.  See also <code>--find-copies-harder</code>.
If <code>n</code> is specified, it has the same meaning as for <code>-M&lt;n&gt;</code>.</p>
</dd>
<dt> --find-copies-harder </dt>
<dd>
<p>For performance reasons, by default, <code>-C</code> option finds copies only
if the original file of the copy was modified in the same
changeset.  This flag makes the command
inspect unmodified files as candidates for the source of
copy.  This is a very expensive operation for large
projects, so use it with caution.  Giving more than one
<code>-C</code> option has the same effect.</p>
</dd>
<dt> -D </dt>
<dt> --irreversible-delete </dt>
<dd>
<p>Omit the preimage for deletes, i.e. print only the header but not
the diff between the preimage and <code>/dev/null</code>. The resulting patch
is not meant to be applied with <code>patch</code> or <code>git apply</code>; this is
solely for people who want to just concentrate on reviewing the
text after the change. In addition, the output obviously lacks
enough information to apply such a patch in reverse, even manually,
hence the name of the option.</p>

<p>When used together with <code>-B</code>, omit also the preimage in the deletion part
of a delete/create pair.</p>

</dd>
<dt> -l&lt;num&gt; </dt>
<dd>
<p>The <code>-M</code> and <code>-C</code> options involve some preliminary steps that
can detect subsets of renames/copies cheaply, followed by an
exhaustive fallback portion that compares all remaining
unpaired destinations to all relevant sources.  (For renames,
only remaining unpaired sources are relevant; for copies, all
original sources are relevant.)  For N sources and
destinations, this exhaustive check is O(N^2).  This option
prevents the exhaustive portion of rename/copy detection from
running if the number of source/destination files involved
exceeds the specified number.  Defaults to diff.renameLimit.
Note that a value of 0 is treated as unlimited.</p>
</dd>
<dt> --diff-filter=[(A|C|D|M|R|T|U|X|B)…<U+200B>[*]] </dt>
<dd>
<p>Select only files that are Added (<code>A</code>), Copied (<code>C</code>),
Deleted (<code>D</code>), Modified (<code>M</code>), Renamed (<code>R</code>), have their
type (i.e. regular file, symlink, submodule, …<U+200B>) changed (<code>T</code>),
are Unmerged (<code>U</code>), are
Unknown (<code>X</code>), or have had their pairing Broken (<code>B</code>).
Any combination of the filter characters (including none) can be used.
When <code>*</code> (All-or-none) is added to the combination, all
paths are selected if there is any file that matches
other criteria in the comparison; if there is no file
that matches other criteria, nothing is selected.</p>

<p>Also, these upper-case letters can be downcased to exclude.  E.g.
<code>--diff-filter=ad</code> excludes added and deleted paths.</p>


<p>Note that not all diffs can feature all types. For instance, diffs
from the index to the working tree can never have Added entries
(because the set of paths included in the diff is limited by what is in
the index).  Similarly, copied and renamed entries cannot appear if
detection for those types is disabled.</p>

</dd>
<dt> -S&lt;string&gt; </dt>
<dd>
<p>Look for differences that change the number of occurrences of
the specified string (i.e. addition/deletion) in a file.
Intended for the scripter’s use.</p>

<p>It is useful when you’re looking for an exact block of code (like a
struct), and want to know the history of that block since it first
came into being: use the feature iteratively to feed the interesting
block in the preimage back into <code>-S</code>, and keep going until you get the
very first version of the block.</p>


<p>Binary files are searched as well.</p>

</dd>
<dt> -G&lt;regex&gt; </dt>
<dd>
<p>Look for differences whose patch text contains added/removed
lines that match &lt;regex&gt;.</p>

<p>To illustrate the difference between <code>-S&lt;regex&gt; --pickaxe-regex</code> and
<code>-G&lt;regex&gt;</code>, consider a commit with the following diff in the same
file:</p>



<pre>+    return frotz(nitfol, two-&gt;ptr, 1, 0);
...
-    hit = frotz(nitfol, mf2.ptr, 1, 0);</pre>



<p>While <code>git log -G"frotz\(nitfol"</code> will show this commit, <code>git log
-S"frotz\(nitfol" --pickaxe-regex</code> will not (because the number of
occurrences of that string did not change).</p>


<p>Unless <code>--text</code> is supplied patches of binary files without a textconv
filter will be ignored.</p>


<p>See the <em>pickaxe</em> entry in <a href="/docs/gitdiffcore">gitdiffcore[7]</a> for more
information.</p>

</dd>
<dt> --find-object=&lt;object-id&gt; </dt>
<dd>
<p>Look for differences that change the number of occurrences of
the specified object. Similar to <code>-S</code>, just the argument is different
in that it doesn’t search for a specific string but for a specific
object id.</p>

<p>The object can be a blob or a submodule commit. It implies the <code>-t</code> option in
<code>git-log</code> to also find trees.</p>

</dd>
<dt> --pickaxe-all </dt>
<dd>
<p>When <code>-S</code> or <code>-G</code> finds a change, show all the changes in that
changeset, not just the files that contain the change
in &lt;string&gt;.</p>
</dd>
<dt> --pickaxe-regex </dt>
<dd>
<p>Treat the &lt;string&gt; given to <code>-S</code> as an extended POSIX regular
expression to match.</p>
</dd>
<dt> -O&lt;orderfile&gt; </dt>
<dd>
<p>Control the order in which files appear in the output.
This overrides the <code>diff.orderFile</code> configuration variable
(see <a href="/docs/git-config">git-config[1]</a>).  To cancel <code>diff.orderFile</code>,
use <code>-O/dev/null</code>.</p>

<p>The output order is determined by the order of glob patterns in
&lt;orderfile&gt;.
All files with pathnames that match the first pattern are output
first, all files with pathnames that match the second pattern (but not
the first) are output next, and so on.
All files with pathnames that do not match any pattern are output
last, as if there was an implicit match-all pattern at the end of the
file.
If multiple pathnames have the same rank (they match the same pattern
but no earlier patterns), their output order relative to each other is
the normal order.</p>


<p>&lt;orderfile&gt; is parsed as follows:</p>




<ul>
<li>
<p>Blank lines are ignored, so they can be used as separators for
readability.</p>
</li>
<li>
<p>Lines starting with a hash ("<code>#</code>") are ignored, so they can be used
for comments.  Add a backslash ("<code>\</code>") to the beginning of the
pattern if it starts with a hash.</p>
</li>
<li>
<p>Each other line contains a single pattern.</p>
</li>
</ul>




<p>Patterns have the same syntax and semantics as patterns used for
fnmatch(3) without the FNM_PATHNAME flag, except a pathname also
matches a pattern if removing any number of the final pathname
components matches the pattern.  For example, the pattern "<code>foo*bar</code>"
matches "<code>fooasdfbar</code>" and "<code>foo/bar/baz/asdf</code>" but not "<code>foobarx</code>".</p>

</dd>
<dt> --skip-to=&lt;file&gt; </dt>
<dt> --rotate-to=&lt;file&gt; </dt>
<dd>
<p>Discard the files before the named &lt;file&gt; from the output
(i.e. <em>skip to</em>), or move them to the end of the output
(i.e. <em>rotate to</em>).  These were invented primarily for use
of the <code>git difftool</code> command, and may not be very useful
otherwise.</p>
</dd>
<dt> -R </dt>
<dd>
<p>Swap two inputs; that is, show differences from index or
on-disk file to tree contents.</p>
</dd>
<dt> --relative[=&lt;path&gt;] </dt>
<dt> --no-relative </dt>
<dd>
<p>When run from a subdirectory of the project, it can be
told to exclude changes outside the directory and show
pathnames relative to it with this option.  When you are
not in a subdirectory (e.g. in a bare repository), you
can name which subdirectory to make the output relative
to by giving a &lt;path&gt; as an argument.
<code>--no-relative</code> can be used to countermand both <code>diff.relative</code> config
option and previous <code>--relative</code>.</p>
</dd>
<dt> -a </dt>
<dt> --text </dt>
<dd>
<p>Treat all files as text.</p>
</dd>
<dt> --ignore-cr-at-eol </dt>
<dd>
<p>Ignore carriage-return at the end of line when doing a comparison.</p>
</dd>
<dt> --ignore-space-at-eol </dt>
<dd>
<p>Ignore changes in whitespace at EOL.</p>
</dd>
<dt> -b </dt>
<dt> --ignore-space-change </dt>
<dd>
<p>Ignore changes in amount of whitespace.  This ignores whitespace
at line end, and considers all other sequences of one or
more whitespace characters to be equivalent.</p>
</dd>
<dt> -w </dt>
<dt> --ignore-all-space </dt>
<dd>
<p>Ignore whitespace when comparing lines.  This ignores
differences even if one line has whitespace where the other
line has none.</p>
</dd>
<dt> --ignore-blank-lines </dt>
<dd>
<p>Ignore changes whose lines are all blank.</p>
</dd>
<dt> -I&lt;regex&gt; </dt>
<dt> --ignore-matching-lines=&lt;regex&gt; </dt>
<dd>
<p>Ignore changes whose all lines match &lt;regex&gt;.  This option may
be specified more than once.</p>
</dd>
<dt> --inter-hunk-context=&lt;lines&gt; </dt>
<dd>
<p>Show the context between diff hunks, up to the specified number
of lines, thereby fusing hunks that are close to each other.
Defaults to <code>diff.interHunkContext</code> or 0 if the config option
is unset.</p>
</dd>
<dt> -W </dt>
<dt> --function-context </dt>
<dd>
<p>Show whole function as context lines for each change.
The function names are determined in the same way as
<code>git diff</code> works out patch hunk headers (see <em>Defining a
custom hunk-header</em> in <a href="/docs/gitattributes">gitattributes[5]</a>).</p>
</dd>
<dt> --ext-diff </dt>
<dd>
<p>Allow an external diff helper to be executed. If you set an
external diff driver with <a href="/docs/gitattributes">gitattributes[5]</a>, you need
to use this option with <a href="/docs/git-log">git-log[1]</a> and friends.</p>
</dd>
<dt> --no-ext-diff </dt>
<dd>
<p>Disallow external diff drivers.</p>
</dd>
<dt> --textconv </dt>
<dt> --no-textconv </dt>
<dd>
<p>Allow (or disallow) external text conversion filters to be run
when comparing binary files. See <a href="/docs/gitattributes">gitattributes[5]</a> for
details. Because textconv filters are typically a one-way
conversion, the resulting diff is suitable for human
consumption, but cannot be applied. For this reason, textconv
filters are enabled by default only for <a href="/docs/git-diff">git-diff[1]</a> and
<a href="/docs/git-log">git-log[1]</a>, but not for <a href="/docs/git-format-patch">git-format-patch[1]</a> or
diff plumbing commands.</p>
</dd>
<dt> --ignore-submodules[=&lt;when&gt;] </dt>
<dd>
<p>Ignore changes to submodules in the diff generation. &lt;when&gt; can be
either "none", "untracked", "dirty" or "all", which is the default.
Using "none" will consider the submodule modified when it either contains
untracked or modified files or its HEAD differs from the commit recorded
in the superproject and can be used to override any settings of the
<em>ignore</em> option in <a href="/docs/git-config">git-config[1]</a> or <a href="/docs/gitmodules">gitmodules[5]</a>. When
"untracked" is used submodules are not considered dirty when they only
contain untracked content (but they are still scanned for modified
content). Using "dirty" ignores all changes to the work tree of submodules,
only changes to the commits stored in the superproject are shown (this was
the behavior until 1.7.0). Using "all" hides all changes to submodules.</p>
</dd>
<dt> --src-prefix=&lt;prefix&gt; </dt>
<dd>
<p>Show the given source prefix instead of "a/".</p>
</dd>
<dt> --dst-prefix=&lt;prefix&gt; </dt>
<dd>
<p>Show the given destination prefix instead of "b/".</p>
</dd>
<dt> --no-prefix </dt>
<dd>
<p>Do not show any source or destination prefix.</p>
</dd>
<dt> --line-prefix=&lt;prefix&gt; </dt>
<dd>
<p>Prepend an additional prefix to every line of output.</p>
</dd>
<dt> --ita-invisible-in-index </dt>
<dd>
<p>By default entries added by "git add -N" appear as an existing
empty file in "git diff" and a new file in "git diff --cached".
This option makes the entry appear as a new file in "git diff"
and non-existent in "git diff --cached". This option could be
reverted with <code>--ita-visible-in-index</code>. Both options are
experimental and could be removed in future.</p>
</dd>
</dl>


<p>For more detailed explanation on these common options, see also
<a href="/docs/gitdiffcore">gitdiffcore[7]</a>.</p>




<h2>Generating patch text with -p</h2>


<p>Running
<a href="/docs/git-diff">git-diff[1]</a>,
<a href="/docs/git-log">git-log[1]</a>,
<a href="/docs/git-show">git-show[1]</a>,
<a href="/docs/git-diff-index">git-diff-index[1]</a>,
<a href="/docs/git-diff-tree">git-diff-tree[1]</a>, or
<a href="/docs/git-diff-files">git-diff-files[1]</a>
with the <code>-p</code> option produces patch text.
You can customize the creation of patch text via the
<code>GIT_EXTERNAL_DIFF</code> and the <code>GIT_DIFF_OPTS</code> environment variables
(see <a href="/docs/git">git[1]</a>), and the <code>diff</code> attribute (see <a href="/docs/gitattributes">gitattributes[5]</a>).</p>


<p>What the -p option produces is slightly different from the traditional
diff format:</p>


<ol>
<li>
<p>It is preceded with a "git diff" header that looks like this:</p>


<pre>diff --git a/file1 b/file2</pre>



<p>The <code>a/</code> and <code>b/</code> filenames are the same unless rename/copy is
involved.  Especially, even for a creation or a deletion,
<code>/dev/null</code> is <em>not</em> used in place of the <code>a/</code> or <code>b/</code> filenames.</p>


<p>When rename/copy is involved, <code>file1</code> and <code>file2</code> show the
name of the source file of the rename/copy and the name of
the file that rename/copy produces, respectively.</p>

</li>
<li>
<p>It is followed by one or more extended header lines:</p>


<pre>old mode &lt;mode&gt;
new mode &lt;mode&gt;
deleted file mode &lt;mode&gt;
new file mode &lt;mode&gt;
copy from &lt;path&gt;
copy to &lt;path&gt;
rename from &lt;path&gt;
rename to &lt;path&gt;
similarity index &lt;number&gt;
dissimilarity index &lt;number&gt;
index &lt;hash&gt;..&lt;hash&gt; &lt;mode&gt;</pre>



<p>File modes are printed as 6-digit octal numbers including the file type
and file permission bits.</p>


<p>Path names in extended headers do not include the <code>a/</code> and <code>b/</code> prefixes.</p>


<p>The similarity index is the percentage of unchanged lines, and
the dissimilarity index is the percentage of changed lines.  It
is a rounded down integer, followed by a percent sign.  The
similarity index value of 100% is thus reserved for two equal
files, while 100% dissimilarity means that no line from the old
file made it into the new one.</p>


<p>The index line includes the blob object names before and after the change.
The &lt;mode&gt; is included if the file mode does not change; otherwise,
separate lines indicate the old and the new mode.</p>

</li>
<li>
<p>Pathnames with "unusual" characters are quoted as explained for
the configuration variable <code>core.quotePath</code> (see
<a href="/docs/git-config">git-config[1]</a>).</p>
</li>
<li>
<p>All the <code>file1</code> files in the output refer to files before the
commit, and all the <code>file2</code> files refer to files after the commit.
It is incorrect to apply each change to each file sequentially.  For
example, this patch will swap a and b:</p>


<pre>diff --git a/a b/b
rename from a
rename to b
diff --git a/b b/a
rename from b
rename to a</pre>


</li>
<li>
<p>Hunk headers mention the name of the function to which the hunk
applies.  See "Defining a custom hunk-header" in
<a href="/docs/gitattributes">gitattributes[5]</a> for details of how to tailor to this to
specific languages.</p>
</li>
</ol>




<h2>Combined diff format</h2>


<p>Any diff-generating command can take the <code>-c</code> or <code>--cc</code> option to
produce a <em>combined diff</em> when showing a merge. This is the default
format when showing merges with <a href="/docs/git-diff">git-diff[1]</a> or
<a href="/docs/git-show">git-show[1]</a>. Note also that you can give suitable
<code>--diff-merges</code> option to any of these commands to force generation of
diffs in specific format.</p>


<p>A "combined diff" format looks like this:</p>



<pre>diff --combined describe.c
index fabadb8,cc95eb0..4866510
--- a/describe.c
+++ b/describe.c
@@@ -98,20 -98,12 +98,20 @@@
	return (a_date &gt; b_date) ? -1 : (a_date == b_date) ? 0 : 1;
  }

- static void describe(char *arg)
 -static void describe(struct commit *cmit, int last_one)
++static void describe(char *arg, int last_one)
  {
 +	unsigned char sha1[20];
 +	struct commit *cmit;
	struct commit_list *list;
	static int initialized = 0;
	struct commit_name *n;

 +	if (get_sha1(arg, sha1) &lt; 0)
 +		usage(describe_usage);
 +	cmit = lookup_commit_reference(sha1);
 +	if (!cmit)
 +		usage(describe_usage);
 +
	if (!initialized) {
		initialized = 1;
		for_each_ref(get_name);</pre>



<ol>
<li>
<p>It is preceded with a "git diff" header, that looks like
this (when the <code>-c</code> option is used):</p>


<pre>diff --combined file</pre>



<p>or like this (when the <code>--cc</code> option is used):</p>



<pre>diff --cc file</pre>


</li>
<li>
<p>It is followed by one or more extended header lines
(this example shows a merge with two parents):</p>


<pre>index &lt;hash&gt;,&lt;hash&gt;..&lt;hash&gt;
mode &lt;mode&gt;,&lt;mode&gt;..&lt;mode&gt;
new file mode &lt;mode&gt;
deleted file mode &lt;mode&gt;,&lt;mode&gt;</pre>



<p>The <code>mode &lt;mode&gt;,&lt;mode&gt;..&lt;mode&gt;</code> line appears only if at least one of
the &lt;mode&gt; is different from the rest. Extended headers with
information about detected contents movement (renames and
copying detection) are designed to work with diff of two
&lt;tree-ish&gt; and are not used by combined diff format.</p>

</li>
<li>
<p>It is followed by two-line from-file/to-file header</p>


<pre>--- a/file
+++ b/file</pre>



<p>Similar to two-line header for traditional <em>unified</em> diff
format, <code>/dev/null</code> is used to signal created or deleted
files.</p>


<p>However, if the --combined-all-paths option is provided, instead of a
two-line from-file/to-file you get a N+1 line from-file/to-file header,
where N is the number of parents in the merge commit</p>



<pre>--- a/file
--- a/file
--- a/file
+++ b/file</pre>



<p>This extended format can be useful if rename or copy detection is
active, to allow you to see the original name of the file in different
parents.</p>

</li>
<li>
<p>Chunk header format is modified to prevent people from
accidentally feeding it to <code>patch -p1</code>. Combined diff format
was created for review of merge commit changes, and was not
meant to be applied. The change is similar to the change in the
extended <em>index</em> header:</p>


<pre>@@@ &lt;from-file-range&gt; &lt;from-file-range&gt; &lt;to-file-range&gt; @@@</pre>



<p>There are (number of parents + 1) <code>@</code> characters in the chunk
header for combined diff format.</p>

</li>
</ol>


<p>Unlike the traditional <em>unified</em> diff format, which shows two
files A and B with a single column that has <code>-</code> (minus<U+2009>—<U+2009>appears in A but removed in B), <code>+</code> (plus<U+2009>—<U+2009>missing in A but
added to B), or <code>" "</code> (space<U+2009>—<U+2009>unchanged) prefix, this format
compares two or more files file1, file2,…<U+200B> with one file X, and
shows how X differs from each of fileN.  One column for each of
fileN is prepended to the output line to note how X’s line is
different from it.</p>


<p>A <code>-</code> character in the column N means that the line appears in
fileN but it does not appear in the result.  A <code>+</code> character
in the column N means that the line appears in the result,
and fileN does not have that line (in other words, the line was
added, from the point of view of that parent).</p>


<p>In the above example output, the function signature was changed
from both files (hence two <code>-</code> removals from both file1 and
file2, plus <code>++</code> to mean one line that was added does not appear
in either file1 or file2).  Also eight other lines are the same
from file1 but do not appear in file2 (hence prefixed with <code>+</code>).</p>


<p>When shown by <code>git diff-tree -c</code>, it compares the parents of a
merge commit with the merge result (i.e. file1..fileN are the
parents).  When shown by <code>git diff-files -c</code>, it compares the
two unresolved merge parents with the working tree file
(i.e. file1 is stage 2 aka "our version", file2 is stage 3 aka
"their version").</p>




<h2>examples</h2>


<dl>
<dt> <code>git log --no-merges</code> </dt>
<dd>
<p>Show the whole commit history, but skip any merges</p>
</dd>
<dt> <code>git log v2.6.12.. include/scsi drivers/scsi</code> </dt>
<dd>
<p>Show all commits since version <em>v2.6.12</em> that changed any file
in the <code>include/scsi</code> or <code>drivers/scsi</code> subdirectories</p>
</dd>
<dt> <code>git log --since="2 weeks ago" -- gitk</code> </dt>
<dd>
<p>Show the changes during the last two weeks to the file <em>gitk</em>.
The <code>--</code> is necessary to avoid confusion with the <strong>branch</strong> named
<em>gitk</em></p>
</dd>
<dt> <code>git log --name-status release..test</code> </dt>
<dd>
<p>Show the commits that are in the "test" branch but not yet
in the "release" branch, along with the list of paths
each commit modifies.</p>
</dd>
<dt> <code>git log --follow builtin/rev-list.c</code> </dt>
<dd>
<p>Shows the commits that changed <code>builtin/rev-list.c</code>, including
those commits that occurred before the file was given its
present name.</p>
</dd>
<dt> <code>git log --branches --not --remotes=origin</code> </dt>
<dd>
<p>Shows all commits that are in any of local branches but not in
any of remote-tracking branches for <em>origin</em> (what you have that
origin doesn’t).</p>
</dd>
<dt> <code>git log master --not --remotes=*/master</code> </dt>
<dd>
<p>Shows all commits that are in local master but not in any remote
repository master branches.</p>
</dd>
<dt> <code>git log -p -m --first-parent</code> </dt>
<dd>
<p>Shows the history including change diffs, but only from the
“main branch” perspective, skipping commits that come from merged
branches, and showing full diffs of changes introduced by the merges.
This makes sense only when following a strict policy of merging all
topic branches when staying on a single integration branch.</p>
</dd>
<dt> <code>git log -L '/int main/',/^}/:main.c</code> </dt>
<dd>
<p>Shows how the function <code>main()</code> in the file <code>main.c</code> evolved
over time.</p>
</dd>
<dt> <code>git log -3</code> </dt>
<dd>
<p>Limits the number of commits to show to 3.</p>
</dd>
</dl>




<h2>DISCUSSION</h2>


<p>Git is to some extent character encoding agnostic.</p>


<ul>
<li>
<p>The contents of the blob objects are uninterpreted sequences
of bytes.  There is no encoding translation at the core
level.</p>
</li>
<li>
<p>Path names are encoded in UTF-8 normalization form C. This
applies to tree objects, the index file, ref names, as well as
path names in command line arguments, environment variables
and config files (<code>.git/config</code> (see <a href="/docs/git-config">git-config[1]</a>),
<a href="/docs/gitignore">gitignore[5]</a>, <a href="/docs/gitattributes">gitattributes[5]</a> and
<a href="/docs/gitmodules">gitmodules[5]</a>).</p>

<p>Note that Git at the core level treats path names simply as
sequences of non-NUL bytes, there are no path name encoding
conversions (except on Mac and Windows). Therefore, using
non-ASCII path names will mostly work even on platforms and file
systems that use legacy extended ASCII encodings. However,
repositories created on such systems will not work properly on
UTF-8-based systems (e.g. Linux, Mac, Windows) and vice versa.
Additionally, many Git-based tools simply assume path names to
be UTF-8 and will fail to display other encodings correctly.</p>

</li>
<li>
<p>Commit log messages are typically encoded in UTF-8, but other
extended ASCII encodings are also supported. This includes
ISO-8859-x, CP125x and many others, but <em>not</em> UTF-16/32,
EBCDIC and CJK multi-byte encodings (GBK, Shift-JIS, Big5,
EUC-x, CP9xx etc.).</p>
</li>
</ul>


<p>Although we encourage that the commit log messages are encoded
in UTF-8, both the core and Git Porcelain are designed not to
force UTF-8 on projects.  If all participants of a particular
project find it more convenient to use legacy encodings, Git
does not forbid it.  However, there are a few things to keep in
mind.</p>


<ol>
<li>
<p><em>git commit</em> and <em>git commit-tree</em> issues
a warning if the commit log message given to it does not look
like a valid UTF-8 string, unless you explicitly say your
project uses a legacy encoding.  The way to say this is to
have <code>i18n.commitEncoding</code> in <code>.git/config</code> file, like this:</p>


<pre>[i18n]
	commitEncoding = ISO-8859-1</pre>



<p>Commit objects created with the above setting record the value
of <code>i18n.commitEncoding</code> in its <code>encoding</code> header.  This is to
help other people who look at them later.  Lack of this header
implies that the commit log message is encoded in UTF-8.</p>

</li>
<li>
<p><em>git log</em>, <em>git show</em>, <em>git blame</em> and friends look at the
<code>encoding</code> header of a commit object, and try to re-code the
log message into UTF-8 unless otherwise specified.  You can
specify the desired output encoding with
<code>i18n.logOutputEncoding</code> in <code>.git/config</code> file, like this:</p>


<pre>[i18n]
	logOutputEncoding = ISO-8859-1</pre>



<p>If you do not have this configuration variable, the value of
<code>i18n.commitEncoding</code> is used instead.</p>

</li>
</ol>


<p>Note that we deliberately chose not to re-code the commit log
message when a commit is made to force UTF-8 at the commit
object level, because re-coding to UTF-8 is not necessarily a
reversible operation.</p>




<h2>CONFIGURATION</h2>


<p>See <a href="/docs/git-config">git-config[1]</a> for core variables and <a href="/docs/git-diff">git-diff[1]</a>
for settings related to diff generation.</p>


<dl>
<dt> format.pretty </dt>
<dd>
<p>Default for the <code>--format</code> option.  (See <em>Pretty Formats</em> above.)
Defaults to <code>medium</code>.</p>
</dd>
<dt> i18n.logOutputEncoding </dt>
<dd>
<p>Encoding to use when displaying logs.  (See <em>Discussion</em> above.)
Defaults to the value of <code>i18n.commitEncoding</code> if set, and UTF-8
otherwise.</p>
</dd>
<dt> log.date </dt>
<dd>
<p>Default format for human-readable dates.  (Compare the
<code>--date</code> option.)  Defaults to "default", which means to write
dates like <code>Sat May 8 19:35:34 2010 -0500</code>.</p>

<p>If the format is set to "auto:foo" and the pager is in use, format
"foo" will be the used for the date format. Otherwise "default" will
be used.</p>

</dd>
<dt> log.follow </dt>
<dd>
<p>If <code>true</code>, <code>git log</code> will act as if the <code>--follow</code> option was used when
a single &lt;path&gt; is given.  This has the same limitations as <code>--follow</code>,
i.e. it cannot be used to follow multiple files and does not work well
on non-linear history.</p>
</dd>
<dt> log.showRoot </dt>
<dd>
<p>If <code>false</code>, <code>git log</code> and related commands will not treat the
initial commit as a big creation event.  Any root commits in
<code>git log -p</code> output would be shown without a diff attached.
The default is <code>true</code>.</p>
</dd>
<dt> log.showSignature </dt>
<dd>
<p>If <code>true</code>, <code>git log</code> and related commands will act as if the
<code>--show-signature</code> option was passed to them.</p>
</dd>
<dt> mailmap.* </dt>
<dd>
<p>See <a href="/docs/git-shortlog">git-shortlog[1]</a>.</p>
</dd>
<dt> notes.displayRef </dt>
<dd>
<p>Which refs, in addition to the default set by <code>core.notesRef</code>
or <code>GIT_NOTES_REF</code>, to read notes from when showing commit
messages with the <code>log</code> family of commands.  See
<a href="/docs/git-notes">git-notes[1]</a>.</p>

<p>May be an unabbreviated ref name or a glob and may be specified
multiple times.  A warning will be issued for refs that do not exist,
but a glob that does not match any refs is silently ignored.</p>


<p>This setting can be disabled by the <code>--no-notes</code> option,
overridden by the <code>GIT_NOTES_DISPLAY_REF</code> environment variable,
and overridden by the <code>--notes=&lt;ref&gt;</code> option.</p>

</dd>
</dl>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-diff - Show changes between commits, commit and working tree, etc</span></h2>




<h2><br>synopsis</h2>


<pre><em>git diff</em> [&lt;options&gt;] [&lt;commit&gt;] [--] [&lt;path&gt;…<U+200B>]
<em>git diff</em> [&lt;options&gt;] --cached [--merge-base] [&lt;commit&gt;] [--] [&lt;path&gt;…<U+200B>]
<em>git diff</em> [&lt;options&gt;] [--merge-base] &lt;commit&gt; [&lt;commit&gt;…<U+200B>] &lt;commit&gt; [--] [&lt;path&gt;…<U+200B>]
<em>git diff</em> [&lt;options&gt;] &lt;commit&gt;…<U+200B>&lt;commit&gt; [--] [&lt;path&gt;…<U+200B>]
<em>git diff</em> [&lt;options&gt;] &lt;blob&gt; &lt;blob&gt;
<em>git diff</em> [&lt;options&gt;] --no-index [--] &lt;path&gt; &lt;path&gt;</pre>




<h2>description</h2>


<p>Show changes between the working tree and the index or a tree, changes
between the index and a tree, changes between two trees, changes resulting
from a merge, changes between two blob objects, or changes between two
files on disk.</p>


<dl>
<dt> <em>git diff</em> [&lt;options&gt;] [--] [&lt;path&gt;…<U+200B>] </dt>
<dd>
<p>This form is to view the changes you made relative to
the index (staging area for the next commit).  In other
words, the differences are what you <em>could</em> tell Git to
further add to the index but you still haven’t.  You can
stage these changes by using <a href="/docs/git-add">git-add[1]</a>.</p>
</dd>
<dt> <em>git diff</em> [&lt;options&gt;] --no-index [--] &lt;path&gt; &lt;path&gt; </dt>
<dd>
<p>This form is to compare the given two paths on the
filesystem.  You can omit the <code>--no-index</code> option when
running the command in a working tree controlled by Git and
at least one of the paths points outside the working tree,
or when running the command outside a working tree
controlled by Git. This form implies <code>--exit-code</code>.</p>
</dd>
<dt> <em>git diff</em> [&lt;options&gt;] --cached [--merge-base] [&lt;commit&gt;] [--] [&lt;path&gt;…<U+200B>] </dt>
<dd>
<p>This form is to view the changes you staged for the next
commit relative to the named &lt;commit&gt;.  Typically you
would want comparison with the latest commit, so if you
do not give &lt;commit&gt;, it defaults to HEAD.
If HEAD does not exist (e.g. unborn branches) and
&lt;commit&gt; is not given, it shows all staged changes.
--staged is a synonym of --cached.</p>

<p>If --merge-base is given, instead of using &lt;commit&gt;, use the merge base
of &lt;commit&gt; and HEAD.  <code>git diff --cached --merge-base A</code> is equivalent to
<code>git diff --cached $(git merge-base A HEAD)</code>.</p>

</dd>
<dt> <em>git diff</em> [&lt;options&gt;] [--merge-base] &lt;commit&gt; [--] [&lt;path&gt;…<U+200B>] </dt>
<dd>
<p>This form is to view the changes you have in your
working tree relative to the named &lt;commit&gt;.  You can
use HEAD to compare it with the latest commit, or a
branch name to compare with the tip of a different
branch.</p>

<p>If --merge-base is given, instead of using &lt;commit&gt;, use the merge base
of &lt;commit&gt; and HEAD.  <code>git diff --merge-base A</code> is equivalent to
<code>git diff $(git merge-base A HEAD)</code>.</p>

</dd>
<dt> <em>git diff</em> [&lt;options&gt;] [--merge-base] &lt;commit&gt; &lt;commit&gt; [--] [&lt;path&gt;…<U+200B>] </dt>
<dd>
<p>This is to view the changes between two arbitrary
&lt;commit&gt;.</p>

<p>If --merge-base is given, use the merge base of the two commits for the
"before" side.  <code>git diff --merge-base A B</code> is equivalent to
<code>git diff $(git merge-base A B) B</code>.</p>

</dd>
<dt> <em>git diff</em> [&lt;options&gt;] &lt;commit&gt; &lt;commit&gt;…<U+200B> &lt;commit&gt; [--] [&lt;path&gt;…<U+200B>] </dt>
<dd>
<p>This form is to view the results of a merge commit.  The first
listed &lt;commit&gt; must be the merge itself; the remaining two or
more commits should be its parents.  A convenient way to produce
the desired set of revisions is to use the <code>^@</code> suffix.
For instance, if <code>master</code> names a merge commit, <code>git diff master
master^@</code> gives the same combined diff as <code>git show master</code>.</p>
</dd>
<dt> <em>git diff</em> [&lt;options&gt;] &lt;commit&gt;..&lt;commit&gt; [--] [&lt;path&gt;…<U+200B>] </dt>
<dd>
<p>This is synonymous to the earlier form (without the <code>..</code>) for
viewing the changes between two arbitrary &lt;commit&gt;.  If &lt;commit&gt; on
one side is omitted, it will have the same effect as
using HEAD instead.</p>
</dd>
<dt> <em>git diff</em> [&lt;options&gt;] &lt;commit&gt;...&lt;commit&gt; [--] [&lt;path&gt;…<U+200B>] </dt>
<dd>
<p>This form is to view the changes on the branch containing
and up to the second &lt;commit&gt;, starting at a common ancestor
of both &lt;commit&gt;.  <code>git diff A...B</code> is equivalent to
<code>git diff $(git merge-base A B) B</code>.  You can omit any one
of &lt;commit&gt;, which has the same effect as using HEAD instead.</p>
</dd>
</dl>


<p>Just in case you are doing something exotic, it should be
noted that all of the &lt;commit&gt; in the above description, except
in the <code>--merge-base</code> case and in the last two forms that use <code>..</code>
notations, can be any &lt;tree&gt;.</p>


<p>For a more complete list of ways to spell &lt;commit&gt;, see
"SPECIFYING REVISIONS" section in <a href="/docs/gitrevisions">gitrevisions[7]</a>.
However, "diff" is about comparing two <em>endpoints</em>, not ranges,
and the range notations (<code>&lt;commit&gt;..&lt;commit&gt;</code> and
<code>&lt;commit&gt;...&lt;commit&gt;</code>) do not mean a range as defined in the
"SPECIFYING RANGES" section in <a href="/docs/gitrevisions">gitrevisions[7]</a>.</p>


<dl>
<dt> <em>git diff</em> [&lt;options&gt;] &lt;blob&gt; &lt;blob&gt; </dt>
<dd>
<p>This form is to view the differences between the raw
contents of two blob objects.</p>
</dd>
</dl>




<h2>options</h2>


<dl>
<dt> -p </dt>
<dt> -u </dt>
<dt> --patch </dt>
<dd>
<p>Generate patch (see section on generating patches).
This is the default.</p>
</dd>
<dt> -s </dt>
<dt> --no-patch </dt>
<dd>
<p>Suppress diff output. Useful for commands like <code>git show</code> that
show the patch by default, or to cancel the effect of <code>--patch</code>.</p>
</dd>
<dt> -U&lt;n&gt; </dt>
<dt> --unified=&lt;n&gt; </dt>
<dd>
<p>Generate diffs with &lt;n&gt; lines of context instead of
the usual three.
Implies <code>--patch</code>.</p>
</dd>
<dt> --output=&lt;file&gt; </dt>
<dd>
<p>Output to a specific file instead of stdout.</p>
</dd>
<dt> --output-indicator-new=&lt;char&gt; </dt>
<dt> --output-indicator-old=&lt;char&gt; </dt>
<dt> --output-indicator-context=&lt;char&gt; </dt>
<dd>
<p>Specify the character used to indicate new, old or context
lines in the generated patch. Normally they are <em>+</em>, <em>-</em> and
' ' respectively.</p>
</dd>
<dt> --raw </dt>
<dd>
<p>Generate the diff in raw format.</p>
</dd>
<dt> --patch-with-raw </dt>
<dd>
<p>Synonym for <code>-p --raw</code>.</p>
</dd>
<dt> --indent-heuristic </dt>
<dd>
<p>Enable the heuristic that shifts diff hunk boundaries to make patches
easier to read. This is the default.</p>
</dd>
<dt> --no-indent-heuristic </dt>
<dd>
<p>Disable the indent heuristic.</p>
</dd>
<dt> --minimal </dt>
<dd>
<p>Spend extra time to make sure the smallest possible
diff is produced.</p>
</dd>
<dt> --patience </dt>
<dd>
<p>Generate a diff using the "patience diff" algorithm.</p>
</dd>
<dt> --histogram </dt>
<dd>
<p>Generate a diff using the "histogram diff" algorithm.</p>
</dd>
<dt> --anchored=&lt;text&gt; </dt>
<dd>
<p>Generate a diff using the "anchored diff" algorithm.</p>

<p>This option may be specified more than once.</p>


<p>If a line exists in both the source and destination, exists only once,
and starts with this text, this algorithm attempts to prevent it from
appearing as a deletion or addition in the output. It uses the "patience
diff" algorithm internally.</p>

</dd>
<dt> --diff-algorithm={patience|minimal|histogram|myers} </dt>
<dd>
<p>Choose a diff algorithm. The variants are as follows:</p>



<dl>
<dt> <code>default</code>, <code>myers</code> </dt>
<dd>
<p>The basic greedy diff algorithm. Currently, this is the default.</p>
</dd>
<dt> <code>minimal</code> </dt>
<dd>
<p>Spend extra time to make sure the smallest possible diff is
produced.</p>
</dd>
<dt> <code>patience</code> </dt>
<dd>
<p>Use "patience diff" algorithm when generating patches.</p>
</dd>
<dt> <code>histogram</code> </dt>
<dd>
<p>This algorithm extends the patience algorithm to "support
low-occurrence common elements".</p>
</dd>
</dl>




<p>For instance, if you configured the <code>diff.algorithm</code> variable to a
non-default value and want to use the default one, then you
have to use <code>--diff-algorithm=default</code> option.</p>

</dd>
<dt> --stat[=&lt;width&gt;[,&lt;name-width&gt;[,&lt;count&gt;]]] </dt>
<dd>
<p>Generate a diffstat. By default, as much space as necessary
will be used for the filename part, and the rest for the graph
part. Maximum width defaults to terminal width, or 80 columns
if not connected to a terminal, and can be overridden by
<code>&lt;width&gt;</code>. The width of the filename part can be limited by
giving another width <code>&lt;name-width&gt;</code> after a comma. The width
of the graph part can be limited by using
<code>--stat-graph-width=&lt;width&gt;</code> (affects all commands generating
a stat graph) or by setting <code>diff.statGraphWidth=&lt;width&gt;</code>
(does not affect <code>git format-patch</code>).
By giving a third parameter <code>&lt;count&gt;</code>, you can limit the
output to the first <code>&lt;count&gt;</code> lines, followed by <code>...</code> if
there are more.</p>

<p>These parameters can also be set individually with <code>--stat-width=&lt;width&gt;</code>,
<code>--stat-name-width=&lt;name-width&gt;</code> and <code>--stat-count=&lt;count&gt;</code>.</p>

</dd>
<dt> --compact-summary </dt>
<dd>
<p>Output a condensed summary of extended header information such
as file creations or deletions ("new" or "gone", optionally "+l"
if it’s a symlink) and mode changes ("+x" or "-x" for adding
or removing executable bit respectively) in diffstat. The
information is put between the filename part and the graph
part. Implies <code>--stat</code>.</p>
</dd>
<dt> --numstat </dt>
<dd>
<p>Similar to <code>--stat</code>, but shows number of added and
deleted lines in decimal notation and pathname without
abbreviation, to make it more machine friendly.  For
binary files, outputs two <code>-</code> instead of saying
<code>0 0</code>.</p>
</dd>
<dt> --shortstat </dt>
<dd>
<p>Output only the last line of the <code>--stat</code> format containing total
number of modified files, as well as number of added and deleted
lines.</p>
</dd>
<dt> -X[&lt;param1,param2,…<U+200B>&gt;] </dt>
<dt> --dirstat[=&lt;param1,param2,…<U+200B>&gt;] </dt>
<dd>
<p>Output the distribution of relative amount of changes for each
sub-directory. The behavior of <code>--dirstat</code> can be customized by
passing it a comma separated list of parameters.
The defaults are controlled by the <code>diff.dirstat</code> configuration
variable (see <a href="/docs/git-config">git-config[1]</a>).
The following parameters are available:</p>



<dl>
<dt> <code>changes</code> </dt>
<dd>
<p>Compute the dirstat numbers by counting the lines that have been
removed from the source, or added to the destination. This ignores
the amount of pure code movements within a file.  In other words,
rearranging lines in a file is not counted as much as other changes.
This is the default behavior when no parameter is given.</p>
</dd>
<dt> <code>lines</code> </dt>
<dd>
<p>Compute the dirstat numbers by doing the regular line-based diff
analysis, and summing the removed/added line counts. (For binary
files, count 64-byte chunks instead, since binary files have no
natural concept of lines). This is a more expensive <code>--dirstat</code>
behavior than the <code>changes</code> behavior, but it does count rearranged
lines within a file as much as other changes. The resulting output
is consistent with what you get from the other <code>--*stat</code> options.</p>
</dd>
<dt> <code>files</code> </dt>
<dd>
<p>Compute the dirstat numbers by counting the number of files changed.
Each changed file counts equally in the dirstat analysis. This is
the computationally cheapest <code>--dirstat</code> behavior, since it does
not have to look at the file contents at all.</p>
</dd>
<dt> <code>cumulative</code> </dt>
<dd>
<p>Count changes in a child directory for the parent directory as well.
Note that when using <code>cumulative</code>, the sum of the percentages
reported may exceed 100%. The default (non-cumulative) behavior can
be specified with the <code>noncumulative</code> parameter.</p>
</dd>
<dt> &lt;limit&gt; </dt>
<dd>
<p>An integer parameter specifies a cut-off percent (3% by default).
Directories contributing less than this percentage of the changes
are not shown in the output.</p>
</dd>
</dl>




<p>Example: The following will count changed files, while ignoring
directories with less than 10% of the total amount of changed files,
and accumulating child directory counts in the parent directories:
<code>--dirstat=files,10,cumulative</code>.</p>

</dd>
<dt> --cumulative </dt>
<dd>
<p>Synonym for --dirstat=cumulative</p>
</dd>
<dt> --dirstat-by-file[=&lt;param1,param2&gt;…<U+200B>] </dt>
<dd>
<p>Synonym for --dirstat=files,param1,param2…<U+200B></p>
</dd>
<dt> --summary </dt>
<dd>
<p>Output a condensed summary of extended header information
such as creations, renames and mode changes.</p>
</dd>
<dt> --patch-with-stat </dt>
<dd>
<p>Synonym for <code>-p --stat</code>.</p>
</dd>
<dt> -z </dt>
<dd>
<p>When <code>--raw</code>, <code>--numstat</code>, <code>--name-only</code> or <code>--name-status</code> has been
given, do not munge pathnames and use NULs as output field terminators.</p>

<p>Without this option, pathnames with "unusual" characters are quoted as
explained for the configuration variable <code>core.quotePath</code> (see
<a href="/docs/git-config">git-config[1]</a>).</p>

</dd>
<dt> --name-only </dt>
<dd>
<p>Show only names of changed files. The file names are often encoded in UTF-8.
For more information see the discussion about encoding in the <a href="/docs/git-log">git-log[1]</a>
manual page.</p>
</dd>
<dt> --name-status </dt>
<dd>
<p>Show only names and status of changed files. See the description
of the <code>--diff-filter</code> option on what the status letters mean.
Just like <code>--name-only</code> the file names are often encoded in UTF-8.</p>
</dd>
<dt> --submodule[=&lt;format&gt;] </dt>
<dd>
<p>Specify how differences in submodules are shown.  When specifying
<code>--submodule=short</code> the <em>short</em> format is used.  This format just
shows the names of the commits at the beginning and end of the range.
When <code>--submodule</code> or <code>--submodule=log</code> is specified, the <em>log</em>
format is used.  This format lists the commits in the range like
<a href="/docs/git-submodule">git-submodule[1]</a> <code>summary</code> does.  When <code>--submodule=diff</code>
is specified, the <em>diff</em> format is used.  This format shows an
inline diff of the changes in the submodule contents between the
commit range.  Defaults to <code>diff.submodule</code> or the <em>short</em> format
if the config option is unset.</p>
</dd>
<dt> --color[=&lt;when&gt;] </dt>
<dd>
<p>Show colored diff.
<code>--color</code> (i.e. without <em>=&lt;when&gt;</em>) is the same as <code>--color=always</code>.
<em>&lt;when&gt;</em> can be one of <code>always</code>, <code>never</code>, or <code>auto</code>.
It can be changed by the <code>color.ui</code> and <code>color.diff</code>
configuration settings.</p>
</dd>
<dt> --no-color </dt>
<dd>
<p>Turn off colored diff.
This can be used to override configuration settings.
It is the same as <code>--color=never</code>.</p>
</dd>
<dt> --color-moved[=&lt;mode&gt;] </dt>
<dd>
<p>Moved lines of code are colored differently.
It can be changed by the <code>diff.colorMoved</code> configuration setting.
The &lt;mode&gt; defaults to <em>no</em> if the option is not given
and to <em>zebra</em> if the option with no mode is given.
The mode must be one of:</p>



<dl>
<dt> no </dt>
<dd>
<p>Moved lines are not highlighted.</p>
</dd>
<dt> default </dt>
<dd>
<p>Is a synonym for <code>zebra</code>. This may change to a more sensible mode
in the future.</p>
</dd>
<dt> plain </dt>
<dd>
<p>Any line that is added in one location and was removed
in another location will be colored with <em>color.diff.newMoved</em>.
Similarly <em>color.diff.oldMoved</em> will be used for removed lines
that are added somewhere else in the diff. This mode picks up any
moved line, but it is not very useful in a review to determine
if a block of code was moved without permutation.</p>
</dd>
<dt> blocks </dt>
<dd>
<p>Blocks of moved text of at least 20 alphanumeric characters
are detected greedily. The detected blocks are
painted using either the <em>color.diff.{old,new}Moved</em> color.
Adjacent blocks cannot be told apart.</p>
</dd>
<dt> zebra </dt>
<dd>
<p>Blocks of moved text are detected as in <em>blocks</em> mode. The blocks
are painted using either the <em>color.diff.{old,new}Moved</em> color or
<em>color.diff.{old,new}MovedAlternative</em>. The change between
the two colors indicates that a new block was detected.</p>
</dd>
<dt> dimmed-zebra </dt>
<dd>
<p>Similar to <em>zebra</em>, but additional dimming of uninteresting parts
of moved code is performed. The bordering lines of two adjacent
blocks are considered interesting, the rest is uninteresting.
<code>dimmed_zebra</code> is a deprecated synonym.</p>
</dd>
</dl>



</dd>
<dt> --no-color-moved </dt>
<dd>
<p>Turn off move detection. This can be used to override configuration
settings. It is the same as <code>--color-moved=no</code>.</p>
</dd>
<dt> --color-moved-ws=&lt;modes&gt; </dt>
<dd>
<p>This configures how whitespace is ignored when performing the
move detection for <code>--color-moved</code>.
It can be set by the <code>diff.colorMovedWS</code> configuration setting.
These modes can be given as a comma separated list:</p>



<dl>
<dt> no </dt>
<dd>
<p>Do not ignore whitespace when performing move detection.</p>
</dd>
<dt> ignore-space-at-eol </dt>
<dd>
<p>Ignore changes in whitespace at EOL.</p>
</dd>
<dt> ignore-space-change </dt>
<dd>
<p>Ignore changes in amount of whitespace.  This ignores whitespace
at line end, and considers all other sequences of one or
more whitespace characters to be equivalent.</p>
</dd>
<dt> ignore-all-space </dt>
<dd>
<p>Ignore whitespace when comparing lines. This ignores differences
even if one line has whitespace where the other line has none.</p>
</dd>
<dt> allow-indentation-change </dt>
<dd>
<p>Initially ignore any whitespace in the move detection, then
group the moved code blocks only into a block if the change in
whitespace is the same per line. This is incompatible with the
other modes.</p>
</dd>
</dl>



</dd>
<dt> --no-color-moved-ws </dt>
<dd>
<p>Do not ignore whitespace when performing move detection. This can be
used to override configuration settings. It is the same as
<code>--color-moved-ws=no</code>.</p>
</dd>
<dt> --word-diff[=&lt;mode&gt;] </dt>
<dd>
<p>Show a word diff, using the &lt;mode&gt; to delimit changed words.
By default, words are delimited by whitespace; see
<code>--word-diff-regex</code> below.  The &lt;mode&gt; defaults to <em>plain</em>, and
must be one of:</p>



<dl>
<dt> color </dt>
<dd>
<p>Highlight changed words using only colors.  Implies <code>--color</code>.</p>
</dd>
<dt> plain </dt>
<dd>
<p>Show words as <code>[-removed-]</code> and <code>{+added+}</code>.  Makes no
attempts to escape the delimiters if they appear in the input,
so the output may be ambiguous.</p>
</dd>
<dt> porcelain </dt>
<dd>
<p>Use a special line-based format intended for script
consumption.  Added/removed/unchanged runs are printed in the
usual unified diff format, starting with a <code>+</code>/<code>-</code>/` `
character at the beginning of the line and extending to the
end of the line.  Newlines in the input are represented by a
tilde <code>~</code> on a line of its own.</p>
</dd>
<dt> none </dt>
<dd>
<p>Disable word diff again.</p>
</dd>
</dl>




<p>Note that despite the name of the first mode, color is used to
highlight the changed parts in all modes if enabled.</p>

</dd>
<dt> --word-diff-regex=&lt;regex&gt; </dt>
<dd>
<p>Use &lt;regex&gt; to decide what a word is, instead of considering
runs of non-whitespace to be a word.  Also implies
<code>--word-diff</code> unless it was already enabled.</p>

<p>Every non-overlapping match of the
&lt;regex&gt; is considered a word.  Anything between these matches is
considered whitespace and ignored(!) for the purposes of finding
differences.  You may want to append <code>|[^[:space:]]</code> to your regular
expression to make sure that it matches all non-whitespace characters.
A match that contains a newline is silently truncated(!) at the
newline.</p>


<p>For example, <code>--word-diff-regex=.</code> will treat each character as a word
and, correspondingly, show differences character by character.</p>


<p>The regex can also be set via a diff driver or configuration option, see
<a href="/docs/gitattributes">gitattributes[5]</a> or <a href="/docs/git-config">git-config[1]</a>.  Giving it explicitly
overrides any diff driver or configuration setting.  Diff drivers
override configuration settings.</p>

</dd>
<dt> --color-words[=&lt;regex&gt;] </dt>
<dd>
<p>Equivalent to <code>--word-diff=color</code> plus (if a regex was
specified) <code>--word-diff-regex=&lt;regex&gt;</code>.</p>
</dd>
<dt> --no-renames </dt>
<dd>
<p>Turn off rename detection, even when the configuration
file gives the default to do so.</p>
</dd>
<dt> --[no-]rename-empty </dt>
<dd>
<p>Whether to use empty blobs as rename source.</p>
</dd>
<dt> --check </dt>
<dd>
<p>Warn if changes introduce conflict markers or whitespace errors.
What are considered whitespace errors is controlled by <code>core.whitespace</code>
configuration.  By default, trailing whitespaces (including
lines that consist solely of whitespaces) and a space character
that is immediately followed by a tab character inside the
initial indent of the line are considered whitespace errors.
Exits with non-zero status if problems are found. Not compatible
with --exit-code.</p>
</dd>
<dt> --ws-error-highlight=&lt;kind&gt; </dt>
<dd>
<p>Highlight whitespace errors in the <code>context</code>, <code>old</code> or <code>new</code>
lines of the diff.  Multiple values are separated by comma,
<code>none</code> resets previous values, <code>default</code> reset the list to
<code>new</code> and <code>all</code> is a shorthand for <code>old,new,context</code>.  When
this option is not given, and the configuration variable
<code>diff.wsErrorHighlight</code> is not set, only whitespace errors in
<code>new</code> lines are highlighted. The whitespace errors are colored
with <code>color.diff.whitespace</code>.</p>
</dd>
<dt> --full-index </dt>
<dd>
<p>Instead of the first handful of characters, show the full
pre- and post-image blob object names on the "index"
line when generating patch format output.</p>
</dd>
<dt> --binary </dt>
<dd>
<p>In addition to <code>--full-index</code>, output a binary diff that
can be applied with <code>git-apply</code>.
Implies <code>--patch</code>.</p>
</dd>
<dt> --abbrev[=&lt;n&gt;] </dt>
<dd>
<p>Instead of showing the full 40-byte hexadecimal object
name in diff-raw format output and diff-tree header
lines, show the shortest prefix that is at least <em>&lt;n&gt;</em>
hexdigits long that uniquely refers the object.
In diff-patch output format, <code>--full-index</code> takes higher
precedence, i.e. if <code>--full-index</code> is specified, full blob
names will be shown regardless of <code>--abbrev</code>.
Non default number of digits can be specified with <code>--abbrev=&lt;n&gt;</code>.</p>
</dd>
<dt> -B[&lt;n&gt;][/&lt;m&gt;] </dt>
<dt> --break-rewrites[=[&lt;n&gt;][/&lt;m&gt;]] </dt>
<dd>
<p>Break complete rewrite changes into pairs of delete and
create. This serves two purposes:</p>

<p>It affects the way a change that amounts to a total rewrite of a file
not as a series of deletion and insertion mixed together with a very
few lines that happen to match textually as the context, but as a
single deletion of everything old followed by a single insertion of
everything new, and the number <code>m</code> controls this aspect of the -B
option (defaults to 60%). <code>-B/70%</code> specifies that less than 30% of the
original should remain in the result for Git to consider it a total
rewrite (i.e. otherwise the resulting patch will be a series of
deletion and insertion mixed together with context lines).</p>


<p>When used with -M, a totally-rewritten file is also considered as the
source of a rename (usually -M only considers a file that disappeared
as the source of a rename), and the number <code>n</code> controls this aspect of
the -B option (defaults to 50%). <code>-B20%</code> specifies that a change with
addition and deletion compared to 20% or more of the file’s size are
eligible for being picked up as a possible source of a rename to
another file.</p>

</dd>
<dt> -M[&lt;n&gt;] </dt>
<dt> --find-renames[=&lt;n&gt;] </dt>
<dd>
<p>Detect renames.
If <code>n</code> is specified, it is a threshold on the similarity
index (i.e. amount of addition/deletions compared to the
file’s size). For example, <code>-M90%</code> means Git should consider a
delete/add pair to be a rename if more than 90% of the file
hasn’t changed.  Without a <code>%</code> sign, the number is to be read as
a fraction, with a decimal point before it.  I.e., <code>-M5</code> becomes
0.5, and is thus the same as <code>-M50%</code>.  Similarly, <code>-M05</code> is
the same as <code>-M5%</code>.  To limit detection to exact renames, use
<code>-M100%</code>.  The default similarity index is 50%.</p>
</dd>
<dt> -C[&lt;n&gt;] </dt>
<dt> --find-copies[=&lt;n&gt;] </dt>
<dd>
<p>Detect copies as well as renames.  See also <code>--find-copies-harder</code>.
If <code>n</code> is specified, it has the same meaning as for <code>-M&lt;n&gt;</code>.</p>
</dd>
<dt> --find-copies-harder </dt>
<dd>
<p>For performance reasons, by default, <code>-C</code> option finds copies only
if the original file of the copy was modified in the same
changeset.  This flag makes the command
inspect unmodified files as candidates for the source of
copy.  This is a very expensive operation for large
projects, so use it with caution.  Giving more than one
<code>-C</code> option has the same effect.</p>
</dd>
<dt> -D </dt>
<dt> --irreversible-delete </dt>
<dd>
<p>Omit the preimage for deletes, i.e. print only the header but not
the diff between the preimage and <code>/dev/null</code>. The resulting patch
is not meant to be applied with <code>patch</code> or <code>git apply</code>; this is
solely for people who want to just concentrate on reviewing the
text after the change. In addition, the output obviously lacks
enough information to apply such a patch in reverse, even manually,
hence the name of the option.</p>

<p>When used together with <code>-B</code>, omit also the preimage in the deletion part
of a delete/create pair.</p>

</dd>
<dt> -l&lt;num&gt; </dt>
<dd>
<p>The <code>-M</code> and <code>-C</code> options involve some preliminary steps that
can detect subsets of renames/copies cheaply, followed by an
exhaustive fallback portion that compares all remaining
unpaired destinations to all relevant sources.  (For renames,
only remaining unpaired sources are relevant; for copies, all
original sources are relevant.)  For N sources and
destinations, this exhaustive check is O(N^2).  This option
prevents the exhaustive portion of rename/copy detection from
running if the number of source/destination files involved
exceeds the specified number.  Defaults to diff.renameLimit.
Note that a value of 0 is treated as unlimited.</p>
</dd>
<dt> --diff-filter=[(A|C|D|M|R|T|U|X|B)…<U+200B>[*]] </dt>
<dd>
<p>Select only files that are Added (<code>A</code>), Copied (<code>C</code>),
Deleted (<code>D</code>), Modified (<code>M</code>), Renamed (<code>R</code>), have their
type (i.e. regular file, symlink, submodule, …<U+200B>) changed (<code>T</code>),
are Unmerged (<code>U</code>), are
Unknown (<code>X</code>), or have had their pairing Broken (<code>B</code>).
Any combination of the filter characters (including none) can be used.
When <code>*</code> (All-or-none) is added to the combination, all
paths are selected if there is any file that matches
other criteria in the comparison; if there is no file
that matches other criteria, nothing is selected.</p>

<p>Also, these upper-case letters can be downcased to exclude.  E.g.
<code>--diff-filter=ad</code> excludes added and deleted paths.</p>


<p>Note that not all diffs can feature all types. For instance, diffs
from the index to the working tree can never have Added entries
(because the set of paths included in the diff is limited by what is in
the index).  Similarly, copied and renamed entries cannot appear if
detection for those types is disabled.</p>

</dd>
<dt> -S&lt;string&gt; </dt>
<dd>
<p>Look for differences that change the number of occurrences of
the specified string (i.e. addition/deletion) in a file.
Intended for the scripter’s use.</p>

<p>It is useful when you’re looking for an exact block of code (like a
struct), and want to know the history of that block since it first
came into being: use the feature iteratively to feed the interesting
block in the preimage back into <code>-S</code>, and keep going until you get the
very first version of the block.</p>


<p>Binary files are searched as well.</p>

</dd>
<dt> -G&lt;regex&gt; </dt>
<dd>
<p>Look for differences whose patch text contains added/removed
lines that match &lt;regex&gt;.</p>

<p>To illustrate the difference between <code>-S&lt;regex&gt; --pickaxe-regex</code> and
<code>-G&lt;regex&gt;</code>, consider a commit with the following diff in the same
file:</p>



<pre>+    return frotz(nitfol, two-&gt;ptr, 1, 0);
...
-    hit = frotz(nitfol, mf2.ptr, 1, 0);</pre>



<p>While <code>git log -G"frotz\(nitfol"</code> will show this commit, <code>git log
-S"frotz\(nitfol" --pickaxe-regex</code> will not (because the number of
occurrences of that string did not change).</p>


<p>Unless <code>--text</code> is supplied patches of binary files without a textconv
filter will be ignored.</p>


<p>See the <em>pickaxe</em> entry in <a href="/docs/gitdiffcore">gitdiffcore[7]</a> for more
information.</p>

</dd>
<dt> --find-object=&lt;object-id&gt; </dt>
<dd>
<p>Look for differences that change the number of occurrences of
the specified object. Similar to <code>-S</code>, just the argument is different
in that it doesn’t search for a specific string but for a specific
object id.</p>

<p>The object can be a blob or a submodule commit. It implies the <code>-t</code> option in
<code>git-log</code> to also find trees.</p>

</dd>
<dt> --pickaxe-all </dt>
<dd>
<p>When <code>-S</code> or <code>-G</code> finds a change, show all the changes in that
changeset, not just the files that contain the change
in &lt;string&gt;.</p>
</dd>
<dt> --pickaxe-regex </dt>
<dd>
<p>Treat the &lt;string&gt; given to <code>-S</code> as an extended POSIX regular
expression to match.</p>
</dd>
<dt> -O&lt;orderfile&gt; </dt>
<dd>
<p>Control the order in which files appear in the output.
This overrides the <code>diff.orderFile</code> configuration variable
(see <a href="/docs/git-config">git-config[1]</a>).  To cancel <code>diff.orderFile</code>,
use <code>-O/dev/null</code>.</p>

<p>The output order is determined by the order of glob patterns in
&lt;orderfile&gt;.
All files with pathnames that match the first pattern are output
first, all files with pathnames that match the second pattern (but not
the first) are output next, and so on.
All files with pathnames that do not match any pattern are output
last, as if there was an implicit match-all pattern at the end of the
file.
If multiple pathnames have the same rank (they match the same pattern
but no earlier patterns), their output order relative to each other is
the normal order.</p>


<p>&lt;orderfile&gt; is parsed as follows:</p>




<ul>
<li>
<p>Blank lines are ignored, so they can be used as separators for
readability.</p>
</li>
<li>
<p>Lines starting with a hash ("<code>#</code>") are ignored, so they can be used
for comments.  Add a backslash ("<code>\</code>") to the beginning of the
pattern if it starts with a hash.</p>
</li>
<li>
<p>Each other line contains a single pattern.</p>
</li>
</ul>




<p>Patterns have the same syntax and semantics as patterns used for
fnmatch(3) without the FNM_PATHNAME flag, except a pathname also
matches a pattern if removing any number of the final pathname
components matches the pattern.  For example, the pattern "<code>foo*bar</code>"
matches "<code>fooasdfbar</code>" and "<code>foo/bar/baz/asdf</code>" but not "<code>foobarx</code>".</p>

</dd>
<dt> --skip-to=&lt;file&gt; </dt>
<dt> --rotate-to=&lt;file&gt; </dt>
<dd>
<p>Discard the files before the named &lt;file&gt; from the output
(i.e. <em>skip to</em>), or move them to the end of the output
(i.e. <em>rotate to</em>).  These were invented primarily for use
of the <code>git difftool</code> command, and may not be very useful
otherwise.</p>
</dd>
<dt> -R </dt>
<dd>
<p>Swap two inputs; that is, show differences from index or
on-disk file to tree contents.</p>
</dd>
<dt> --relative[=&lt;path&gt;] </dt>
<dt> --no-relative </dt>
<dd>
<p>When run from a subdirectory of the project, it can be
told to exclude changes outside the directory and show
pathnames relative to it with this option.  When you are
not in a subdirectory (e.g. in a bare repository), you
can name which subdirectory to make the output relative
to by giving a &lt;path&gt; as an argument.
<code>--no-relative</code> can be used to countermand both <code>diff.relative</code> config
option and previous <code>--relative</code>.</p>
</dd>
<dt> -a </dt>
<dt> --text </dt>
<dd>
<p>Treat all files as text.</p>
</dd>
<dt> --ignore-cr-at-eol </dt>
<dd>
<p>Ignore carriage-return at the end of line when doing a comparison.</p>
</dd>
<dt> --ignore-space-at-eol </dt>
<dd>
<p>Ignore changes in whitespace at EOL.</p>
</dd>
<dt> -b </dt>
<dt> --ignore-space-change </dt>
<dd>
<p>Ignore changes in amount of whitespace.  This ignores whitespace
at line end, and considers all other sequences of one or
more whitespace characters to be equivalent.</p>
</dd>
<dt> -w </dt>
<dt> --ignore-all-space </dt>
<dd>
<p>Ignore whitespace when comparing lines.  This ignores
differences even if one line has whitespace where the other
line has none.</p>
</dd>
<dt> --ignore-blank-lines </dt>
<dd>
<p>Ignore changes whose lines are all blank.</p>
</dd>
<dt> -I&lt;regex&gt; </dt>
<dt> --ignore-matching-lines=&lt;regex&gt; </dt>
<dd>
<p>Ignore changes whose all lines match &lt;regex&gt;.  This option may
be specified more than once.</p>
</dd>
<dt> --inter-hunk-context=&lt;lines&gt; </dt>
<dd>
<p>Show the context between diff hunks, up to the specified number
of lines, thereby fusing hunks that are close to each other.
Defaults to <code>diff.interHunkContext</code> or 0 if the config option
is unset.</p>
</dd>
<dt> -W </dt>
<dt> --function-context </dt>
<dd>
<p>Show whole function as context lines for each change.
The function names are determined in the same way as
<code>git diff</code> works out patch hunk headers (see <em>Defining a
custom hunk-header</em> in <a href="/docs/gitattributes">gitattributes[5]</a>).</p>
</dd>
<dt> --exit-code </dt>
<dd>
<p>Make the program exit with codes similar to diff(1).
That is, it exits with 1 if there were differences and
0 means no differences.</p>
</dd>
<dt> --quiet </dt>
<dd>
<p>Disable all output of the program. Implies <code>--exit-code</code>.</p>
</dd>
<dt> --ext-diff </dt>
<dd>
<p>Allow an external diff helper to be executed. If you set an
external diff driver with <a href="/docs/gitattributes">gitattributes[5]</a>, you need
to use this option with <a href="/docs/git-log">git-log[1]</a> and friends.</p>
</dd>
<dt> --no-ext-diff </dt>
<dd>
<p>Disallow external diff drivers.</p>
</dd>
<dt> --textconv </dt>
<dt> --no-textconv </dt>
<dd>
<p>Allow (or disallow) external text conversion filters to be run
when comparing binary files. See <a href="/docs/gitattributes">gitattributes[5]</a> for
details. Because textconv filters are typically a one-way
conversion, the resulting diff is suitable for human
consumption, but cannot be applied. For this reason, textconv
filters are enabled by default only for <a href="/docs/git-diff">git-diff[1]</a> and
<a href="/docs/git-log">git-log[1]</a>, but not for <a href="/docs/git-format-patch">git-format-patch[1]</a> or
diff plumbing commands.</p>
</dd>
<dt> --ignore-submodules[=&lt;when&gt;] </dt>
<dd>
<p>Ignore changes to submodules in the diff generation. &lt;when&gt; can be
either "none", "untracked", "dirty" or "all", which is the default.
Using "none" will consider the submodule modified when it either contains
untracked or modified files or its HEAD differs from the commit recorded
in the superproject and can be used to override any settings of the
<em>ignore</em> option in <a href="/docs/git-config">git-config[1]</a> or <a href="/docs/gitmodules">gitmodules[5]</a>. When
"untracked" is used submodules are not considered dirty when they only
contain untracked content (but they are still scanned for modified
content). Using "dirty" ignores all changes to the work tree of submodules,
only changes to the commits stored in the superproject are shown (this was
the behavior until 1.7.0). Using "all" hides all changes to submodules.</p>
</dd>
<dt> --src-prefix=&lt;prefix&gt; </dt>
<dd>
<p>Show the given source prefix instead of "a/".</p>
</dd>
<dt> --dst-prefix=&lt;prefix&gt; </dt>
<dd>
<p>Show the given destination prefix instead of "b/".</p>
</dd>
<dt> --no-prefix </dt>
<dd>
<p>Do not show any source or destination prefix.</p>
</dd>
<dt> --line-prefix=&lt;prefix&gt; </dt>
<dd>
<p>Prepend an additional prefix to every line of output.</p>
</dd>
<dt> --ita-invisible-in-index </dt>
<dd>
<p>By default entries added by "git add -N" appear as an existing
empty file in "git diff" and a new file in "git diff --cached".
This option makes the entry appear as a new file in "git diff"
and non-existent in "git diff --cached". This option could be
reverted with <code>--ita-visible-in-index</code>. Both options are
experimental and could be removed in future.</p>
</dd>
</dl>


<p>For more detailed explanation on these common options, see also
<a href="/docs/gitdiffcore">gitdiffcore[7]</a>.</p>


<dl>
<dt> -1 --base </dt>
<dt> -2 --ours </dt>
<dt> -3 --theirs </dt>
<dd>
<p>Compare the working tree with the "base" version (stage #1),
"our branch" (stage #2) or "their branch" (stage #3).  The
index contains these stages only for unmerged entries i.e.
while resolving conflicts.  See <a href="/docs/git-read-tree">git-read-tree[1]</a>
section "3-Way Merge" for detailed information.</p>
</dd>
<dt> -0 </dt>
<dd>
<p>Omit diff output for unmerged entries and just show
"Unmerged".  Can be used only when comparing the working tree
with the index.</p>
</dd>
<dt> &lt;path&gt;…<U+200B> </dt>
<dd>
<p>The &lt;paths&gt; parameters, when given, are used to limit
the diff to the named paths (you can give directory
names and get diff for all files under them).</p>
</dd>
</dl>




<h2>Raw output format</h2>


<p>The raw output format from "git-diff-index", "git-diff-tree",
"git-diff-files" and "git diff --raw" are very similar.</p>


<p>These commands all compare two sets of things; what is
compared differs:</p>


<dl>
<dt> git-diff-index &lt;tree-ish&gt; </dt>
<dd>
<p>compares the &lt;tree-ish&gt; and the files on the filesystem.</p>
</dd>
<dt> git-diff-index --cached &lt;tree-ish&gt; </dt>
<dd>
<p>compares the &lt;tree-ish&gt; and the index.</p>
</dd>
<dt> git-diff-tree [-r] &lt;tree-ish-1&gt; &lt;tree-ish-2&gt; [&lt;pattern&gt;…<U+200B>] </dt>
<dd>
<p>compares the trees named by the two arguments.</p>
</dd>
<dt> git-diff-files [&lt;pattern&gt;…<U+200B>] </dt>
<dd>
<p>compares the index and the files on the filesystem.</p>
</dd>
</dl>


<p>The "git-diff-tree" command begins its output by printing the hash of
what is being compared. After that, all the commands print one output
line per changed file.</p>


<p>An output line is formatted this way:</p>



<pre>in-place edit  :100644 100644 bcd1234 0123456 M file0
copy-edit      :100644 100644 abcd123 1234567 C68 file1 file2
rename-edit    :100644 100644 abcd123 1234567 R86 file1 file3
create         :000000 100644 0000000 1234567 A file4
delete         :100644 000000 1234567 0000000 D file5
unmerged       :000000 000000 0000000 0000000 U file6</pre>



<p>That is, from the left to the right:</p>


<ol>
<li>
<p>a colon.</p>
</li>
<li>
<p>mode for "src"; 000000 if creation or unmerged.</p>
</li>
<li>
<p>a space.</p>
</li>
<li>
<p>mode for "dst"; 000000 if deletion or unmerged.</p>
</li>
<li>
<p>a space.</p>
</li>
<li>
<p>sha1 for "src"; 0{40} if creation or unmerged.</p>
</li>
<li>
<p>a space.</p>
</li>
<li>
<p>sha1 for "dst"; 0{40} if creation, unmerged or "look at work tree".</p>
</li>
<li>
<p>a space.</p>
</li>
<li>
<p>status, followed by optional "score" number.</p>
</li>
<li>
<p>a tab or a NUL when <code>-z</code> option is used.</p>
</li>
<li>
<p>path for "src"</p>
</li>
<li>
<p>a tab or a NUL when <code>-z</code> option is used; only exists for C or R.</p>
</li>
<li>
<p>path for "dst"; only exists for C or R.</p>
</li>
<li>
<p>an LF or a NUL when <code>-z</code> option is used, to terminate the record.</p>
</li>
</ol>


<p>Possible status letters are:</p>


<ul>
<li>
<p>A: addition of a file</p>
</li>
<li>
<p>C: copy of a file into a new one</p>
</li>
<li>
<p>D: deletion of a file</p>
</li>
<li>
<p>M: modification of the contents or mode of a file</p>
</li>
<li>
<p>R: renaming of a file</p>
</li>
<li>
<p>T: change in the type of the file (regular file, symbolic link or submodule)</p>
</li>
<li>
<p>U: file is unmerged (you must complete the merge before it can
be committed)</p>
</li>
<li>
<p>X: "unknown" change type (most probably a bug, please report it)</p>
</li>
</ul>


<p>Status letters C and R are always followed by a score (denoting the
percentage of similarity between the source and target of the move or
copy).  Status letter M may be followed by a score (denoting the
percentage of dissimilarity) for file rewrites.</p>


<p>&lt;sha1&gt; is shown as all 0’s if a file is new on the filesystem
and it is out of sync with the index.</p>


<p>Example:</p>



<pre>:100644 100644 5be4a4a 0000000 M file.c</pre>



<p>Without the <code>-z</code> option, pathnames with "unusual" characters are
quoted as explained for the configuration variable <code>core.quotePath</code>
(see <a href="/docs/git-config">git-config[1]</a>).  Using <code>-z</code> the filename is output
verbatim and the line is terminated by a NUL byte.</p>




<h2>diff format for merges</h2>


<p>"git-diff-tree", "git-diff-files" and "git-diff --raw"
can take <code>-c</code> or <code>--cc</code> option
to generate diff output also for merge commits.  The output differs
from the format described above in the following way:</p>


<ol>
<li>
<p>there is a colon for each parent</p>
</li>
<li>
<p>there are more "src" modes and "src" sha1</p>
</li>
<li>
<p>status is concatenated status characters for each parent</p>
</li>
<li>
<p>no optional "score" number</p>
</li>
<li>
<p>tab-separated pathname(s) of the file</p>
</li>
</ol>


<p>For <code>-c</code> and <code>--cc</code>, only the destination or final path is shown even
if the file was renamed on any side of history.  With
<code>--combined-all-paths</code>, the name of the path in each parent is shown
followed by the name of the path in the merge commit.</p>


<p>Examples for <code>-c</code> and <code>--cc</code> without <code>--combined-all-paths</code>:</p>



<pre>::100644 100644 100644 fabadb8 cc95eb0 4866510 MM	desc.c
::100755 100755 100755 52b7a2d 6d1ac04 d2ac7d7 RM	bar.sh
::100644 100644 100644 e07d6c5 9042e82 ee91881 RR	phooey.c</pre>



<p>Examples when <code>--combined-all-paths</code> added to either <code>-c</code> or <code>--cc</code>:</p>



<pre>::100644 100644 100644 fabadb8 cc95eb0 4866510 MM	desc.c	desc.c	desc.c
::100755 100755 100755 52b7a2d 6d1ac04 d2ac7d7 RM	foo.sh	bar.sh	bar.sh
::100644 100644 100644 e07d6c5 9042e82 ee91881 RR	fooey.c	fuey.c	phooey.c</pre>



<p>Note that <em>combined diff</em> lists only files which were modified from
all parents.</p>




<h2>Generating patch text with -p</h2>


<p>Running
<a href="/docs/git-diff">git-diff[1]</a>,
<a href="/docs/git-log">git-log[1]</a>,
<a href="/docs/git-show">git-show[1]</a>,
<a href="/docs/git-diff-index">git-diff-index[1]</a>,
<a href="/docs/git-diff-tree">git-diff-tree[1]</a>, or
<a href="/docs/git-diff-files">git-diff-files[1]</a>
with the <code>-p</code> option produces patch text.
You can customize the creation of patch text via the
<code>GIT_EXTERNAL_DIFF</code> and the <code>GIT_DIFF_OPTS</code> environment variables
(see <a href="/docs/git">git[1]</a>), and the <code>diff</code> attribute (see <a href="/docs/gitattributes">gitattributes[5]</a>).</p>


<p>What the -p option produces is slightly different from the traditional
diff format:</p>


<ol>
<li>
<p>It is preceded with a "git diff" header that looks like this:</p>


<pre>diff --git a/file1 b/file2</pre>



<p>The <code>a/</code> and <code>b/</code> filenames are the same unless rename/copy is
involved.  Especially, even for a creation or a deletion,
<code>/dev/null</code> is <em>not</em> used in place of the <code>a/</code> or <code>b/</code> filenames.</p>


<p>When rename/copy is involved, <code>file1</code> and <code>file2</code> show the
name of the source file of the rename/copy and the name of
the file that rename/copy produces, respectively.</p>

</li>
<li>
<p>It is followed by one or more extended header lines:</p>


<pre>old mode &lt;mode&gt;
new mode &lt;mode&gt;
deleted file mode &lt;mode&gt;
new file mode &lt;mode&gt;
copy from &lt;path&gt;
copy to &lt;path&gt;
rename from &lt;path&gt;
rename to &lt;path&gt;
similarity index &lt;number&gt;
dissimilarity index &lt;number&gt;
index &lt;hash&gt;..&lt;hash&gt; &lt;mode&gt;</pre>



<p>File modes are printed as 6-digit octal numbers including the file type
and file permission bits.</p>


<p>Path names in extended headers do not include the <code>a/</code> and <code>b/</code> prefixes.</p>


<p>The similarity index is the percentage of unchanged lines, and
the dissimilarity index is the percentage of changed lines.  It
is a rounded down integer, followed by a percent sign.  The
similarity index value of 100% is thus reserved for two equal
files, while 100% dissimilarity means that no line from the old
file made it into the new one.</p>


<p>The index line includes the blob object names before and after the change.
The &lt;mode&gt; is included if the file mode does not change; otherwise,
separate lines indicate the old and the new mode.</p>

</li>
<li>
<p>Pathnames with "unusual" characters are quoted as explained for
the configuration variable <code>core.quotePath</code> (see
<a href="/docs/git-config">git-config[1]</a>).</p>
</li>
<li>
<p>All the <code>file1</code> files in the output refer to files before the
commit, and all the <code>file2</code> files refer to files after the commit.
It is incorrect to apply each change to each file sequentially.  For
example, this patch will swap a and b:</p>


<pre>diff --git a/a b/b
rename from a
rename to b
diff --git a/b b/a
rename from b
rename to a</pre>


</li>
<li>
<p>Hunk headers mention the name of the function to which the hunk
applies.  See "Defining a custom hunk-header" in
<a href="/docs/gitattributes">gitattributes[5]</a> for details of how to tailor to this to
specific languages.</p>
</li>
</ol>




<h2>Combined diff format</h2>


<p>Any diff-generating command can take the <code>-c</code> or <code>--cc</code> option to
produce a <em>combined diff</em> when showing a merge. This is the default
format when showing merges with <a href="/docs/git-diff">git-diff[1]</a> or
<a href="/docs/git-show">git-show[1]</a>. Note also that you can give suitable
<code>--diff-merges</code> option to any of these commands to force generation of
diffs in specific format.</p>


<p>A "combined diff" format looks like this:</p>



<pre>diff --combined describe.c
index fabadb8,cc95eb0..4866510
--- a/describe.c
+++ b/describe.c
@@@ -98,20 -98,12 +98,20 @@@
	return (a_date &gt; b_date) ? -1 : (a_date == b_date) ? 0 : 1;
  }

- static void describe(char *arg)
 -static void describe(struct commit *cmit, int last_one)
++static void describe(char *arg, int last_one)
  {
 +	unsigned char sha1[20];
 +	struct commit *cmit;
	struct commit_list *list;
	static int initialized = 0;
	struct commit_name *n;

 +	if (get_sha1(arg, sha1) &lt; 0)
 +		usage(describe_usage);
 +	cmit = lookup_commit_reference(sha1);
 +	if (!cmit)
 +		usage(describe_usage);
 +
	if (!initialized) {
		initialized = 1;
		for_each_ref(get_name);</pre>



<ol>
<li>
<p>It is preceded with a "git diff" header, that looks like
this (when the <code>-c</code> option is used):</p>


<pre>diff --combined file</pre>



<p>or like this (when the <code>--cc</code> option is used):</p>



<pre>diff --cc file</pre>


</li>
<li>
<p>It is followed by one or more extended header lines
(this example shows a merge with two parents):</p>


<pre>index &lt;hash&gt;,&lt;hash&gt;..&lt;hash&gt;
mode &lt;mode&gt;,&lt;mode&gt;..&lt;mode&gt;
new file mode &lt;mode&gt;
deleted file mode &lt;mode&gt;,&lt;mode&gt;</pre>



<p>The <code>mode &lt;mode&gt;,&lt;mode&gt;..&lt;mode&gt;</code> line appears only if at least one of
the &lt;mode&gt; is different from the rest. Extended headers with
information about detected contents movement (renames and
copying detection) are designed to work with diff of two
&lt;tree-ish&gt; and are not used by combined diff format.</p>

</li>
<li>
<p>It is followed by two-line from-file/to-file header</p>


<pre>--- a/file
+++ b/file</pre>



<p>Similar to two-line header for traditional <em>unified</em> diff
format, <code>/dev/null</code> is used to signal created or deleted
files.</p>


<p>However, if the --combined-all-paths option is provided, instead of a
two-line from-file/to-file you get a N+1 line from-file/to-file header,
where N is the number of parents in the merge commit</p>



<pre>--- a/file
--- a/file
--- a/file
+++ b/file</pre>



<p>This extended format can be useful if rename or copy detection is
active, to allow you to see the original name of the file in different
parents.</p>

</li>
<li>
<p>Chunk header format is modified to prevent people from
accidentally feeding it to <code>patch -p1</code>. Combined diff format
was created for review of merge commit changes, and was not
meant to be applied. The change is similar to the change in the
extended <em>index</em> header:</p>


<pre>@@@ &lt;from-file-range&gt; &lt;from-file-range&gt; &lt;to-file-range&gt; @@@</pre>



<p>There are (number of parents + 1) <code>@</code> characters in the chunk
header for combined diff format.</p>

</li>
</ol>


<p>Unlike the traditional <em>unified</em> diff format, which shows two
files A and B with a single column that has <code>-</code> (minus<U+2009>—<U+2009>appears in A but removed in B), <code>+</code> (plus<U+2009>—<U+2009>missing in A but
added to B), or <code>" "</code> (space<U+2009>—<U+2009>unchanged) prefix, this format
compares two or more files file1, file2,…<U+200B> with one file X, and
shows how X differs from each of fileN.  One column for each of
fileN is prepended to the output line to note how X’s line is
different from it.</p>


<p>A <code>-</code> character in the column N means that the line appears in
fileN but it does not appear in the result.  A <code>+</code> character
in the column N means that the line appears in the result,
and fileN does not have that line (in other words, the line was
added, from the point of view of that parent).</p>


<p>In the above example output, the function signature was changed
from both files (hence two <code>-</code> removals from both file1 and
file2, plus <code>++</code> to mean one line that was added does not appear
in either file1 or file2).  Also eight other lines are the same
from file1 but do not appear in file2 (hence prefixed with <code>+</code>).</p>


<p>When shown by <code>git diff-tree -c</code>, it compares the parents of a
merge commit with the merge result (i.e. file1..fileN are the
parents).  When shown by <code>git diff-files -c</code>, it compares the
two unresolved merge parents with the working tree file
(i.e. file1 is stage 2 aka "our version", file2 is stage 3 aka
"their version").</p>




<h2>other diff formats</h2>


<p>The <code>--summary</code> option describes newly added, deleted, renamed and
copied files.  The <code>--stat</code> option adds diffstat(1) graph to the
output.  These options can be combined with other options, such as
<code>-p</code>, and are meant for human consumption.</p>


<p>When showing a change that involves a rename or a copy, <code>--stat</code> output
formats the pathnames compactly by combining common prefix and suffix of
the pathnames.  For example, a change that moves <code>arch/i386/Makefile</code> to
<code>arch/x86/Makefile</code> while modifying 4 lines will be shown like this:</p>



<pre>arch/{i386 =&gt; x86}/Makefile    |   4 +--</pre>



<p>The <code>--numstat</code> option gives the diffstat(1) information but is designed
for easier machine consumption.  An entry in <code>--numstat</code> output looks
like this:</p>



<pre>1	2	README
3	1	arch/{i386 =&gt; x86}/Makefile</pre>



<p>That is, from left to right:</p>


<ol>
<li>
<p>the number of added lines;</p>
</li>
<li>
<p>a tab;</p>
</li>
<li>
<p>the number of deleted lines;</p>
</li>
<li>
<p>a tab;</p>
</li>
<li>
<p>pathname (possibly with rename/copy information);</p>
</li>
<li>
<p>a newline.</p>
</li>
</ol>


<p>When <code>-z</code> output option is in effect, the output is formatted this way:</p>



<pre>1	2	README NUL
3	1	NUL arch/i386/Makefile NUL arch/x86/Makefile NUL</pre>



<p>That is:</p>


<ol>
<li>
<p>the number of added lines;</p>
</li>
<li>
<p>a tab;</p>
</li>
<li>
<p>the number of deleted lines;</p>
</li>
<li>
<p>a tab;</p>
</li>
<li>
<p>a NUL (only exists if renamed/copied);</p>
</li>
<li>
<p>pathname in preimage;</p>
</li>
<li>
<p>a NUL (only exists if renamed/copied);</p>
</li>
<li>
<p>pathname in postimage (only exists if renamed/copied);</p>
</li>
<li>
<p>a NUL.</p>
</li>
</ol>


<p>The extra <code>NUL</code> before the preimage path in renamed case is to allow
scripts that read the output to tell if the current record being read is
a single-path record or a rename/copy record without reading ahead.
After reading added and deleted lines, reading up to <code>NUL</code> would yield
the pathname, but if that is <code>NUL</code>, the record will show two paths.</p>




<h2>examples</h2>


<dl>
<dt> Various ways to check your working tree </dt>
<dd>


<pre>$ git diff            <b>(1)</b>
$ git diff --cached   <b>(2)</b>
$ git diff HEAD       <b>(3)</b></pre>



<ol>
<li>
<p>Changes in the working tree not yet staged for the next commit.</p>
</li>
<li>
<p>Changes between the index and your last commit; what you
would be committing if you run <code>git commit</code> without <code>-a</code> option.</p>
</li>
<li>
<p>Changes in the working tree since your last commit; what you
would be committing if you run <code>git commit -a</code></p>
</li>
</ol>

</dd>
<dt> Comparing with arbitrary commits </dt>
<dd>


<pre>$ git diff test            <b>(1)</b>
$ git diff HEAD -- ./test  <b>(2)</b>
$ git diff HEAD^ HEAD      <b>(3)</b></pre>



<ol>
<li>
<p>Instead of using the tip of the current branch, compare with the
tip of "test" branch.</p>
</li>
<li>
<p>Instead of comparing with the tip of "test" branch, compare with
the tip of the current branch, but limit the comparison to the
file "test".</p>
</li>
<li>
<p>Compare the version before the last commit and the last commit.</p>
</li>
</ol>

</dd>
<dt> Comparing branches </dt>
<dd>


<pre>$ git diff topic master    <b>(1)</b>
$ git diff topic..master   <b>(2)</b>
$ git diff topic...master  <b>(3)</b></pre>



<ol>
<li>
<p>Changes between the tips of the topic and the master branches.</p>
</li>
<li>
<p>Same as above.</p>
</li>
<li>
<p>Changes that occurred on the master branch since when the topic
branch was started off it.</p>
</li>
</ol>

</dd>
<dt> Limiting the diff output </dt>
<dd>


<pre>$ git diff --diff-filter=MRC            <b>(1)</b>
$ git diff --name-status                <b>(2)</b>
$ git diff arch/i386 include/asm-i386   <b>(3)</b></pre>



<ol>
<li>
<p>Show only modification, rename, and copy, but not addition
or deletion.</p>
</li>
<li>
<p>Show only names and the nature of change, but not actual
diff output.</p>
</li>
<li>
<p>Limit diff output to named subtrees.</p>
</li>
</ol>

</dd>
<dt> Munging the diff output </dt>
<dd>


<pre>$ git diff --find-copies-harder -B -C  <b>(1)</b>
$ git diff -R                          <b>(2)</b></pre>



<ol>
<li>
<p>Spend extra cycles to find renames, copies and complete
rewrites (very expensive).</p>
</li>
<li>
<p>Output diff in reverse.</p>
</li>
</ol>

</dd>
</dl>




<h2>SEE ALSO</h2>


<p>diff(1),
<a href="/docs/git-difftool">git-difftool[1]</a>,
<a href="/docs/git-log">git-log[1]</a>,
<a href="/docs/gitdiffcore">gitdiffcore[7]</a>,
<a href="/docs/git-format-patch">git-format-patch[1]</a>,
<a href="/docs/git-apply">git-apply[1]</a>,
<a href="/docs/git-show">git-show[1]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-difftool - Show changes using common diff tools</span></h2>




<h2><br>synopsis</h2>


<pre><em>git difftool</em> [&lt;options&gt;] [&lt;commit&gt; [&lt;commit&gt;]] [--] [&lt;path&gt;…<U+200B>]</pre>




<h2>description</h2>


<p><em>git difftool</em> is a Git command that allows you to compare and edit files
between revisions using common diff tools.  <em>git difftool</em> is a frontend
to <em>git diff</em> and accepts the same options and arguments. See
<a href="/docs/git-diff">git-diff[1]</a>.</p>




<h2>options</h2>


<dl>
<dt> -d </dt>
<dt> --dir-diff </dt>
<dd>
<p>Copy the modified files to a temporary location and perform
a directory diff on them. This mode never prompts before
launching the diff tool.</p>
</dd>
<dt> -y </dt>
<dt> --no-prompt </dt>
<dd>
<p>Do not prompt before launching a diff tool.</p>
</dd>
<dt> --prompt </dt>
<dd>
<p>Prompt before each invocation of the diff tool.
This is the default behaviour; the option is provided to
override any configuration settings.</p>
</dd>
<dt> --rotate-to=&lt;file&gt; </dt>
<dd>
<p>Start showing the diff for the given path,
the paths before it will move to end and output.</p>
</dd>
<dt> --skip-to=&lt;file&gt; </dt>
<dd>
<p>Start showing the diff for the given path, skipping all
the paths before it.</p>
</dd>
<dt> -t &lt;tool&gt; </dt>
<dt> --tool=&lt;tool&gt; </dt>
<dd>
<p>Use the diff tool specified by &lt;tool&gt;.  Valid values include
emerge, kompare, meld, and vimdiff. Run <code>git difftool --tool-help</code>
for the list of valid &lt;tool&gt; settings.</p>

<p>If a diff tool is not specified, <em>git difftool</em>
will use the configuration variable <code>diff.tool</code>.  If the
configuration variable <code>diff.tool</code> is not set, <em>git difftool</em>
will pick a suitable default.</p>


<p>You can explicitly provide a full path to the tool by setting the
configuration variable <code>difftool.&lt;tool&gt;.path</code>. For example, you
can configure the absolute path to kdiff3 by setting
<code>difftool.kdiff3.path</code>. Otherwise, <em>git difftool</em> assumes the
tool is available in PATH.</p>


<p>Instead of running one of the known diff tools,
<em>git difftool</em> can be customized to run an alternative program
by specifying the command line to invoke in a configuration
variable <code>difftool.&lt;tool&gt;.cmd</code>.</p>


<p>When <em>git difftool</em> is invoked with this tool (either through the
<code>-t</code> or <code>--tool</code> option or the <code>diff.tool</code> configuration variable)
the configured command line will be invoked with the following
variables available: <code>$LOCAL</code> is set to the name of the temporary
file containing the contents of the diff pre-image and <code>$REMOTE</code>
is set to the name of the temporary file containing the contents
of the diff post-image.  <code>$MERGED</code> is the name of the file which is
being compared. <code>$BASE</code> is provided for compatibility
with custom merge tool commands and has the same value as <code>$MERGED</code>.</p>

</dd>
<dt> --tool-help </dt>
<dd>
<p>Print a list of diff tools that may be used with <code>--tool</code>.</p>
</dd>
<dt> --[no-]symlinks </dt>
<dd>
<p><em>git difftool</em>'s default behavior is create symlinks to the
working tree when run in <code>--dir-diff</code> mode and the right-hand
side of the comparison yields the same content as the file in
the working tree.</p>

<p>Specifying <code>--no-symlinks</code> instructs <em>git difftool</em> to create copies
instead.  <code>--no-symlinks</code> is the default on Windows.</p>

</dd>
<dt> -x &lt;command&gt; </dt>
<dt> --extcmd=&lt;command&gt; </dt>
<dd>
<p>Specify a custom command for viewing diffs.
<em>git-difftool</em> ignores the configured defaults and runs
<code>$command $LOCAL $REMOTE</code> when this option is specified.
Additionally, <code>$BASE</code> is set in the environment.</p>
</dd>
<dt> -g </dt>
<dt> --[no-]gui </dt>
<dd>
<p>When <em>git-difftool</em> is invoked with the <code>-g</code> or <code>--gui</code> option
the default diff tool will be read from the configured
<code>diff.guitool</code> variable instead of <code>diff.tool</code>. The <code>--no-gui</code>
option can be used to override this setting. If <code>diff.guitool</code>
is not set, we will fallback in the order of <code>merge.guitool</code>,
<code>diff.tool</code>, <code>merge.tool</code> until a tool is found.</p>
</dd>
<dt> --[no-]trust-exit-code </dt>
<dd>
<p><em>git-difftool</em> invokes a diff tool individually on each file.
Errors reported by the diff tool are ignored by default.
Use <code>--trust-exit-code</code> to make <em>git-difftool</em> exit when an
invoked diff tool returns a non-zero exit code.</p>

<p><em>git-difftool</em> will forward the exit code of the invoked tool when
<code>--trust-exit-code</code> is used.</p>

</dd>
</dl>


<p>See <a href="/docs/git-diff">git-diff[1]</a> for the full list of supported options.</p>




<h2>CONFIG VARIABLES</h2>


<p><em>git difftool</em> falls back to <em>git mergetool</em> config variables when the
difftool equivalents have not been defined.</p>


<dl>
<dt> diff.tool </dt>
<dd>
<p>The default diff tool to use.</p>
</dd>
<dt> diff.guitool </dt>
<dd>
<p>The default diff tool to use when <code>--gui</code> is specified.</p>
</dd>
<dt> difftool.&lt;tool&gt;.path </dt>
<dd>
<p>Override the path for the given tool.  This is useful in case
your tool is not in the PATH.</p>
</dd>
<dt> difftool.&lt;tool&gt;.cmd </dt>
<dd>
<p>Specify the command to invoke the specified diff tool.</p>

<p>See the <code>--tool=&lt;tool&gt;</code> option above for more details.</p>

</dd>
<dt> difftool.prompt </dt>
<dd>
<p>Prompt before each invocation of the diff tool.</p>
</dd>
<dt> difftool.trustExitCode </dt>
<dd>
<p>Exit difftool if the invoked diff tool returns a non-zero exit status.</p>

<p>See the <code>--trust-exit-code</code> option above for more details.</p>

</dd>
</dl>




<h2>SEE ALSO</h2>


<dl>
<dt> <a href="/docs/git-diff">git-diff[1]</a> </dt>
<dd>
<p>Show changes between commits, commit and working tree, etc</p>
</dd>
<dt> <a href="/docs/git-mergetool">git-mergetool[1]</a> </dt>
<dd>
<p>Run merge conflict resolution tools to resolve merge conflicts</p>
</dd>
<dt> <a href="/docs/git-config">git-config[1]</a> </dt>
<dd>
<p>Get and set repository or global options</p>
</dd>
</dl>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-range-diff - Compare two commit ranges (e.g. two versions of a branch)</span></h2>




<h2><br>synopsis</h2>


<pre><em>git range-diff</em> [--color=[&lt;when&gt;]] [--no-color] [&lt;diff-options&gt;]
	[--no-dual-color] [--creation-factor=&lt;factor&gt;]
	[--left-only | --right-only]
	( &lt;range1&gt; &lt;range2&gt; | &lt;rev1&gt;…<U+200B>&lt;rev2&gt; | &lt;base&gt; &lt;rev1&gt; &lt;rev2&gt; )</pre>




<h2>description</h2>


<p>This command shows the differences between two versions of a patch
series, or more generally, two commit ranges (ignoring merge commits).</p>


<p>To that end, it first finds pairs of commits from both commit ranges
that correspond with each other. Two commits are said to correspond when
the diff between their patches (i.e. the author information, the commit
message and the commit diff) is reasonably small compared to the
patches' size. See ``Algorithm`` below for details.</p>


<p>Finally, the list of matching commits is shown in the order of the
second commit range, with unmatched commits being inserted just after
all of their ancestors have been shown.</p>


<p>There are three ways to specify the commit ranges:</p>


<ul>
<li>
<p><code>&lt;range1&gt; &lt;range2&gt;</code>: Either commit range can be of the form
<code>&lt;base&gt;..&lt;rev&gt;</code>, <code>&lt;rev&gt;^!</code> or <code>&lt;rev&gt;^-&lt;n&gt;</code>. See <code>SPECIFYING RANGES</code>
in <a href="/docs/gitrevisions">gitrevisions[7]</a> for more details.</p>
</li>
<li>
<p><code>&lt;rev1&gt;...&lt;rev2&gt;</code>. This is equivalent to
<code>&lt;rev2&gt;..&lt;rev1&gt; &lt;rev1&gt;..&lt;rev2&gt;</code>.</p>
</li>
<li>
<p><code>&lt;base&gt; &lt;rev1&gt; &lt;rev2&gt;</code>: This is equivalent to <code>&lt;base&gt;..&lt;rev1&gt;
&lt;base&gt;..&lt;rev2&gt;</code>.</p>
</li>
</ul>




<h2>options</h2>


<dl>
<dt> --no-dual-color </dt>
<dd>
<p>When the commit diffs differ, <code>git range-diff</code> recreates the
original diffs' coloring, and adds outer -/+ diff markers with
the <strong>background</strong> being red/green to make it easier to see e.g.
when there was a change in what exact lines were added.</p>

<p>Additionally, the commit diff lines that are only present in the first commit
range are shown "dimmed" (this can be overridden using the <code>color.diff.&lt;slot&gt;</code>
config setting where <code>&lt;slot&gt;</code> is one of <code>contextDimmed</code>, <code>oldDimmed</code> and
<code>newDimmed</code>), and the commit diff lines that are only present in the second
commit range are shown in bold (which can be overridden using the config
settings <code>color.diff.&lt;slot&gt;</code> with <code>&lt;slot&gt;</code> being one of <code>contextBold</code>,
<code>oldBold</code> or <code>newBold</code>).</p>


<p>This is known to <code>range-diff</code> as "dual coloring". Use <code>--no-dual-color</code>
to revert to color all lines according to the outer diff markers
(and completely ignore the inner diff when it comes to color).</p>

</dd>
<dt> --creation-factor=&lt;percent&gt; </dt>
<dd>
<p>Set the creation/deletion cost fudge factor to <code>&lt;percent&gt;</code>.
Defaults to 60. Try a larger value if <code>git range-diff</code> erroneously
considers a large change a total rewrite (deletion of one commit
and addition of another), and a smaller one in the reverse case.
See the ``Algorithm`` section below for an explanation why this is
needed.</p>
</dd>
<dt> --left-only </dt>
<dd>
<p>Suppress commits that are missing from the first specified range
(or the "left range" when using the <code>&lt;rev1&gt;...&lt;rev2&gt;</code> format).</p>
</dd>
<dt> --right-only </dt>
<dd>
<p>Suppress commits that are missing from the second specified range
(or the "right range" when using the <code>&lt;rev1&gt;...&lt;rev2&gt;</code> format).</p>
</dd>
<dt> --[no-]notes[=&lt;ref&gt;] </dt>
<dd>
<p>This flag is passed to the <code>git log</code> program
(see <a href="/docs/git-log">git-log[1]</a>) that generates the patches.</p>
</dd>
<dt> &lt;range1&gt; &lt;range2&gt; </dt>
<dd>
<p>Compare the commits specified by the two ranges, where
<code>&lt;range1&gt;</code> is considered an older version of <code>&lt;range2&gt;</code>.</p>
</dd>
<dt> &lt;rev1&gt;…<U+200B>&lt;rev2&gt; </dt>
<dd>
<p>Equivalent to passing <code>&lt;rev2&gt;..&lt;rev1&gt;</code> and <code>&lt;rev1&gt;..&lt;rev2&gt;</code>.</p>
</dd>
<dt> &lt;base&gt; &lt;rev1&gt; &lt;rev2&gt; </dt>
<dd>
<p>Equivalent to passing <code>&lt;base&gt;..&lt;rev1&gt;</code> and <code>&lt;base&gt;..&lt;rev2&gt;</code>.
Note that <code>&lt;base&gt;</code> does not need to be the exact branch point
of the branches. Example: after rebasing a branch <code>my-topic</code>,
<code>git range-diff my-topic@{u} my-topic@{1} my-topic</code> would
show the differences introduced by the rebase.</p>
</dd>
</dl>


<p><code>git range-diff</code> also accepts the regular diff options (see
<a href="/docs/git-diff">git-diff[1]</a>), most notably the <code>--color=[&lt;when&gt;]</code> and
<code>--no-color</code> options. These options are used when generating the "diff
between patches", i.e. to compare the author, commit message and diff of
corresponding old/new commits. There is currently no means to tweak most of the
diff options passed to <code>git log</code> when generating those patches.</p>




<h2>OUTPUT STABILITY</h2>


<p>The output of the <code>range-diff</code> command is subject to change. It is
intended to be human-readable porcelain output, not something that can
be used across versions of Git to get a textually stable <code>range-diff</code>
(as opposed to something like the <code>--stable</code> option to
<a href="/docs/git-patch-id">git-patch-id[1]</a>). There’s also no equivalent of
<a href="/docs/git-apply">git-apply[1]</a> for <code>range-diff</code>, the output is not intended to
be machine-readable.</p>


<p>This is particularly true when passing in diff options. Currently some
options like <code>--stat</code> can, as an emergent effect, produce output
that’s quite useless in the context of <code>range-diff</code>. Future versions
of <code>range-diff</code> may learn to interpret such options in a manner
specific to <code>range-diff</code> (e.g. for <code>--stat</code> producing human-readable
output which summarizes how the diffstat changed).</p>




<h2>CONFIGURATION</h2>


<p>This command uses the <code>diff.color.*</code> and <code>pager.range-diff</code> settings
(the latter is on by default).
See <a href="/docs/git-config">git-config[1]</a>.</p>




<h2>examples</h2>


<p>When a rebase required merge conflicts to be resolved, compare the changes
introduced by the rebase directly afterwards using:</p>



<pre>$ git range-diff @{u} @{1} @</pre>



<p>A typical output of <code>git range-diff</code> would look like this:</p>



<pre>-:  ------- &gt; 1:  0ddba11 Prepare for the inevitable!
1:  c0debee = 2:  cab005e Add a helpful message at the start
2:  f00dbal ! 3:  decafe1 Describe a bug
    @@ -1,3 +1,3 @@
     Author: A U Thor &lt;author@example.com&gt;

    -TODO: Describe a bug
    +Describe a bug
    @@ -324,5 +324,6
      This is expected.

    -+What is unexpected is that it will also crash.
    ++Unexpectedly, it also crashes. This is a bug, and the jury is
    ++still out there how to fix it best. See ticket #314 for details.

      Contact
3:  bedead &lt; -:  ------- TO-UNDO</pre>



<p>In this example, there are 3 old and 3 new commits, where the developer
removed the 3rd, added a new one before the first two, and modified the
commit message of the 2nd commit as well its diff.</p>


<p>When the output goes to a terminal, it is color-coded by default, just
like regular <code>git diff</code>'s output. In addition, the first line (adding a
commit) is green, the last line (deleting a commit) is red, the second
line (with a perfect match) is yellow like the commit header of <code>git
show</code>'s output, and the third line colors the old commit red, the new
one green and the rest like <code>git show</code>'s commit header.</p>


<p>A naive color-coded diff of diffs is actually a bit hard to read,
though, as it colors the entire lines red or green. The line that added
"What is unexpected" in the old commit, for example, is completely red,
even if the intent of the old commit was to add something.</p>


<p>To help with that, <code>range</code> uses the <code>--dual-color</code> mode by default. In
this mode, the diff of diffs will retain the original diff colors, and
prefix the lines with -/+ markers that have their <strong>background</strong> red or
green, to make it more obvious that they describe how the diff itself
changed.</p>




<h2>Algorithm</h2>


<p>The general idea is this: we generate a cost matrix between the commits
in both commit ranges, then solve the least-cost assignment.</p>


<p>The cost matrix is populated thusly: for each pair of commits, both
diffs are generated and the "diff of diffs" is generated, with 3 context
lines, then the number of lines in that diff is used as cost.</p>


<p>To avoid false positives (e.g. when a patch has been removed, and an
unrelated patch has been added between two iterations of the same patch
series), the cost matrix is extended to allow for that, by adding
fixed-cost entries for wholesale deletes/adds.</p>


<p>Example: Let commits <code>1--2</code> be the first iteration of a patch series and
<code>A--C</code> the second iteration. Let’s assume that <code>A</code> is a cherry-pick of
<code>2,</code> and <code>C</code> is a cherry-pick of <code>1</code> but with a small modification (say,
a fixed typo). Visualize the commits as a bipartite graph:</p>



<pre>    1            A

    2            B

		 C</pre>



<p>We are looking for a "best" explanation of the new series in terms of
the old one. We can represent an "explanation" as an edge in the graph:</p>



<pre>    1            A
	       /
    2 --------'  B

		 C</pre>



<p>This explanation comes for "free" because there was no change. Similarly
<code>C</code> could be explained using <code>1</code>, but that comes at some cost c&gt;0
because of the modification:</p>



<pre>    1 ----.      A
	  |    /
    2 ----+---'  B
	  |
	  `----- C
	  c&gt;0</pre>



<p>In mathematical terms, what we are looking for is some sort of a minimum
cost bipartite matching; <code>1</code> is matched to <code>C</code> at some cost, etc. The
underlying graph is in fact a complete bipartite graph; the cost we
associate with every edge is the size of the diff between the two
commits' patches. To explain also new commits, we introduce dummy nodes
on both sides:</p>



<pre>    1 ----.      A
	  |    /
    2 ----+---'  B
	  |
    o     `----- C
	  c&gt;0
    o            o

    o            o</pre>



<p>The cost of an edge <code>o--C</code> is the size of <code>C</code>'s diff, modified by a
fudge factor that should be smaller than 100%. The cost of an edge
<code>o--o</code> is free. The fudge factor is necessary because even if <code>1</code> and
<code>C</code> have nothing in common, they may still share a few empty lines and
such, possibly making the assignment <code>1--C</code>, <code>o--o</code> slightly cheaper
than <code>1--o</code>, <code>o--C</code> even if <code>1</code> and <code>C</code> have nothing in common. With the
fudge factor we require a much larger common part to consider patches as
corresponding.</p>


<p>The overall time needed to compute this algorithm is the time needed to
compute n+m commit diffs and then n*m diffs of patches, plus the time
needed to compute the least-cost assignment between n and m diffs. Git
uses an implementation of the Jonker-Volgenant algorithm to solve the
assignment problem, which has cubic runtime complexity. The matching
found in this case will look like this:</p>



<pre>    1 ----.      A
	  |    /
    2 ----+---'  B
       .--+-----'
    o -'  `----- C
	  c&gt;0
    o ---------- o

    o ---------- o</pre>





<h2>SEE ALSO</h2>


<p><a href="/docs/git-log">git-log[1]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-shortlog - Summarize <em>git log</em> output</span></h2>




<h2><br>synopsis</h2>


<pre><em>git shortlog</em> [&lt;options&gt;] [&lt;revision-range&gt;] [[--] &lt;path&gt;…<U+200B>]
git log --pretty=short | <em>git shortlog</em> [&lt;options&gt;]</pre>




<h2>description</h2>


<p>Summarizes <em>git log</em> output in a format suitable for inclusion
in release announcements. Each commit will be grouped by author and title.</p>


<p>Additionally, "[PATCH]" will be stripped from the commit description.</p>


<p>If no revisions are passed on the command line and either standard input
is not a terminal or there is no current branch, <em>git shortlog</em> will
output a summary of the log read from standard input, without
reference to the current repository.</p>




<h2>options</h2>


<dl>
<dt> -n </dt>
<dt> --numbered </dt>
<dd>
<p>Sort output according to the number of commits per author instead
of author alphabetic order.</p>
</dd>
<dt> -s </dt>
<dt> --summary </dt>
<dd>
<p>Suppress commit description and provide a commit count summary only.</p>
</dd>
<dt> -e </dt>
<dt> --email </dt>
<dd>
<p>Show the email address of each author.</p>
</dd>
<dt> --format[=&lt;format&gt;] </dt>
<dd>
<p>Instead of the commit subject, use some other information to
describe each commit.  <em>&lt;format&gt;</em> can be any string accepted
by the <code>--format</code> option of <em>git log</em>, such as <em>* [%h] %s</em>.
(See the "PRETTY FORMATS" section of <a href="/docs/git-log">git-log[1]</a>.)</p>


<pre>Each pretty-printed commit will be rewrapped before it is shown.</pre>


</dd>
<dt> --group=&lt;type&gt; </dt>
<dd>
<p>Group commits based on <code>&lt;type&gt;</code>. If no <code>--group</code> option is
specified, the default is <code>author</code>. <code>&lt;type&gt;</code> is one of:</p>



<ul>
<li>
<p><code>author</code>, commits are grouped by author</p>
</li>
<li>
<p><code>committer</code>, commits are grouped by committer (the same as <code>-c</code>)</p>
</li>
<li>
<p><code>trailer:&lt;field&gt;</code>, the <code>&lt;field&gt;</code> is interpreted as a case-insensitive
commit message trailer (see <a href="/docs/git-interpret-trailers">git-interpret-trailers[1]</a>). For
example, if your project uses <code>Reviewed-by</code> trailers, you might want
to see who has been reviewing with
<code>git shortlog -ns --group=trailer:reviewed-by</code>.</p>

<p>Note that commits that do not include the trailer will not be counted.
Likewise, commits with multiple trailers (e.g., multiple signoffs) may
be counted more than once (but only once per unique trailer value in
that commit).</p>


<p>Shortlog will attempt to parse each trailer value as a <code>name &lt;email&gt;</code>
identity. If successful, the mailmap is applied and the email is omitted
unless the <code>--email</code> option is specified. If the value cannot be parsed
as an identity, it will be taken literally and completely.</p>

</li>
</ul>




<p>If <code>--group</code> is specified multiple times, commits are counted under each
value (but again, only once per unique value in that commit). For
example, <code>git shortlog --group=author --group=trailer:co-authored-by</code>
counts both authors and co-authors.</p>

</dd>
<dt> -c </dt>
<dt> --committer </dt>
<dd>
<p>This is an alias for <code>--group=committer</code>.</p>
</dd>
<dt> -w[&lt;width&gt;[,&lt;indent1&gt;[,&lt;indent2&gt;]]] </dt>
<dd>
<p>Linewrap the output by wrapping each line at <code>width</code>.  The first
line of each entry is indented by <code>indent1</code> spaces, and the second
and subsequent lines are indented by <code>indent2</code> spaces. <code>width</code>,
<code>indent1</code>, and <code>indent2</code> default to 76, 6 and 9 respectively.</p>

<p>If width is <code>0</code> (zero) then indent the lines of the output without wrapping
them.</p>

</dd>
<dt> &lt;revision-range&gt; </dt>
<dd>
<p>Show only commits in the specified revision range.  When no
&lt;revision-range&gt; is specified, it defaults to <code>HEAD</code> (i.e. the
whole history leading to the current commit).  <code>origin..HEAD</code>
specifies all the commits reachable from the current commit
(i.e. <code>HEAD</code>), but not from <code>origin</code>. For a complete list of
ways to spell &lt;revision-range&gt;, see the "Specifying Ranges"
section of <a href="/docs/gitrevisions">gitrevisions[7]</a>.</p>
</dd>
<dt> [--] &lt;path&gt;…<U+200B> </dt>
<dd>
<p>Consider only commits that are enough to explain how the files
that match the specified paths came to be.</p>

<p>Paths may need to be prefixed with <code>--</code> to separate them from
options or the revision range, when confusion arises.</p>

</dd>
</dl>


<h3>
Commit Limiting</h3>

<p>Besides specifying a range of commits that should be listed using the
special notations explained in the description, additional commit
limiting may be applied.</p>


<p>Using more options generally further limits the output (e.g.
<code>--since=&lt;date1&gt;</code> limits to commits newer than <code>&lt;date1&gt;</code>, and using it
with <code>--grep=&lt;pattern&gt;</code> further limits to commits whose log message
has a line that matches <code>&lt;pattern&gt;</code>), unless otherwise noted.</p>


<p>Note that these are applied before commit
ordering and formatting options, such as <code>--reverse</code>.</p>


<dl>
<dt> -&lt;number&gt; </dt>
<dt> -n &lt;number&gt; </dt>
<dt> --max-count=&lt;number&gt; </dt>
<dd>
<p>Limit the number of commits to output.</p>
</dd>
<dt> --skip=&lt;number&gt; </dt>
<dd>
<p>Skip <em>number</em> commits before starting to show the commit output.</p>
</dd>
<dt> --since=&lt;date&gt; </dt>
<dt> --after=&lt;date&gt; </dt>
<dd>
<p>Show commits more recent than a specific date.</p>
</dd>
<dt> --until=&lt;date&gt; </dt>
<dt> --before=&lt;date&gt; </dt>
<dd>
<p>Show commits older than a specific date.</p>
</dd>
<dt> --author=&lt;pattern&gt; </dt>
<dt> --committer=&lt;pattern&gt; </dt>
<dd>
<p>Limit the commits output to ones with author/committer
header lines that match the specified pattern (regular
expression).  With more than one <code>--author=&lt;pattern&gt;</code>,
commits whose author matches any of the given patterns are
chosen (similarly for multiple <code>--committer=&lt;pattern&gt;</code>).</p>
</dd>
<dt> --grep-reflog=&lt;pattern&gt; </dt>
<dd>
<p>Limit the commits output to ones with reflog entries that
match the specified pattern (regular expression). With
more than one <code>--grep-reflog</code>, commits whose reflog message
matches any of the given patterns are chosen.  It is an
error to use this option unless <code>--walk-reflogs</code> is in use.</p>
</dd>
<dt> --grep=&lt;pattern&gt; </dt>
<dd>
<p>Limit the commits output to ones with log message that
matches the specified pattern (regular expression).  With
more than one <code>--grep=&lt;pattern&gt;</code>, commits whose message
matches any of the given patterns are chosen (but see
<code>--all-match</code>).</p>

<p>When <code>--notes</code> is in effect, the message from the notes is
matched as if it were part of the log message.</p>

</dd>
<dt> --all-match </dt>
<dd>
<p>Limit the commits output to ones that match all given <code>--grep</code>,
instead of ones that match at least one.</p>
</dd>
<dt> --invert-grep </dt>
<dd>
<p>Limit the commits output to ones with log message that do not
match the pattern specified with <code>--grep=&lt;pattern&gt;</code>.</p>
</dd>
<dt> -i </dt>
<dt> --regexp-ignore-case </dt>
<dd>
<p>Match the regular expression limiting patterns without regard to letter
case.</p>
</dd>
<dt> --basic-regexp </dt>
<dd>
<p>Consider the limiting patterns to be basic regular expressions;
this is the default.</p>
</dd>
<dt> -E </dt>
<dt> --extended-regexp </dt>
<dd>
<p>Consider the limiting patterns to be extended regular expressions
instead of the default basic regular expressions.</p>
</dd>
<dt> -F </dt>
<dt> --fixed-strings </dt>
<dd>
<p>Consider the limiting patterns to be fixed strings (don’t interpret
pattern as a regular expression).</p>
</dd>
<dt> -P </dt>
<dt> --perl-regexp </dt>
<dd>
<p>Consider the limiting patterns to be Perl-compatible regular
expressions.</p>

<p>Support for these types of regular expressions is an optional
compile-time dependency. If Git wasn’t compiled with support for them
providing this option will cause it to die.</p>

</dd>
<dt> --remove-empty </dt>
<dd>
<p>Stop when a given path disappears from the tree.</p>
</dd>
<dt> --merges </dt>
<dd>
<p>Print only merge commits. This is exactly the same as <code>--min-parents=2</code>.</p>
</dd>
<dt> --no-merges </dt>
<dd>
<p>Do not print commits with more than one parent. This is
exactly the same as <code>--max-parents=1</code>.</p>
</dd>
<dt> --min-parents=&lt;number&gt; </dt>
<dt> --max-parents=&lt;number&gt; </dt>
<dt> --no-min-parents </dt>
<dt> --no-max-parents </dt>
<dd>
<p>Show only commits which have at least (or at most) that many parent
commits. In particular, <code>--max-parents=1</code> is the same as <code>--no-merges</code>,
<code>--min-parents=2</code> is the same as <code>--merges</code>.  <code>--max-parents=0</code>
gives all root commits and <code>--min-parents=3</code> all octopus merges.</p>

<p><code>--no-min-parents</code> and <code>--no-max-parents</code> reset these limits (to no limit)
again.  Equivalent forms are <code>--min-parents=0</code> (any commit has 0 or more
parents) and <code>--max-parents=-1</code> (negative numbers denote no upper limit).</p>

</dd>
<dt> --first-parent </dt>
<dd>
<p>Follow only the first parent commit upon seeing a merge
commit.  This option can give a better overview when
viewing the evolution of a particular topic branch,
because merges into a topic branch tend to be only about
adjusting to updated upstream from time to time, and
this option allows you to ignore the individual commits
brought in to your history by such a merge.</p>
</dd>
<dt> --not </dt>
<dd>
<p>Reverses the meaning of the <em>^</em> prefix (or lack thereof)
for all following revision specifiers, up to the next <code>--not</code>.</p>
</dd>
<dt> --all </dt>
<dd>
<p>Pretend as if all the refs in <code>refs/</code>, along with <code>HEAD</code>, are
listed on the command line as <em>&lt;commit&gt;</em>.</p>
</dd>
<dt> --branches[=&lt;pattern&gt;] </dt>
<dd>
<p>Pretend as if all the refs in <code>refs/heads</code> are listed
on the command line as <em>&lt;commit&gt;</em>. If <em>&lt;pattern&gt;</em> is given, limit
branches to ones matching given shell glob. If pattern lacks <em>?</em>,
<em>*</em>, or <em>[</em>, <em>/*</em> at the end is implied.</p>
</dd>
<dt> --tags[=&lt;pattern&gt;] </dt>
<dd>
<p>Pretend as if all the refs in <code>refs/tags</code> are listed
on the command line as <em>&lt;commit&gt;</em>. If <em>&lt;pattern&gt;</em> is given, limit
tags to ones matching given shell glob. If pattern lacks <em>?</em>, <em>*</em>,
or <em>[</em>, <em>/*</em> at the end is implied.</p>
</dd>
<dt> --remotes[=&lt;pattern&gt;] </dt>
<dd>
<p>Pretend as if all the refs in <code>refs/remotes</code> are listed
on the command line as <em>&lt;commit&gt;</em>. If <em>&lt;pattern&gt;</em> is given, limit
remote-tracking branches to ones matching given shell glob.
If pattern lacks <em>?</em>, <em>*</em>, or <em>[</em>, <em>/*</em> at the end is implied.</p>
</dd>
<dt> --glob=&lt;glob-pattern&gt; </dt>
<dd>
<p>Pretend as if all the refs matching shell glob <em>&lt;glob-pattern&gt;</em>
are listed on the command line as <em>&lt;commit&gt;</em>. Leading <em>refs/</em>,
is automatically prepended if missing. If pattern lacks <em>?</em>, <em>*</em>,
or <em>[</em>, <em>/*</em> at the end is implied.</p>
</dd>
<dt> --exclude=&lt;glob-pattern&gt; </dt>
<dd>
<p>Do not include refs matching <em>&lt;glob-pattern&gt;</em> that the next <code>--all</code>,
<code>--branches</code>, <code>--tags</code>, <code>--remotes</code>, or <code>--glob</code> would otherwise
consider. Repetitions of this option accumulate exclusion patterns
up to the next <code>--all</code>, <code>--branches</code>, <code>--tags</code>, <code>--remotes</code>, or
<code>--glob</code> option (other options or arguments do not clear
accumulated patterns).</p>

<p>The patterns given should not begin with <code>refs/heads</code>, <code>refs/tags</code>, or
<code>refs/remotes</code> when applied to <code>--branches</code>, <code>--tags</code>, or <code>--remotes</code>,
respectively, and they must begin with <code>refs/</code> when applied to <code>--glob</code>
or <code>--all</code>. If a trailing <em>/*</em> is intended, it must be given
explicitly.</p>

</dd>
<dt> --reflog </dt>
<dd>
<p>Pretend as if all objects mentioned by reflogs are listed on the
command line as <code>&lt;commit&gt;</code>.</p>
</dd>
<dt> --alternate-refs </dt>
<dd>
<p>Pretend as if all objects mentioned as ref tips of alternate
repositories were listed on the command line. An alternate
repository is any repository whose object directory is specified
in <code>objects/info/alternates</code>.  The set of included objects may
be modified by <code>core.alternateRefsCommand</code>, etc. See
<a href="/docs/git-config">git-config[1]</a>.</p>
</dd>
<dt> --single-worktree </dt>
<dd>
<p>By default, all working trees will be examined by the
following options when there are more than one (see
<a href="/docs/git-worktree">git-worktree[1]</a>): <code>--all</code>, <code>--reflog</code> and
<code>--indexed-objects</code>.
This option forces them to examine the current working tree
only.</p>
</dd>
<dt> --ignore-missing </dt>
<dd>
<p>Upon seeing an invalid object name in the input, pretend as if
the bad input was not given.</p>
</dd>
<dt> --bisect </dt>
<dd>
<p>Pretend as if the bad bisection ref <code>refs/bisect/bad</code>
was listed and as if it was followed by <code>--not</code> and the good
bisection refs <code>refs/bisect/good-*</code> on the command
line.</p>
</dd>
<dt> --stdin </dt>
<dd>
<p>In addition to the <em>&lt;commit&gt;</em> listed on the command
line, read them from the standard input. If a <code>--</code> separator is
seen, stop reading commits and start reading paths to limit the
result.</p>
</dd>
<dt> --cherry-mark </dt>
<dd>
<p>Like <code>--cherry-pick</code> (see below) but mark equivalent commits
with <code>=</code> rather than omitting them, and inequivalent ones with <code>+</code>.</p>
</dd>
<dt> --cherry-pick </dt>
<dd>
<p>Omit any commit that introduces the same change as
another commit on the “other side” when the set of
commits are limited with symmetric difference.</p>

<p>For example, if you have two branches, <code>A</code> and <code>B</code>, a usual way
to list all commits on only one side of them is with
<code>--left-right</code> (see the example below in the description of
the <code>--left-right</code> option). However, it shows the commits that were
cherry-picked from the other branch (for example, “3rd on b” may be
cherry-picked from branch A). With this option, such pairs of commits are
excluded from the output.</p>

</dd>
<dt> --left-only </dt>
<dt> --right-only </dt>
<dd>
<p>List only commits on the respective side of a symmetric difference,
i.e. only those which would be marked <code>&lt;</code> resp. <code>&gt;</code> by
<code>--left-right</code>.</p>

<p>For example, <code>--cherry-pick --right-only A...B</code> omits those
commits from <code>B</code> which are in <code>A</code> or are patch-equivalent to a commit in
<code>A</code>. In other words, this lists the <code>+</code> commits from <code>git cherry A B</code>.
More precisely, <code>--cherry-pick --right-only --no-merges</code> gives the exact
list.</p>

</dd>
<dt> --cherry </dt>
<dd>
<p>A synonym for <code>--right-only --cherry-mark --no-merges</code>; useful to
limit the output to the commits on our side and mark those that
have been applied to the other side of a forked history with
<code>git log --cherry upstream...mybranch</code>, similar to
<code>git cherry upstream mybranch</code>.</p>
</dd>
<dt> -g </dt>
<dt> --walk-reflogs </dt>
<dd>
<p>Instead of walking the commit ancestry chain, walk
reflog entries from the most recent one to older ones.
When this option is used you cannot specify commits to
exclude (that is, <em>^commit</em>, <em>commit1..commit2</em>,
and <em>commit1...commit2</em> notations cannot be used).</p>

<p>With <code>--pretty</code> format other than <code>oneline</code> and <code>reference</code> (for obvious reasons),
this causes the output to have two extra lines of information
taken from the reflog.  The reflog designator in the output may be shown
as <code>ref@{Nth}</code> (where <code>Nth</code> is the reverse-chronological index in the
reflog) or as <code>ref@{timestamp}</code> (with the timestamp for that entry),
depending on a few rules:</p>




<ol>
<li>
<p>If the starting point is specified as <code>ref@{Nth}</code>, show the index
format.</p>
</li>
<li>
<p>If the starting point was specified as <code>ref@{now}</code>, show the
timestamp format.</p>
</li>
<li>
<p>If neither was used, but <code>--date</code> was given on the command line, show
the timestamp in the format requested by <code>--date</code>.</p>
</li>
<li>
<p>Otherwise, show the index format.</p>
</li>
</ol>




<p>Under <code>--pretty=oneline</code>, the commit message is
prefixed with this information on the same line.
This option cannot be combined with <code>--reverse</code>.
See also <a href="/docs/git-reflog">git-reflog[1]</a>.</p>


<p>Under <code>--pretty=reference</code>, this information will not be shown at all.</p>

</dd>
<dt> --merge </dt>
<dd>
<p>After a failed merge, show refs that touch files having a
conflict and don’t exist on all heads to merge.</p>
</dd>
<dt> --boundary </dt>
<dd>
<p>Output excluded boundary commits. Boundary commits are
prefixed with <code>-</code>.</p>
</dd>
</dl>



<h3>
History Simplification</h3>

<p>Sometimes you are only interested in parts of the history, for example the
commits modifying a particular &lt;path&gt;. But there are two parts of
<em>History Simplification</em>, one part is selecting the commits and the other
is how to do it, as there are various strategies to simplify the history.</p>


<p>The following options select the commits to be shown:</p>


<dl>
<dt> &lt;paths&gt; </dt>
<dd>
<p>Commits modifying the given &lt;paths&gt; are selected.</p>
</dd>
<dt> --simplify-by-decoration </dt>
<dd>
<p>Commits that are referred by some branch or tag are selected.</p>
</dd>
</dl>


<p>Note that extra commits can be shown to give a meaningful history.</p>


<p>The following options affect the way the simplification is performed:</p>


<dl>
<dt> Default mode </dt>
<dd>
<p>Simplifies the history to the simplest history explaining the
final state of the tree. Simplest because it prunes some side
branches if the end result is the same (i.e. merging branches
with the same content)</p>
</dd>
<dt> --show-pulls </dt>
<dd>
<p>Include all commits from the default mode, but also any merge
commits that are not TREESAME to the first parent but are
TREESAME to a later parent. This mode is helpful for showing
the merge commits that "first introduced" a change to a branch.</p>
</dd>
<dt> --full-history </dt>
<dd>
<p>Same as the default mode, but does not prune some history.</p>
</dd>
<dt> --dense </dt>
<dd>
<p>Only the selected commits are shown, plus some to have a
meaningful history.</p>
</dd>
<dt> --sparse </dt>
<dd>
<p>All commits in the simplified history are shown.</p>
</dd>
<dt> --simplify-merges </dt>
<dd>
<p>Additional option to <code>--full-history</code> to remove some needless
merges from the resulting history, as there are no selected
commits contributing to this merge.</p>
</dd>
<dt> --ancestry-path </dt>
<dd>
<p>When given a range of commits to display (e.g. <em>commit1..commit2</em>
or <em>commit2 ^commit1</em>), only display commits that exist
directly on the ancestry chain between the <em>commit1</em> and
<em>commit2</em>, i.e. commits that are both descendants of <em>commit1</em>,
and ancestors of <em>commit2</em>.</p>
</dd>
</dl>


<p>A more detailed explanation follows.</p>


<p>Suppose you specified <code>foo</code> as the &lt;paths&gt;.  We shall call commits
that modify <code>foo</code> !TREESAME, and the rest TREESAME.  (In a diff
filtered for <code>foo</code>, they look different and equal, respectively.)</p>


<p>In the following, we will always refer to the same example history to
illustrate the differences between simplification settings.  We assume
that you are filtering for a file <code>foo</code> in this commit graph:</p>



<pre>	  .-A---M---N---O---P---Q
	 /     /   /   /   /   /
	I     B   C   D   E   Y
	 \   /   /   /   /   /
	  `-------------'   X</pre>



<p>The horizontal line of history A---Q is taken to be the first parent of
each merge.  The commits are:</p>


<ul>
<li>
<p><code>I</code> is the initial commit, in which <code>foo</code> exists with contents
“asdf”, and a file <code>quux</code> exists with contents “quux”. Initial
commits are compared to an empty tree, so <code>I</code> is !TREESAME.</p>
</li>
<li>
<p>In <code>A</code>, <code>foo</code> contains just “foo”.</p>
</li>
<li>
<p><code>B</code> contains the same change as <code>A</code>.  Its merge <code>M</code> is trivial and
hence TREESAME to all parents.</p>
</li>
<li>
<p><code>C</code> does not change <code>foo</code>, but its merge <code>N</code> changes it to “foobar”,
so it is not TREESAME to any parent.</p>
</li>
<li>
<p><code>D</code> sets <code>foo</code> to “baz”. Its merge <code>O</code> combines the strings from
<code>N</code> and <code>D</code> to “foobarbaz”; i.e., it is not TREESAME to any parent.</p>
</li>
<li>
<p><code>E</code> changes <code>quux</code> to “xyzzy”, and its merge <code>P</code> combines the
strings to “quux xyzzy”. <code>P</code> is TREESAME to <code>O</code>, but not to <code>E</code>.</p>
</li>
<li>
<p><code>X</code> is an independent root commit that added a new file <code>side</code>, and <code>Y</code>
modified it. <code>Y</code> is TREESAME to <code>X</code>. Its merge <code>Q</code> added <code>side</code> to <code>P</code>, and
<code>Q</code> is TREESAME to <code>P</code>, but not to <code>Y</code>.</p>
</li>
</ul>


<p><code>rev-list</code> walks backwards through history, including or excluding
commits based on whether <code>--full-history</code> and/or parent rewriting
(via <code>--parents</code> or <code>--children</code>) are used. The following settings
are available.</p>


<dl>
<dt> Default mode </dt>
<dd>
<p>Commits are included if they are not TREESAME to any parent
(though this can be changed, see <code>--sparse</code> below).  If the
commit was a merge, and it was TREESAME to one parent, follow
only that parent.  (Even if there are several TREESAME
parents, follow only one of them.)  Otherwise, follow all
parents.</p>

<p>This results in:</p>



<pre>	  .-A---N---O
	 /     /   /
	I---------D</pre>



<p>Note how the rule to only follow the TREESAME parent, if one is
available, removed <code>B</code> from consideration entirely.  <code>C</code> was
considered via <code>N</code>, but is TREESAME.  Root commits are compared to an
empty tree, so <code>I</code> is !TREESAME.</p>


<p>Parent/child relations are only visible with <code>--parents</code>, but that does
not affect the commits selected in default mode, so we have shown the
parent lines.</p>

</dd>
<dt> --full-history without parent rewriting </dt>
<dd>
<p>This mode differs from the default in one point: always follow
all parents of a merge, even if it is TREESAME to one of them.
Even if more than one side of the merge has commits that are
included, this does not imply that the merge itself is!  In
the example, we get</p>


<pre>	I  A  B  N  D  O  P  Q</pre>



<p><code>M</code> was excluded because it is TREESAME to both parents.  <code>E</code>,
<code>C</code> and <code>B</code> were all walked, but only <code>B</code> was !TREESAME, so the others
do not appear.</p>


<p>Note that without parent rewriting, it is not really possible to talk
about the parent/child relationships between the commits, so we show
them disconnected.</p>

</dd>
<dt> --full-history with parent rewriting </dt>
<dd>
<p>Ordinary commits are only included if they are !TREESAME
(though this can be changed, see <code>--sparse</code> below).</p>

<p>Merges are always included.  However, their parent list is rewritten:
Along each parent, prune away commits that are not included
themselves.  This results in</p>



<pre>	  .-A---M---N---O---P---Q
	 /     /   /   /   /
	I     B   /   D   /
	 \   /   /   /   /
	  `-------------'</pre>



<p>Compare to <code>--full-history</code> without rewriting above.  Note that <code>E</code>
was pruned away because it is TREESAME, but the parent list of P was
rewritten to contain <code>E</code>'s parent <code>I</code>.  The same happened for <code>C</code> and
<code>N</code>, and <code>X</code>, <code>Y</code> and <code>Q</code>.</p>

</dd>
</dl>


<p>In addition to the above settings, you can change whether TREESAME
affects inclusion:</p>


<dl>
<dt> --dense </dt>
<dd>
<p>Commits that are walked are included if they are not TREESAME
to any parent.</p>
</dd>
<dt> --sparse </dt>
<dd>
<p>All commits that are walked are included.</p>

<p>Note that without <code>--full-history</code>, this still simplifies merges: if
one of the parents is TREESAME, we follow only that one, so the other
sides of the merge are never walked.</p>

</dd>
<dt> --simplify-merges </dt>
<dd>
<p>First, build a history graph in the same way that
<code>--full-history</code> with parent rewriting does (see above).</p>

<p>Then simplify each commit <code>C</code> to its replacement <code>C'</code> in the final
history according to the following rules:</p>




<ul>
<li>
<p>Set <code>C'</code> to <code>C</code>.</p>
</li>
<li>
<p>Replace each parent <code>P</code> of <code>C'</code> with its simplification <code>P'</code>.  In
the process, drop parents that are ancestors of other parents or that are
root commits TREESAME to an empty tree, and remove duplicates, but take care
to never drop all parents that we are TREESAME to.</p>
</li>
<li>
<p>If after this parent rewriting, <code>C'</code> is a root or merge commit (has
zero or &gt;1 parents), a boundary commit, or !TREESAME, it remains.
Otherwise, it is replaced with its only parent.</p>
</li>
</ul>




<p>The effect of this is best shown by way of comparing to
<code>--full-history</code> with parent rewriting.  The example turns into:</p>



<pre>	  .-A---M---N---O
	 /     /       /
	I     B       D
	 \   /       /
	  `---------'</pre>



<p>Note the major differences in <code>N</code>, <code>P</code>, and <code>Q</code> over <code>--full-history</code>:</p>




<ul>
<li>
<p><code>N</code>'s parent list had <code>I</code> removed, because it is an ancestor of the
other parent <code>M</code>.  Still, <code>N</code> remained because it is !TREESAME.</p>
</li>
<li>
<p><code>P</code>'s parent list similarly had <code>I</code> removed.  <code>P</code> was then
removed completely, because it had one parent and is TREESAME.</p>
</li>
<li>
<p><code>Q</code>'s parent list had <code>Y</code> simplified to <code>X</code>. <code>X</code> was then removed, because it
was a TREESAME root. <code>Q</code> was then removed completely, because it had one
parent and is TREESAME.</p>
</li>
</ul>



</dd>
</dl>


<p>There is another simplification mode available:</p>


<dl>
<dt> --ancestry-path </dt>
<dd>
<p>Limit the displayed commits to those directly on the ancestry
chain between the “from” and “to” commits in the given commit
range. I.e. only display commits that are ancestor of the “to”
commit and descendants of the “from” commit.</p>

<p>As an example use case, consider the following commit history:</p>



<pre>	    D---E-------F
	   /     \       \
	  B---C---G---H---I---J
	 /                     \
	A-------K---------------L--M</pre>



<p>A regular <em>D..M</em> computes the set of commits that are ancestors of <code>M</code>,
but excludes the ones that are ancestors of <code>D</code>. This is useful to see
what happened to the history leading to <code>M</code> since <code>D</code>, in the sense
that “what does <code>M</code> have that did not exist in <code>D</code>”. The result in this
example would be all the commits, except <code>A</code> and <code>B</code> (and <code>D</code> itself,
of course).</p>


<p>When we want to find out what commits in <code>M</code> are contaminated with the
bug introduced by <code>D</code> and need fixing, however, we might want to view
only the subset of <em>D..M</em> that are actually descendants of <code>D</code>, i.e.
excluding <code>C</code> and <code>K</code>. This is exactly what the <code>--ancestry-path</code>
option does. Applied to the <em>D..M</em> range, it results in:</p>



<pre>		E-------F
		 \       \
		  G---H---I---J
			       \
				L--M</pre>


</dd>
</dl>


<p>Before discussing another option, <code>--show-pulls</code>, we need to
create a new example history.</p>


<p>A common problem users face when looking at simplified history is that a
commit they know changed a file somehow does not appear in the file’s
simplified history. Let’s demonstrate a new example and show how options
such as <code>--full-history</code> and <code>--simplify-merges</code> works in that case:</p>



<pre>	  .-A---M-----C--N---O---P
	 /     / \  \  \/   /   /
	I     B   \  R-'`-Z'   /
	 \   /     \/         /
	  \ /      /\        /
	   `---X--'  `---Y--'</pre>



<p>For this example, suppose <code>I</code> created <code>file.txt</code> which was modified by
<code>A</code>, <code>B</code>, and <code>X</code> in different ways. The single-parent commits <code>C</code>, <code>Z</code>,
and <code>Y</code> do not change <code>file.txt</code>. The merge commit <code>M</code> was created by
resolving the merge conflict to include both changes from <code>A</code> and <code>B</code>
and hence is not TREESAME to either. The merge commit <code>R</code>, however, was
created by ignoring the contents of <code>file.txt</code> at <code>M</code> and taking only
the contents of <code>file.txt</code> at <code>X</code>. Hence, <code>R</code> is TREESAME to <code>X</code> but not
<code>M</code>. Finally, the natural merge resolution to create <code>N</code> is to take the
contents of <code>file.txt</code> at <code>R</code>, so <code>N</code> is TREESAME to <code>R</code> but not <code>C</code>.
The merge commits <code>O</code> and <code>P</code> are TREESAME to their first parents, but
not to their second parents, <code>Z</code> and <code>Y</code> respectively.</p>


<p>When using the default mode, <code>N</code> and <code>R</code> both have a TREESAME parent, so
those edges are walked and the others are ignored. The resulting history
graph is:</p>



<pre>	I---X</pre>



<p>When using <code>--full-history</code>, Git walks every edge. This will discover
the commits <code>A</code> and <code>B</code> and the merge <code>M</code>, but also will reveal the
merge commits <code>O</code> and <code>P</code>. With parent rewriting, the resulting graph is:</p>



<pre>	  .-A---M--------N---O---P
	 /     / \  \  \/   /   /
	I     B   \  R-'`--'   /
	 \   /     \/         /
	  \ /      /\        /
	   `---X--'  `------'</pre>



<p>Here, the merge commits <code>O</code> and <code>P</code> contribute extra noise, as they did
not actually contribute a change to <code>file.txt</code>. They only merged a topic
that was based on an older version of <code>file.txt</code>. This is a common
issue in repositories using a workflow where many contributors work in
parallel and merge their topic branches along a single trunk: manu
unrelated merges appear in the <code>--full-history</code> results.</p>


<p>When using the <code>--simplify-merges</code> option, the commits <code>O</code> and <code>P</code>
disappear from the results. This is because the rewritten second parents
of <code>O</code> and <code>P</code> are reachable from their first parents. Those edges are
removed and then the commits look like single-parent commits that are
TREESAME to their parent. This also happens to the commit <code>N</code>, resulting
in a history view as follows:</p>



<pre>	  .-A---M--.
	 /     /    \
	I     B      R
	 \   /      /
	  \ /      /
	   `---X--'</pre>



<p>In this view, we see all of the important single-parent changes from
<code>A</code>, <code>B</code>, and <code>X</code>. We also see the carefully-resolved merge <code>M</code> and the
not-so-carefully-resolved merge <code>R</code>. This is usually enough information
to determine why the commits <code>A</code> and <code>B</code> "disappeared" from history in
the default view. However, there are a few issues with this approach.</p>


<p>The first issue is performance. Unlike any previous option, the
<code>--simplify-merges</code> option requires walking the entire commit history
before returning a single result. This can make the option difficult to
use for very large repositories.</p>


<p>The second issue is one of auditing. When many contributors are working
on the same repository, it is important which merge commits introduced
a change into an important branch. The problematic merge <code>R</code> above is
not likely to be the merge commit that was used to merge into an
important branch. Instead, the merge <code>N</code> was used to merge <code>R</code> and <code>X</code>
into the important branch. This commit may have information about why
the change <code>X</code> came to override the changes from <code>A</code> and <code>B</code> in its
commit message.</p>


<dl>
<dt> --show-pulls </dt>
<dd>
<p>In addition to the commits shown in the default history, show
each merge commit that is not TREESAME to its first parent but
is TREESAME to a later parent.</p>

<p>When a merge commit is included by <code>--show-pulls</code>, the merge is
treated as if it "pulled" the change from another branch. When using
<code>--show-pulls</code> on this example (and no other options) the resulting
graph is:</p>



<pre>	I---X---R---N</pre>



<p>Here, the merge commits <code>R</code> and <code>N</code> are included because they pulled
the commits <code>X</code> and <code>R</code> into the base branch, respectively. These
merges are the reason the commits <code>A</code> and <code>B</code> do not appear in the
default history.</p>


<p>When <code>--show-pulls</code> is paired with <code>--simplify-merges</code>, the
graph includes all of the necessary information:</p>



<pre>	  .-A---M--.   N
	 /     /    \ /
	I     B      R
	 \   /      /
	  \ /      /
	   `---X--'</pre>



<p>Notice that since <code>M</code> is reachable from <code>R</code>, the edge from <code>N</code> to <code>M</code>
was simplified away. However, <code>N</code> still appears in the history as an
important commit because it "pulled" the change <code>R</code> into the main
branch.</p>

</dd>
</dl>


<p>The <code>--simplify-by-decoration</code> option allows you to view only the
big picture of the topology of the history, by omitting commits
that are not referenced by tags.  Commits are marked as !TREESAME
(in other words, kept after history simplification rules described
above) if (1) they are referenced by tags, or (2) they change the
contents of the paths given on the command line.  All other
commits are marked as TREESAME (subject to be simplified away).</p>





<h2>MAPPING AUTHORS</h2>


<p>See <a href="/docs/gitmailmap">gitmailmap[5]</a>.</p>


<p>Note that if <code>git shortlog</code> is run outside of a repository (to process
log contents on standard input), it will look for a <code>.mailmap</code> file in
the current directory.</p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-describe - Give an object a human readable name based on an available ref</span></h2>




<h2><br>synopsis</h2>


<pre><em>git describe</em> [--all] [--tags] [--contains] [--abbrev=&lt;n&gt;] [&lt;commit-ish&gt;…<U+200B>]
<em>git describe</em> [--all] [--tags] [--contains] [--abbrev=&lt;n&gt;] --dirty[=&lt;mark&gt;]
<em>git describe</em> &lt;blob&gt;</pre>




<h2>description</h2>


<p>The command finds the most recent tag that is reachable from a
commit.  If the tag points to the commit, then only the tag is
shown.  Otherwise, it suffixes the tag name with the number of
additional commits on top of the tagged object and the
abbreviated object name of the most recent commit. The result
is a "human-readable" object name which can also be used to
identify the commit to other git commands.</p>


<p>By default (without --all or --tags) <code>git describe</code> only shows
annotated tags.  For more information about creating annotated tags
see the -a and -s options to <a href="/docs/git-tag">git-tag[1]</a>.</p>


<p>If the given object refers to a blob, it will be described
as <code>&lt;commit-ish&gt;:&lt;path&gt;</code>, such that the blob can be found
at <code>&lt;path&gt;</code> in the <code>&lt;commit-ish&gt;</code>, which itself describes the
first commit in which this blob occurs in a reverse revision walk
from HEAD.</p>




<h2>options</h2>


<dl>
<dt> &lt;commit-ish&gt;…<U+200B> </dt>
<dd>
<p>Commit-ish object names to describe.  Defaults to HEAD if omitted.</p>
</dd>
<dt> --dirty[=&lt;mark&gt;] </dt>
<dt> --broken[=&lt;mark&gt;] </dt>
<dd>
<p>Describe the state of the working tree.  When the working
tree matches HEAD, the output is the same as "git describe
HEAD".  If the working tree has local modification "-dirty"
is appended to it.  If a repository is corrupt and Git
cannot determine if there is local modification, Git will
error out, unless ‘--broken’ is given, which appends
the suffix "-broken" instead.</p>
</dd>
<dt> --all </dt>
<dd>
<p>Instead of using only the annotated tags, use any ref
found in <code>refs/</code> namespace.  This option enables matching
any known branch, remote-tracking branch, or lightweight tag.</p>
</dd>
<dt> --tags </dt>
<dd>
<p>Instead of using only the annotated tags, use any tag
found in <code>refs/tags</code> namespace.  This option enables matching
a lightweight (non-annotated) tag.</p>
</dd>
<dt> --contains </dt>
<dd>
<p>Instead of finding the tag that predates the commit, find
the tag that comes after the commit, and thus contains it.
Automatically implies --tags.</p>
</dd>
<dt> --abbrev=&lt;n&gt; </dt>
<dd>
<p>Instead of using the default number of hexadecimal digits (which
will vary according to the number of objects in the repository with
a default of 7) of the abbreviated object name, use &lt;n&gt; digits, or
as many digits as needed to form a unique object name. An &lt;n&gt; of 0
will suppress long format, only showing the closest tag.</p>
</dd>
<dt> --candidates=&lt;n&gt; </dt>
<dd>
<p>Instead of considering only the 10 most recent tags as
candidates to describe the input commit-ish consider
up to &lt;n&gt; candidates.  Increasing &lt;n&gt; above 10 will take
slightly longer but may produce a more accurate result.
An &lt;n&gt; of 0 will cause only exact matches to be output.</p>
</dd>
<dt> --exact-match </dt>
<dd>
<p>Only output exact matches (a tag directly references the
supplied commit).  This is a synonym for --candidates=0.</p>
</dd>
<dt> --debug </dt>
<dd>
<p>Verbosely display information about the searching strategy
being employed to standard error.  The tag name will still
be printed to standard out.</p>
</dd>
<dt> --long </dt>
<dd>
<p>Always output the long format (the tag, the number of commits
and the abbreviated commit name) even when it matches a tag.
This is useful when you want to see parts of the commit object name
in "describe" output, even when the commit in question happens to be
a tagged version.  Instead of just emitting the tag name, it will
describe such a commit as v1.2-0-gdeadbee (0th commit since tag v1.2
that points at object deadbee…<U+200B>.).</p>
</dd>
<dt> --match &lt;pattern&gt; </dt>
<dd>
<p>Only consider tags matching the given <code>glob(7)</code> pattern,
excluding the "refs/tags/" prefix. If used with <code>--all</code>, it also
considers local branches and remote-tracking references matching the
pattern, excluding respectively "refs/heads/" and "refs/remotes/"
prefix; references of other types are never considered. If given
multiple times, a list of patterns will be accumulated, and tags
matching any of the patterns will be considered.  Use <code>--no-match</code> to
clear and reset the list of patterns.</p>
</dd>
<dt> --exclude &lt;pattern&gt; </dt>
<dd>
<p>Do not consider tags matching the given <code>glob(7)</code> pattern, excluding
the "refs/tags/" prefix. If used with <code>--all</code>, it also does not consider
local branches and remote-tracking references matching the pattern,
excluding respectively "refs/heads/" and "refs/remotes/" prefix;
references of other types are never considered. If given multiple times,
a list of patterns will be accumulated and tags matching any of the
patterns will be excluded. When combined with --match a tag will be
considered when it matches at least one --match pattern and does not
match any of the --exclude patterns. Use <code>--no-exclude</code> to clear and
reset the list of patterns.</p>
</dd>
<dt> --always </dt>
<dd>
<p>Show uniquely abbreviated commit object as fallback.</p>
</dd>
<dt> --first-parent </dt>
<dd>
<p>Follow only the first parent commit upon seeing a merge commit.
This is useful when you wish to not match tags on branches merged
in the history of the target commit.</p>
</dd>
</dl>




<h2>examples</h2>


<p>With something like git.git current tree, I get:</p>



<pre>[torvalds@g5 git]$ git describe parent
v1.0.4-14-g2414721</pre>



<p>i.e. the current head of my "parent" branch is based on v1.0.4,
but since it has a few commits on top of that,
describe has added the number of additional commits ("14") and
an abbreviated object name for the commit itself ("2414721")
at the end.</p>


<p>The number of additional commits is the number
of commits which would be displayed by "git log v1.0.4..parent".
The hash suffix is "-g" + an unambigous abbreviation for the tip commit
of parent (which was <code>2414721b194453f058079d897d13c4e377f92dc6</code>). The
length of the abbreviation scales as the repository grows, using the
approximate number of objects in the repository and a bit of math
around the birthday paradox, and defaults to a minimum of 7.
The "g" prefix stands for "git" and is used to allow describing the version of
a software depending on the SCM the software is managed with. This is useful
in an environment where people may use different SCMs.</p>


<p>Doing a <em>git describe</em> on a tag-name will just show the tag name:</p>



<pre>[torvalds@g5 git]$ git describe v1.0.4
v1.0.4</pre>



<p>With --all, the command can use branch heads as references, so
the output shows the reference path as well:</p>



<pre>[torvalds@g5 git]$ git describe --all --abbrev=4 v1.0.5^2
tags/v1.0.0-21-g975b</pre>




<pre>[torvalds@g5 git]$ git describe --all --abbrev=4 HEAD^
heads/lt/describe-7-g975b</pre>



<p>With --abbrev set to 0, the command can be used to find the
closest tagname without any suffix:</p>



<pre>[torvalds@g5 git]$ git describe --abbrev=0 v1.0.5^2
tags/v1.0.0</pre>



<p>Note that the suffix you get if you type these commands today may be
longer than what Linus saw above when he ran these commands, as your
Git repository may have new commits whose object names begin with
975b that did not exist back then, and "-g975b" suffix alone may not
be sufficient to disambiguate these commits.</p>




<h2>SEARCH STRATEGY</h2>


<p>For each commit-ish supplied, <em>git describe</em> will first look for
a tag which tags exactly that commit.  Annotated tags will always
be preferred over lightweight tags, and tags with newer dates will
always be preferred over tags with older dates.  If an exact match
is found, its name will be output and searching will stop.</p>


<p>If an exact match was not found, <em>git describe</em> will walk back
through the commit history to locate an ancestor commit which
has been tagged.  The ancestor’s tag will be output along with an
abbreviation of the input commit-ish’s SHA-1. If <code>--first-parent</code> was
specified then the walk will only consider the first parent of each
commit.</p>


<p>If multiple tags were found during the walk then the tag which
has the fewest commits different from the input commit-ish will be
selected and output.  Here fewest commits different is defined as
the number of commits which would be shown by <code>git log tag..input</code>
will be the smallest number of commits possible.</p>




<h2>BUGS</h2>


<p>Tree objects as well as tag objects not pointing at commits, cannot be described.
When describing blobs, the lightweight tags pointing at blobs are ignored,
but the blob is still described as &lt;committ-ish&gt;:&lt;path&gt; despite the lightweight
tag being favorable.</p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-apply - Apply a patch to files and/or to the index</span></h2>




<h2><br>synopsis</h2>


<pre><em>git apply</em> [--stat] [--numstat] [--summary] [--check] [--index | --intent-to-add] [--3way]
	  [--apply] [--no-add] [--build-fake-ancestor=&lt;file&gt;] [-R | --reverse]
	  [--allow-binary-replacement | --binary] [--reject] [-z]
	  [-p&lt;n&gt;] [-C&lt;n&gt;] [--inaccurate-eof] [--recount] [--cached]
	  [--ignore-space-change | --ignore-whitespace]
	  [--whitespace=(nowarn|warn|fix|error|error-all)]
	  [--exclude=&lt;path&gt;] [--include=&lt;path&gt;] [--directory=&lt;root&gt;]
	  [--verbose | --quiet] [--unsafe-paths] [--allow-empty] [&lt;patch&gt;…<U+200B>]</pre>




<h2>description</h2>


<p>Reads the supplied diff output (i.e. "a patch") and applies it to files.
When running from a subdirectory in a repository, patched paths
outside the directory are ignored.
With the <code>--index</code> option the patch is also applied to the index, and
with the <code>--cached</code> option the patch is only applied to the index.
Without these options, the command applies the patch only to files,
and does not require them to be in a Git repository.</p>


<p>This command applies the patch but does not create a commit.  Use
<a href="/docs/git-am">git-am[1]</a> to create commits from patches generated by
<a href="/docs/git-format-patch">git-format-patch[1]</a> and/or received by email.</p>




<h2>options</h2>


<dl>
<dt> &lt;patch&gt;…<U+200B> </dt>
<dd>
<p>The files to read the patch from.  <em>-</em> can be used to read
from the standard input.</p>
</dd>
<dt> --stat </dt>
<dd>
<p>Instead of applying the patch, output diffstat for the
input.  Turns off "apply".</p>
</dd>
<dt> --numstat </dt>
<dd>
<p>Similar to <code>--stat</code>, but shows the number of added and
deleted lines in decimal notation and the pathname without
abbreviation, to make it more machine friendly.  For
binary files, outputs two <code>-</code> instead of saying
<code>0 0</code>.  Turns off "apply".</p>
</dd>
<dt> --summary </dt>
<dd>
<p>Instead of applying the patch, output a condensed
summary of information obtained from git diff extended
headers, such as creations, renames and mode changes.
Turns off "apply".</p>
</dd>
<dt> --check </dt>
<dd>
<p>Instead of applying the patch, see if the patch is
applicable to the current working tree and/or the index
file and detects errors.  Turns off "apply".</p>
</dd>
<dt> --index </dt>
<dd>
<p>Apply the patch to both the index and the working tree (or
merely check that it would apply cleanly to both if <code>--check</code> is
in effect). Note that <code>--index</code> expects index entries and
working tree copies for relevant paths to be identical (their
contents and metadata such as file mode must match), and will
raise an error if they are not, even if the patch would apply
cleanly to both the index and the working tree in isolation.</p>
</dd>
<dt> --cached </dt>
<dd>
<p>Apply the patch to just the index, without touching the working
tree. If <code>--check</code> is in effect, merely check that it would
apply cleanly to the index entry.</p>
</dd>
<dt> --intent-to-add </dt>
<dd>
<p>When applying the patch only to the working tree, mark new
files to be added to the index later (see <code>--intent-to-add</code>
option in <a href="/docs/git-add">git-add[1]</a>). This option is ignored unless
running in a Git repository and <code>--index</code> is not specified.
Note that <code>--index</code> could be implied by other options such
as <code>--cached</code> or <code>--3way</code>.</p>
</dd>
<dt> -3 </dt>
<dt> --3way </dt>
<dd>
<p>Attempt 3-way merge if the patch records the identity of blobs it is supposed
to apply to and we have those blobs available locally, possibly leaving the
conflict markers in the files in the working tree for the user to
resolve.  This option implies the <code>--index</code> option unless the
<code>--cached</code> option is used, and is incompatible with the <code>--reject</code> option.
When used with the <code>--cached</code> option, any conflicts are left at higher stages
in the cache.</p>
</dd>
<dt> --build-fake-ancestor=&lt;file&gt; </dt>
<dd>
<p>Newer <em>git diff</em> output has embedded <em>index information</em>
for each blob to help identify the original version that
the patch applies to.  When this flag is given, and if
the original versions of the blobs are available locally,
builds a temporary index containing those blobs.</p>

<p>When a pure mode change is encountered (which has no index information),
the information is read from the current index instead.</p>

</dd>
<dt> -R </dt>
<dt> --reverse </dt>
<dd>
<p>Apply the patch in reverse.</p>
</dd>
<dt> --reject </dt>
<dd>
<p>For atomicity, <em>git apply</em> by default fails the whole patch and
does not touch the working tree when some of the hunks
do not apply.  This option makes it apply
the parts of the patch that are applicable, and leave the
rejected hunks in corresponding *.rej files.</p>
</dd>
<dt> -z </dt>
<dd>
<p>When <code>--numstat</code> has been given, do not munge pathnames,
but use a NUL-terminated machine-readable format.</p>

<p>Without this option, pathnames with "unusual" characters are quoted as
explained for the configuration variable <code>core.quotePath</code> (see
<a href="/docs/git-config">git-config[1]</a>).</p>

</dd>
<dt> -p&lt;n&gt; </dt>
<dd>
<p>Remove &lt;n&gt; leading path components (separated by slashes) from
traditional diff paths. E.g., with <code>-p2</code>, a patch against
<code>a/dir/file</code> will be applied directly to <code>file</code>. The default is
1.</p>
</dd>
<dt> -C&lt;n&gt; </dt>
<dd>
<p>Ensure at least &lt;n&gt; lines of surrounding context match before
and after each change.  When fewer lines of surrounding
context exist they all must match.  By default no context is
ever ignored.</p>
</dd>
<dt> --unidiff-zero </dt>
<dd>
<p>By default, <em>git apply</em> expects that the patch being
applied is a unified diff with at least one line of context.
This provides good safety measures, but breaks down when
applying a diff generated with <code>--unified=0</code>. To bypass these
checks use <code>--unidiff-zero</code>.</p>

<p>Note, for the reasons stated above usage of context-free patches is
discouraged.</p>

</dd>
<dt> --apply </dt>
<dd>
<p>If you use any of the options marked "Turns off
<em>apply</em>" above, <em>git apply</em> reads and outputs the
requested information without actually applying the
patch.  Give this flag after those flags to also apply
the patch.</p>
</dd>
<dt> --no-add </dt>
<dd>
<p>When applying a patch, ignore additions made by the
patch.  This can be used to extract the common part between
two files by first running <em>diff</em> on them and applying
the result with this option, which would apply the
deletion part but not the addition part.</p>
</dd>
<dt> --allow-binary-replacement </dt>
<dt> --binary </dt>
<dd>
<p>Historically we did not allow binary patch applied
without an explicit permission from the user, and this
flag was the way to do so.  Currently we always allow binary
patch application, so this is a no-op.</p>
</dd>
<dt> --exclude=&lt;path-pattern&gt; </dt>
<dd>
<p>Don’t apply changes to files matching the given path pattern. This can
be useful when importing patchsets, where you want to exclude certain
files or directories.</p>
</dd>
<dt> --include=&lt;path-pattern&gt; </dt>
<dd>
<p>Apply changes to files matching the given path pattern. This can
be useful when importing patchsets, where you want to include certain
files or directories.</p>

<p>When <code>--exclude</code> and <code>--include</code> patterns are used, they are examined in the
order they appear on the command line, and the first match determines if a
patch to each path is used.  A patch to a path that does not match any
include/exclude pattern is used by default if there is no include pattern
on the command line, and ignored if there is any include pattern.</p>

</dd>
<dt> --ignore-space-change </dt>
<dt> --ignore-whitespace </dt>
<dd>
<p>When applying a patch, ignore changes in whitespace in context
lines if necessary.
Context lines will preserve their whitespace, and they will not
undergo whitespace fixing regardless of the value of the
<code>--whitespace</code> option. New lines will still be fixed, though.</p>
</dd>
<dt> --whitespace=&lt;action&gt; </dt>
<dd>
<p>When applying a patch, detect a new or modified line that has
whitespace errors.  What are considered whitespace errors is
controlled by <code>core.whitespace</code> configuration.  By default,
trailing whitespaces (including lines that solely consist of
whitespaces) and a space character that is immediately followed
by a tab character inside the initial indent of the line are
considered whitespace errors.</p>

<p>By default, the command outputs warning messages but applies the patch.
When <code>git-apply</code> is used for statistics and not applying a
patch, it defaults to <code>nowarn</code>.</p>


<p>You can use different <code>&lt;action&gt;</code> values to control this
behavior:</p>


<ul>
<li>
<p><code>nowarn</code> turns off the trailing whitespace warning.</p>
</li>
<li>
<p><code>warn</code> outputs warnings for a few such errors, but applies the
patch as-is (default).</p>
</li>
<li>
<p><code>fix</code> outputs warnings for a few such errors, and applies the
patch after fixing them (<code>strip</code> is a synonym --- the tool
used to consider only trailing whitespace characters as errors, and the
fix involved <em>stripping</em> them, but modern Gits do more).</p>
</li>
<li>
<p><code>error</code> outputs warnings for a few such errors, and refuses
to apply the patch.</p>
</li>
<li>
<p><code>error-all</code> is similar to <code>error</code> but shows all errors.</p>
</li>
</ul>

</dd>
<dt> --inaccurate-eof </dt>
<dd>
<p>Under certain circumstances, some versions of <em>diff</em> do not correctly
detect a missing new-line at the end of the file. As a result, patches
created by such <em>diff</em> programs do not record incomplete lines
correctly. This option adds support for applying such patches by
working around this bug.</p>
</dd>
<dt> -v </dt>
<dt> --verbose </dt>
<dd>
<p>Report progress to stderr. By default, only a message about the
current patch being applied will be printed. This option will cause
additional information to be reported.</p>
</dd>
<dt> -q </dt>
<dt> --quiet </dt>
<dd>
<p>Suppress stderr output. Messages about patch status and progress
will not be printed.</p>
</dd>
<dt> --recount </dt>
<dd>
<p>Do not trust the line counts in the hunk headers, but infer them
by inspecting the patch (e.g. after editing the patch without
adjusting the hunk headers appropriately).</p>
</dd>
<dt> --directory=&lt;root&gt; </dt>
<dd>
<p>Prepend &lt;root&gt; to all filenames.  If a "-p" argument was also passed,
it is applied before prepending the new root.</p>

<p>For example, a patch that talks about updating <code>a/git-gui.sh</code> to <code>b/git-gui.sh</code>
can be applied to the file in the working tree <code>modules/git-gui/git-gui.sh</code> by
running <code>git apply --directory=modules/git-gui</code>.</p>

</dd>
<dt> --unsafe-paths </dt>
<dd>
<p>By default, a patch that affects outside the working area
(either a Git controlled working tree, or the current working
directory when "git apply" is used as a replacement of GNU
patch) is rejected as a mistake (or a mischief).</p>

<p>When <code>git apply</code> is used as a "better GNU patch", the user can pass
the <code>--unsafe-paths</code> option to override this safety check.  This option
has no effect when <code>--index</code> or <code>--cached</code> is in use.</p>

</dd>
<dt> --allow-empty </dt>
<dd>
<p>Don’t return error for patches containing no diff. This includes
empty patches and patches with commit text only.</p>
</dd>
</dl>




<h2>CONFIGURATION</h2>


<dl>
<dt> apply.ignoreWhitespace </dt>
<dd>
<p>Set to <em>change</em> if you want changes in whitespace to be ignored by default.
Set to one of: no, none, never, false if you want changes in
whitespace to be significant.</p>
</dd>
<dt> apply.whitespace </dt>
<dd>
<p>When no <code>--whitespace</code> flag is given from the command
line, this configuration item is used as the default.</p>
</dd>
</dl>




<h2>SUBMODULES</h2>


<p>If the patch contains any changes to submodules then <em>git apply</em>
treats these changes as follows.</p>


<p>If <code>--index</code> is specified (explicitly or implicitly), then the submodule
commits must match the index exactly for the patch to apply.  If any
of the submodules are checked-out, then these check-outs are completely
ignored, i.e., they are not required to be up to date or clean and they
are not updated.</p>


<p>If <code>--index</code> is not specified, then the submodule commits in the patch
are ignored and only the absence or presence of the corresponding
subdirectory is checked and (if possible) updated.</p>




<h2>SEE ALSO</h2>


<p><a href="/docs/git-am">git-am[1]</a>.</p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-cherry-pick - Apply the changes introduced by some existing commits</span></h2>




<h2><br>synopsis</h2>


<pre><em>git cherry-pick</em> [--edit] [-n] [-m &lt;parent-number&gt;] [-s] [-x] [--ff]
		  [-S[&lt;keyid&gt;]] &lt;commit&gt;…<U+200B>
<em>git cherry-pick</em> (--continue | --skip | --abort | --quit)</pre>




<h2>description</h2>


<p>Given one or more existing commits, apply the change each one
introduces, recording a new commit for each.  This requires your
working tree to be clean (no modifications from the HEAD commit).</p>


<p>When it is not obvious how to apply a change, the following
happens:</p>


<ol>
<li>
<p>The current branch and <code>HEAD</code> pointer stay at the last commit
successfully made.</p>
</li>
<li>
<p>The <code>CHERRY_PICK_HEAD</code> ref is set to point at the commit that
introduced the change that is difficult to apply.</p>
</li>
<li>
<p>Paths in which the change applied cleanly are updated both
in the index file and in your working tree.</p>
</li>
<li>
<p>For conflicting paths, the index file records up to three
versions, as described in the "TRUE MERGE" section of
<a href="/docs/git-merge">git-merge[1]</a>.  The working tree files will include
a description of the conflict bracketed by the usual
conflict markers <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code> and <code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code>.</p>
</li>
<li>
<p>No other modifications are made.</p>
</li>
</ol>


<p>See <a href="/docs/git-merge">git-merge[1]</a> for some hints on resolving such
conflicts.</p>




<h2>options</h2>


<dl>
<dt> &lt;commit&gt;…<U+200B> </dt>
<dd>
<p>Commits to cherry-pick.
For a more complete list of ways to spell commits, see
<a href="/docs/gitrevisions">gitrevisions[7]</a>.
Sets of commits can be passed but no traversal is done by
default, as if the <code>--no-walk</code> option was specified, see
<a href="/docs/git-rev-list">git-rev-list[1]</a>. Note that specifying a range will
feed all &lt;commit&gt;…<U+200B> arguments to a single revision walk
(see a later example that uses <em>maint master..next</em>).</p>
</dd>
<dt> -e </dt>
<dt> --edit </dt>
<dd>
<p>With this option, <em>git cherry-pick</em> will let you edit the commit
message prior to committing.</p>
</dd>
<dt> --cleanup=&lt;mode&gt; </dt>
<dd>
<p>This option determines how the commit message will be cleaned up before
being passed on to the commit machinery. See <a href="/docs/git-commit">git-commit[1]</a> for more
details. In particular, if the <em>&lt;mode&gt;</em> is given a value of <code>scissors</code>,
scissors will be appended to <code>MERGE_MSG</code> before being passed on in the case
of a conflict.</p>
</dd>
<dt> -x </dt>
<dd>
<p>When recording the commit, append a line that says
"(cherry picked from commit …<U+200B>)" to the original commit
message in order to indicate which commit this change was
cherry-picked from.  This is done only for cherry
picks without conflicts.  Do not use this option if
you are cherry-picking from your private branch because
the information is useless to the recipient.  If on the
other hand you are cherry-picking between two publicly
visible branches (e.g. backporting a fix to a
maintenance branch for an older release from a
development branch), adding this information can be
useful.</p>
</dd>
<dt> -r </dt>
<dd>
<p>It used to be that the command defaulted to do <code>-x</code>
described above, and <code>-r</code> was to disable it.  Now the
default is not to do <code>-x</code> so this option is a no-op.</p>
</dd>
<dt> -m &lt;parent-number&gt; </dt>
<dt> --mainline &lt;parent-number&gt; </dt>
<dd>
<p>Usually you cannot cherry-pick a merge because you do not know which
side of the merge should be considered the mainline.  This
option specifies the parent number (starting from 1) of
the mainline and allows cherry-pick to replay the change
relative to the specified parent.</p>
</dd>
<dt> -n </dt>
<dt> --no-commit </dt>
<dd>
<p>Usually the command automatically creates a sequence of commits.
This flag applies the changes necessary to cherry-pick
each named commit to your working tree and the index,
without making any commit.  In addition, when this
option is used, your index does not have to match the
HEAD commit.  The cherry-pick is done against the
beginning state of your index.</p>

<p>This is useful when cherry-picking more than one commits'
effect to your index in a row.</p>

</dd>
<dt> -s </dt>
<dt> --signoff </dt>
<dd>
<p>Add a <code>Signed-off-by</code> trailer at the end of the commit message.
See the signoff option in <a href="/docs/git-commit">git-commit[1]</a> for more information.</p>
</dd>
<dt> -S[&lt;keyid&gt;] </dt>
<dt> --gpg-sign[=&lt;keyid&gt;] </dt>
<dt> --no-gpg-sign </dt>
<dd>
<p>GPG-sign commits. The <code>keyid</code> argument is optional and
defaults to the committer identity; if specified, it must be
stuck to the option without a space. <code>--no-gpg-sign</code> is useful to
countermand both <code>commit.gpgSign</code> configuration variable, and
earlier <code>--gpg-sign</code>.</p>
</dd>
<dt> --ff </dt>
<dd>
<p>If the current HEAD is the same as the parent of the
cherry-pick’ed commit, then a fast forward to this commit will
be performed.</p>
</dd>
<dt> --allow-empty </dt>
<dd>
<p>By default, cherry-picking an empty commit will fail,
indicating that an explicit invocation of <code>git commit
--allow-empty</code> is required. This option overrides that
behavior, allowing empty commits to be preserved automatically
in a cherry-pick. Note that when "--ff" is in effect, empty
commits that meet the "fast-forward" requirement will be kept
even without this option.  Note also, that use of this option only
keeps commits that were initially empty (i.e. the commit recorded the
same tree as its parent).  Commits which are made empty due to a
previous commit are dropped.  To force the inclusion of those commits
use <code>--keep-redundant-commits</code>.</p>
</dd>
<dt> --allow-empty-message </dt>
<dd>
<p>By default, cherry-picking a commit with an empty message will fail.
This option overrides that behavior, allowing commits with empty
messages to be cherry picked.</p>
</dd>
<dt> --keep-redundant-commits </dt>
<dd>
<p>If a commit being cherry picked duplicates a commit already in the
current history, it will become empty.  By default these
redundant commits cause <code>cherry-pick</code> to stop so the user can
examine the commit. This option overrides that behavior and
creates an empty commit object.  Implies <code>--allow-empty</code>.</p>
</dd>
<dt> --strategy=&lt;strategy&gt; </dt>
<dd>
<p>Use the given merge strategy.  Should only be used once.
See the MERGE STRATEGIES section in <a href="/docs/git-merge">git-merge[1]</a>
for details.</p>
</dd>
<dt> -X&lt;option&gt; </dt>
<dt> --strategy-option=&lt;option&gt; </dt>
<dd>
<p>Pass the merge strategy-specific option through to the
merge strategy.  See <a href="/docs/git-merge">git-merge[1]</a> for details.</p>
</dd>
<dt> --rerere-autoupdate </dt>
<dt> --no-rerere-autoupdate </dt>
<dd>
<p>Allow the rerere mechanism to update the index with the
result of auto-conflict resolution if possible.</p>
</dd>
</dl>




<h2>SEQUENCER SUBCOMMANDS</h2>


<dl>
<dt> --continue </dt>
<dd>
<p>Continue the operation in progress using the information in
<code>.git/sequencer</code>.  Can be used to continue after resolving
conflicts in a failed cherry-pick or revert.</p>
</dd>
<dt> --skip </dt>
<dd>
<p>Skip the current commit and continue with the rest of the
sequence.</p>
</dd>
<dt> --quit </dt>
<dd>
<p>Forget about the current operation in progress.  Can be used
to clear the sequencer state after a failed cherry-pick or
revert.</p>
</dd>
<dt> --abort </dt>
<dd>
<p>Cancel the operation and return to the pre-sequence state.</p>
</dd>
</dl>




<h2>examples</h2>


<dl>
<dt> <code>git cherry-pick master</code> </dt>
<dd>
<p>Apply the change introduced by the commit at the tip of the
master branch and create a new commit with this change.</p>
</dd>
<dt> <code>git cherry-pick ..master</code> </dt>
<dt> <code>git cherry-pick ^HEAD master</code> </dt>
<dd>
<p>Apply the changes introduced by all commits that are ancestors
of master but not of HEAD to produce new commits.</p>
</dd>
<dt> <code>git cherry-pick maint next ^master</code> </dt>
<dt> <code>git cherry-pick maint master..next</code> </dt>
<dd>
<p>Apply the changes introduced by all commits that are
ancestors of maint or next, but not master or any of its
ancestors.  Note that the latter does not mean <code>maint</code> and
everything between <code>master</code> and <code>next</code>; specifically,
<code>maint</code> will not be used if it is included in <code>master</code>.</p>
</dd>
<dt> <code>git cherry-pick master~4 master~2</code> </dt>
<dd>
<p>Apply the changes introduced by the fifth and third last
commits pointed to by master and create 2 new commits with
these changes.</p>
</dd>
<dt> <code>git cherry-pick -n master~1 next</code> </dt>
<dd>
<p>Apply to the working tree and the index the changes introduced
by the second last commit pointed to by master and by the last
commit pointed to by next, but do not create any commit with
these changes.</p>
</dd>
<dt> <code>git cherry-pick --ff ..next</code> </dt>
<dd>
<p>If history is linear and HEAD is an ancestor of next, update
the working tree and advance the HEAD pointer to match next.
Otherwise, apply the changes introduced by those commits that
are in next but not HEAD to the current branch, creating a new
commit for each new change.</p>
</dd>
<dt> <code>git rev-list --reverse master -- README | git cherry-pick -n --stdin</code> </dt>
<dd>
<p>Apply the changes introduced by all commits on the master
branch that touched README to the working tree and index,
so the result can be inspected and made into a single new
commit if suitable.</p>
</dd>
</dl>


<p>The following sequence attempts to backport a patch, bails out because
the code the patch applies to has changed too much, and then tries
again, this time exercising more care about matching up context lines.</p>



<pre>$ git cherry-pick topic^             <b>(1)</b>
$ git diff                           <b>(2)</b>
$ git reset --merge ORIG_HEAD        <b>(3)</b>
$ git cherry-pick -Xpatience topic^  <b>(4)</b></pre>



<ol>
<li>
<p>apply the change that would be shown by <code>git show topic^</code>.
In this example, the patch does not apply cleanly, so
information about the conflict is written to the index and
working tree and no new commit results.</p>
</li>
<li>
<p>summarize changes to be reconciled</p>
</li>
<li>
<p>cancel the cherry-pick.  In other words, return to the
pre-cherry-pick state, preserving any local modifications
you had in the working tree.</p>
</li>
<li>
<p>try to apply the change introduced by <code>topic^</code> again,
spending extra time to avoid mistakes based on incorrectly
matching context lines.</p>
</li>
</ol>




<h2>SEE ALSO</h2>


<p><a href="/docs/git-revert">git-revert[1]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-diff - Show changes between commits, commit and working tree, etc</span></h2>




<h2><br>synopsis</h2>


<pre><em>git diff</em> [&lt;options&gt;] [&lt;commit&gt;] [--] [&lt;path&gt;…<U+200B>]
<em>git diff</em> [&lt;options&gt;] --cached [--merge-base] [&lt;commit&gt;] [--] [&lt;path&gt;…<U+200B>]
<em>git diff</em> [&lt;options&gt;] [--merge-base] &lt;commit&gt; [&lt;commit&gt;…<U+200B>] &lt;commit&gt; [--] [&lt;path&gt;…<U+200B>]
<em>git diff</em> [&lt;options&gt;] &lt;commit&gt;…<U+200B>&lt;commit&gt; [--] [&lt;path&gt;…<U+200B>]
<em>git diff</em> [&lt;options&gt;] &lt;blob&gt; &lt;blob&gt;
<em>git diff</em> [&lt;options&gt;] --no-index [--] &lt;path&gt; &lt;path&gt;</pre>




<h2>description</h2>


<p>Show changes between the working tree and the index or a tree, changes
between the index and a tree, changes between two trees, changes resulting
from a merge, changes between two blob objects, or changes between two
files on disk.</p>


<dl>
<dt> <em>git diff</em> [&lt;options&gt;] [--] [&lt;path&gt;…<U+200B>] </dt>
<dd>
<p>This form is to view the changes you made relative to
the index (staging area for the next commit).  In other
words, the differences are what you <em>could</em> tell Git to
further add to the index but you still haven’t.  You can
stage these changes by using <a href="/docs/git-add">git-add[1]</a>.</p>
</dd>
<dt> <em>git diff</em> [&lt;options&gt;] --no-index [--] &lt;path&gt; &lt;path&gt; </dt>
<dd>
<p>This form is to compare the given two paths on the
filesystem.  You can omit the <code>--no-index</code> option when
running the command in a working tree controlled by Git and
at least one of the paths points outside the working tree,
or when running the command outside a working tree
controlled by Git. This form implies <code>--exit-code</code>.</p>
</dd>
<dt> <em>git diff</em> [&lt;options&gt;] --cached [--merge-base] [&lt;commit&gt;] [--] [&lt;path&gt;…<U+200B>] </dt>
<dd>
<p>This form is to view the changes you staged for the next
commit relative to the named &lt;commit&gt;.  Typically you
would want comparison with the latest commit, so if you
do not give &lt;commit&gt;, it defaults to HEAD.
If HEAD does not exist (e.g. unborn branches) and
&lt;commit&gt; is not given, it shows all staged changes.
--staged is a synonym of --cached.</p>

<p>If --merge-base is given, instead of using &lt;commit&gt;, use the merge base
of &lt;commit&gt; and HEAD.  <code>git diff --cached --merge-base A</code> is equivalent to
<code>git diff --cached $(git merge-base A HEAD)</code>.</p>

</dd>
<dt> <em>git diff</em> [&lt;options&gt;] [--merge-base] &lt;commit&gt; [--] [&lt;path&gt;…<U+200B>] </dt>
<dd>
<p>This form is to view the changes you have in your
working tree relative to the named &lt;commit&gt;.  You can
use HEAD to compare it with the latest commit, or a
branch name to compare with the tip of a different
branch.</p>

<p>If --merge-base is given, instead of using &lt;commit&gt;, use the merge base
of &lt;commit&gt; and HEAD.  <code>git diff --merge-base A</code> is equivalent to
<code>git diff $(git merge-base A HEAD)</code>.</p>

</dd>
<dt> <em>git diff</em> [&lt;options&gt;] [--merge-base] &lt;commit&gt; &lt;commit&gt; [--] [&lt;path&gt;…<U+200B>] </dt>
<dd>
<p>This is to view the changes between two arbitrary
&lt;commit&gt;.</p>

<p>If --merge-base is given, use the merge base of the two commits for the
"before" side.  <code>git diff --merge-base A B</code> is equivalent to
<code>git diff $(git merge-base A B) B</code>.</p>

</dd>
<dt> <em>git diff</em> [&lt;options&gt;] &lt;commit&gt; &lt;commit&gt;…<U+200B> &lt;commit&gt; [--] [&lt;path&gt;…<U+200B>] </dt>
<dd>
<p>This form is to view the results of a merge commit.  The first
listed &lt;commit&gt; must be the merge itself; the remaining two or
more commits should be its parents.  A convenient way to produce
the desired set of revisions is to use the <code>^@</code> suffix.
For instance, if <code>master</code> names a merge commit, <code>git diff master
master^@</code> gives the same combined diff as <code>git show master</code>.</p>
</dd>
<dt> <em>git diff</em> [&lt;options&gt;] &lt;commit&gt;..&lt;commit&gt; [--] [&lt;path&gt;…<U+200B>] </dt>
<dd>
<p>This is synonymous to the earlier form (without the <code>..</code>) for
viewing the changes between two arbitrary &lt;commit&gt;.  If &lt;commit&gt; on
one side is omitted, it will have the same effect as
using HEAD instead.</p>
</dd>
<dt> <em>git diff</em> [&lt;options&gt;] &lt;commit&gt;...&lt;commit&gt; [--] [&lt;path&gt;…<U+200B>] </dt>
<dd>
<p>This form is to view the changes on the branch containing
and up to the second &lt;commit&gt;, starting at a common ancestor
of both &lt;commit&gt;.  <code>git diff A...B</code> is equivalent to
<code>git diff $(git merge-base A B) B</code>.  You can omit any one
of &lt;commit&gt;, which has the same effect as using HEAD instead.</p>
</dd>
</dl>


<p>Just in case you are doing something exotic, it should be
noted that all of the &lt;commit&gt; in the above description, except
in the <code>--merge-base</code> case and in the last two forms that use <code>..</code>
notations, can be any &lt;tree&gt;.</p>


<p>For a more complete list of ways to spell &lt;commit&gt;, see
"SPECIFYING REVISIONS" section in <a href="/docs/gitrevisions">gitrevisions[7]</a>.
However, "diff" is about comparing two <em>endpoints</em>, not ranges,
and the range notations (<code>&lt;commit&gt;..&lt;commit&gt;</code> and
<code>&lt;commit&gt;...&lt;commit&gt;</code>) do not mean a range as defined in the
"SPECIFYING RANGES" section in <a href="/docs/gitrevisions">gitrevisions[7]</a>.</p>


<dl>
<dt> <em>git diff</em> [&lt;options&gt;] &lt;blob&gt; &lt;blob&gt; </dt>
<dd>
<p>This form is to view the differences between the raw
contents of two blob objects.</p>
</dd>
</dl>




<h2>options</h2>


<dl>
<dt> -p </dt>
<dt> -u </dt>
<dt> --patch </dt>
<dd>
<p>Generate patch (see section on generating patches).
This is the default.</p>
</dd>
<dt> -s </dt>
<dt> --no-patch </dt>
<dd>
<p>Suppress diff output. Useful for commands like <code>git show</code> that
show the patch by default, or to cancel the effect of <code>--patch</code>.</p>
</dd>
<dt> -U&lt;n&gt; </dt>
<dt> --unified=&lt;n&gt; </dt>
<dd>
<p>Generate diffs with &lt;n&gt; lines of context instead of
the usual three.
Implies <code>--patch</code>.</p>
</dd>
<dt> --output=&lt;file&gt; </dt>
<dd>
<p>Output to a specific file instead of stdout.</p>
</dd>
<dt> --output-indicator-new=&lt;char&gt; </dt>
<dt> --output-indicator-old=&lt;char&gt; </dt>
<dt> --output-indicator-context=&lt;char&gt; </dt>
<dd>
<p>Specify the character used to indicate new, old or context
lines in the generated patch. Normally they are <em>+</em>, <em>-</em> and
' ' respectively.</p>
</dd>
<dt> --raw </dt>
<dd>
<p>Generate the diff in raw format.</p>
</dd>
<dt> --patch-with-raw </dt>
<dd>
<p>Synonym for <code>-p --raw</code>.</p>
</dd>
<dt> --indent-heuristic </dt>
<dd>
<p>Enable the heuristic that shifts diff hunk boundaries to make patches
easier to read. This is the default.</p>
</dd>
<dt> --no-indent-heuristic </dt>
<dd>
<p>Disable the indent heuristic.</p>
</dd>
<dt> --minimal </dt>
<dd>
<p>Spend extra time to make sure the smallest possible
diff is produced.</p>
</dd>
<dt> --patience </dt>
<dd>
<p>Generate a diff using the "patience diff" algorithm.</p>
</dd>
<dt> --histogram </dt>
<dd>
<p>Generate a diff using the "histogram diff" algorithm.</p>
</dd>
<dt> --anchored=&lt;text&gt; </dt>
<dd>
<p>Generate a diff using the "anchored diff" algorithm.</p>

<p>This option may be specified more than once.</p>


<p>If a line exists in both the source and destination, exists only once,
and starts with this text, this algorithm attempts to prevent it from
appearing as a deletion or addition in the output. It uses the "patience
diff" algorithm internally.</p>

</dd>
<dt> --diff-algorithm={patience|minimal|histogram|myers} </dt>
<dd>
<p>Choose a diff algorithm. The variants are as follows:</p>



<dl>
<dt> <code>default</code>, <code>myers</code> </dt>
<dd>
<p>The basic greedy diff algorithm. Currently, this is the default.</p>
</dd>
<dt> <code>minimal</code> </dt>
<dd>
<p>Spend extra time to make sure the smallest possible diff is
produced.</p>
</dd>
<dt> <code>patience</code> </dt>
<dd>
<p>Use "patience diff" algorithm when generating patches.</p>
</dd>
<dt> <code>histogram</code> </dt>
<dd>
<p>This algorithm extends the patience algorithm to "support
low-occurrence common elements".</p>
</dd>
</dl>




<p>For instance, if you configured the <code>diff.algorithm</code> variable to a
non-default value and want to use the default one, then you
have to use <code>--diff-algorithm=default</code> option.</p>

</dd>
<dt> --stat[=&lt;width&gt;[,&lt;name-width&gt;[,&lt;count&gt;]]] </dt>
<dd>
<p>Generate a diffstat. By default, as much space as necessary
will be used for the filename part, and the rest for the graph
part. Maximum width defaults to terminal width, or 80 columns
if not connected to a terminal, and can be overridden by
<code>&lt;width&gt;</code>. The width of the filename part can be limited by
giving another width <code>&lt;name-width&gt;</code> after a comma. The width
of the graph part can be limited by using
<code>--stat-graph-width=&lt;width&gt;</code> (affects all commands generating
a stat graph) or by setting <code>diff.statGraphWidth=&lt;width&gt;</code>
(does not affect <code>git format-patch</code>).
By giving a third parameter <code>&lt;count&gt;</code>, you can limit the
output to the first <code>&lt;count&gt;</code> lines, followed by <code>...</code> if
there are more.</p>

<p>These parameters can also be set individually with <code>--stat-width=&lt;width&gt;</code>,
<code>--stat-name-width=&lt;name-width&gt;</code> and <code>--stat-count=&lt;count&gt;</code>.</p>

</dd>
<dt> --compact-summary </dt>
<dd>
<p>Output a condensed summary of extended header information such
as file creations or deletions ("new" or "gone", optionally "+l"
if it’s a symlink) and mode changes ("+x" or "-x" for adding
or removing executable bit respectively) in diffstat. The
information is put between the filename part and the graph
part. Implies <code>--stat</code>.</p>
</dd>
<dt> --numstat </dt>
<dd>
<p>Similar to <code>--stat</code>, but shows number of added and
deleted lines in decimal notation and pathname without
abbreviation, to make it more machine friendly.  For
binary files, outputs two <code>-</code> instead of saying
<code>0 0</code>.</p>
</dd>
<dt> --shortstat </dt>
<dd>
<p>Output only the last line of the <code>--stat</code> format containing total
number of modified files, as well as number of added and deleted
lines.</p>
</dd>
<dt> -X[&lt;param1,param2,…<U+200B>&gt;] </dt>
<dt> --dirstat[=&lt;param1,param2,…<U+200B>&gt;] </dt>
<dd>
<p>Output the distribution of relative amount of changes for each
sub-directory. The behavior of <code>--dirstat</code> can be customized by
passing it a comma separated list of parameters.
The defaults are controlled by the <code>diff.dirstat</code> configuration
variable (see <a href="/docs/git-config">git-config[1]</a>).
The following parameters are available:</p>



<dl>
<dt> <code>changes</code> </dt>
<dd>
<p>Compute the dirstat numbers by counting the lines that have been
removed from the source, or added to the destination. This ignores
the amount of pure code movements within a file.  In other words,
rearranging lines in a file is not counted as much as other changes.
This is the default behavior when no parameter is given.</p>
</dd>
<dt> <code>lines</code> </dt>
<dd>
<p>Compute the dirstat numbers by doing the regular line-based diff
analysis, and summing the removed/added line counts. (For binary
files, count 64-byte chunks instead, since binary files have no
natural concept of lines). This is a more expensive <code>--dirstat</code>
behavior than the <code>changes</code> behavior, but it does count rearranged
lines within a file as much as other changes. The resulting output
is consistent with what you get from the other <code>--*stat</code> options.</p>
</dd>
<dt> <code>files</code> </dt>
<dd>
<p>Compute the dirstat numbers by counting the number of files changed.
Each changed file counts equally in the dirstat analysis. This is
the computationally cheapest <code>--dirstat</code> behavior, since it does
not have to look at the file contents at all.</p>
</dd>
<dt> <code>cumulative</code> </dt>
<dd>
<p>Count changes in a child directory for the parent directory as well.
Note that when using <code>cumulative</code>, the sum of the percentages
reported may exceed 100%. The default (non-cumulative) behavior can
be specified with the <code>noncumulative</code> parameter.</p>
</dd>
<dt> &lt;limit&gt; </dt>
<dd>
<p>An integer parameter specifies a cut-off percent (3% by default).
Directories contributing less than this percentage of the changes
are not shown in the output.</p>
</dd>
</dl>




<p>Example: The following will count changed files, while ignoring
directories with less than 10% of the total amount of changed files,
and accumulating child directory counts in the parent directories:
<code>--dirstat=files,10,cumulative</code>.</p>

</dd>
<dt> --cumulative </dt>
<dd>
<p>Synonym for --dirstat=cumulative</p>
</dd>
<dt> --dirstat-by-file[=&lt;param1,param2&gt;…<U+200B>] </dt>
<dd>
<p>Synonym for --dirstat=files,param1,param2…<U+200B></p>
</dd>
<dt> --summary </dt>
<dd>
<p>Output a condensed summary of extended header information
such as creations, renames and mode changes.</p>
</dd>
<dt> --patch-with-stat </dt>
<dd>
<p>Synonym for <code>-p --stat</code>.</p>
</dd>
<dt> -z </dt>
<dd>
<p>When <code>--raw</code>, <code>--numstat</code>, <code>--name-only</code> or <code>--name-status</code> has been
given, do not munge pathnames and use NULs as output field terminators.</p>

<p>Without this option, pathnames with "unusual" characters are quoted as
explained for the configuration variable <code>core.quotePath</code> (see
<a href="/docs/git-config">git-config[1]</a>).</p>

</dd>
<dt> --name-only </dt>
<dd>
<p>Show only names of changed files. The file names are often encoded in UTF-8.
For more information see the discussion about encoding in the <a href="/docs/git-log">git-log[1]</a>
manual page.</p>
</dd>
<dt> --name-status </dt>
<dd>
<p>Show only names and status of changed files. See the description
of the <code>--diff-filter</code> option on what the status letters mean.
Just like <code>--name-only</code> the file names are often encoded in UTF-8.</p>
</dd>
<dt> --submodule[=&lt;format&gt;] </dt>
<dd>
<p>Specify how differences in submodules are shown.  When specifying
<code>--submodule=short</code> the <em>short</em> format is used.  This format just
shows the names of the commits at the beginning and end of the range.
When <code>--submodule</code> or <code>--submodule=log</code> is specified, the <em>log</em>
format is used.  This format lists the commits in the range like
<a href="/docs/git-submodule">git-submodule[1]</a> <code>summary</code> does.  When <code>--submodule=diff</code>
is specified, the <em>diff</em> format is used.  This format shows an
inline diff of the changes in the submodule contents between the
commit range.  Defaults to <code>diff.submodule</code> or the <em>short</em> format
if the config option is unset.</p>
</dd>
<dt> --color[=&lt;when&gt;] </dt>
<dd>
<p>Show colored diff.
<code>--color</code> (i.e. without <em>=&lt;when&gt;</em>) is the same as <code>--color=always</code>.
<em>&lt;when&gt;</em> can be one of <code>always</code>, <code>never</code>, or <code>auto</code>.
It can be changed by the <code>color.ui</code> and <code>color.diff</code>
configuration settings.</p>
</dd>
<dt> --no-color </dt>
<dd>
<p>Turn off colored diff.
This can be used to override configuration settings.
It is the same as <code>--color=never</code>.</p>
</dd>
<dt> --color-moved[=&lt;mode&gt;] </dt>
<dd>
<p>Moved lines of code are colored differently.
It can be changed by the <code>diff.colorMoved</code> configuration setting.
The &lt;mode&gt; defaults to <em>no</em> if the option is not given
and to <em>zebra</em> if the option with no mode is given.
The mode must be one of:</p>



<dl>
<dt> no </dt>
<dd>
<p>Moved lines are not highlighted.</p>
</dd>
<dt> default </dt>
<dd>
<p>Is a synonym for <code>zebra</code>. This may change to a more sensible mode
in the future.</p>
</dd>
<dt> plain </dt>
<dd>
<p>Any line that is added in one location and was removed
in another location will be colored with <em>color.diff.newMoved</em>.
Similarly <em>color.diff.oldMoved</em> will be used for removed lines
that are added somewhere else in the diff. This mode picks up any
moved line, but it is not very useful in a review to determine
if a block of code was moved without permutation.</p>
</dd>
<dt> blocks </dt>
<dd>
<p>Blocks of moved text of at least 20 alphanumeric characters
are detected greedily. The detected blocks are
painted using either the <em>color.diff.{old,new}Moved</em> color.
Adjacent blocks cannot be told apart.</p>
</dd>
<dt> zebra </dt>
<dd>
<p>Blocks of moved text are detected as in <em>blocks</em> mode. The blocks
are painted using either the <em>color.diff.{old,new}Moved</em> color or
<em>color.diff.{old,new}MovedAlternative</em>. The change between
the two colors indicates that a new block was detected.</p>
</dd>
<dt> dimmed-zebra </dt>
<dd>
<p>Similar to <em>zebra</em>, but additional dimming of uninteresting parts
of moved code is performed. The bordering lines of two adjacent
blocks are considered interesting, the rest is uninteresting.
<code>dimmed_zebra</code> is a deprecated synonym.</p>
</dd>
</dl>



</dd>
<dt> --no-color-moved </dt>
<dd>
<p>Turn off move detection. This can be used to override configuration
settings. It is the same as <code>--color-moved=no</code>.</p>
</dd>
<dt> --color-moved-ws=&lt;modes&gt; </dt>
<dd>
<p>This configures how whitespace is ignored when performing the
move detection for <code>--color-moved</code>.
It can be set by the <code>diff.colorMovedWS</code> configuration setting.
These modes can be given as a comma separated list:</p>



<dl>
<dt> no </dt>
<dd>
<p>Do not ignore whitespace when performing move detection.</p>
</dd>
<dt> ignore-space-at-eol </dt>
<dd>
<p>Ignore changes in whitespace at EOL.</p>
</dd>
<dt> ignore-space-change </dt>
<dd>
<p>Ignore changes in amount of whitespace.  This ignores whitespace
at line end, and considers all other sequences of one or
more whitespace characters to be equivalent.</p>
</dd>
<dt> ignore-all-space </dt>
<dd>
<p>Ignore whitespace when comparing lines. This ignores differences
even if one line has whitespace where the other line has none.</p>
</dd>
<dt> allow-indentation-change </dt>
<dd>
<p>Initially ignore any whitespace in the move detection, then
group the moved code blocks only into a block if the change in
whitespace is the same per line. This is incompatible with the
other modes.</p>
</dd>
</dl>



</dd>
<dt> --no-color-moved-ws </dt>
<dd>
<p>Do not ignore whitespace when performing move detection. This can be
used to override configuration settings. It is the same as
<code>--color-moved-ws=no</code>.</p>
</dd>
<dt> --word-diff[=&lt;mode&gt;] </dt>
<dd>
<p>Show a word diff, using the &lt;mode&gt; to delimit changed words.
By default, words are delimited by whitespace; see
<code>--word-diff-regex</code> below.  The &lt;mode&gt; defaults to <em>plain</em>, and
must be one of:</p>



<dl>
<dt> color </dt>
<dd>
<p>Highlight changed words using only colors.  Implies <code>--color</code>.</p>
</dd>
<dt> plain </dt>
<dd>
<p>Show words as <code>[-removed-]</code> and <code>{+added+}</code>.  Makes no
attempts to escape the delimiters if they appear in the input,
so the output may be ambiguous.</p>
</dd>
<dt> porcelain </dt>
<dd>
<p>Use a special line-based format intended for script
consumption.  Added/removed/unchanged runs are printed in the
usual unified diff format, starting with a <code>+</code>/<code>-</code>/` `
character at the beginning of the line and extending to the
end of the line.  Newlines in the input are represented by a
tilde <code>~</code> on a line of its own.</p>
</dd>
<dt> none </dt>
<dd>
<p>Disable word diff again.</p>
</dd>
</dl>




<p>Note that despite the name of the first mode, color is used to
highlight the changed parts in all modes if enabled.</p>

</dd>
<dt> --word-diff-regex=&lt;regex&gt; </dt>
<dd>
<p>Use &lt;regex&gt; to decide what a word is, instead of considering
runs of non-whitespace to be a word.  Also implies
<code>--word-diff</code> unless it was already enabled.</p>

<p>Every non-overlapping match of the
&lt;regex&gt; is considered a word.  Anything between these matches is
considered whitespace and ignored(!) for the purposes of finding
differences.  You may want to append <code>|[^[:space:]]</code> to your regular
expression to make sure that it matches all non-whitespace characters.
A match that contains a newline is silently truncated(!) at the
newline.</p>


<p>For example, <code>--word-diff-regex=.</code> will treat each character as a word
and, correspondingly, show differences character by character.</p>


<p>The regex can also be set via a diff driver or configuration option, see
<a href="/docs/gitattributes">gitattributes[5]</a> or <a href="/docs/git-config">git-config[1]</a>.  Giving it explicitly
overrides any diff driver or configuration setting.  Diff drivers
override configuration settings.</p>

</dd>
<dt> --color-words[=&lt;regex&gt;] </dt>
<dd>
<p>Equivalent to <code>--word-diff=color</code> plus (if a regex was
specified) <code>--word-diff-regex=&lt;regex&gt;</code>.</p>
</dd>
<dt> --no-renames </dt>
<dd>
<p>Turn off rename detection, even when the configuration
file gives the default to do so.</p>
</dd>
<dt> --[no-]rename-empty </dt>
<dd>
<p>Whether to use empty blobs as rename source.</p>
</dd>
<dt> --check </dt>
<dd>
<p>Warn if changes introduce conflict markers or whitespace errors.
What are considered whitespace errors is controlled by <code>core.whitespace</code>
configuration.  By default, trailing whitespaces (including
lines that consist solely of whitespaces) and a space character
that is immediately followed by a tab character inside the
initial indent of the line are considered whitespace errors.
Exits with non-zero status if problems are found. Not compatible
with --exit-code.</p>
</dd>
<dt> --ws-error-highlight=&lt;kind&gt; </dt>
<dd>
<p>Highlight whitespace errors in the <code>context</code>, <code>old</code> or <code>new</code>
lines of the diff.  Multiple values are separated by comma,
<code>none</code> resets previous values, <code>default</code> reset the list to
<code>new</code> and <code>all</code> is a shorthand for <code>old,new,context</code>.  When
this option is not given, and the configuration variable
<code>diff.wsErrorHighlight</code> is not set, only whitespace errors in
<code>new</code> lines are highlighted. The whitespace errors are colored
with <code>color.diff.whitespace</code>.</p>
</dd>
<dt> --full-index </dt>
<dd>
<p>Instead of the first handful of characters, show the full
pre- and post-image blob object names on the "index"
line when generating patch format output.</p>
</dd>
<dt> --binary </dt>
<dd>
<p>In addition to <code>--full-index</code>, output a binary diff that
can be applied with <code>git-apply</code>.
Implies <code>--patch</code>.</p>
</dd>
<dt> --abbrev[=&lt;n&gt;] </dt>
<dd>
<p>Instead of showing the full 40-byte hexadecimal object
name in diff-raw format output and diff-tree header
lines, show the shortest prefix that is at least <em>&lt;n&gt;</em>
hexdigits long that uniquely refers the object.
In diff-patch output format, <code>--full-index</code> takes higher
precedence, i.e. if <code>--full-index</code> is specified, full blob
names will be shown regardless of <code>--abbrev</code>.
Non default number of digits can be specified with <code>--abbrev=&lt;n&gt;</code>.</p>
</dd>
<dt> -B[&lt;n&gt;][/&lt;m&gt;] </dt>
<dt> --break-rewrites[=[&lt;n&gt;][/&lt;m&gt;]] </dt>
<dd>
<p>Break complete rewrite changes into pairs of delete and
create. This serves two purposes:</p>

<p>It affects the way a change that amounts to a total rewrite of a file
not as a series of deletion and insertion mixed together with a very
few lines that happen to match textually as the context, but as a
single deletion of everything old followed by a single insertion of
everything new, and the number <code>m</code> controls this aspect of the -B
option (defaults to 60%). <code>-B/70%</code> specifies that less than 30% of the
original should remain in the result for Git to consider it a total
rewrite (i.e. otherwise the resulting patch will be a series of
deletion and insertion mixed together with context lines).</p>


<p>When used with -M, a totally-rewritten file is also considered as the
source of a rename (usually -M only considers a file that disappeared
as the source of a rename), and the number <code>n</code> controls this aspect of
the -B option (defaults to 50%). <code>-B20%</code> specifies that a change with
addition and deletion compared to 20% or more of the file’s size are
eligible for being picked up as a possible source of a rename to
another file.</p>

</dd>
<dt> -M[&lt;n&gt;] </dt>
<dt> --find-renames[=&lt;n&gt;] </dt>
<dd>
<p>Detect renames.
If <code>n</code> is specified, it is a threshold on the similarity
index (i.e. amount of addition/deletions compared to the
file’s size). For example, <code>-M90%</code> means Git should consider a
delete/add pair to be a rename if more than 90% of the file
hasn’t changed.  Without a <code>%</code> sign, the number is to be read as
a fraction, with a decimal point before it.  I.e., <code>-M5</code> becomes
0.5, and is thus the same as <code>-M50%</code>.  Similarly, <code>-M05</code> is
the same as <code>-M5%</code>.  To limit detection to exact renames, use
<code>-M100%</code>.  The default similarity index is 50%.</p>
</dd>
<dt> -C[&lt;n&gt;] </dt>
<dt> --find-copies[=&lt;n&gt;] </dt>
<dd>
<p>Detect copies as well as renames.  See also <code>--find-copies-harder</code>.
If <code>n</code> is specified, it has the same meaning as for <code>-M&lt;n&gt;</code>.</p>
</dd>
<dt> --find-copies-harder </dt>
<dd>
<p>For performance reasons, by default, <code>-C</code> option finds copies only
if the original file of the copy was modified in the same
changeset.  This flag makes the command
inspect unmodified files as candidates for the source of
copy.  This is a very expensive operation for large
projects, so use it with caution.  Giving more than one
<code>-C</code> option has the same effect.</p>
</dd>
<dt> -D </dt>
<dt> --irreversible-delete </dt>
<dd>
<p>Omit the preimage for deletes, i.e. print only the header but not
the diff between the preimage and <code>/dev/null</code>. The resulting patch
is not meant to be applied with <code>patch</code> or <code>git apply</code>; this is
solely for people who want to just concentrate on reviewing the
text after the change. In addition, the output obviously lacks
enough information to apply such a patch in reverse, even manually,
hence the name of the option.</p>

<p>When used together with <code>-B</code>, omit also the preimage in the deletion part
of a delete/create pair.</p>

</dd>
<dt> -l&lt;num&gt; </dt>
<dd>
<p>The <code>-M</code> and <code>-C</code> options involve some preliminary steps that
can detect subsets of renames/copies cheaply, followed by an
exhaustive fallback portion that compares all remaining
unpaired destinations to all relevant sources.  (For renames,
only remaining unpaired sources are relevant; for copies, all
original sources are relevant.)  For N sources and
destinations, this exhaustive check is O(N^2).  This option
prevents the exhaustive portion of rename/copy detection from
running if the number of source/destination files involved
exceeds the specified number.  Defaults to diff.renameLimit.
Note that a value of 0 is treated as unlimited.</p>
</dd>
<dt> --diff-filter=[(A|C|D|M|R|T|U|X|B)…<U+200B>[*]] </dt>
<dd>
<p>Select only files that are Added (<code>A</code>), Copied (<code>C</code>),
Deleted (<code>D</code>), Modified (<code>M</code>), Renamed (<code>R</code>), have their
type (i.e. regular file, symlink, submodule, …<U+200B>) changed (<code>T</code>),
are Unmerged (<code>U</code>), are
Unknown (<code>X</code>), or have had their pairing Broken (<code>B</code>).
Any combination of the filter characters (including none) can be used.
When <code>*</code> (All-or-none) is added to the combination, all
paths are selected if there is any file that matches
other criteria in the comparison; if there is no file
that matches other criteria, nothing is selected.</p>

<p>Also, these upper-case letters can be downcased to exclude.  E.g.
<code>--diff-filter=ad</code> excludes added and deleted paths.</p>


<p>Note that not all diffs can feature all types. For instance, diffs
from the index to the working tree can never have Added entries
(because the set of paths included in the diff is limited by what is in
the index).  Similarly, copied and renamed entries cannot appear if
detection for those types is disabled.</p>

</dd>
<dt> -S&lt;string&gt; </dt>
<dd>
<p>Look for differences that change the number of occurrences of
the specified string (i.e. addition/deletion) in a file.
Intended for the scripter’s use.</p>

<p>It is useful when you’re looking for an exact block of code (like a
struct), and want to know the history of that block since it first
came into being: use the feature iteratively to feed the interesting
block in the preimage back into <code>-S</code>, and keep going until you get the
very first version of the block.</p>


<p>Binary files are searched as well.</p>

</dd>
<dt> -G&lt;regex&gt; </dt>
<dd>
<p>Look for differences whose patch text contains added/removed
lines that match &lt;regex&gt;.</p>

<p>To illustrate the difference between <code>-S&lt;regex&gt; --pickaxe-regex</code> and
<code>-G&lt;regex&gt;</code>, consider a commit with the following diff in the same
file:</p>



<pre>+    return frotz(nitfol, two-&gt;ptr, 1, 0);
...
-    hit = frotz(nitfol, mf2.ptr, 1, 0);</pre>



<p>While <code>git log -G"frotz\(nitfol"</code> will show this commit, <code>git log
-S"frotz\(nitfol" --pickaxe-regex</code> will not (because the number of
occurrences of that string did not change).</p>


<p>Unless <code>--text</code> is supplied patches of binary files without a textconv
filter will be ignored.</p>


<p>See the <em>pickaxe</em> entry in <a href="/docs/gitdiffcore">gitdiffcore[7]</a> for more
information.</p>

</dd>
<dt> --find-object=&lt;object-id&gt; </dt>
<dd>
<p>Look for differences that change the number of occurrences of
the specified object. Similar to <code>-S</code>, just the argument is different
in that it doesn’t search for a specific string but for a specific
object id.</p>

<p>The object can be a blob or a submodule commit. It implies the <code>-t</code> option in
<code>git-log</code> to also find trees.</p>

</dd>
<dt> --pickaxe-all </dt>
<dd>
<p>When <code>-S</code> or <code>-G</code> finds a change, show all the changes in that
changeset, not just the files that contain the change
in &lt;string&gt;.</p>
</dd>
<dt> --pickaxe-regex </dt>
<dd>
<p>Treat the &lt;string&gt; given to <code>-S</code> as an extended POSIX regular
expression to match.</p>
</dd>
<dt> -O&lt;orderfile&gt; </dt>
<dd>
<p>Control the order in which files appear in the output.
This overrides the <code>diff.orderFile</code> configuration variable
(see <a href="/docs/git-config">git-config[1]</a>).  To cancel <code>diff.orderFile</code>,
use <code>-O/dev/null</code>.</p>

<p>The output order is determined by the order of glob patterns in
&lt;orderfile&gt;.
All files with pathnames that match the first pattern are output
first, all files with pathnames that match the second pattern (but not
the first) are output next, and so on.
All files with pathnames that do not match any pattern are output
last, as if there was an implicit match-all pattern at the end of the
file.
If multiple pathnames have the same rank (they match the same pattern
but no earlier patterns), their output order relative to each other is
the normal order.</p>


<p>&lt;orderfile&gt; is parsed as follows:</p>




<ul>
<li>
<p>Blank lines are ignored, so they can be used as separators for
readability.</p>
</li>
<li>
<p>Lines starting with a hash ("<code>#</code>") are ignored, so they can be used
for comments.  Add a backslash ("<code>\</code>") to the beginning of the
pattern if it starts with a hash.</p>
</li>
<li>
<p>Each other line contains a single pattern.</p>
</li>
</ul>




<p>Patterns have the same syntax and semantics as patterns used for
fnmatch(3) without the FNM_PATHNAME flag, except a pathname also
matches a pattern if removing any number of the final pathname
components matches the pattern.  For example, the pattern "<code>foo*bar</code>"
matches "<code>fooasdfbar</code>" and "<code>foo/bar/baz/asdf</code>" but not "<code>foobarx</code>".</p>

</dd>
<dt> --skip-to=&lt;file&gt; </dt>
<dt> --rotate-to=&lt;file&gt; </dt>
<dd>
<p>Discard the files before the named &lt;file&gt; from the output
(i.e. <em>skip to</em>), or move them to the end of the output
(i.e. <em>rotate to</em>).  These were invented primarily for use
of the <code>git difftool</code> command, and may not be very useful
otherwise.</p>
</dd>
<dt> -R </dt>
<dd>
<p>Swap two inputs; that is, show differences from index or
on-disk file to tree contents.</p>
</dd>
<dt> --relative[=&lt;path&gt;] </dt>
<dt> --no-relative </dt>
<dd>
<p>When run from a subdirectory of the project, it can be
told to exclude changes outside the directory and show
pathnames relative to it with this option.  When you are
not in a subdirectory (e.g. in a bare repository), you
can name which subdirectory to make the output relative
to by giving a &lt;path&gt; as an argument.
<code>--no-relative</code> can be used to countermand both <code>diff.relative</code> config
option and previous <code>--relative</code>.</p>
</dd>
<dt> -a </dt>
<dt> --text </dt>
<dd>
<p>Treat all files as text.</p>
</dd>
<dt> --ignore-cr-at-eol </dt>
<dd>
<p>Ignore carriage-return at the end of line when doing a comparison.</p>
</dd>
<dt> --ignore-space-at-eol </dt>
<dd>
<p>Ignore changes in whitespace at EOL.</p>
</dd>
<dt> -b </dt>
<dt> --ignore-space-change </dt>
<dd>
<p>Ignore changes in amount of whitespace.  This ignores whitespace
at line end, and considers all other sequences of one or
more whitespace characters to be equivalent.</p>
</dd>
<dt> -w </dt>
<dt> --ignore-all-space </dt>
<dd>
<p>Ignore whitespace when comparing lines.  This ignores
differences even if one line has whitespace where the other
line has none.</p>
</dd>
<dt> --ignore-blank-lines </dt>
<dd>
<p>Ignore changes whose lines are all blank.</p>
</dd>
<dt> -I&lt;regex&gt; </dt>
<dt> --ignore-matching-lines=&lt;regex&gt; </dt>
<dd>
<p>Ignore changes whose all lines match &lt;regex&gt;.  This option may
be specified more than once.</p>
</dd>
<dt> --inter-hunk-context=&lt;lines&gt; </dt>
<dd>
<p>Show the context between diff hunks, up to the specified number
of lines, thereby fusing hunks that are close to each other.
Defaults to <code>diff.interHunkContext</code> or 0 if the config option
is unset.</p>
</dd>
<dt> -W </dt>
<dt> --function-context </dt>
<dd>
<p>Show whole function as context lines for each change.
The function names are determined in the same way as
<code>git diff</code> works out patch hunk headers (see <em>Defining a
custom hunk-header</em> in <a href="/docs/gitattributes">gitattributes[5]</a>).</p>
</dd>
<dt> --exit-code </dt>
<dd>
<p>Make the program exit with codes similar to diff(1).
That is, it exits with 1 if there were differences and
0 means no differences.</p>
</dd>
<dt> --quiet </dt>
<dd>
<p>Disable all output of the program. Implies <code>--exit-code</code>.</p>
</dd>
<dt> --ext-diff </dt>
<dd>
<p>Allow an external diff helper to be executed. If you set an
external diff driver with <a href="/docs/gitattributes">gitattributes[5]</a>, you need
to use this option with <a href="/docs/git-log">git-log[1]</a> and friends.</p>
</dd>
<dt> --no-ext-diff </dt>
<dd>
<p>Disallow external diff drivers.</p>
</dd>
<dt> --textconv </dt>
<dt> --no-textconv </dt>
<dd>
<p>Allow (or disallow) external text conversion filters to be run
when comparing binary files. See <a href="/docs/gitattributes">gitattributes[5]</a> for
details. Because textconv filters are typically a one-way
conversion, the resulting diff is suitable for human
consumption, but cannot be applied. For this reason, textconv
filters are enabled by default only for <a href="/docs/git-diff">git-diff[1]</a> and
<a href="/docs/git-log">git-log[1]</a>, but not for <a href="/docs/git-format-patch">git-format-patch[1]</a> or
diff plumbing commands.</p>
</dd>
<dt> --ignore-submodules[=&lt;when&gt;] </dt>
<dd>
<p>Ignore changes to submodules in the diff generation. &lt;when&gt; can be
either "none", "untracked", "dirty" or "all", which is the default.
Using "none" will consider the submodule modified when it either contains
untracked or modified files or its HEAD differs from the commit recorded
in the superproject and can be used to override any settings of the
<em>ignore</em> option in <a href="/docs/git-config">git-config[1]</a> or <a href="/docs/gitmodules">gitmodules[5]</a>. When
"untracked" is used submodules are not considered dirty when they only
contain untracked content (but they are still scanned for modified
content). Using "dirty" ignores all changes to the work tree of submodules,
only changes to the commits stored in the superproject are shown (this was
the behavior until 1.7.0). Using "all" hides all changes to submodules.</p>
</dd>
<dt> --src-prefix=&lt;prefix&gt; </dt>
<dd>
<p>Show the given source prefix instead of "a/".</p>
</dd>
<dt> --dst-prefix=&lt;prefix&gt; </dt>
<dd>
<p>Show the given destination prefix instead of "b/".</p>
</dd>
<dt> --no-prefix </dt>
<dd>
<p>Do not show any source or destination prefix.</p>
</dd>
<dt> --line-prefix=&lt;prefix&gt; </dt>
<dd>
<p>Prepend an additional prefix to every line of output.</p>
</dd>
<dt> --ita-invisible-in-index </dt>
<dd>
<p>By default entries added by "git add -N" appear as an existing
empty file in "git diff" and a new file in "git diff --cached".
This option makes the entry appear as a new file in "git diff"
and non-existent in "git diff --cached". This option could be
reverted with <code>--ita-visible-in-index</code>. Both options are
experimental and could be removed in future.</p>
</dd>
</dl>


<p>For more detailed explanation on these common options, see also
<a href="/docs/gitdiffcore">gitdiffcore[7]</a>.</p>


<dl>
<dt> -1 --base </dt>
<dt> -2 --ours </dt>
<dt> -3 --theirs </dt>
<dd>
<p>Compare the working tree with the "base" version (stage #1),
"our branch" (stage #2) or "their branch" (stage #3).  The
index contains these stages only for unmerged entries i.e.
while resolving conflicts.  See <a href="/docs/git-read-tree">git-read-tree[1]</a>
section "3-Way Merge" for detailed information.</p>
</dd>
<dt> -0 </dt>
<dd>
<p>Omit diff output for unmerged entries and just show
"Unmerged".  Can be used only when comparing the working tree
with the index.</p>
</dd>
<dt> &lt;path&gt;…<U+200B> </dt>
<dd>
<p>The &lt;paths&gt; parameters, when given, are used to limit
the diff to the named paths (you can give directory
names and get diff for all files under them).</p>
</dd>
</dl>




<h2>Raw output format</h2>


<p>The raw output format from "git-diff-index", "git-diff-tree",
"git-diff-files" and "git diff --raw" are very similar.</p>


<p>These commands all compare two sets of things; what is
compared differs:</p>


<dl>
<dt> git-diff-index &lt;tree-ish&gt; </dt>
<dd>
<p>compares the &lt;tree-ish&gt; and the files on the filesystem.</p>
</dd>
<dt> git-diff-index --cached &lt;tree-ish&gt; </dt>
<dd>
<p>compares the &lt;tree-ish&gt; and the index.</p>
</dd>
<dt> git-diff-tree [-r] &lt;tree-ish-1&gt; &lt;tree-ish-2&gt; [&lt;pattern&gt;…<U+200B>] </dt>
<dd>
<p>compares the trees named by the two arguments.</p>
</dd>
<dt> git-diff-files [&lt;pattern&gt;…<U+200B>] </dt>
<dd>
<p>compares the index and the files on the filesystem.</p>
</dd>
</dl>


<p>The "git-diff-tree" command begins its output by printing the hash of
what is being compared. After that, all the commands print one output
line per changed file.</p>


<p>An output line is formatted this way:</p>



<pre>in-place edit  :100644 100644 bcd1234 0123456 M file0
copy-edit      :100644 100644 abcd123 1234567 C68 file1 file2
rename-edit    :100644 100644 abcd123 1234567 R86 file1 file3
create         :000000 100644 0000000 1234567 A file4
delete         :100644 000000 1234567 0000000 D file5
unmerged       :000000 000000 0000000 0000000 U file6</pre>



<p>That is, from the left to the right:</p>


<ol>
<li>
<p>a colon.</p>
</li>
<li>
<p>mode for "src"; 000000 if creation or unmerged.</p>
</li>
<li>
<p>a space.</p>
</li>
<li>
<p>mode for "dst"; 000000 if deletion or unmerged.</p>
</li>
<li>
<p>a space.</p>
</li>
<li>
<p>sha1 for "src"; 0{40} if creation or unmerged.</p>
</li>
<li>
<p>a space.</p>
</li>
<li>
<p>sha1 for "dst"; 0{40} if creation, unmerged or "look at work tree".</p>
</li>
<li>
<p>a space.</p>
</li>
<li>
<p>status, followed by optional "score" number.</p>
</li>
<li>
<p>a tab or a NUL when <code>-z</code> option is used.</p>
</li>
<li>
<p>path for "src"</p>
</li>
<li>
<p>a tab or a NUL when <code>-z</code> option is used; only exists for C or R.</p>
</li>
<li>
<p>path for "dst"; only exists for C or R.</p>
</li>
<li>
<p>an LF or a NUL when <code>-z</code> option is used, to terminate the record.</p>
</li>
</ol>


<p>Possible status letters are:</p>


<ul>
<li>
<p>A: addition of a file</p>
</li>
<li>
<p>C: copy of a file into a new one</p>
</li>
<li>
<p>D: deletion of a file</p>
</li>
<li>
<p>M: modification of the contents or mode of a file</p>
</li>
<li>
<p>R: renaming of a file</p>
</li>
<li>
<p>T: change in the type of the file (regular file, symbolic link or submodule)</p>
</li>
<li>
<p>U: file is unmerged (you must complete the merge before it can
be committed)</p>
</li>
<li>
<p>X: "unknown" change type (most probably a bug, please report it)</p>
</li>
</ul>


<p>Status letters C and R are always followed by a score (denoting the
percentage of similarity between the source and target of the move or
copy).  Status letter M may be followed by a score (denoting the
percentage of dissimilarity) for file rewrites.</p>


<p>&lt;sha1&gt; is shown as all 0’s if a file is new on the filesystem
and it is out of sync with the index.</p>


<p>Example:</p>



<pre>:100644 100644 5be4a4a 0000000 M file.c</pre>



<p>Without the <code>-z</code> option, pathnames with "unusual" characters are
quoted as explained for the configuration variable <code>core.quotePath</code>
(see <a href="/docs/git-config">git-config[1]</a>).  Using <code>-z</code> the filename is output
verbatim and the line is terminated by a NUL byte.</p>




<h2>diff format for merges</h2>


<p>"git-diff-tree", "git-diff-files" and "git-diff --raw"
can take <code>-c</code> or <code>--cc</code> option
to generate diff output also for merge commits.  The output differs
from the format described above in the following way:</p>


<ol>
<li>
<p>there is a colon for each parent</p>
</li>
<li>
<p>there are more "src" modes and "src" sha1</p>
</li>
<li>
<p>status is concatenated status characters for each parent</p>
</li>
<li>
<p>no optional "score" number</p>
</li>
<li>
<p>tab-separated pathname(s) of the file</p>
</li>
</ol>


<p>For <code>-c</code> and <code>--cc</code>, only the destination or final path is shown even
if the file was renamed on any side of history.  With
<code>--combined-all-paths</code>, the name of the path in each parent is shown
followed by the name of the path in the merge commit.</p>


<p>Examples for <code>-c</code> and <code>--cc</code> without <code>--combined-all-paths</code>:</p>



<pre>::100644 100644 100644 fabadb8 cc95eb0 4866510 MM	desc.c
::100755 100755 100755 52b7a2d 6d1ac04 d2ac7d7 RM	bar.sh
::100644 100644 100644 e07d6c5 9042e82 ee91881 RR	phooey.c</pre>



<p>Examples when <code>--combined-all-paths</code> added to either <code>-c</code> or <code>--cc</code>:</p>



<pre>::100644 100644 100644 fabadb8 cc95eb0 4866510 MM	desc.c	desc.c	desc.c
::100755 100755 100755 52b7a2d 6d1ac04 d2ac7d7 RM	foo.sh	bar.sh	bar.sh
::100644 100644 100644 e07d6c5 9042e82 ee91881 RR	fooey.c	fuey.c	phooey.c</pre>



<p>Note that <em>combined diff</em> lists only files which were modified from
all parents.</p>




<h2>Generating patch text with -p</h2>


<p>Running
<a href="/docs/git-diff">git-diff[1]</a>,
<a href="/docs/git-log">git-log[1]</a>,
<a href="/docs/git-show">git-show[1]</a>,
<a href="/docs/git-diff-index">git-diff-index[1]</a>,
<a href="/docs/git-diff-tree">git-diff-tree[1]</a>, or
<a href="/docs/git-diff-files">git-diff-files[1]</a>
with the <code>-p</code> option produces patch text.
You can customize the creation of patch text via the
<code>GIT_EXTERNAL_DIFF</code> and the <code>GIT_DIFF_OPTS</code> environment variables
(see <a href="/docs/git">git[1]</a>), and the <code>diff</code> attribute (see <a href="/docs/gitattributes">gitattributes[5]</a>).</p>


<p>What the -p option produces is slightly different from the traditional
diff format:</p>


<ol>
<li>
<p>It is preceded with a "git diff" header that looks like this:</p>


<pre>diff --git a/file1 b/file2</pre>



<p>The <code>a/</code> and <code>b/</code> filenames are the same unless rename/copy is
involved.  Especially, even for a creation or a deletion,
<code>/dev/null</code> is <em>not</em> used in place of the <code>a/</code> or <code>b/</code> filenames.</p>


<p>When rename/copy is involved, <code>file1</code> and <code>file2</code> show the
name of the source file of the rename/copy and the name of
the file that rename/copy produces, respectively.</p>

</li>
<li>
<p>It is followed by one or more extended header lines:</p>


<pre>old mode &lt;mode&gt;
new mode &lt;mode&gt;
deleted file mode &lt;mode&gt;
new file mode &lt;mode&gt;
copy from &lt;path&gt;
copy to &lt;path&gt;
rename from &lt;path&gt;
rename to &lt;path&gt;
similarity index &lt;number&gt;
dissimilarity index &lt;number&gt;
index &lt;hash&gt;..&lt;hash&gt; &lt;mode&gt;</pre>



<p>File modes are printed as 6-digit octal numbers including the file type
and file permission bits.</p>


<p>Path names in extended headers do not include the <code>a/</code> and <code>b/</code> prefixes.</p>


<p>The similarity index is the percentage of unchanged lines, and
the dissimilarity index is the percentage of changed lines.  It
is a rounded down integer, followed by a percent sign.  The
similarity index value of 100% is thus reserved for two equal
files, while 100% dissimilarity means that no line from the old
file made it into the new one.</p>


<p>The index line includes the blob object names before and after the change.
The &lt;mode&gt; is included if the file mode does not change; otherwise,
separate lines indicate the old and the new mode.</p>

</li>
<li>
<p>Pathnames with "unusual" characters are quoted as explained for
the configuration variable <code>core.quotePath</code> (see
<a href="/docs/git-config">git-config[1]</a>).</p>
</li>
<li>
<p>All the <code>file1</code> files in the output refer to files before the
commit, and all the <code>file2</code> files refer to files after the commit.
It is incorrect to apply each change to each file sequentially.  For
example, this patch will swap a and b:</p>


<pre>diff --git a/a b/b
rename from a
rename to b
diff --git a/b b/a
rename from b
rename to a</pre>


</li>
<li>
<p>Hunk headers mention the name of the function to which the hunk
applies.  See "Defining a custom hunk-header" in
<a href="/docs/gitattributes">gitattributes[5]</a> for details of how to tailor to this to
specific languages.</p>
</li>
</ol>




<h2>Combined diff format</h2>


<p>Any diff-generating command can take the <code>-c</code> or <code>--cc</code> option to
produce a <em>combined diff</em> when showing a merge. This is the default
format when showing merges with <a href="/docs/git-diff">git-diff[1]</a> or
<a href="/docs/git-show">git-show[1]</a>. Note also that you can give suitable
<code>--diff-merges</code> option to any of these commands to force generation of
diffs in specific format.</p>


<p>A "combined diff" format looks like this:</p>



<pre>diff --combined describe.c
index fabadb8,cc95eb0..4866510
--- a/describe.c
+++ b/describe.c
@@@ -98,20 -98,12 +98,20 @@@
	return (a_date &gt; b_date) ? -1 : (a_date == b_date) ? 0 : 1;
  }

- static void describe(char *arg)
 -static void describe(struct commit *cmit, int last_one)
++static void describe(char *arg, int last_one)
  {
 +	unsigned char sha1[20];
 +	struct commit *cmit;
	struct commit_list *list;
	static int initialized = 0;
	struct commit_name *n;

 +	if (get_sha1(arg, sha1) &lt; 0)
 +		usage(describe_usage);
 +	cmit = lookup_commit_reference(sha1);
 +	if (!cmit)
 +		usage(describe_usage);
 +
	if (!initialized) {
		initialized = 1;
		for_each_ref(get_name);</pre>



<ol>
<li>
<p>It is preceded with a "git diff" header, that looks like
this (when the <code>-c</code> option is used):</p>


<pre>diff --combined file</pre>



<p>or like this (when the <code>--cc</code> option is used):</p>



<pre>diff --cc file</pre>


</li>
<li>
<p>It is followed by one or more extended header lines
(this example shows a merge with two parents):</p>


<pre>index &lt;hash&gt;,&lt;hash&gt;..&lt;hash&gt;
mode &lt;mode&gt;,&lt;mode&gt;..&lt;mode&gt;
new file mode &lt;mode&gt;
deleted file mode &lt;mode&gt;,&lt;mode&gt;</pre>



<p>The <code>mode &lt;mode&gt;,&lt;mode&gt;..&lt;mode&gt;</code> line appears only if at least one of
the &lt;mode&gt; is different from the rest. Extended headers with
information about detected contents movement (renames and
copying detection) are designed to work with diff of two
&lt;tree-ish&gt; and are not used by combined diff format.</p>

</li>
<li>
<p>It is followed by two-line from-file/to-file header</p>


<pre>--- a/file
+++ b/file</pre>



<p>Similar to two-line header for traditional <em>unified</em> diff
format, <code>/dev/null</code> is used to signal created or deleted
files.</p>


<p>However, if the --combined-all-paths option is provided, instead of a
two-line from-file/to-file you get a N+1 line from-file/to-file header,
where N is the number of parents in the merge commit</p>



<pre>--- a/file
--- a/file
--- a/file
+++ b/file</pre>



<p>This extended format can be useful if rename or copy detection is
active, to allow you to see the original name of the file in different
parents.</p>

</li>
<li>
<p>Chunk header format is modified to prevent people from
accidentally feeding it to <code>patch -p1</code>. Combined diff format
was created for review of merge commit changes, and was not
meant to be applied. The change is similar to the change in the
extended <em>index</em> header:</p>


<pre>@@@ &lt;from-file-range&gt; &lt;from-file-range&gt; &lt;to-file-range&gt; @@@</pre>



<p>There are (number of parents + 1) <code>@</code> characters in the chunk
header for combined diff format.</p>

</li>
</ol>


<p>Unlike the traditional <em>unified</em> diff format, which shows two
files A and B with a single column that has <code>-</code> (minus<U+2009>—<U+2009>appears in A but removed in B), <code>+</code> (plus<U+2009>—<U+2009>missing in A but
added to B), or <code>" "</code> (space<U+2009>—<U+2009>unchanged) prefix, this format
compares two or more files file1, file2,…<U+200B> with one file X, and
shows how X differs from each of fileN.  One column for each of
fileN is prepended to the output line to note how X’s line is
different from it.</p>


<p>A <code>-</code> character in the column N means that the line appears in
fileN but it does not appear in the result.  A <code>+</code> character
in the column N means that the line appears in the result,
and fileN does not have that line (in other words, the line was
added, from the point of view of that parent).</p>


<p>In the above example output, the function signature was changed
from both files (hence two <code>-</code> removals from both file1 and
file2, plus <code>++</code> to mean one line that was added does not appear
in either file1 or file2).  Also eight other lines are the same
from file1 but do not appear in file2 (hence prefixed with <code>+</code>).</p>


<p>When shown by <code>git diff-tree -c</code>, it compares the parents of a
merge commit with the merge result (i.e. file1..fileN are the
parents).  When shown by <code>git diff-files -c</code>, it compares the
two unresolved merge parents with the working tree file
(i.e. file1 is stage 2 aka "our version", file2 is stage 3 aka
"their version").</p>




<h2>other diff formats</h2>


<p>The <code>--summary</code> option describes newly added, deleted, renamed and
copied files.  The <code>--stat</code> option adds diffstat(1) graph to the
output.  These options can be combined with other options, such as
<code>-p</code>, and are meant for human consumption.</p>


<p>When showing a change that involves a rename or a copy, <code>--stat</code> output
formats the pathnames compactly by combining common prefix and suffix of
the pathnames.  For example, a change that moves <code>arch/i386/Makefile</code> to
<code>arch/x86/Makefile</code> while modifying 4 lines will be shown like this:</p>



<pre>arch/{i386 =&gt; x86}/Makefile    |   4 +--</pre>



<p>The <code>--numstat</code> option gives the diffstat(1) information but is designed
for easier machine consumption.  An entry in <code>--numstat</code> output looks
like this:</p>



<pre>1	2	README
3	1	arch/{i386 =&gt; x86}/Makefile</pre>



<p>That is, from left to right:</p>


<ol>
<li>
<p>the number of added lines;</p>
</li>
<li>
<p>a tab;</p>
</li>
<li>
<p>the number of deleted lines;</p>
</li>
<li>
<p>a tab;</p>
</li>
<li>
<p>pathname (possibly with rename/copy information);</p>
</li>
<li>
<p>a newline.</p>
</li>
</ol>


<p>When <code>-z</code> output option is in effect, the output is formatted this way:</p>



<pre>1	2	README NUL
3	1	NUL arch/i386/Makefile NUL arch/x86/Makefile NUL</pre>



<p>That is:</p>


<ol>
<li>
<p>the number of added lines;</p>
</li>
<li>
<p>a tab;</p>
</li>
<li>
<p>the number of deleted lines;</p>
</li>
<li>
<p>a tab;</p>
</li>
<li>
<p>a NUL (only exists if renamed/copied);</p>
</li>
<li>
<p>pathname in preimage;</p>
</li>
<li>
<p>a NUL (only exists if renamed/copied);</p>
</li>
<li>
<p>pathname in postimage (only exists if renamed/copied);</p>
</li>
<li>
<p>a NUL.</p>
</li>
</ol>


<p>The extra <code>NUL</code> before the preimage path in renamed case is to allow
scripts that read the output to tell if the current record being read is
a single-path record or a rename/copy record without reading ahead.
After reading added and deleted lines, reading up to <code>NUL</code> would yield
the pathname, but if that is <code>NUL</code>, the record will show two paths.</p>




<h2>examples</h2>


<dl>
<dt> Various ways to check your working tree </dt>
<dd>


<pre>$ git diff            <b>(1)</b>
$ git diff --cached   <b>(2)</b>
$ git diff HEAD       <b>(3)</b></pre>



<ol>
<li>
<p>Changes in the working tree not yet staged for the next commit.</p>
</li>
<li>
<p>Changes between the index and your last commit; what you
would be committing if you run <code>git commit</code> without <code>-a</code> option.</p>
</li>
<li>
<p>Changes in the working tree since your last commit; what you
would be committing if you run <code>git commit -a</code></p>
</li>
</ol>

</dd>
<dt> Comparing with arbitrary commits </dt>
<dd>


<pre>$ git diff test            <b>(1)</b>
$ git diff HEAD -- ./test  <b>(2)</b>
$ git diff HEAD^ HEAD      <b>(3)</b></pre>



<ol>
<li>
<p>Instead of using the tip of the current branch, compare with the
tip of "test" branch.</p>
</li>
<li>
<p>Instead of comparing with the tip of "test" branch, compare with
the tip of the current branch, but limit the comparison to the
file "test".</p>
</li>
<li>
<p>Compare the version before the last commit and the last commit.</p>
</li>
</ol>

</dd>
<dt> Comparing branches </dt>
<dd>


<pre>$ git diff topic master    <b>(1)</b>
$ git diff topic..master   <b>(2)</b>
$ git diff topic...master  <b>(3)</b></pre>



<ol>
<li>
<p>Changes between the tips of the topic and the master branches.</p>
</li>
<li>
<p>Same as above.</p>
</li>
<li>
<p>Changes that occurred on the master branch since when the topic
branch was started off it.</p>
</li>
</ol>

</dd>
<dt> Limiting the diff output </dt>
<dd>


<pre>$ git diff --diff-filter=MRC            <b>(1)</b>
$ git diff --name-status                <b>(2)</b>
$ git diff arch/i386 include/asm-i386   <b>(3)</b></pre>



<ol>
<li>
<p>Show only modification, rename, and copy, but not addition
or deletion.</p>
</li>
<li>
<p>Show only names and the nature of change, but not actual
diff output.</p>
</li>
<li>
<p>Limit diff output to named subtrees.</p>
</li>
</ol>

</dd>
<dt> Munging the diff output </dt>
<dd>


<pre>$ git diff --find-copies-harder -B -C  <b>(1)</b>
$ git diff -R                          <b>(2)</b></pre>



<ol>
<li>
<p>Spend extra cycles to find renames, copies and complete
rewrites (very expensive).</p>
</li>
<li>
<p>Output diff in reverse.</p>
</li>
</ol>

</dd>
</dl>




<h2>SEE ALSO</h2>


<p>diff(1),
<a href="/docs/git-difftool">git-difftool[1]</a>,
<a href="/docs/git-log">git-log[1]</a>,
<a href="/docs/gitdiffcore">gitdiffcore[7]</a>,
<a href="/docs/git-format-patch">git-format-patch[1]</a>,
<a href="/docs/git-apply">git-apply[1]</a>,
<a href="/docs/git-show">git-show[1]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-rebase - Reapply commits on top of another base tip</span></h2>




<h2><br>synopsis</h2>


<pre><em>git rebase</em> [-i | --interactive] [&lt;options&gt;] [--exec &lt;cmd&gt;]
	[--onto &lt;newbase&gt; | --keep-base] [&lt;upstream&gt; [&lt;branch&gt;]]
<em>git rebase</em> [-i | --interactive] [&lt;options&gt;] [--exec &lt;cmd&gt;] [--onto &lt;newbase&gt;]
	--root [&lt;branch&gt;]
<em>git rebase</em> (--continue | --skip | --abort | --quit | --edit-todo | --show-current-patch)</pre>




<h2>description</h2>


<p>If &lt;branch&gt; is specified, <em>git rebase</em> will perform an automatic
<code>git switch &lt;branch&gt;</code> before doing anything else.  Otherwise
it remains on the current branch.</p>


<p>If &lt;upstream&gt; is not specified, the upstream configured in
branch.&lt;name&gt;.remote and branch.&lt;name&gt;.merge options will be used (see
<a href="/docs/git-config">git-config[1]</a> for details) and the <code>--fork-point</code> option is
assumed.  If you are currently not on any branch or if the current
branch does not have a configured upstream, the rebase will abort.</p>


<p>All changes made by commits in the current branch but that are not
in &lt;upstream&gt; are saved to a temporary area.  This is the same set
of commits that would be shown by <code>git log &lt;upstream&gt;..HEAD</code>; or by
<code>git log 'fork_point'..HEAD</code>, if <code>--fork-point</code> is active (see the
description on <code>--fork-point</code> below); or by <code>git log HEAD</code>, if the
<code>--root</code> option is specified.</p>


<p>The current branch is reset to &lt;upstream&gt;, or &lt;newbase&gt; if the
--onto option was supplied.  This has the exact same effect as
<code>git reset --hard &lt;upstream&gt;</code> (or &lt;newbase&gt;).  ORIG_HEAD is set
to point at the tip of the branch before the reset.</p>


<p>The commits that were previously saved into the temporary area are
then reapplied to the current branch, one by one, in order. Note that
any commits in HEAD which introduce the same textual changes as a commit
in HEAD..&lt;upstream&gt; are omitted (i.e., a patch already accepted upstream
with a different commit message or timestamp will be skipped).</p>


<p>It is possible that a merge failure will prevent this process from being
completely automatic.  You will have to resolve any such merge failure
and run <code>git rebase --continue</code>.  Another option is to bypass the commit
that caused the merge failure with <code>git rebase --skip</code>.  To check out the
original &lt;branch&gt; and remove the .git/rebase-apply working files, use the
command <code>git rebase --abort</code> instead.</p>


<p>Assume the following history exists and the current branch is "topic":</p>



<pre>          A---B---C topic
         /
    D---E---F---G master</pre>



<p>From this point, the result of either of the following commands:</p>



<pre>git rebase master
git rebase master topic</pre>



<p>would be:</p>



<pre>                  A'--B'--C' topic
                 /
    D---E---F---G master</pre>



<p><strong>NOTE:</strong> The latter form is just a short-hand of <code>git checkout topic</code>
followed by <code>git rebase master</code>. When rebase exits <code>topic</code> will
remain the checked-out branch.</p>


<p>If the upstream branch already contains a change you have made (e.g.,
because you mailed a patch which was applied upstream), then that commit
will be skipped and warnings will be issued (if the <code>merge</code> backend is
used).  For example, running <code>git rebase master</code> on the following
history (in which <code>A'</code> and <code>A</code> introduce the same set of changes, but
have different committer information):</p>



<pre>          A---B---C topic
         /
    D---E---A'---F master</pre>



<p>will result in:</p>



<pre>                   B'---C' topic
                  /
    D---E---A'---F master</pre>



<p>Here is how you would transplant a topic branch based on one
branch to another, to pretend that you forked the topic branch
from the latter branch, using <code>rebase --onto</code>.</p>


<p>First let’s assume your <em>topic</em> is based on branch <em>next</em>.
For example, a feature developed in <em>topic</em> depends on some
functionality which is found in <em>next</em>.</p>



<pre>    o---o---o---o---o  master
         \
          o---o---o---o---o  next
                           \
                            o---o---o  topic</pre>



<p>We want to make <em>topic</em> forked from branch <em>master</em>; for example,
because the functionality on which <em>topic</em> depends was merged into the
more stable <em>master</em> branch. We want our tree to look like this:</p>



<pre>    o---o---o---o---o  master
        |            \
        |             o'--o'--o'  topic
         \
          o---o---o---o---o  next</pre>



<p>We can get this using the following command:</p>



<pre>git rebase --onto master next topic</pre>



<p>Another example of --onto option is to rebase part of a
branch.  If we have the following situation:</p>



<pre>                            H---I---J topicB
                           /
                  E---F---G  topicA
                 /
    A---B---C---D  master</pre>



<p>then the command</p>



<pre>git rebase --onto master topicA topicB</pre>



<p>would result in:</p>



<pre>                 H'--I'--J'  topicB
                /
                | E---F---G  topicA
                |/
    A---B---C---D  master</pre>



<p>This is useful when topicB does not depend on topicA.</p>


<p>A range of commits could also be removed with rebase.  If we have
the following situation:</p>



<pre>    E---F---G---H---I---J  topicA</pre>



<p>then the command</p>



<pre>git rebase --onto topicA~5 topicA~3 topicA</pre>



<p>would result in the removal of commits F and G:</p>



<pre>    E---H'---I'---J'  topicA</pre>



<p>This is useful if F and G were flawed in some way, or should not be
part of topicA.  Note that the argument to --onto and the &lt;upstream&gt;
parameter can be any valid commit-ish.</p>


<p>In case of conflict, <em>git rebase</em> will stop at the first problematic commit
and leave conflict markers in the tree.  You can use <em>git diff</em> to locate
the markers (&lt;&lt;&lt;&lt;&lt;&lt;) and make edits to resolve the conflict.  For each
file you edit, you need to tell Git that the conflict has been resolved,
typically this would be done with</p>



<pre>git add &lt;filename&gt;</pre>



<p>After resolving the conflict manually and updating the index with the
desired resolution, you can continue the rebasing process with</p>



<pre>git rebase --continue</pre>



<p>Alternatively, you can undo the <em>git rebase</em> with</p>



<pre>git rebase --abort</pre>





<h2>options</h2>


<dl>
<dt> --onto &lt;newbase&gt; </dt>
<dd>
<p>Starting point at which to create the new commits. If the
--onto option is not specified, the starting point is
&lt;upstream&gt;.  May be any valid commit, and not just an
existing branch name.</p>

<p>As a special case, you may use "A...B" as a shortcut for the
merge base of A and B if there is exactly one merge base. You can
leave out at most one of A and B, in which case it defaults to HEAD.</p>

</dd>
<dt> --keep-base </dt>
<dd>
<p>Set the starting point at which to create the new commits to the
merge base of &lt;upstream&gt; &lt;branch&gt;. Running
<em>git rebase --keep-base &lt;upstream&gt; &lt;branch&gt;</em> is equivalent to
running <em>git rebase --onto &lt;upstream&gt;…<U+200B> &lt;upstream&gt;</em>.</p>

<p>This option is useful in the case where one is developing a feature on
top of an upstream branch. While the feature is being worked on, the
upstream branch may advance and it may not be the best idea to keep
rebasing on top of the upstream but to keep the base commit as-is.</p>


<p>Although both this option and --fork-point find the merge base between
&lt;upstream&gt; and &lt;branch&gt;, this option uses the merge base as the <em>starting
point</em> on which new commits will be created, whereas --fork-point uses
the merge base to determine the <em>set of commits</em> which will be rebased.</p>


<p>See also INCOMPATIBLE OPTIONS below.</p>

</dd>
<dt> &lt;upstream&gt; </dt>
<dd>
<p>Upstream branch to compare against.  May be any valid commit,
not just an existing branch name. Defaults to the configured
upstream for the current branch.</p>
</dd>
<dt> &lt;branch&gt; </dt>
<dd>
<p>Working branch; defaults to HEAD.</p>
</dd>
<dt> --continue </dt>
<dd>
<p>Restart the rebasing process after having resolved a merge conflict.</p>
</dd>
<dt> --abort </dt>
<dd>
<p>Abort the rebase operation and reset HEAD to the original
branch. If &lt;branch&gt; was provided when the rebase operation was
started, then HEAD will be reset to &lt;branch&gt;. Otherwise HEAD
will be reset to where it was when the rebase operation was
started.</p>
</dd>
<dt> --quit </dt>
<dd>
<p>Abort the rebase operation but HEAD is not reset back to the
original branch. The index and working tree are also left
unchanged as a result. If a temporary stash entry was created
using --autostash, it will be saved to the stash list.</p>
</dd>
<dt> --apply </dt>
<dd>
<p>Use applying strategies to rebase (calling <code>git-am</code>
internally).  This option may become a no-op in the future
once the merge backend handles everything the apply one does.</p>

<p>See also INCOMPATIBLE OPTIONS below.</p>

</dd>
<dt> --empty={drop,keep,ask} </dt>
<dd>
<p>How to handle commits that are not empty to start and are not
clean cherry-picks of any upstream commit, but which become
empty after rebasing (because they contain a subset of already
upstream changes).  With drop (the default), commits that
become empty are dropped.  With keep, such commits are kept.
With ask (implied by --interactive), the rebase will halt when
an empty commit is applied allowing you to choose whether to
drop it, edit files more, or just commit the empty changes.
Other options, like --exec, will use the default of drop unless
-i/--interactive is explicitly specified.</p>

<p>Note that commits which start empty are kept (unless --no-keep-empty
is specified), and commits which are clean cherry-picks (as determined
by <code>git log --cherry-mark ...</code>) are detected and dropped as a
preliminary step (unless --reapply-cherry-picks is passed).</p>


<p>See also INCOMPATIBLE OPTIONS below.</p>

</dd>
<dt> --no-keep-empty </dt>
<dt> --keep-empty </dt>
<dd>
<p>Do not keep commits that start empty before the rebase
(i.e. that do not change anything from its parent) in the
result.  The default is to keep commits which start empty,
since creating such commits requires passing the --allow-empty
override flag to <code>git commit</code>, signifying that a user is very
intentionally creating such a commit and thus wants to keep
it.</p>

<p>Usage of this flag will probably be rare, since you can get rid of
commits that start empty by just firing up an interactive rebase and
removing the lines corresponding to the commits you don’t want.  This
flag exists as a convenient shortcut, such as for cases where external
tools generate many empty commits and you want them all removed.</p>


<p>For commits which do not start empty but become empty after rebasing,
see the --empty flag.</p>


<p>See also INCOMPATIBLE OPTIONS below.</p>

</dd>
<dt> --reapply-cherry-picks </dt>
<dt> --no-reapply-cherry-picks </dt>
<dd>
<p>Reapply all clean cherry-picks of any upstream commit instead
of preemptively dropping them. (If these commits then become
empty after rebasing, because they contain a subset of already
upstream changes, the behavior towards them is controlled by
the <code>--empty</code> flag.)</p>

<p>By default (or if <code>--no-reapply-cherry-picks</code> is given), these commits
will be automatically dropped.  Because this necessitates reading all
upstream commits, this can be expensive in repos with a large number
of upstream commits that need to be read.  When using the <code>merge</code>
backend, warnings will be issued for each dropped commit (unless
<code>--quiet</code> is given). Advice will also be issued unless
<code>advice.skippedCherryPicks</code> is set to false (see <a href="/docs/git-config">git-config[1]</a>).</p>


<p><code>--reapply-cherry-picks</code> allows rebase to forgo reading all upstream
commits, potentially improving performance.</p>


<p>See also INCOMPATIBLE OPTIONS below.</p>

</dd>
<dt> --allow-empty-message </dt>
<dd>
<p>No-op.  Rebasing commits with an empty message used to fail
and this option would override that behavior, allowing commits
with empty messages to be rebased.  Now commits with an empty
message do not cause rebasing to halt.</p>

<p>See also INCOMPATIBLE OPTIONS below.</p>

</dd>
<dt> --skip </dt>
<dd>
<p>Restart the rebasing process by skipping the current patch.</p>
</dd>
<dt> --edit-todo </dt>
<dd>
<p>Edit the todo list during an interactive rebase.</p>
</dd>
<dt> --show-current-patch </dt>
<dd>
<p>Show the current patch in an interactive rebase or when rebase
is stopped because of conflicts. This is the equivalent of
<code>git show REBASE_HEAD</code>.</p>
</dd>
<dt> -m </dt>
<dt> --merge </dt>
<dd>
<p>Using merging strategies to rebase (default).</p>

<p>Note that a rebase merge works by replaying each commit from the working
branch on top of the &lt;upstream&gt; branch.  Because of this, when a merge
conflict happens, the side reported as <em>ours</em> is the so-far rebased
series, starting with &lt;upstream&gt;, and <em>theirs</em> is the working branch.  In
other words, the sides are swapped.</p>


<p>See also INCOMPATIBLE OPTIONS below.</p>

</dd>
<dt> -s &lt;strategy&gt; </dt>
<dt> --strategy=&lt;strategy&gt; </dt>
<dd>
<p>Use the given merge strategy, instead of the default <code>ort</code>.
This implies <code>--merge</code>.</p>

<p>Because <em>git rebase</em> replays each commit from the working branch
on top of the &lt;upstream&gt; branch using the given strategy, using
the <em>ours</em> strategy simply empties all patches from the &lt;branch&gt;,
which makes little sense.</p>


<p>See also INCOMPATIBLE OPTIONS below.</p>

</dd>
<dt> -X &lt;strategy-option&gt; </dt>
<dt> --strategy-option=&lt;strategy-option&gt; </dt>
<dd>
<p>Pass the &lt;strategy-option&gt; through to the merge strategy.
This implies <code>--merge</code> and, if no strategy has been
specified, <code>-s ort</code>.  Note the reversal of <em>ours</em> and
<em>theirs</em> as noted above for the <code>-m</code> option.</p>

<p>See also INCOMPATIBLE OPTIONS below.</p>

</dd>
<dt> --rerere-autoupdate </dt>
<dt> --no-rerere-autoupdate </dt>
<dd>
<p>Allow the rerere mechanism to update the index with the
result of auto-conflict resolution if possible.</p>
</dd>
<dt> -S[&lt;keyid&gt;] </dt>
<dt> --gpg-sign[=&lt;keyid&gt;] </dt>
<dt> --no-gpg-sign </dt>
<dd>
<p>GPG-sign commits. The <code>keyid</code> argument is optional and
defaults to the committer identity; if specified, it must be
stuck to the option without a space. <code>--no-gpg-sign</code> is useful to
countermand both <code>commit.gpgSign</code> configuration variable, and
earlier <code>--gpg-sign</code>.</p>
</dd>
<dt> -q </dt>
<dt> --quiet </dt>
<dd>
<p>Be quiet. Implies --no-stat.</p>
</dd>
<dt> -v </dt>
<dt> --verbose </dt>
<dd>
<p>Be verbose. Implies --stat.</p>
</dd>
<dt> --stat </dt>
<dd>
<p>Show a diffstat of what changed upstream since the last rebase. The
diffstat is also controlled by the configuration option rebase.stat.</p>
</dd>
<dt> -n </dt>
<dt> --no-stat </dt>
<dd>
<p>Do not show a diffstat as part of the rebase process.</p>
</dd>
<dt> --no-verify </dt>
<dd>
<p>This option bypasses the pre-rebase hook.  See also <a href="/docs/githooks">githooks[5]</a>.</p>
</dd>
<dt> --verify </dt>
<dd>
<p>Allows the pre-rebase hook to run, which is the default.  This option can
be used to override --no-verify.  See also <a href="/docs/githooks">githooks[5]</a>.</p>
</dd>
<dt> -C&lt;n&gt; </dt>
<dd>
<p>Ensure at least &lt;n&gt; lines of surrounding context match before
and after each change.  When fewer lines of surrounding
context exist they all must match.  By default no context is
ever ignored.  Implies --apply.</p>

<p>See also INCOMPATIBLE OPTIONS below.</p>

</dd>
<dt> --no-ff </dt>
<dt> --force-rebase </dt>
<dt> -f </dt>
<dd>
<p>Individually replay all rebased commits instead of fast-forwarding
over the unchanged ones.  This ensures that the entire history of
the rebased branch is composed of new commits.</p>

<p>You may find this helpful after reverting a topic branch merge, as this option
recreates the topic branch with fresh commits so it can be remerged
successfully without needing to "revert the reversion" (see the
<a href="/docs/howto/revert-a-faulty-merge">revert-a-faulty-merge How-To</a> for
details).</p>

</dd>
<dt> --fork-point </dt>
<dt> --no-fork-point </dt>
<dd>
<p>Use reflog to find a better common ancestor between &lt;upstream&gt;
and &lt;branch&gt; when calculating which commits have been
introduced by &lt;branch&gt;.</p>

<p>When --fork-point is active, <em>fork_point</em> will be used instead of
&lt;upstream&gt; to calculate the set of commits to rebase, where
<em>fork_point</em> is the result of <code>git merge-base --fork-point &lt;upstream&gt;
&lt;branch&gt;</code> command (see <a href="/docs/git-merge-base">git-merge-base[1]</a>).  If <em>fork_point</em>
ends up being empty, the &lt;upstream&gt; will be used as a fallback.</p>


<p>If &lt;upstream&gt; is given on the command line, then the default is
<code>--no-fork-point</code>, otherwise the default is <code>--fork-point</code>. See also
<code>rebase.forkpoint</code> in <a href="/docs/git-config">git-config[1]</a>.</p>


<p>If your branch was based on &lt;upstream&gt; but &lt;upstream&gt; was rewound and
your branch contains commits which were dropped, this option can be used
with <code>--keep-base</code> in order to drop those commits from your branch.</p>


<p>See also INCOMPATIBLE OPTIONS below.</p>

</dd>
<dt> --ignore-whitespace </dt>
<dd>
<p>	Ignore whitespace differences when trying to reconcile
differences. Currently, each backend implements an approximation of
this behavior:</p>

<p>apply backend: When applying a patch, ignore changes in whitespace in
context lines. Unfortunately, this means that if the "old" lines being
replaced by the patch differ only in whitespace from the existing
file, you will get a merge conflict instead of a successful patch
application.</p>


<p>merge backend: Treat lines with only whitespace changes as unchanged
when merging. Unfortunately, this means that any patch hunks that were
intended to modify whitespace and nothing else will be dropped, even
if the other side had no changes that conflicted.</p>

</dd>
<dt> --whitespace=&lt;option&gt; </dt>
<dd>
<p>This flag is passed to the <em>git apply</em> program
(see <a href="/docs/git-apply">git-apply[1]</a>) that applies the patch.
Implies --apply.</p>

<p>See also INCOMPATIBLE OPTIONS below.</p>

</dd>
<dt> --committer-date-is-author-date </dt>
<dd>
<p>Instead of using the current time as the committer date, use
the author date of the commit being rebased as the committer
date. This option implies <code>--force-rebase</code>.</p>
</dd>
<dt> --ignore-date </dt>
<dt> --reset-author-date </dt>
<dd>
<p>Instead of using the author date of the original commit, use
the current time as the	author date of the rebased commit.  This
option implies <code>--force-rebase</code>.</p>

<p>See also INCOMPATIBLE OPTIONS below.</p>

</dd>
<dt> --signoff </dt>
<dd>
<p>Add a <code>Signed-off-by</code> trailer to all the rebased commits. Note
that if <code>--interactive</code> is given then only commits marked to be
picked, edited or reworded will have the trailer added.</p>

<p>See also INCOMPATIBLE OPTIONS below.</p>

</dd>
<dt> -i </dt>
<dt> --interactive </dt>
<dd>
<p>Make a list of the commits which are about to be rebased.  Let the
user edit that list before rebasing.  This mode can also be used to
split commits (see SPLITTING COMMITS below).</p>

<p>The commit list format can be changed by setting the configuration option
rebase.instructionFormat.  A customized instruction format will automatically
have the long commit hash prepended to the format.</p>


<p>See also INCOMPATIBLE OPTIONS below.</p>

</dd>
<dt> -r </dt>
<dt> --rebase-merges[=(rebase-cousins|no-rebase-cousins)] </dt>
<dd>
<p>By default, a rebase will simply drop merge commits from the todo
list, and put the rebased commits into a single, linear branch.
With <code>--rebase-merges</code>, the rebase will instead try to preserve
the branching structure within the commits that are to be rebased,
by recreating the merge commits. Any resolved merge conflicts or
manual amendments in these merge commits will have to be
resolved/re-applied manually.</p>

<p>By default, or when <code>no-rebase-cousins</code> was specified, commits which do not
have <code>&lt;upstream&gt;</code> as direct ancestor will keep their original branch point,
i.e. commits that would be excluded by <a href="/docs/git-log">git-log[1]</a>'s
<code>--ancestry-path</code> option will keep their original ancestry by default. If
the <code>rebase-cousins</code> mode is turned on, such commits are instead rebased
onto <code>&lt;upstream&gt;</code> (or <code>&lt;onto&gt;</code>, if specified).</p>


<p>It is currently only possible to recreate the merge commits using the
<code>ort</code> merge strategy; different merge strategies can be used only via
explicit <code>exec git merge -s &lt;strategy&gt; [...]</code> commands.</p>


<p>See also REBASING MERGES and INCOMPATIBLE OPTIONS below.</p>

</dd>
<dt> -x &lt;cmd&gt; </dt>
<dt> --exec &lt;cmd&gt; </dt>
<dd>
<p>Append "exec &lt;cmd&gt;" after each line creating a commit in the
final history. &lt;cmd&gt; will be interpreted as one or more shell
commands. Any command that fails will interrupt the rebase,
with exit code 1.</p>

<p>You may execute several commands by either using one instance of <code>--exec</code>
with several commands:</p>



<pre>git rebase -i --exec "cmd1 &amp;&amp; cmd2 &amp;&amp; ..."</pre>



<p>or by giving more than one <code>--exec</code>:</p>



<pre>git rebase -i --exec "cmd1" --exec "cmd2" --exec ...</pre>



<p>If <code>--autosquash</code> is used, "exec" lines will not be appended for
the intermediate commits, and will only appear at the end of each
squash/fixup series.</p>


<p>This uses the <code>--interactive</code> machinery internally, but it can be run
without an explicit <code>--interactive</code>.</p>


<p>See also INCOMPATIBLE OPTIONS below.</p>

</dd>
<dt> --root </dt>
<dd>
<p>Rebase all commits reachable from &lt;branch&gt;, instead of
limiting them with an &lt;upstream&gt;.  This allows you to rebase
the root commit(s) on a branch.  When used with --onto, it
will skip changes already contained in &lt;newbase&gt; (instead of
&lt;upstream&gt;) whereas without --onto it will operate on every change.</p>

<p>See also INCOMPATIBLE OPTIONS below.</p>

</dd>
<dt> --autosquash </dt>
<dt> --no-autosquash </dt>
<dd>
<p>When the commit log message begins with "squash! …<U+200B>" or "fixup! …<U+200B>"
or "amend! …<U+200B>", and there is already a commit in the todo list that
matches the same <code>...</code>, automatically modify the todo list of
<code>rebase -i</code>, so that the commit marked for squashing comes right after
the commit to be modified, and change the action of the moved commit
from <code>pick</code> to <code>squash</code> or <code>fixup</code> or <code>fixup -C</code> respectively. A commit
matches the <code>...</code> if the commit subject matches, or if the <code>...</code> refers
to the commit’s hash. As a fall-back, partial matches of the commit
subject work, too. The recommended way to create fixup/amend/squash
commits is by using the <code>--fixup</code>, <code>--fixup=amend:</code> or <code>--fixup=reword:</code>
and <code>--squash</code> options respectively of <a href="/docs/git-commit">git-commit[1]</a>.</p>

<p>If the <code>--autosquash</code> option is enabled by default using the
configuration variable <code>rebase.autoSquash</code>, this option can be
used to override and disable this setting.</p>


<p>See also INCOMPATIBLE OPTIONS below.</p>

</dd>
<dt> --autostash </dt>
<dt> --no-autostash </dt>
<dd>
<p>Automatically create a temporary stash entry before the operation
begins, and apply it after the operation ends.  This means
that you can run rebase on a dirty worktree.  However, use
with care: the final stash application after a successful
rebase might result in non-trivial conflicts.</p>
</dd>
<dt> --reschedule-failed-exec </dt>
<dt> --no-reschedule-failed-exec </dt>
<dd>
<p>Automatically reschedule <code>exec</code> commands that failed. This only makes
sense in interactive mode (or when an <code>--exec</code> option was provided).</p>

<p>Even though this option applies once a rebase is started, it’s set for
the whole rebase at the start based on either the
<code>rebase.rescheduleFailedExec</code> configuration (see <a href="/docs/git-config">git-config[1]</a>
or "CONFIGURATION" below) or whether this option is
provided. Otherwise an explicit <code>--no-reschedule-failed-exec</code> at the
start would be overridden by the presence of
<code>rebase.rescheduleFailedExec=true</code> configuration.</p>

</dd>
</dl>




<h2>INCOMPATIBLE OPTIONS</h2>


<p>The following options:</p>


<ul>
<li>
<p>--apply</p>
</li>
<li>
<p>--whitespace</p>
</li>
<li>
<p>-C</p>
</li>
</ul>


<p>are incompatible with the following options:</p>


<ul>
<li>
<p>--merge</p>
</li>
<li>
<p>--strategy</p>
</li>
<li>
<p>--strategy-option</p>
</li>
<li>
<p>--allow-empty-message</p>
</li>
<li>
<p>--[no-]autosquash</p>
</li>
<li>
<p>--rebase-merges</p>
</li>
<li>
<p>--interactive</p>
</li>
<li>
<p>--exec</p>
</li>
<li>
<p>--no-keep-empty</p>
</li>
<li>
<p>--empty=</p>
</li>
<li>
<p>--reapply-cherry-picks</p>
</li>
<li>
<p>--edit-todo</p>
</li>
<li>
<p>--root when used in combination with --onto</p>
</li>
</ul>


<p>In addition, the following pairs of options are incompatible:</p>


<ul>
<li>
<p>--keep-base and --onto</p>
</li>
<li>
<p>--keep-base and --root</p>
</li>
<li>
<p>--fork-point and --root</p>
</li>
</ul>




<h2>BEHAVIORAL DIFFERENCES</h2>


<p>git rebase has two primary backends: apply and merge.  (The apply
backend used to be known as the <em>am</em> backend, but the name led to
confusion as it looks like a verb instead of a noun.  Also, the merge
backend used to be known as the interactive backend, but it is now
used for non-interactive cases as well.  Both were renamed based on
lower-level functionality that underpinned each.) There are some
subtle differences in how these two backends behave:</p>


<h3>
Empty commits</h3>

<p>The apply backend unfortunately drops intentionally empty commits, i.e.
commits that started empty, though these are rare in practice.  It
also drops commits that become empty and has no option for controlling
this behavior.</p>


<p>The merge backend keeps intentionally empty commits by default (though
with -i they are marked as empty in the todo list editor, or they can
be dropped automatically with --no-keep-empty).</p>


<p>Similar to the apply backend, by default the merge backend drops
commits that become empty unless -i/--interactive is specified (in
which case it stops and asks the user what to do).  The merge backend
also has an --empty={drop,keep,ask} option for changing the behavior
of handling commits that become empty.</p>



<h3>
Directory rename detection</h3>

<p>Due to the lack of accurate tree information (arising from
constructing fake ancestors with the limited information available in
patches), directory rename detection is disabled in the apply backend.
Disabled directory rename detection means that if one side of history
renames a directory and the other adds new files to the old directory,
then the new files will be left behind in the old directory without
any warning at the time of rebasing that you may want to move these
files into the new directory.</p>


<p>Directory rename detection works with the merge backend to provide you
warnings in such cases.</p>



<h3>
Context</h3>

<p>The apply backend works by creating a sequence of patches (by calling
<code>format-patch</code> internally), and then applying the patches in sequence
(calling <code>am</code> internally).  Patches are composed of multiple hunks,
each with line numbers, a context region, and the actual changes.  The
line numbers have to be taken with some fuzz, since the other side
will likely have inserted or deleted lines earlier in the file.  The
context region is meant to help find how to adjust the line numbers in
order to apply the changes to the right lines.  However, if multiple
areas of the code have the same surrounding lines of context, the
wrong one can be picked.  There are real-world cases where this has
caused commits to be reapplied incorrectly with no conflicts reported.
Setting diff.context to a larger value may prevent such types of
problems, but increases the chance of spurious conflicts (since it
will require more lines of matching context to apply).</p>


<p>The merge backend works with a full copy of each relevant file,
insulating it from these types of problems.</p>



<h3>
Labelling of conflicts markers</h3>

<p>When there are content conflicts, the merge machinery tries to
annotate each side’s conflict markers with the commits where the
content came from.  Since the apply backend drops the original
information about the rebased commits and their parents (and instead
generates new fake commits based off limited information in the
generated patches), those commits cannot be identified; instead it has
to fall back to a commit summary.  Also, when merge.conflictStyle is
set to diff3 or zdiff3, the apply backend will use "constructed merge
base" to label the content from the merge base, and thus provide no
information about the merge base commit whatsoever.</p>


<p>The merge backend works with the full commits on both sides of history
and thus has no such limitations.</p>



<h3>
Hooks</h3>

<p>The apply backend has not traditionally called the post-commit hook,
while the merge backend has.  Both have called the post-checkout hook,
though the merge backend has squelched its output.  Further, both
backends only call the post-checkout hook with the starting point
commit of the rebase, not the intermediate commits nor the final
commit.  In each case, the calling of these hooks was by accident of
implementation rather than by design (both backends were originally
implemented as shell scripts and happened to invoke other commands
like <em>git checkout</em> or <em>git commit</em> that would call the hooks).  Both
backends should have the same behavior, though it is not entirely
clear which, if any, is correct.  We will likely make rebase stop
calling either of these hooks in the future.</p>



<h3>
Interruptability</h3>

<p>The apply backend has safety problems with an ill-timed interrupt; if
the user presses Ctrl-C at the wrong time to try to abort the rebase,
the rebase can enter a state where it cannot be aborted with a
subsequent <code>git rebase --abort</code>.  The merge backend does not appear to
suffer from the same shortcoming.  (See
<a href="https://lore.kernel.org/git/20200207132152.GC2868@szeder.dev/">https://lore.kernel.org/git/20200207132152.GC2868@szeder.dev/</a> for
details.)</p>



<h3>
Commit Rewording</h3>

<p>When a conflict occurs while rebasing, rebase stops and asks the user
to resolve.  Since the user may need to make notable changes while
resolving conflicts, after conflicts are resolved and the user has run
<code>git rebase --continue</code>, the rebase should open an editor and ask the
user to update the commit message.  The merge backend does this, while
the apply backend blindly applies the original commit message.</p>



<h3>
Miscellaneous differences</h3>

<p>There are a few more behavioral differences that most folks would
probably consider inconsequential but which are mentioned for
completeness:</p>


<ul>
<li>
<p>Reflog: The two backends will use different wording when describing
the changes made in the reflog, though both will make use of the
word "rebase".</p>
</li>
<li>
<p>Progress, informational, and error messages: The two backends
provide slightly different progress and informational messages.
Also, the apply backend writes error messages (such as "Your files
would be overwritten…<U+200B>") to stdout, while the merge backend writes
them to stderr.</p>
</li>
<li>
<p>State directories: The two backends keep their state in different
directories under .git/</p>
</li>
</ul>





<h2>MERGE STRATEGIES</h2>


<p>The merge mechanism (<code>git merge</code> and <code>git pull</code> commands) allows the
backend <em>merge strategies</em> to be chosen with <code>-s</code> option.  Some strategies
can also take their own options, which can be passed by giving <code>-X&lt;option&gt;</code>
arguments to <code>git merge</code> and/or <code>git pull</code>.</p>


<dl>
<dt> ort </dt>
<dd>
<p>This is the default merge strategy when pulling or merging one
branch.  This strategy can only resolve two heads using a
3-way merge algorithm.  When there is more than one common
ancestor that can be used for 3-way merge, it creates a merged
tree of the common ancestors and uses that as the reference
tree for the 3-way merge.  This has been reported to result in
fewer merge conflicts without causing mismerges by tests done
on actual merge commits taken from Linux 2.6 kernel
development history.  Additionally this strategy can detect
and handle merges involving renames.  It does not make use of
detected copies.  The name for this algorithm is an acronym
("Ostensibly Recursive’s Twin") and came from the fact that it
was written as a replacement for the previous default
algorithm, <code>recursive</code>.</p>

<p>The <em>ort</em> strategy can take the following options:</p>


<dl>
<dt> ours </dt>
<dd>
<p>This option forces conflicting hunks to be auto-resolved cleanly by
favoring <em>our</em> version.  Changes from the other tree that do not
conflict with our side are reflected in the merge result.
For a binary file, the entire contents are taken from our side.</p>

<p>This should not be confused with the <em>ours</em> merge strategy, which does not
even look at what the other tree contains at all.  It discards everything
the other tree did, declaring <em>our</em> history contains all that happened in it.</p>

</dd>
<dt> theirs </dt>
<dd>
<p>This is the opposite of <em>ours</em>; note that, unlike <em>ours</em>, there is
no <em>theirs</em> merge strategy to confuse this merge option with.</p>
</dd>
<dt> ignore-space-change </dt>
<dt> ignore-all-space </dt>
<dt> ignore-space-at-eol </dt>
<dt> ignore-cr-at-eol </dt>
<dd>
<p>Treats lines with the indicated type of whitespace change as
unchanged for the sake of a three-way merge.  Whitespace
changes mixed with other changes to a line are not ignored.
See also <a href="/docs/git-diff">git-diff[1]</a> <code>-b</code>, <code>-w</code>,
<code>--ignore-space-at-eol</code>, and <code>--ignore-cr-at-eol</code>.</p>

<ul>
<li>
<p>If <em>their</em> version only introduces whitespace changes to a line,
<em>our</em> version is used;</p>
</li>
<li>
<p>If <em>our</em> version introduces whitespace changes but <em>their</em>
version includes a substantial change, <em>their</em> version is used;</p>
</li>
<li>
<p>Otherwise, the merge proceeds in the usual way.</p>
</li>
</ul>

</dd>
<dt> renormalize </dt>
<dd>
<p>This runs a virtual check-out and check-in of all three stages
of a file when resolving a three-way merge.  This option is
meant to be used when merging branches with different clean
filters or end-of-line normalization rules.  See "Merging
branches with differing checkin/checkout attributes" in
<a href="/docs/gitattributes">gitattributes[5]</a> for details.</p>
</dd>
<dt> no-renormalize </dt>
<dd>
<p>Disables the <code>renormalize</code> option.  This overrides the
<code>merge.renormalize</code> configuration variable.</p>
</dd>
<dt> find-renames[=&lt;n&gt;] </dt>
<dd>
<p>Turn on rename detection, optionally setting the similarity
threshold.  This is the default. This overrides the
<em>merge.renames</em> configuration variable.
See also <a href="/docs/git-diff">git-diff[1]</a> <code>--find-renames</code>.</p>
</dd>
<dt> rename-threshold=&lt;n&gt; </dt>
<dd>
<p>Deprecated synonym for <code>find-renames=&lt;n&gt;</code>.</p>
</dd>
<dt> subtree[=&lt;path&gt;] </dt>
<dd>
<p>This option is a more advanced form of <em>subtree</em> strategy, where
the strategy makes a guess on how two trees must be shifted to
match with each other when merging.  Instead, the specified path
is prefixed (or stripped from the beginning) to make the shape of
two trees to match.</p>
</dd>
</dl>

</dd>
<dt> recursive </dt>
<dd>
<p>This can only resolve two heads using a 3-way merge
algorithm.  When there is more than one common
ancestor that can be used for 3-way merge, it creates a
merged tree of the common ancestors and uses that as
the reference tree for the 3-way merge.  This has been
reported to result in fewer merge conflicts without
causing mismerges by tests done on actual merge commits
taken from Linux 2.6 kernel development history.
Additionally this can detect and handle merges involving
renames.  It does not make use of detected copies.  This was
the default strategy for resolving two heads from Git v0.99.9k
until v2.33.0.</p>

<p>The <em>recursive</em> strategy takes the same options as <em>ort</em>.  However,
there are three additional options that <em>ort</em> ignores (not documented
above) that are potentially useful with the <em>recursive</em> strategy:</p>


<dl>
<dt> patience </dt>
<dd>
<p>Deprecated synonym for <code>diff-algorithm=patience</code>.</p>
</dd>
<dt> diff-algorithm=[patience|minimal|histogram|myers] </dt>
<dd>
<p>Use a different diff algorithm while merging, which can help
avoid mismerges that occur due to unimportant matching lines
(such as braces from distinct functions).  See also
<a href="/docs/git-diff">git-diff[1]</a> <code>--diff-algorithm</code>.  Note that <code>ort</code>
specifically uses <code>diff-algorithm=histogram</code>, while <code>recursive</code>
defaults to the <code>diff.algorithm</code> config setting.</p>
</dd>
<dt> no-renames </dt>
<dd>
<p>Turn off rename detection. This overrides the <code>merge.renames</code>
configuration variable.
See also <a href="/docs/git-diff">git-diff[1]</a> <code>--no-renames</code>.</p>
</dd>
</dl>

</dd>
<dt> resolve </dt>
<dd>
<p>This can only resolve two heads (i.e. the current branch
and another branch you pulled from) using a 3-way merge
algorithm.  It tries to carefully detect criss-cross
merge ambiguities.  It does not handle renames.</p>
</dd>
<dt> octopus </dt>
<dd>
<p>This resolves cases with more than two heads, but refuses to do
a complex merge that needs manual resolution.  It is
primarily meant to be used for bundling topic branch
heads together.  This is the default merge strategy when
pulling or merging more than one branch.</p>
</dd>
<dt> ours </dt>
<dd>
<p>This resolves any number of heads, but the resulting tree of the
merge is always that of the current branch head, effectively
ignoring all changes from all other branches.  It is meant to
be used to supersede old development history of side
branches.  Note that this is different from the -Xours option to
the <em>recursive</em> merge strategy.</p>
</dd>
<dt> subtree </dt>
<dd>
<p>This is a modified <code>ort</code> strategy. When merging trees A and
B, if B corresponds to a subtree of A, B is first adjusted to
match the tree structure of A, instead of reading the trees at
the same level. This adjustment is also done to the common
ancestor tree.</p>
</dd>
</dl>


<p>With the strategies that use 3-way merge (including the default, <em>ort</em>),
if a change is made on both branches, but later reverted on one of the
branches, that change will be present in the merged result; some people find
this behavior confusing.  It occurs because only the heads and the merge base
are considered when performing a merge, not the individual commits.  The merge
algorithm therefore considers the reverted change as no change at all, and
substitutes the changed version instead.</p>




<h2>NOTES</h2>


<p>You should understand the implications of using <em>git rebase</em> on a
repository that you share.  See also RECOVERING FROM UPSTREAM REBASE
below.</p>


<p>When the git-rebase command is run, it will first execute a "pre-rebase"
hook if one exists.  You can use this hook to do sanity checks and
reject the rebase if it isn’t appropriate.  Please see the template
pre-rebase hook script for an example.</p>


<p>Upon completion, &lt;branch&gt; will be the current branch.</p>




<h2>INTERACTIVE MODE</h2>


<p>Rebasing interactively means that you have a chance to edit the commits
which are rebased.  You can reorder the commits, and you can
remove them (weeding out bad or otherwise unwanted patches).</p>


<p>The interactive mode is meant for this type of workflow:</p>


<ol>
<li>
<p>have a wonderful idea</p>
</li>
<li>
<p>hack on the code</p>
</li>
<li>
<p>prepare a series for submission</p>
</li>
<li>
<p>submit</p>
</li>
</ol>


<p>where point 2. consists of several instances of</p>


<p>a) regular use</p>


<ol>
<li>
<p>finish something worthy of a commit</p>
</li>
<li>
<p>commit</p>
</li>
</ol>


<p>b) independent fixup</p>


<ol>
<li>
<p>realize that something does not work</p>
</li>
<li>
<p>fix that</p>
</li>
<li>
<p>commit it</p>
</li>
</ol>


<p>Sometimes the thing fixed in b.2. cannot be amended to the not-quite
perfect commit it fixes, because that commit is buried deeply in a
patch series.  That is exactly what interactive rebase is for: use it
after plenty of "a"s and "b"s, by rearranging and editing
commits, and squashing multiple commits into one.</p>


<p>Start it with the last commit you want to retain as-is:</p>



<pre>git rebase -i &lt;after-this-commit&gt;</pre>



<p>An editor will be fired up with all the commits in your current branch
(ignoring merge commits), which come after the given commit.  You can
reorder the commits in this list to your heart’s content, and you can
remove them.  The list looks more or less like this:</p>



<pre>pick deadbee The oneline of this commit
pick fa1afe1 The oneline of the next commit
...</pre>



<p>The oneline descriptions are purely for your pleasure; <em>git rebase</em> will
not look at them but at the commit names ("deadbee" and "fa1afe1" in this
example), so do not delete or edit the names.</p>


<p>By replacing the command "pick" with the command "edit", you can tell
<em>git rebase</em> to stop after applying that commit, so that you can edit
the files and/or the commit message, amend the commit, and continue
rebasing.</p>


<p>To interrupt the rebase (just like an "edit" command would do, but without
cherry-picking any commit first), use the "break" command.</p>


<p>If you just want to edit the commit message for a commit, replace the
command "pick" with the command "reword".</p>


<p>To drop a commit, replace the command "pick" with "drop", or just
delete the matching line.</p>


<p>If you want to fold two or more commits into one, replace the command
"pick" for the second and subsequent commits with "squash" or "fixup".
If the commits had different authors, the folded commit will be
attributed to the author of the first commit.  The suggested commit
message for the folded commit is the concatenation of the first
commit’s message with those identified by "squash" commands, omitting the
messages of commits identified by "fixup" commands, unless "fixup -c"
is used.  In that case the suggested commit message is only the message
of the "fixup -c" commit, and an editor is opened allowing you to edit
the message.  The contents (patch) of the "fixup -c" commit are still
incorporated into the folded commit. If there is more than one "fixup -c"
commit, the message from the final one is used.  You can also use
"fixup -C" to get the same behavior as "fixup -c" except without opening
an editor.</p>


<p><em>git rebase</em> will stop when "pick" has been replaced with "edit" or
when a command fails due to merge errors. When you are done editing
and/or resolving conflicts you can continue with <code>git rebase --continue</code>.</p>


<p>For example, if you want to reorder the last 5 commits, such that what
was HEAD~4 becomes the new HEAD. To achieve that, you would call
<em>git rebase</em> like this:</p>



<pre>$ git rebase -i HEAD~5</pre>



<p>And move the first patch to the end of the list.</p>


<p>You might want to recreate merge commits, e.g. if you have a history
like this:</p>



<pre>           X
            \
         A---M---B
        /
---o---O---P---Q</pre>



<p>Suppose you want to rebase the side branch starting at "A" to "Q". Make
sure that the current HEAD is "B", and call</p>



<pre>$ git rebase -i -r --onto Q O</pre>



<p>Reordering and editing commits usually creates untested intermediate
steps.  You may want to check that your history editing did not break
anything by running a test, or at least recompiling at intermediate
points in history by using the "exec" command (shortcut "x").  You may
do so by creating a todo list like this one:</p>



<pre>pick deadbee Implement feature XXX
fixup f1a5c00 Fix to feature XXX
exec make
pick c0ffeee The oneline of the next commit
edit deadbab The oneline of the commit after
exec cd subdir; make test
...</pre>



<p>The interactive rebase will stop when a command fails (i.e. exits with
non-0 status) to give you an opportunity to fix the problem. You can
continue with <code>git rebase --continue</code>.</p>


<p>The "exec" command launches the command in a shell (the one specified
in <code>$SHELL</code>, or the default shell if <code>$SHELL</code> is not set), so you can
use shell features (like "cd", "&gt;", ";" …<U+200B>). The command is run from
the root of the working tree.</p>



<pre>$ git rebase -i --exec "make test"</pre>



<p>This command lets you check that intermediate commits are compilable.
The todo list becomes like that:</p>



<pre>pick 5928aea one
exec make test
pick 04d0fda two
exec make test
pick ba46169 three
exec make test
pick f4593f9 four
exec make test</pre>





<h2>SPLITTING COMMITS</h2>


<p>In interactive mode, you can mark commits with the action "edit".  However,
this does not necessarily mean that <em>git rebase</em> expects the result of this
edit to be exactly one commit.  Indeed, you can undo the commit, or you can
add other commits.  This can be used to split a commit into two:</p>


<ul>
<li>
<p>Start an interactive rebase with <code>git rebase -i &lt;commit&gt;^</code>, where
&lt;commit&gt; is the commit you want to split.  In fact, any commit range
will do, as long as it contains that commit.</p>
</li>
<li>
<p>Mark the commit you want to split with the action "edit".</p>
</li>
<li>
<p>When it comes to editing that commit, execute <code>git reset HEAD^</code>.  The
effect is that the HEAD is rewound by one, and the index follows suit.
However, the working tree stays the same.</p>
</li>
<li>
<p>Now add the changes to the index that you want to have in the first
commit.  You can use <code>git add</code> (possibly interactively) or
<em>git gui</em> (or both) to do that.</p>
</li>
<li>
<p>Commit the now-current index with whatever commit message is appropriate
now.</p>
</li>
<li>
<p>Repeat the last two steps until your working tree is clean.</p>
</li>
<li>
<p>Continue the rebase with <code>git rebase --continue</code>.</p>
</li>
</ul>


<p>If you are not absolutely sure that the intermediate revisions are
consistent (they compile, pass the testsuite, etc.) you should use
<em>git stash</em> to stash away the not-yet-committed changes
after each commit, test, and amend the commit if fixes are necessary.</p>




<h2>RECOVERING FROM UPSTREAM REBASE</h2>


<p>Rebasing (or any other form of rewriting) a branch that others have
based work on is a bad idea: anyone downstream of it is forced to
manually fix their history.  This section explains how to do the fix
from the downstream’s point of view.  The real fix, however, would be
to avoid rebasing the upstream in the first place.</p>


<p>To illustrate, suppose you are in a situation where someone develops a
<em>subsystem</em> branch, and you are working on a <em>topic</em> that is dependent
on this <em>subsystem</em>.  You might end up with a history like the
following:</p>



<pre>    o---o---o---o---o---o---o---o  master
	 \
	  o---o---o---o---o  subsystem
			   \
			    *---*---*  topic</pre>



<p>If <em>subsystem</em> is rebased against <em>master</em>, the following happens:</p>



<pre>    o---o---o---o---o---o---o---o  master
	 \			 \
	  o---o---o---o---o	  o'--o'--o'--o'--o'  subsystem
			   \
			    *---*---*  topic</pre>



<p>If you now continue development as usual, and eventually merge <em>topic</em>
to <em>subsystem</em>, the commits from <em>subsystem</em> will remain duplicated forever:</p>



<pre>    o---o---o---o---o---o---o---o  master
	 \			 \
	  o---o---o---o---o	  o'--o'--o'--o'--o'--M	 subsystem
			   \			     /
			    *---*---*-..........-*--*  topic</pre>



<p>Such duplicates are generally frowned upon because they clutter up
history, making it harder to follow.  To clean things up, you need to
transplant the commits on <em>topic</em> to the new <em>subsystem</em> tip, i.e.,
rebase <em>topic</em>.  This becomes a ripple effect: anyone downstream from
<em>topic</em> is forced to rebase too, and so on!</p>


<p>There are two kinds of fixes, discussed in the following subsections:</p>


<dl>
<dt> Easy case: The changes are literally the same. </dt>
<dd>
<p>This happens if the <em>subsystem</em> rebase was a simple rebase and
had no conflicts.</p>
</dd>
<dt> Hard case: The changes are not the same. </dt>
<dd>
<p>This happens if the <em>subsystem</em> rebase had conflicts, or used
<code>--interactive</code> to omit, edit, squash, or fixup commits; or
if the upstream used one of <code>commit --amend</code>, <code>reset</code>, or
a full history rewriting command like
.</p>
</dd>
</dl>


<h3>
The easy case</h3>

<p>Only works if the changes (patch IDs based on the diff contents) on
<em>subsystem</em> are literally the same before and after the rebase
<em>subsystem</em> did.</p>


<p>In that case, the fix is easy because <em>git rebase</em> knows to skip
changes that are already present in the new upstream (unless
<code>--reapply-cherry-picks</code> is given). So if you say
(assuming you’re on <em>topic</em>)</p>



<pre>    $ git rebase subsystem</pre>



<p>you will end up with the fixed history</p>



<pre>    o---o---o---o---o---o---o---o  master
				 \
				  o'--o'--o'--o'--o'  subsystem
						   \
						    *---*---*  topic</pre>




<h3>
The hard case</h3>

<p>Things get more complicated if the <em>subsystem</em> changes do not exactly
correspond to the ones before the rebase.</p>


<table><tr>
<td>
Note
</td>
<td>
While an "easy case recovery" sometimes appears to be successful
      even in the hard case, it may have unintended consequences.  For
      example, a commit that was removed via <code>git rebase
      --interactive</code> will be <strong>resurrected</strong>!
</td>
</tr></table>


<p>The idea is to manually tell <em>git rebase</em> "where the old <em>subsystem</em>
ended and your <em>topic</em> began", that is, what the old merge base
between them was.  You will have to find a way to name the last commit
of the old <em>subsystem</em>, for example:</p>


<ul>
<li>
<p>With the <em>subsystem</em> reflog: after <em>git fetch</em>, the old tip of
<em>subsystem</em> is at <code>subsystem@{1}</code>.  Subsequent fetches will
increase the number.  (See <a href="/docs/git-reflog">git-reflog[1]</a>.)</p>
</li>
<li>
<p>Relative to the tip of <em>topic</em>: knowing that your <em>topic</em> has three
commits, the old tip of <em>subsystem</em> must be <code>topic~3</code>.</p>
</li>
</ul>


<p>You can then transplant the old <code>subsystem..topic</code> to the new tip by
saying (for the reflog case, and assuming you are on <em>topic</em> already):</p>



<pre>    $ git rebase --onto subsystem subsystem@{1}</pre>



<p>The ripple effect of a "hard case" recovery is especially bad:
<em>everyone</em> downstream from <em>topic</em> will now have to perform a "hard
case" recovery too!</p>





<h2>REBASING MERGES</h2>


<p>The interactive rebase command was originally designed to handle
individual patch series. As such, it makes sense to exclude merge
commits from the todo list, as the developer may have merged the
then-current <code>master</code> while working on the branch, only to rebase
all the commits onto <code>master</code> eventually (skipping the merge
commits).</p>


<p>However, there are legitimate reasons why a developer may want to
recreate merge commits: to keep the branch structure (or "commit
topology") when working on multiple, inter-related branches.</p>


<p>In the following example, the developer works on a topic branch that
refactors the way buttons are defined, and on another topic branch
that uses that refactoring to implement a "Report a bug" button. The
output of <code>git log --graph --format=%s -5</code> may look like this:</p>



<pre>*   Merge branch 'report-a-bug'
|\
| * Add the feedback button
* | Merge branch 'refactor-button'
|\ \
| |/
| * Use the Button class for all buttons
| * Extract a generic Button class from the DownloadButton one</pre>



<p>The developer might want to rebase those commits to a newer <code>master</code>
while keeping the branch topology, for example when the first topic
branch is expected to be integrated into <code>master</code> much earlier than the
second one, say, to resolve merge conflicts with changes to the
DownloadButton class that made it into <code>master</code>.</p>


<p>This rebase can be performed using the <code>--rebase-merges</code> option.
It will generate a todo list looking like this:</p>



<pre>label onto

# Branch: refactor-button
reset onto
pick 123456 Extract a generic Button class from the DownloadButton one
pick 654321 Use the Button class for all buttons
label refactor-button

# Branch: report-a-bug
reset refactor-button # Use the Button class for all buttons
pick abcdef Add the feedback button
label report-a-bug

reset onto
merge -C a1b2c3 refactor-button # Merge 'refactor-button'
merge -C 6f5e4d report-a-bug # Merge 'report-a-bug'</pre>



<p>In contrast to a regular interactive rebase, there are <code>label</code>, <code>reset</code>
and <code>merge</code> commands in addition to <code>pick</code> ones.</p>


<p>The <code>label</code> command associates a label with the current HEAD when that
command is executed. These labels are created as worktree-local refs
(<code>refs/rewritten/&lt;label&gt;</code>) that will be deleted when the rebase
finishes. That way, rebase operations in multiple worktrees linked to
the same repository do not interfere with one another. If the <code>label</code>
command fails, it is rescheduled immediately, with a helpful message how
to proceed.</p>


<p>The <code>reset</code> command resets the HEAD, index and worktree to the specified
revision. It is similar to an <code>exec git reset --hard &lt;label&gt;</code>, but
refuses to overwrite untracked files. If the <code>reset</code> command fails, it is
rescheduled immediately, with a helpful message how to edit the todo list
(this typically happens when a <code>reset</code> command was inserted into the todo
list manually and contains a typo).</p>


<p>The <code>merge</code> command will merge the specified revision(s) into whatever
is HEAD at that time. With <code>-C &lt;original-commit&gt;</code>, the commit message of
the specified merge commit will be used. When the <code>-C</code> is changed to
a lower-case <code>-c</code>, the message will be opened in an editor after a
successful merge so that the user can edit the message.</p>


<p>If a <code>merge</code> command fails for any reason other than merge conflicts (i.e.
when the merge operation did not even start), it is rescheduled immediately.</p>


<p>By default, the <code>merge</code> command will use the <code>ort</code> merge strategy for
regular merges, and <code>octopus</code> for octopus merges.  One can specify a
default strategy for all merges using the <code>--strategy</code> argument when
invoking rebase, or can override specific merges in the interactive
list of commands by using an <code>exec</code> command to call <code>git merge</code>
explicitly with a <code>--strategy</code> argument.  Note that when calling <code>git
merge</code> explicitly like this, you can make use of the fact that the
labels are worktree-local refs (the ref <code>refs/rewritten/onto</code> would
correspond to the label <code>onto</code>, for example) in order to refer to the
branches you want to merge.</p>


<p>Note: the first command (<code>label onto</code>) labels the revision onto which
the commits are rebased; The name <code>onto</code> is just a convention, as a nod
to the <code>--onto</code> option.</p>


<p>It is also possible to introduce completely new merge commits from scratch
by adding a command of the form <code>merge &lt;merge-head&gt;</code>. This form will
generate a tentative commit message and always open an editor to let the
user edit it. This can be useful e.g. when a topic branch turns out to
address more than a single concern and wants to be split into two or
even more topic branches. Consider this todo list:</p>



<pre>pick 192837 Switch from GNU Makefiles to CMake
pick 5a6c7e Document the switch to CMake
pick 918273 Fix detection of OpenSSL in CMake
pick afbecd http: add support for TLS v1.3
pick fdbaec Fix detection of cURL in CMake on Windows</pre>



<p>The one commit in this list that is not related to CMake may very well
have been motivated by working on fixing all those bugs introduced by
switching to CMake, but it addresses a different concern. To split this
branch into two topic branches, the todo list could be edited like this:</p>



<pre>label onto

pick afbecd http: add support for TLS v1.3
label tlsv1.3

reset onto
pick 192837 Switch from GNU Makefiles to CMake
pick 918273 Fix detection of OpenSSL in CMake
pick fdbaec Fix detection of cURL in CMake on Windows
pick 5a6c7e Document the switch to CMake
label cmake

reset onto
merge tlsv1.3
merge cmake</pre>





<h2>CONFIGURATION</h2>


<dl>
<dt> rebase.backend </dt>
<dd>
<p>Default backend to use for rebasing.  Possible choices are
<em>apply</em> or <em>merge</em>.  In the future, if the merge backend gains
all remaining capabilities of the apply backend, this setting
may become unused.</p>
</dd>
<dt> rebase.stat </dt>
<dd>
<p>Whether to show a diffstat of what changed upstream since the last
rebase. False by default.</p>
</dd>
<dt> rebase.autoSquash </dt>
<dd>
<p>If set to true enable <code>--autosquash</code> option by default.</p>
</dd>
<dt> rebase.autoStash </dt>
<dd>
<p>When set to true, automatically create a temporary stash entry
before the operation begins, and apply it after the operation
ends.  This means that you can run rebase on a dirty worktree.
However, use with care: the final stash application after a
successful rebase might result in non-trivial conflicts.
This option can be overridden by the <code>--no-autostash</code> and
<code>--autostash</code> options of <a href="/docs/git-rebase">git-rebase[1]</a>.
Defaults to false.</p>
</dd>
<dt> rebase.missingCommitsCheck </dt>
<dd>
<p>If set to "warn", git rebase -i will print a warning if some
commits are removed (e.g. a line was deleted), however the
rebase will still proceed. If set to "error", it will print
the previous warning and stop the rebase, <em>git rebase
--edit-todo</em> can then be used to correct the error. If set to
"ignore", no checking is done.
To drop a commit without warning or error, use the <code>drop</code>
command in the todo list.
Defaults to "ignore".</p>
</dd>
<dt> rebase.instructionFormat </dt>
<dd>
<p>A format string, as specified in <a href="/docs/git-log">git-log[1]</a>, to be used for the
todo list during an interactive rebase.  The format will
automatically have the long commit hash prepended to the format.</p>
</dd>
<dt> rebase.abbreviateCommands </dt>
<dd>
<p>If set to true, <code>git rebase</code> will use abbreviated command names in the
todo list resulting in something like this:</p>


<pre>	p deadbee The oneline of the commit
	p fa1afe1 The oneline of the next commit
	...</pre>



<p>instead of:</p>



<pre>	pick deadbee The oneline of the commit
	pick fa1afe1 The oneline of the next commit
	...</pre>



<p>Defaults to false.</p>

</dd>
<dt> rebase.rescheduleFailedExec </dt>
<dd>
<p>Automatically reschedule <code>exec</code> commands that failed. This only makes
sense in interactive mode (or when an <code>--exec</code> option was provided).
This is the same as specifying the <code>--reschedule-failed-exec</code> option.</p>
</dd>
<dt> rebase.forkPoint </dt>
<dd>
<p>If set to false set <code>--no-fork-point</code> option by default.</p>
</dd>
<dt> sequence.editor </dt>
<dd>
<p>Text editor used by <code>git rebase -i</code> for editing the rebase instruction file.
The value is meant to be interpreted by the shell when it is used.
It can be overridden by the <code>GIT_SEQUENCE_EDITOR</code> environment variable.
When not configured the default commit message editor is used instead.</p>
</dd>
</dl>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-revert - Revert some existing commits</span></h2>




<h2><br>synopsis</h2>


<pre><em>git revert</em> [--[no-]edit] [-n] [-m parent-number] [-s] [-S[&lt;keyid&gt;]] &lt;commit&gt;…<U+200B>
<em>git revert</em> (--continue | --skip | --abort | --quit)</pre>




<h2>description</h2>


<p>Given one or more existing commits, revert the changes that the
related patches introduce, and record some new commits that record
them.  This requires your working tree to be clean (no modifications
from the HEAD commit).</p>


<p>Note: <em>git revert</em> is used to record some new commits to reverse the
effect of some earlier commits (often only a faulty one).  If you want to
throw away all uncommitted changes in your working directory, you
should see <a href="/docs/git-reset">git-reset[1]</a>, particularly the <code>--hard</code> option.  If
you want to extract specific files as they were in another commit, you
should see <a href="/docs/git-restore">git-restore[1]</a>, specifically the <code>--source</code>
option. Take care with these alternatives as
both will discard uncommitted changes in your working directory.</p>


<p>See "Reset, restore and revert" in <a href="/docs/git">git[1]</a> for the differences
between the three commands.</p>




<h2>options</h2>


<dl>
<dt> &lt;commit&gt;…<U+200B> </dt>
<dd>
<p>Commits to revert.
For a more complete list of ways to spell commit names, see
<a href="/docs/gitrevisions">gitrevisions[7]</a>.
Sets of commits can also be given but no traversal is done by
default, see <a href="/docs/git-rev-list">git-rev-list[1]</a> and its <code>--no-walk</code>
option.</p>
</dd>
<dt> -e </dt>
<dt> --edit </dt>
<dd>
<p>With this option, <em>git revert</em> will let you edit the commit
message prior to committing the revert. This is the default if
you run the command from a terminal.</p>
</dd>
<dt> -m parent-number </dt>
<dt> --mainline parent-number </dt>
<dd>
<p>Usually you cannot revert a merge because you do not know which
side of the merge should be considered the mainline.  This
option specifies the parent number (starting from 1) of
the mainline and allows revert to reverse the change
relative to the specified parent.</p>

<p>Reverting a merge commit declares that you will never want the tree changes
brought in by the merge.  As a result, later merges will only bring in tree
changes introduced by commits that are not ancestors of the previously
reverted merge.  This may or may not be what you want.</p>


<p>See the <a href="/docs/howto/revert-a-faulty-merge">revert-a-faulty-merge How-To</a> for
more details.</p>

</dd>
<dt> --no-edit </dt>
<dd>
<p>With this option, <em>git revert</em> will not start the commit
message editor.</p>
</dd>
<dt> --cleanup=&lt;mode&gt; </dt>
<dd>
<p>This option determines how the commit message will be cleaned up before
being passed on to the commit machinery. See <a href="/docs/git-commit">git-commit[1]</a> for more
details. In particular, if the <em>&lt;mode&gt;</em> is given a value of <code>scissors</code>,
scissors will be appended to <code>MERGE_MSG</code> before being passed on in the case
of a conflict.</p>
</dd>
<dt> -n </dt>
<dt> --no-commit </dt>
<dd>
<p>Usually the command automatically creates some commits with
commit log messages stating which commits were
reverted.  This flag applies the changes necessary
to revert the named commits to your working tree
and the index, but does not make the commits.  In addition,
when this option is used, your index does not have to match
the HEAD commit.  The revert is done against the
beginning state of your index.</p>

<p>This is useful when reverting more than one commits'
effect to your index in a row.</p>

</dd>
<dt> -S[&lt;keyid&gt;] </dt>
<dt> --gpg-sign[=&lt;keyid&gt;] </dt>
<dt> --no-gpg-sign </dt>
<dd>
<p>GPG-sign commits. The <code>keyid</code> argument is optional and
defaults to the committer identity; if specified, it must be
stuck to the option without a space. <code>--no-gpg-sign</code> is useful to
countermand both <code>commit.gpgSign</code> configuration variable, and
earlier <code>--gpg-sign</code>.</p>
</dd>
<dt> -s </dt>
<dt> --signoff </dt>
<dd>
<p>Add a <code>Signed-off-by</code> trailer at the end of the commit message.
See the signoff option in <a href="/docs/git-commit">git-commit[1]</a> for more information.</p>
</dd>
<dt> --strategy=&lt;strategy&gt; </dt>
<dd>
<p>Use the given merge strategy.  Should only be used once.
See the MERGE STRATEGIES section in <a href="/docs/git-merge">git-merge[1]</a>
for details.</p>
</dd>
<dt> -X&lt;option&gt; </dt>
<dt> --strategy-option=&lt;option&gt; </dt>
<dd>
<p>Pass the merge strategy-specific option through to the
merge strategy.  See <a href="/docs/git-merge">git-merge[1]</a> for details.</p>
</dd>
<dt> --rerere-autoupdate </dt>
<dt> --no-rerere-autoupdate </dt>
<dd>
<p>Allow the rerere mechanism to update the index with the
result of auto-conflict resolution if possible.</p>
</dd>
</dl>




<h2>SEQUENCER SUBCOMMANDS</h2>


<dl>
<dt> --continue </dt>
<dd>
<p>Continue the operation in progress using the information in
<code>.git/sequencer</code>.  Can be used to continue after resolving
conflicts in a failed cherry-pick or revert.</p>
</dd>
<dt> --skip </dt>
<dd>
<p>Skip the current commit and continue with the rest of the
sequence.</p>
</dd>
<dt> --quit </dt>
<dd>
<p>Forget about the current operation in progress.  Can be used
to clear the sequencer state after a failed cherry-pick or
revert.</p>
</dd>
<dt> --abort </dt>
<dd>
<p>Cancel the operation and return to the pre-sequence state.</p>
</dd>
</dl>




<h2>examples</h2>


<dl>
<dt> <code>git revert HEAD~3</code> </dt>
<dd>
<p>Revert the changes specified by the fourth last commit in HEAD
and create a new commit with the reverted changes.</p>
</dd>
<dt> <code>git revert -n master~5..master~2</code> </dt>
<dd>
<p>Revert the changes done by commits from the fifth last commit
in master (included) to the third last commit in master
(included), but do not create any commit with the reverted
changes. The revert only modifies the working tree and the
index.</p>
</dd>
</dl>




<h2>SEE ALSO</h2>


<p><a href="/docs/git-cherry-pick">git-cherry-pick[1]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-bisect - Use binary search to find the commit that introduced a bug</span></h2>




<h2><br>synopsis</h2>


<pre><em>git bisect</em> &lt;subcommand&gt; &lt;options&gt;</pre>




<h2>description</h2>


<p>The command takes various subcommands, and different options depending
on the subcommand:</p>



<pre>git bisect start [--term-{new,bad}=&lt;term&gt; --term-{old,good}=&lt;term&gt;]
	  [--no-checkout] [--first-parent] [&lt;bad&gt; [&lt;good&gt;...]] [--] [&lt;paths&gt;...]
git bisect (bad|new|&lt;term-new&gt;) [&lt;rev&gt;]
git bisect (good|old|&lt;term-old&gt;) [&lt;rev&gt;...]
git bisect terms [--term-good | --term-bad]
git bisect skip [(&lt;rev&gt;|&lt;range&gt;)...]
git bisect reset [&lt;commit&gt;]
git bisect (visualize|view)
git bisect replay &lt;logfile&gt;
git bisect log
git bisect run &lt;cmd&gt;...
git bisect help</pre>



<p>This command uses a binary search algorithm to find which commit in
your project’s history introduced a bug. You use it by first telling
it a "bad" commit that is known to contain the bug, and a "good"
commit that is known to be before the bug was introduced. Then <code>git
bisect</code> picks a commit between those two endpoints and asks you
whether the selected commit is "good" or "bad". It continues narrowing
down the range until it finds the exact commit that introduced the
change.</p>


<p>In fact, <code>git bisect</code> can be used to find the commit that changed
<strong>any</strong> property of your project; e.g., the commit that fixed a bug, or
the commit that caused a benchmark’s performance to improve. To
support this more general usage, the terms "old" and "new" can be used
in place of "good" and "bad", or you can choose your own terms. See
section "Alternate terms" below for more information.</p>


<h3>
Basic bisect commands: start, bad, good</h3>

<p>As an example, suppose you are trying to find the commit that broke a
feature that was known to work in version <code>v2.6.13-rc2</code> of your
project. You start a bisect session as follows:</p>



<pre>$ git bisect start
$ git bisect bad                 # Current version is bad
$ git bisect good v2.6.13-rc2    # v2.6.13-rc2 is known to be good</pre>



<p>Once you have specified at least one bad and one good commit, <code>git
bisect</code> selects a commit in the middle of that range of history,
checks it out, and outputs something similar to the following:</p>



<pre>Bisecting: 675 revisions left to test after this (roughly 10 steps)</pre>



<p>You should now compile the checked-out version and test it. If that
version works correctly, type</p>



<pre>$ git bisect good</pre>



<p>If that version is broken, type</p>



<pre>$ git bisect bad</pre>



<p>Then <code>git bisect</code> will respond with something like</p>



<pre>Bisecting: 337 revisions left to test after this (roughly 9 steps)</pre>



<p>Keep repeating the process: compile the tree, test it, and depending
on whether it is good or bad run <code>git bisect good</code> or <code>git bisect bad</code>
to ask for the next commit that needs testing.</p>


<p>Eventually there will be no more revisions left to inspect, and the
command will print out a description of the first bad commit. The
reference <code>refs/bisect/bad</code> will be left pointing at that commit.</p>



<h3>
Bisect reset</h3>

<p>After a bisect session, to clean up the bisection state and return to
the original HEAD, issue the following command:</p>



<pre>$ git bisect reset</pre>



<p>By default, this will return your tree to the commit that was checked
out before <code>git bisect start</code>.  (A new <code>git bisect start</code> will also do
that, as it cleans up the old bisection state.)</p>


<p>With an optional argument, you can return to a different commit
instead:</p>



<pre>$ git bisect reset &lt;commit&gt;</pre>



<p>For example, <code>git bisect reset bisect/bad</code> will check out the first
bad revision, while <code>git bisect reset HEAD</code> will leave you on the
current bisection commit and avoid switching commits at all.</p>



<h3>
Alternate terms</h3>

<p>Sometimes you are not looking for the commit that introduced a
breakage, but rather for a commit that caused a change between some
other "old" state and "new" state. For example, you might be looking
for the commit that introduced a particular fix. Or you might be
looking for the first commit in which the source-code filenames were
finally all converted to your company’s naming standard. Or whatever.</p>


<p>In such cases it can be very confusing to use the terms "good" and
"bad" to refer to "the state before the change" and "the state after
the change". So instead, you can use the terms "old" and "new",
respectively, in place of "good" and "bad". (But note that you cannot
mix "good" and "bad" with "old" and "new" in a single session.)</p>


<p>In this more general usage, you provide <code>git bisect</code> with a "new"
commit that has some property and an "old" commit that doesn’t have that
property. Each time <code>git bisect</code> checks out a commit, you test if that
commit has the property. If it does, mark the commit as "new";
otherwise, mark it as "old". When the bisection is done, <code>git bisect</code>
will report which commit introduced the property.</p>


<p>To use "old" and "new" instead of "good" and bad, you must run <code>git
bisect start</code> without commits as argument and then run the following
commands to add the commits:</p>



<pre>git bisect old [&lt;rev&gt;]</pre>



<p>to indicate that a commit was before the sought change, or</p>



<pre>git bisect new [&lt;rev&gt;...]</pre>



<p>to indicate that it was after.</p>


<p>To get a reminder of the currently used terms, use</p>



<pre>git bisect terms</pre>



<p>You can get just the old (respectively new) term with <code>git bisect terms
--term-old</code> or <code>git bisect terms --term-good</code>.</p>


<p>If you would like to use your own terms instead of "bad"/"good" or
"new"/"old", you can choose any names you like (except existing bisect
subcommands like <code>reset</code>, <code>start</code>, …<U+200B>) by starting the
bisection using</p>



<pre>git bisect start --term-old &lt;term-old&gt; --term-new &lt;term-new&gt;</pre>



<p>For example, if you are looking for a commit that introduced a
performance regression, you might use</p>



<pre>git bisect start --term-old fast --term-new slow</pre>



<p>Or if you are looking for the commit that fixed a bug, you might use</p>



<pre>git bisect start --term-new fixed --term-old broken</pre>



<p>Then, use <code>git bisect &lt;term-old&gt;</code> and <code>git bisect &lt;term-new&gt;</code> instead
of <code>git bisect good</code> and <code>git bisect bad</code> to mark commits.</p>



<h3>
Bisect visualize/view</h3>

<p>To see the currently remaining suspects in <em>gitk</em>, issue the following
command during the bisection process (the subcommand <code>view</code> can be used
as an alternative to <code>visualize</code>):</p>



<pre>$ git bisect visualize</pre>



<p>If the <code>DISPLAY</code> environment variable is not set, <em>git log</em> is used
instead.  You can also give command-line options such as <code>-p</code> and
<code>--stat</code>.</p>



<pre>$ git bisect visualize --stat</pre>




<h3>
Bisect log and bisect replay</h3>

<p>After having marked revisions as good or bad, issue the following
command to show what has been done so far:</p>



<pre>$ git bisect log</pre>



<p>If you discover that you made a mistake in specifying the status of a
revision, you can save the output of this command to a file, edit it to
remove the incorrect entries, and then issue the following commands to
return to a corrected state:</p>



<pre>$ git bisect reset
$ git bisect replay that-file</pre>




<h3>
Avoiding testing a commit</h3>

<p>If, in the middle of a bisect session, you know that the suggested
revision is not a good one to test (e.g. it fails to build and you
know that the failure does not have anything to do with the bug you
are chasing), you can manually select a nearby commit and test that
one instead.</p>


<p>For example:</p>



<pre>$ git bisect good/bad			# previous round was good or bad.
Bisecting: 337 revisions left to test after this (roughly 9 steps)
$ git bisect visualize			# oops, that is uninteresting.
$ git reset --hard HEAD~3		# try 3 revisions before what
					# was suggested</pre>



<p>Then compile and test the chosen revision, and afterwards mark
the revision as good or bad in the usual manner.</p>



<h3>
Bisect skip</h3>

<p>Instead of choosing a nearby commit by yourself, you can ask Git to do
it for you by issuing the command:</p>



<pre>$ git bisect skip                 # Current version cannot be tested</pre>



<p>However, if you skip a commit adjacent to the one you are looking for,
Git will be unable to tell exactly which of those commits was the
first bad one.</p>


<p>You can also skip a range of commits, instead of just one commit,
using range notation. For example:</p>



<pre>$ git bisect skip v2.5..v2.6</pre>



<p>This tells the bisect process that no commit after <code>v2.5</code>, up to and
including <code>v2.6</code>, should be tested.</p>


<p>Note that if you also want to skip the first commit of the range you
would issue the command:</p>



<pre>$ git bisect skip v2.5 v2.5..v2.6</pre>



<p>This tells the bisect process that the commits between <code>v2.5</code> and
<code>v2.6</code> (inclusive) should be skipped.</p>



<h3>
Cutting down bisection by giving more parameters to bisect start</h3>

<p>You can further cut down the number of trials, if you know what part of
the tree is involved in the problem you are tracking down, by specifying
path parameters when issuing the <code>bisect start</code> command:</p>



<pre>$ git bisect start -- arch/i386 include/asm-i386</pre>



<p>If you know beforehand more than one good commit, you can narrow the
bisect space down by specifying all of the good commits immediately after
the bad commit when issuing the <code>bisect start</code> command:</p>



<pre>$ git bisect start v2.6.20-rc6 v2.6.20-rc4 v2.6.20-rc1 --
                   # v2.6.20-rc6 is bad
                   # v2.6.20-rc4 and v2.6.20-rc1 are good</pre>




<h3>
Bisect run</h3>

<p>If you have a script that can tell if the current source code is good
or bad, you can bisect by issuing the command:</p>



<pre>$ git bisect run my_script arguments</pre>



<p>Note that the script (<code>my_script</code> in the above example) should exit
with code 0 if the current source code is good/old, and exit with a
code between 1 and 127 (inclusive), except 125, if the current source
code is bad/new.</p>


<p>Any other exit code will abort the bisect process. It should be noted
that a program that terminates via <code>exit(-1)</code> leaves $? = 255, (see the
exit(3) manual page), as the value is chopped with <code>&amp; 0377</code>.</p>


<p>The special exit code 125 should be used when the current source code
cannot be tested. If the script exits with this code, the current
revision will be skipped (see <code>git bisect skip</code> above). 125 was chosen
as the highest sensible value to use for this purpose, because 126 and 127
are used by POSIX shells to signal specific error status (127 is for
command not found, 126 is for command found but not executable—<U+200B>these
details do not matter, as they are normal errors in the script, as far as
<code>bisect run</code> is concerned).</p>


<p>You may often find that during a bisect session you want to have
temporary modifications (e.g. s/#define DEBUG 0/#define DEBUG 1/ in a
header file, or "revision that does not have this commit needs this
patch applied to work around another problem this bisection is not
interested in") applied to the revision being tested.</p>


<p>To cope with such a situation, after the inner <em>git bisect</em> finds the
next revision to test, the script can apply the patch
before compiling, run the real test, and afterwards decide if the
revision (possibly with the needed patch) passed the test and then
rewind the tree to the pristine state.  Finally the script should exit
with the status of the real test to let the <code>git bisect run</code> command loop
determine the eventual outcome of the bisect session.</p>





<h2>options</h2>


<dl>
<dt> --no-checkout </dt>
<dd>

<p>Do not checkout the new working tree at each iteration of the bisection
process. Instead just update a special reference named <code>BISECT_HEAD</code> to make
it point to the commit that should be tested.</p>


<p>This option may be useful when the test you would perform in each step
does not require a checked out tree.</p>


<p>If the repository is bare, <code>--no-checkout</code> is assumed.</p>

</dd>
<dt> --first-parent </dt>
<dd>

<p>Follow only the first parent commit upon seeing a merge commit.</p>


<p>In detecting regressions introduced through the merging of a branch, the merge
commit will be identified as introduction of the bug and its ancestors will be
ignored.</p>


<p>This option is particularly useful in avoiding false positives when a merged
branch contained broken or non-buildable commits, but the merge itself was OK.</p>

</dd>
</dl>




<h2>examples</h2>


<ul>
<li>
<p>Automatically bisect a broken build between v1.2 and HEAD:</p>


<pre>$ git bisect start HEAD v1.2 --      # HEAD is bad, v1.2 is good
$ git bisect run make                # "make" builds the app
$ git bisect reset                   # quit the bisect session</pre>


</li>
<li>
<p>Automatically bisect a test failure between origin and HEAD:</p>


<pre>$ git bisect start HEAD origin --    # HEAD is bad, origin is good
$ git bisect run make test           # "make test" builds and tests
$ git bisect reset                   # quit the bisect session</pre>


</li>
<li>
<p>Automatically bisect a broken test case:</p>


<pre>$ cat ~/test.sh
#!/bin/sh
make || exit 125                     # this skips broken builds
~/check_test_case.sh                 # does the test case pass?
$ git bisect start HEAD HEAD~10 --   # culprit is among the last 10
$ git bisect run ~/test.sh
$ git bisect reset                   # quit the bisect session</pre>



<p>Here we use a <code>test.sh</code> custom script. In this script, if <code>make</code>
fails, we skip the current commit.
<code>check_test_case.sh</code> should <code>exit 0</code> if the test case passes,
and <code>exit 1</code> otherwise.</p>


<p>It is safer if both <code>test.sh</code> and <code>check_test_case.sh</code> are
outside the repository to prevent interactions between the bisect,
make and test processes and the scripts.</p>

</li>
<li>
<p>Automatically bisect with temporary modifications (hot-fix):</p>


<pre>$ cat ~/test.sh
#!/bin/sh

# tweak the working tree by merging the hot-fix branch
# and then attempt a build
if	git merge --no-commit --no-ff hot-fix &amp;&amp;
	make
then
	# run project specific test and report its status
	~/check_test_case.sh
	status=$?
else
	# tell the caller this is untestable
	status=125
fi

# undo the tweak to allow clean flipping to the next commit
git reset --hard

# return control
exit $status</pre>



<p>This applies modifications from a hot-fix branch before each test run,
e.g. in case your build or test environment changed so that older
revisions may need a fix which newer ones have already. (Make sure the
hot-fix branch is based off a commit which is contained in all revisions
which you are bisecting, so that the merge does not pull in too much, or
use <code>git cherry-pick</code> instead of <code>git merge</code>.)</p>

</li>
<li>
<p>Automatically bisect a broken test case:</p>


<pre>$ git bisect start HEAD HEAD~10 --   # culprit is among the last 10
$ git bisect run sh -c "make || exit 125; ~/check_test_case.sh"
$ git bisect reset                   # quit the bisect session</pre>



<p>This shows that you can do without a run script if you write the test
on a single line.</p>

</li>
<li>
<p>Locate a good region of the object graph in a damaged repository</p>


<pre>$ git bisect start HEAD &lt;known-good-commit&gt; [ &lt;boundary-commit&gt; ... ] --no-checkout
$ git bisect run sh -c '
	GOOD=$(git for-each-ref "--format=%(objectname)" refs/bisect/good-*) &amp;&amp;
	git rev-list --objects BISECT_HEAD --not $GOOD &gt;tmp.$$ &amp;&amp;
	git pack-objects --stdout &gt;/dev/null &lt;tmp.$$
	rc=$?
	rm -f tmp.$$
	test $rc = 0'

$ git bisect reset                   # quit the bisect session</pre>



<p>In this case, when <em>git bisect run</em> finishes, bisect/bad will refer to a commit that
has at least one parent whose reachable graph is fully traversable in the sense
required by <em>git pack objects</em>.</p>

</li>
<li>
<p>Look for a fix instead of a regression in the code</p>


<pre>$ git bisect start
$ git bisect new HEAD    # current commit is marked as new
$ git bisect old HEAD~10 # the tenth commit from now is marked as old</pre>



<p>or:</p>

</li>
</ul>



<pre>$ git bisect start --term-old broken --term-new fixed
$ git bisect fixed
$ git bisect broken HEAD~10</pre>



<h3>
Getting help</h3>

<p>Use <code>git bisect</code> to get a short usage description, and <code>git bisect
help</code> or <code>git bisect -h</code> to get a long usage description.</p>





<h2>SEE ALSO</h2>


<p><a href="/docs/git-bisect-lk2009">Fighting regressions with git bisect</a>,
<a href="/docs/git-blame">git-blame[1]</a>.</p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-blame - Show what revision and author last modified each line of a file</span></h2>




<h2><br>synopsis</h2>


<pre><em>git blame</em> [-c] [-b] [-l] [--root] [-t] [-f] [-n] [-s] [-e] [-p] [-w] [--incremental]
	    [-L &lt;range&gt;] [-S &lt;revs-file&gt;] [-M] [-C] [-C] [-C] [--since=&lt;date&gt;]
	    [--ignore-rev &lt;rev&gt;] [--ignore-revs-file &lt;file&gt;]
	    [--color-lines] [--color-by-age] [--progress] [--abbrev=&lt;n&gt;]
	    [&lt;rev&gt; | --contents &lt;file&gt; | --reverse &lt;rev&gt;..&lt;rev&gt;] [--] &lt;file&gt;</pre>




<h2>description</h2>


<p>Annotates each line in the given file with information from the revision which
last modified the line. Optionally, start annotating from the given revision.</p>


<p>When specified one or more times, <code>-L</code> restricts annotation to the requested
lines.</p>


<p>The origin of lines is automatically followed across whole-file
renames (currently there is no option to turn the rename-following
off). To follow lines moved from one file to another, or to follow
lines that were copied and pasted from another file, etc., see the
<code>-C</code> and <code>-M</code> options.</p>


<p>The report does not tell you anything about lines which have been deleted or
replaced; you need to use a tool such as <em>git diff</em> or the "pickaxe"
interface briefly mentioned in the following paragraph.</p>


<p>Apart from supporting file annotation, Git also supports searching the
development history for when a code snippet occurred in a change. This makes it
possible to track when a code snippet was added to a file, moved or copied
between files, and eventually deleted or replaced. It works by searching for
a text string in the diff. A small example of the pickaxe interface
that searches for <code>blame_usage</code>:</p>



<pre>$ git log --pretty=oneline -S'blame_usage'
5040f17eba15504bad66b14a645bddd9b015ebb7 blame -S &lt;ancestry-file&gt;
ea4c7f9bf69e781dd0cd88d2bccb2bf5cc15c9a7 git-blame: Make the output</pre>





<h2>options</h2>


<dl>
<dt> -b </dt>
<dd>
<p>Show blank SHA-1 for boundary commits.  This can also
be controlled via the <code>blame.blankBoundary</code> config option.</p>
</dd>
<dt> --root </dt>
<dd>
<p>Do not treat root commits as boundaries.  This can also be
controlled via the <code>blame.showRoot</code> config option.</p>
</dd>
<dt> --show-stats </dt>
<dd>
<p>Include additional statistics at the end of blame output.</p>
</dd>
<dt> -L &lt;start&gt;,&lt;end&gt; </dt>
<dt> -L :&lt;funcname&gt; </dt>
<dd>
<p>Annotate only the line range given by <em>&lt;start&gt;,&lt;end&gt;</em>,
or by the function name regex <em>&lt;funcname&gt;</em>.
May be specified multiple times. Overlapping ranges are allowed.</p>

<p><em>&lt;start&gt;</em> and <em>&lt;end&gt;</em> are optional. <code>-L &lt;start&gt;</code> or <code>-L &lt;start&gt;,</code> spans from
<em>&lt;start&gt;</em> to end of file. <code>-L ,&lt;end&gt;</code> spans from start of file to <em>&lt;end&gt;</em>.</p>


<p><em>&lt;start&gt;</em> and <em>&lt;end&gt;</em> can take one of these forms:</p>


<ul>
<li>
<p>number</p>

<p>If <em>&lt;start&gt;</em> or <em>&lt;end&gt;</em> is a number, it specifies an
absolute line number (lines count from 1).</p>

</li>
<li>
<p><code>/regex/</code></p>

<p>This form will use the first line matching the given
POSIX regex. If <em>&lt;start&gt;</em> is a regex, it will search from the end of
the previous <code>-L</code> range, if any, otherwise from the start of file.
If <em>&lt;start&gt;</em> is <code>^/regex/</code>, it will search from the start of file.
If <em>&lt;end&gt;</em> is a regex, it will search
starting at the line given by <em>&lt;start&gt;</em>.</p>

</li>
<li>
<p>+offset or -offset</p>

<p>This is only valid for <em>&lt;end&gt;</em> and will specify a number
of lines before or after the line given by <em>&lt;start&gt;</em>.</p>

</li>
</ul>


<p>If <code>:&lt;funcname&gt;</code> is given in place of <em>&lt;start&gt;</em> and <em>&lt;end&gt;</em>, it is a
regular expression that denotes the range from the first funcname line
that matches <em>&lt;funcname&gt;</em>, up to the next funcname line. <code>:&lt;funcname&gt;</code>
searches from the end of the previous <code>-L</code> range, if any, otherwise
from the start of file. <code>^:&lt;funcname&gt;</code> searches from the start of
file. The function names are determined in the same way as <code>git diff</code>
works out patch hunk headers (see <em>Defining a custom hunk-header</em>
in <a href="/docs/gitattributes">gitattributes[5]</a>).</p>

</dd>
<dt> -l </dt>
<dd>
<p>Show long rev (Default: off).</p>
</dd>
<dt> -t </dt>
<dd>
<p>Show raw timestamp (Default: off).</p>
</dd>
<dt> -S &lt;revs-file&gt; </dt>
<dd>
<p>Use revisions from revs-file instead of calling <a href="/docs/git-rev-list">git-rev-list[1]</a>.</p>
</dd>
<dt> --reverse &lt;rev&gt;..&lt;rev&gt; </dt>
<dd>
<p>Walk history forward instead of backward. Instead of showing
the revision in which a line appeared, this shows the last
revision in which a line has existed. This requires a range of
revision like START..END where the path to blame exists in
START.  <code>git blame --reverse START</code> is taken as <code>git blame
--reverse START..HEAD</code> for convenience.</p>
</dd>
<dt> --first-parent </dt>
<dd>
<p>Follow only the first parent commit upon seeing a merge
commit. This option can be used to determine when a line
was introduced to a particular integration branch, rather
than when it was introduced to the history overall.</p>
</dd>
<dt> -p </dt>
<dt> --porcelain </dt>
<dd>
<p>Show in a format designed for machine consumption.</p>
</dd>
<dt> --line-porcelain </dt>
<dd>
<p>Show the porcelain format, but output commit information for
each line, not just the first time a commit is referenced.
Implies --porcelain.</p>
</dd>
<dt> --incremental </dt>
<dd>
<p>Show the result incrementally in a format designed for
machine consumption.</p>
</dd>
<dt> --encoding=&lt;encoding&gt; </dt>
<dd>
<p>Specifies the encoding used to output author names
and commit summaries. Setting it to <code>none</code> makes blame
output unconverted data. For more information see the
discussion about encoding in the <a href="/docs/git-log">git-log[1]</a>
manual page.</p>
</dd>
<dt> --contents &lt;file&gt; </dt>
<dd>
<p>When &lt;rev&gt; is not specified, the command annotates the
changes starting backwards from the working tree copy.
This flag makes the command pretend as if the working
tree copy has the contents of the named file (specify
<code>-</code> to make the command read from the standard input).</p>
</dd>
<dt> --date &lt;format&gt; </dt>
<dd>
<p>Specifies the format used to output dates. If --date is not
provided, the value of the blame.date config variable is
used. If the blame.date config variable is also not set, the
iso format is used. For supported values, see the discussion
of the --date option at <a href="/docs/git-log">git-log[1]</a>.</p>
</dd>
<dt> --[no-]progress </dt>
<dd>
<p>Progress status is reported on the standard error stream
by default when it is attached to a terminal. This flag
enables progress reporting even if not attached to a
terminal. Can’t use <code>--progress</code> together with <code>--porcelain</code>
or <code>--incremental</code>.</p>
</dd>
<dt> -M[&lt;num&gt;] </dt>
<dd>
<p>Detect moved or copied lines within a file. When a commit
moves or copies a block of lines (e.g. the original file
has A and then B, and the commit changes it to B and then
A), the traditional <em>blame</em> algorithm notices only half of
the movement and typically blames the lines that were moved
up (i.e. B) to the parent and assigns blame to the lines that
were moved down (i.e. A) to the child commit.  With this
option, both groups of lines are blamed on the parent by
running extra passes of inspection.</p>

<p>&lt;num&gt; is optional but it is the lower bound on the number of
alphanumeric characters that Git must detect as moving/copying
within a file for it to associate those lines with the parent
commit. The default value is 20.</p>

</dd>
<dt> -C[&lt;num&gt;] </dt>
<dd>
<p>In addition to <code>-M</code>, detect lines moved or copied from other
files that were modified in the same commit.  This is
useful when you reorganize your program and move code
around across files.  When this option is given twice,
the command additionally looks for copies from other
files in the commit that creates the file. When this
option is given three times, the command additionally
looks for copies from other files in any commit.</p>

<p>&lt;num&gt; is optional but it is the lower bound on the number of
alphanumeric characters that Git must detect as moving/copying
between files for it to associate those lines with the parent
commit. And the default value is 40. If there are more than one
<code>-C</code> options given, the &lt;num&gt; argument of the last <code>-C</code> will
take effect.</p>

</dd>
<dt> --ignore-rev &lt;rev&gt; </dt>
<dd>
<p>Ignore changes made by the revision when assigning blame, as if the
change never happened.  Lines that were changed or added by an ignored
commit will be blamed on the previous commit that changed that line or
nearby lines.  This option may be specified multiple times to ignore
more than one revision.  If the <code>blame.markIgnoredLines</code> config option
is set, then lines that were changed by an ignored commit and attributed to
another commit will be marked with a <code>?</code> in the blame output.  If the
<code>blame.markUnblamableLines</code> config option is set, then those lines touched
by an ignored commit that we could not attribute to another revision are
marked with a <em>*</em>.</p>
</dd>
<dt> --ignore-revs-file &lt;file&gt; </dt>
<dd>
<p>Ignore revisions listed in <code>file</code>, which must be in the same format as an
<code>fsck.skipList</code>.  This option may be repeated, and these files will be
processed after any files specified with the <code>blame.ignoreRevsFile</code> config
option.  An empty file name, <code>""</code>, will clear the list of revs from
previously processed files.</p>
</dd>
<dt> --color-lines </dt>
<dd>
<p>Color line annotations in the default format differently if they come from
the same commit as the preceding line. This makes it easier to distinguish
code blocks introduced by different commits. The color defaults to cyan and
can be adjusted using the <code>color.blame.repeatedLines</code> config option.</p>
</dd>
<dt> --color-by-age </dt>
<dd>
<p>Color line annotations depending on the age of the line in the default format.
The <code>color.blame.highlightRecent</code> config option controls what color is used for
each range of age.</p>
</dd>
<dt> -h </dt>
<dd>
<p>Show help message.</p>
</dd>
<dt> -c </dt>
<dd>
<p>Use the same output mode as <a href="/docs/git-annotate">git-annotate[1]</a> (Default: off).</p>
</dd>
<dt> --score-debug </dt>
<dd>
<p>Include debugging information related to the movement of
lines between files (see <code>-C</code>) and lines moved within a
file (see <code>-M</code>).  The first number listed is the score.
This is the number of alphanumeric characters detected
as having been moved between or within files.  This must be above
a certain threshold for <em>git blame</em> to consider those lines
of code to have been moved.</p>
</dd>
<dt> -f </dt>
<dt> --show-name </dt>
<dd>
<p>Show the filename in the original commit.  By default
the filename is shown if there is any line that came from a
file with a different name, due to rename detection.</p>
</dd>
<dt> -n </dt>
<dt> --show-number </dt>
<dd>
<p>Show the line number in the original commit (Default: off).</p>
</dd>
<dt> -s </dt>
<dd>
<p>Suppress the author name and timestamp from the output.</p>
</dd>
<dt> -e </dt>
<dt> --show-email </dt>
<dd>
<p>Show the author email instead of author name (Default: off).
This can also be controlled via the <code>blame.showEmail</code> config
option.</p>
</dd>
<dt> -w </dt>
<dd>
<p>Ignore whitespace when comparing the parent’s version and
the child’s to find where the lines came from.</p>
</dd>
<dt> --abbrev=&lt;n&gt; </dt>
<dd>
<p>Instead of using the default 7+1 hexadecimal digits as the
abbreviated object name, use &lt;m&gt;+1 digits, where &lt;m&gt; is at
least &lt;n&gt; but ensures the commit object names are unique.
Note that 1 column
is used for a caret to mark the boundary commit.</p>
</dd>
</dl>




<h2>THE DEFAULT FORMAT</h2>


<p>When neither <code>--porcelain</code> nor <code>--incremental</code> option is specified,
<code>git blame</code> will output annotation for each line with:</p>


<ul>
<li>
<p>abbreviated object name for the commit the line came from;</p>
</li>
<li>
<p>author ident (by default author name and date, unless <code>-s</code> or <code>-e</code>
is specified); and</p>
</li>
<li>
<p>line number</p>
</li>
</ul>


<p>before the line contents.</p>




<h2>THE PORCELAIN FORMAT</h2>


<p>In this format, each line is output after a header; the
header at the minimum has the first line which has:</p>


<ul>
<li>
<p>40-byte SHA-1 of the commit the line is attributed to;</p>
</li>
<li>
<p>the line number of the line in the original file;</p>
</li>
<li>
<p>the line number of the line in the final file;</p>
</li>
<li>
<p>on a line that starts a group of lines from a different
commit than the previous one, the number of lines in this
group.  On subsequent lines this field is absent.</p>
</li>
</ul>


<p>This header line is followed by the following information
at least once for each commit:</p>


<ul>
<li>
<p>the author name ("author"), email ("author-mail"), time
("author-time"), and time zone ("author-tz"); similarly
for committer.</p>
</li>
<li>
<p>the filename in the commit that the line is attributed to.</p>
</li>
<li>
<p>the first line of the commit log message ("summary").</p>
</li>
</ul>


<p>The contents of the actual line is output after the above
header, prefixed by a TAB. This is to allow adding more
header elements later.</p>


<p>The porcelain format generally suppresses commit information that has
already been seen. For example, two lines that are blamed to the same
commit will both be shown, but the details for that commit will be shown
only once. This is more efficient, but may require more state be kept by
the reader. The <code>--line-porcelain</code> option can be used to output full
commit information for each line, allowing simpler (but less efficient)
usage like:</p>



<pre># count the number of lines attributed to each author
git blame --line-porcelain file |
sed -n 's/^author //p' |
sort | uniq -c | sort -rn</pre>





<h2>SPECIFYING RANGES</h2>


<p>Unlike <em>git blame</em> and <em>git annotate</em> in older versions of git, the extent
of the annotation can be limited to both line ranges and revision
ranges. The <code>-L</code> option, which limits annotation to a range of lines, may be
specified multiple times.</p>


<p>When you are interested in finding the origin for
lines 40-60 for file <code>foo</code>, you can use the <code>-L</code> option like so
(they mean the same thing<U+2009>—<U+2009>both ask for 21 lines starting at
line 40):</p>



<pre>git blame -L 40,60 foo
git blame -L 40,+21 foo</pre>



<p>Also you can use a regular expression to specify the line range:</p>



<pre>git blame -L '/^sub hello {/,/^}$/' foo</pre>



<p>which limits the annotation to the body of the <code>hello</code> subroutine.</p>


<p>When you are not interested in changes older than version
v2.6.18, or changes older than 3 weeks, you can use revision
range specifiers  similar to <em>git rev-list</em>:</p>



<pre>git blame v2.6.18.. -- foo
git blame --since=3.weeks -- foo</pre>



<p>When revision range specifiers are used to limit the annotation,
lines that have not changed since the range boundary (either the
commit v2.6.18 or the most recent commit that is more than 3
weeks old in the above example) are blamed for that range
boundary commit.</p>


<p>A particularly useful way is to see if an added file has lines
created by copy-and-paste from existing files.  Sometimes this
indicates that the developer was being sloppy and did not
refactor the code properly.  You can first find the commit that
introduced the file with:</p>



<pre>git log --diff-filter=A --pretty=short -- foo</pre>



<p>and then annotate the change between the commit and its
parents, using <code>commit^!</code> notation:</p>



<pre>git blame -C -C -f $commit^! -- foo</pre>





<h2>INCREMENTAL OUTPUT</h2>


<p>When called with <code>--incremental</code> option, the command outputs the
result as it is built.  The output generally will talk about
lines touched by more recent commits first (i.e. the lines will
be annotated out of order) and is meant to be used by
interactive viewers.</p>


<p>The output format is similar to the Porcelain format, but it
does not contain the actual lines from the file that is being
annotated.</p>


<ol>
<li>
<p>Each blame entry always starts with a line of:</p>


<pre>&lt;40-byte hex sha1&gt; &lt;sourceline&gt; &lt;resultline&gt; &lt;num_lines&gt;</pre>



<p>Line numbers count from 1.</p>

</li>
<li>
<p>The first time that a commit shows up in the stream, it has various
other information about it printed out with a one-word tag at the
beginning of each line describing the extra commit information (author,
email, committer, dates, summary, etc.).</p>
</li>
<li>
<p>Unlike the Porcelain format, the filename information is always
given and terminates the entry:</p>


<pre>"filename" &lt;whitespace-quoted-filename-goes-here&gt;</pre>



<p>and thus it is really quite easy to parse for some line- and word-oriented
parser (which should be quite natural for most scripting languages).</p>


<table><tr>
<td>
Note
</td>
<td>
For people who do parsing: to make it more robust, just ignore any
lines between the first and last one ("&lt;sha1&gt;" and "filename" lines)
where you do not recognize the tag words (or care about that particular
one) at the beginning of the "extended information" lines. That way, if
there is ever added information (like the commit encoding or extended
commit commentary), a blame viewer will not care.
</td>
</tr></table>

</li>
</ol>




<h2>MAPPING AUTHORS</h2>


<p>See <a href="/docs/gitmailmap">gitmailmap[5]</a>.</p>




<h2>SEE ALSO</h2>


<p><a href="/docs/git-annotate">git-annotate[1]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-grep - Print lines matching a pattern</span></h2>




<h2><br>synopsis</h2>


<pre><em>git grep</em> [-a | --text] [-I] [--textconv] [-i | --ignore-case] [-w | --word-regexp]
	   [-v | --invert-match] [-h|-H] [--full-name]
	   [-E | --extended-regexp] [-G | --basic-regexp]
	   [-P | --perl-regexp]
	   [-F | --fixed-strings] [-n | --line-number] [--column]
	   [-l | --files-with-matches] [-L | --files-without-match]
	   [(-O | --open-files-in-pager) [&lt;pager&gt;]]
	   [-z | --null]
	   [ -o | --only-matching ] [-c | --count] [--all-match] [-q | --quiet]
	   [--max-depth &lt;depth&gt;] [--[no-]recursive]
	   [--color[=&lt;when&gt;] | --no-color]
	   [--break] [--heading] [-p | --show-function]
	   [-A &lt;post-context&gt;] [-B &lt;pre-context&gt;] [-C &lt;context&gt;]
	   [-W | --function-context]
	   [--threads &lt;num&gt;]
	   [-f &lt;file&gt;] [-e] &lt;pattern&gt;
	   [--and|--or|--not|(|)|-e &lt;pattern&gt;…<U+200B>]
	   [--recurse-submodules] [--parent-basename &lt;basename&gt;]
	   [ [--[no-]exclude-standard] [--cached | --no-index | --untracked] | &lt;tree&gt;…<U+200B>]
	   [--] [&lt;pathspec&gt;…<U+200B>]</pre>




<h2>description</h2>


<p>Look for specified patterns in the tracked files in the work tree, blobs
registered in the index file, or blobs in given tree objects.  Patterns
are lists of one or more search expressions separated by newline
characters.  An empty string as search expression matches all lines.</p>




<h2>options</h2>


<dl>
<dt> --cached </dt>
<dd>
<p>Instead of searching tracked files in the working tree, search
blobs registered in the index file.</p>
</dd>
<dt> --no-index </dt>
<dd>
<p>Search files in the current directory that is not managed by Git.</p>
</dd>
<dt> --untracked </dt>
<dd>
<p>In addition to searching in the tracked files in the working
tree, search also in untracked files.</p>
</dd>
<dt> --no-exclude-standard </dt>
<dd>
<p>Also search in ignored files by not honoring the <code>.gitignore</code>
mechanism. Only useful with <code>--untracked</code>.</p>
</dd>
<dt> --exclude-standard </dt>
<dd>
<p>Do not pay attention to ignored files specified via the <code>.gitignore</code>
mechanism.  Only useful when searching files in the current directory
with <code>--no-index</code>.</p>
</dd>
<dt> --recurse-submodules </dt>
<dd>
<p>Recursively search in each submodule that is active and
checked out in the repository.  When used in combination with the
&lt;tree&gt; option the prefix of all submodule output will be the name of
the parent project’s &lt;tree&gt; object. This option has no effect
if <code>--no-index</code> is given.</p>
</dd>
<dt> -a </dt>
<dt> --text </dt>
<dd>
<p>Process binary files as if they were text.</p>
</dd>
<dt> --textconv </dt>
<dd>
<p>Honor textconv filter settings.</p>
</dd>
<dt> --no-textconv </dt>
<dd>
<p>Do not honor textconv filter settings.
This is the default.</p>
</dd>
<dt> -i </dt>
<dt> --ignore-case </dt>
<dd>
<p>Ignore case differences between the patterns and the
files.</p>
</dd>
<dt> -I </dt>
<dd>
<p>Don’t match the pattern in binary files.</p>
</dd>
<dt> --max-depth &lt;depth&gt; </dt>
<dd>
<p>For each &lt;pathspec&gt; given on command line, descend at most &lt;depth&gt;
levels of directories. A value of -1 means no limit.
This option is ignored if &lt;pathspec&gt; contains active wildcards.
In other words if "a*" matches a directory named "a*",
"*" is matched literally so --max-depth is still effective.</p>
</dd>
<dt> -r </dt>
<dt> --recursive </dt>
<dd>
<p>Same as <code>--max-depth=-1</code>; this is the default.</p>
</dd>
<dt> --no-recursive </dt>
<dd>
<p>Same as <code>--max-depth=0</code>.</p>
</dd>
<dt> -w </dt>
<dt> --word-regexp </dt>
<dd>
<p>Match the pattern only at word boundary (either begin at the
beginning of a line, or preceded by a non-word character; end at
the end of a line or followed by a non-word character).</p>
</dd>
<dt> -v </dt>
<dt> --invert-match </dt>
<dd>
<p>Select non-matching lines.</p>
</dd>
<dt> -h </dt>
<dt> -H </dt>
<dd>
<p>By default, the command shows the filename for each
match.  <code>-h</code> option is used to suppress this output.
<code>-H</code> is there for completeness and does not do anything
except it overrides <code>-h</code> given earlier on the command
line.</p>
</dd>
<dt> --full-name </dt>
<dd>
<p>When run from a subdirectory, the command usually
outputs paths relative to the current directory.  This
option forces paths to be output relative to the project
top directory.</p>
</dd>
<dt> -E </dt>
<dt> --extended-regexp </dt>
<dt> -G </dt>
<dt> --basic-regexp </dt>
<dd>
<p>Use POSIX extended/basic regexp for patterns.  Default
is to use basic regexp.</p>
</dd>
<dt> -P </dt>
<dt> --perl-regexp </dt>
<dd>
<p>Use Perl-compatible regular expressions for patterns.</p>

<p>Support for these types of regular expressions is an optional
compile-time dependency. If Git wasn’t compiled with support for them
providing this option will cause it to die.</p>

</dd>
<dt> -F </dt>
<dt> --fixed-strings </dt>
<dd>
<p>Use fixed strings for patterns (don’t interpret pattern
as a regex).</p>
</dd>
<dt> -n </dt>
<dt> --line-number </dt>
<dd>
<p>Prefix the line number to matching lines.</p>
</dd>
<dt> --column </dt>
<dd>
<p>Prefix the 1-indexed byte-offset of the first match from the start of the
matching line.</p>
</dd>
<dt> -l </dt>
<dt> --files-with-matches </dt>
<dt> --name-only </dt>
<dt> -L </dt>
<dt> --files-without-match </dt>
<dd>
<p>Instead of showing every matched line, show only the
names of files that contain (or do not contain) matches.
For better compatibility with <em>git diff</em>, <code>--name-only</code> is a
synonym for <code>--files-with-matches</code>.</p>
</dd>
<dt> -O[&lt;pager&gt;] </dt>
<dt> --open-files-in-pager[=&lt;pager&gt;] </dt>
<dd>
<p>Open the matching files in the pager (not the output of <em>grep</em>).
If the pager happens to be "less" or "vi", and the user
specified only one pattern, the first file is positioned at
the first match automatically. The <code>pager</code> argument is
optional; if specified, it must be stuck to the option
without a space. If <code>pager</code> is unspecified, the default pager
will be used (see <code>core.pager</code> in <a href="/docs/git-config">git-config[1]</a>).</p>
</dd>
<dt> -z </dt>
<dt> --null </dt>
<dd>
<p>Use \0 as the delimiter for pathnames in the output, and print
them verbatim. Without this option, pathnames with "unusual"
characters are quoted as explained for the configuration
variable core.quotePath (see <a href="/docs/git-config">git-config[1]</a>).</p>
</dd>
<dt> -o </dt>
<dt> --only-matching </dt>
<dd>
<p>Print only the matched (non-empty) parts of a matching line, with each such
part on a separate output line.</p>
</dd>
<dt> -c </dt>
<dt> --count </dt>
<dd>
<p>Instead of showing every matched line, show the number of
lines that match.</p>
</dd>
<dt> --color[=&lt;when&gt;] </dt>
<dd>
<p>Show colored matches.
The value must be always (the default), never, or auto.</p>
</dd>
<dt> --no-color </dt>
<dd>
<p>Turn off match highlighting, even when the configuration file
gives the default to color output.
Same as <code>--color=never</code>.</p>
</dd>
<dt> --break </dt>
<dd>
<p>Print an empty line between matches from different files.</p>
</dd>
<dt> --heading </dt>
<dd>
<p>Show the filename above the matches in that file instead of
at the start of each shown line.</p>
</dd>
<dt> -p </dt>
<dt> --show-function </dt>
<dd>
<p>Show the preceding line that contains the function name of
the match, unless the matching line is a function name itself.
The name is determined in the same way as <code>git diff</code> works out
patch hunk headers (see <em>Defining a custom hunk-header</em> in
<a href="/docs/gitattributes">gitattributes[5]</a>).</p>
</dd>
<dt> -&lt;num&gt; </dt>
<dt> -C &lt;num&gt; </dt>
<dt> --context &lt;num&gt; </dt>
<dd>
<p>Show &lt;num&gt; leading and trailing lines, and place a line
containing <code>--</code> between contiguous groups of matches.</p>
</dd>
<dt> -A &lt;num&gt; </dt>
<dt> --after-context &lt;num&gt; </dt>
<dd>
<p>Show &lt;num&gt; trailing lines, and place a line containing
<code>--</code> between contiguous groups of matches.</p>
</dd>
<dt> -B &lt;num&gt; </dt>
<dt> --before-context &lt;num&gt; </dt>
<dd>
<p>Show &lt;num&gt; leading lines, and place a line containing
<code>--</code> between contiguous groups of matches.</p>
</dd>
<dt> -W </dt>
<dt> --function-context </dt>
<dd>
<p>Show the surrounding text from the previous line containing a
function name up to the one before the next function name,
effectively showing the whole function in which the match was
found. The function names are determined in the same way as
<code>git diff</code> works out patch hunk headers (see <em>Defining a
custom hunk-header</em> in <a href="/docs/gitattributes">gitattributes[5]</a>).</p>
</dd>
<dt> --threads &lt;num&gt; </dt>
<dd>
<p>Number of grep worker threads to use.
See <code>grep.threads</code> in <em>CONFIGURATION</em> for more information.</p>
</dd>
<dt> -f &lt;file&gt; </dt>
<dd>
<p>Read patterns from &lt;file&gt;, one per line.</p>

<p>Passing the pattern via &lt;file&gt; allows for providing a search pattern
containing a \0.</p>


<p>Not all pattern types support patterns containing \0. Git will error
out if a given pattern type can’t support such a pattern. The
<code>--perl-regexp</code> pattern type when compiled against the PCRE v2 backend
has the widest support for these types of patterns.</p>


<p>In versions of Git before 2.23.0 patterns containing \0 would be
silently considered fixed. This was never documented, there were also
odd and undocumented interactions between e.g. non-ASCII patterns
containing \0 and <code>--ignore-case</code>.</p>


<p>In future versions we may learn to support patterns containing \0 for
more search backends, until then we’ll die when the pattern type in
question doesn’t support them.</p>

</dd>
<dt> -e </dt>
<dd>
<p>The next parameter is the pattern. This option has to be
used for patterns starting with <code>-</code> and should be used in
scripts passing user input to grep.  Multiple patterns are
combined by <em>or</em>.</p>
</dd>
<dt> --and </dt>
<dt> --or </dt>
<dt> --not </dt>
<dt> ( …<U+200B> ) </dt>
<dd>
<p>Specify how multiple patterns are combined using Boolean
expressions.  <code>--or</code> is the default operator.  <code>--and</code> has
higher precedence than <code>--or</code>.  <code>-e</code> has to be used for all
patterns.</p>
</dd>
<dt> --all-match </dt>
<dd>
<p>When giving multiple pattern expressions combined with <code>--or</code>,
this flag is specified to limit the match to files that
have lines to match all of them.</p>
</dd>
<dt> -q </dt>
<dt> --quiet </dt>
<dd>
<p>Do not output matched lines; instead, exit with status 0 when
there is a match and with non-zero status when there isn’t.</p>
</dd>
<dt> &lt;tree&gt;…<U+200B> </dt>
<dd>
<p>Instead of searching tracked files in the working tree, search
blobs in the given trees.</p>
</dd>
<dt> -- </dt>
<dd>
<p>Signals the end of options; the rest of the parameters
are &lt;pathspec&gt; limiters.</p>
</dd>
<dt> &lt;pathspec&gt;…<U+200B> </dt>
<dd>
<p>If given, limit the search to paths matching at least one pattern.
Both leading paths match and glob(7) patterns are supported.</p>

<p>For more details about the &lt;pathspec&gt; syntax, see the <em>pathspec</em> entry
in <a href="/docs/gitglossary">gitglossary[7]</a>.</p>

</dd>
</dl>




<h2>examples</h2>


<dl>
<dt> <code>git grep 'time_t' -- '*.[ch]'</code> </dt>
<dd>
<p>Looks for <code>time_t</code> in all tracked .c and .h files in the working
directory and its subdirectories.</p>
</dd>
<dt> <code>git grep -e '#define' --and \( -e MAX_PATH -e PATH_MAX \)</code> </dt>
<dd>
<p>Looks for a line that has <code>#define</code> and either <code>MAX_PATH</code> or
<code>PATH_MAX</code>.</p>
</dd>
<dt> <code>git grep --all-match -e NODE -e Unexpected</code> </dt>
<dd>
<p>Looks for a line that has <code>NODE</code> or <code>Unexpected</code> in
files that have lines that match both.</p>
</dd>
<dt> <code>git grep solution -- :^Documentation</code> </dt>
<dd>
<p>Looks for <code>solution</code>, excluding files in <code>Documentation</code>.</p>
</dd>
</dl>




<h2>NOTES ON THREADS</h2>


<p>The <code>--threads</code> option (and the grep.threads configuration) will be ignored when
<code>--open-files-in-pager</code> is used, forcing a single-threaded execution.</p>


<p>When grepping the object store (with <code>--cached</code> or giving tree objects), running
with multiple threads might perform slower than single threaded if <code>--textconv</code>
is given and there’re too many text conversions. So if you experience low
performance in this case, it might be desirable to use <code>--threads=1</code>.</p>




<h2>CONFIGURATION</h2>


<dl>
<dt> grep.lineNumber </dt>
<dd>
<p>If set to true, enable <code>-n</code> option by default.</p>
</dd>
<dt> grep.column </dt>
<dd>
<p>If set to true, enable the <code>--column</code> option by default.</p>
</dd>
<dt> grep.patternType </dt>
<dd>
<p>Set the default matching behavior. Using a value of <em>basic</em>, <em>extended</em>,
<em>fixed</em>, or <em>perl</em> will enable the <code>--basic-regexp</code>, <code>--extended-regexp</code>,
<code>--fixed-strings</code>, or <code>--perl-regexp</code> option accordingly, while the
value <em>default</em> will return to the default matching behavior.</p>
</dd>
<dt> grep.extendedRegexp </dt>
<dd>
<p>If set to true, enable <code>--extended-regexp</code> option by default. This
option is ignored when the <code>grep.patternType</code> option is set to a value
other than <em>default</em>.</p>
</dd>
<dt> grep.threads </dt>
<dd>
<p>Number of grep worker threads to use. If unset (or set to 0), Git will
use as many threads as the number of logical cores available.</p>
</dd>
<dt> grep.fullName </dt>
<dd>
<p>If set to true, enable <code>--full-name</code> option by default.</p>
</dd>
<dt> grep.fallbackToNoIndex </dt>
<dd>
<p>If set to true, fall back to git grep --no-index if git grep
is executed outside of a git repository.  Defaults to false.</p>
</dd>
</dl>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-am - Apply a series of patches from a mailbox</span></h2>




<h2><br>synopsis</h2>


<pre><em>git am</em> [--signoff] [--keep] [--[no-]keep-cr] [--[no-]utf8]
	 [--[no-]3way] [--interactive] [--committer-date-is-author-date]
	 [--ignore-date] [--ignore-space-change | --ignore-whitespace]
	 [--whitespace=&lt;option&gt;] [-C&lt;n&gt;] [-p&lt;n&gt;] [--directory=&lt;dir&gt;]
	 [--exclude=&lt;path&gt;] [--include=&lt;path&gt;] [--reject] [-q | --quiet]
	 [--[no-]scissors] [-S[&lt;keyid&gt;]] [--patch-format=&lt;format&gt;]
	 [--quoted-cr=&lt;action&gt;]
	 [--empty=(stop|drop|keep)]
	 [(&lt;mbox&gt; | &lt;Maildir&gt;)…<U+200B>]
<em>git am</em> (--continue | --skip | --abort | --quit | --show-current-patch[=(diff|raw)] | --allow-empty)</pre>




<h2>description</h2>


<p>Splits mail messages in a mailbox into commit log message,
authorship information and patches, and applies them to the
current branch.</p>




<h2>options</h2>


<dl>
<dt> (&lt;mbox&gt;|&lt;Maildir&gt;)…<U+200B> </dt>
<dd>
<p>The list of mailbox files to read patches from. If you do not
supply this argument, the command reads from the standard input.
If you supply directories, they will be treated as Maildirs.</p>
</dd>
<dt> -s </dt>
<dt> --signoff </dt>
<dd>
<p>Add a <code>Signed-off-by</code> trailer to the commit message, using
the committer identity of yourself.
See the signoff option in <a href="/docs/git-commit">git-commit[1]</a> for more information.</p>
</dd>
<dt> -k </dt>
<dt> --keep </dt>
<dd>
<p>Pass <code>-k</code> flag to <em>git mailinfo</em> (see <a href="/docs/git-mailinfo">git-mailinfo[1]</a>).</p>
</dd>
<dt> --keep-non-patch </dt>
<dd>
<p>Pass <code>-b</code> flag to <em>git mailinfo</em> (see <a href="/docs/git-mailinfo">git-mailinfo[1]</a>).</p>
</dd>
<dt> --[no-]keep-cr </dt>
<dd>
<p>With <code>--keep-cr</code>, call <em>git mailsplit</em> (see <a href="/docs/git-mailsplit">git-mailsplit[1]</a>)
with the same option, to prevent it from stripping CR at the end of
lines. <code>am.keepcr</code> configuration variable can be used to specify the
default behaviour.  <code>--no-keep-cr</code> is useful to override <code>am.keepcr</code>.</p>
</dd>
<dt> -c </dt>
<dt> --scissors </dt>
<dd>
<p>Remove everything in body before a scissors line (see
<a href="/docs/git-mailinfo">git-mailinfo[1]</a>). Can be activated by default using
the <code>mailinfo.scissors</code> configuration variable.</p>
</dd>
<dt> --no-scissors </dt>
<dd>
<p>Ignore scissors lines (see <a href="/docs/git-mailinfo">git-mailinfo[1]</a>).</p>
</dd>
<dt> --quoted-cr=&lt;action&gt; </dt>
<dd>
<p>This flag will be passed down to <em>git mailinfo</em> (see <a href="/docs/git-mailinfo">git-mailinfo[1]</a>).</p>
</dd>
<dt> --empty=(stop|drop|keep) </dt>
<dd>
<p>By default, or when the option is set to <em>stop</em>, the command
errors out on an input e-mail message lacking a patch
and stops into the middle of the current am session. When this
option is set to <em>drop</em>, skip such an e-mail message instead.
When this option is set to <em>keep</em>, create an empty commit,
recording the contents of the e-mail message as its log.</p>
</dd>
<dt> -m </dt>
<dt> --message-id </dt>
<dd>
<p>Pass the <code>-m</code> flag to <em>git mailinfo</em> (see <a href="/docs/git-mailinfo">git-mailinfo[1]</a>),
so that the Message-ID header is added to the commit message.
The <code>am.messageid</code> configuration variable can be used to specify
the default behaviour.</p>
</dd>
<dt> --no-message-id </dt>
<dd>
<p>Do not add the Message-ID header to the commit message.
<code>no-message-id</code> is useful to override <code>am.messageid</code>.</p>
</dd>
<dt> -q </dt>
<dt> --quiet </dt>
<dd>
<p>Be quiet. Only print error messages.</p>
</dd>
<dt> -u </dt>
<dt> --utf8 </dt>
<dd>
<p>Pass <code>-u</code> flag to <em>git mailinfo</em> (see <a href="/docs/git-mailinfo">git-mailinfo[1]</a>).
The proposed commit log message taken from the e-mail
is re-coded into UTF-8 encoding (configuration variable
<code>i18n.commitEncoding</code> can be used to specify project’s
preferred encoding if it is not UTF-8).</p>

<p>This was optional in prior versions of git, but now it is the
default.   You can use <code>--no-utf8</code> to override this.</p>

</dd>
<dt> --no-utf8 </dt>
<dd>
<p>Pass <code>-n</code> flag to <em>git mailinfo</em> (see
<a href="/docs/git-mailinfo">git-mailinfo[1]</a>).</p>
</dd>
<dt> -3 </dt>
<dt> --3way </dt>
<dt> --no-3way </dt>
<dd>
<p>When the patch does not apply cleanly, fall back on
3-way merge if the patch records the identity of blobs
it is supposed to apply to and we have those blobs
available locally. <code>--no-3way</code> can be used to override
am.threeWay configuration variable. For more information,
see am.threeWay in <a href="/docs/git-config">git-config[1]</a>.</p>
</dd>
<dt> --rerere-autoupdate </dt>
<dt> --no-rerere-autoupdate </dt>
<dd>
<p>Allow the rerere mechanism to update the index with the
result of auto-conflict resolution if possible.</p>
</dd>
<dt> --ignore-space-change </dt>
<dt> --ignore-whitespace </dt>
<dt> --whitespace=&lt;option&gt; </dt>
<dt> -C&lt;n&gt; </dt>
<dt> -p&lt;n&gt; </dt>
<dt> --directory=&lt;dir&gt; </dt>
<dt> --exclude=&lt;path&gt; </dt>
<dt> --include=&lt;path&gt; </dt>
<dt> --reject </dt>
<dd>
<p>These flags are passed to the <em>git apply</em> (see <a href="/docs/git-apply">git-apply[1]</a>)
program that applies
the patch.</p>
</dd>
<dt> --patch-format </dt>
<dd>
<p>By default the command will try to detect the patch format
automatically. This option allows the user to bypass the automatic
detection and specify the patch format that the patch(es) should be
interpreted as. Valid formats are mbox, mboxrd,
stgit, stgit-series and hg.</p>
</dd>
<dt> -i </dt>
<dt> --interactive </dt>
<dd>
<p>Run interactively.</p>
</dd>
<dt> --committer-date-is-author-date </dt>
<dd>
<p>By default the command records the date from the e-mail
message as the commit author date, and uses the time of
commit creation as the committer date. This allows the
user to lie about the committer date by using the same
value as the author date.</p>
</dd>
<dt> --ignore-date </dt>
<dd>
<p>By default the command records the date from the e-mail
message as the commit author date, and uses the time of
commit creation as the committer date. This allows the
user to lie about the author date by using the same
value as the committer date.</p>
</dd>
<dt> --skip </dt>
<dd>
<p>Skip the current patch.  This is only meaningful when
restarting an aborted patch.</p>
</dd>
<dt> -S[&lt;keyid&gt;] </dt>
<dt> --gpg-sign[=&lt;keyid&gt;] </dt>
<dt> --no-gpg-sign </dt>
<dd>
<p>GPG-sign commits. The <code>keyid</code> argument is optional and
defaults to the committer identity; if specified, it must be
stuck to the option without a space. <code>--no-gpg-sign</code> is useful to
countermand both <code>commit.gpgSign</code> configuration variable, and
earlier <code>--gpg-sign</code>.</p>
</dd>
<dt> --continue </dt>
<dt> -r </dt>
<dt> --resolved </dt>
<dd>
<p>After a patch failure (e.g. attempting to apply
conflicting patch), the user has applied it by hand and
the index file stores the result of the application.
Make a commit using the authorship and commit log
extracted from the e-mail message and the current index
file, and continue.</p>
</dd>
<dt> --resolvemsg=&lt;msg&gt; </dt>
<dd>
<p>When a patch failure occurs, &lt;msg&gt; will be printed
to the screen before exiting.  This overrides the
standard message informing you to use <code>--continue</code>
or <code>--skip</code> to handle the failure.  This is solely
for internal use between <em>git rebase</em> and <em>git am</em>.</p>
</dd>
<dt> --abort </dt>
<dd>
<p>Restore the original branch and abort the patching operation.
Revert contents of files involved in the am operation to their
pre-am state.</p>
</dd>
<dt> --quit </dt>
<dd>
<p>Abort the patching operation but keep HEAD and the index
untouched.</p>
</dd>
<dt> --show-current-patch[=(diff|raw)] </dt>
<dd>
<p>Show the message at which <code>git am</code> has stopped due to
conflicts.  If <code>raw</code> is specified, show the raw contents of
the e-mail message; if <code>diff</code>, show the diff portion only.
Defaults to <code>raw</code>.</p>
</dd>
<dt> --allow-empty </dt>
<dd>
<p>After a patch failure on an input e-mail message lacking a patch,
create an empty commit with the contents of the e-mail message
as its log message.</p>
</dd>
</dl>




<h2>DISCUSSION</h2>


<p>The commit author name is taken from the "From: " line of the
message, and commit author date is taken from the "Date: " line
of the message.  The "Subject: " line is used as the title of
the commit, after stripping common prefix "[PATCH &lt;anything&gt;]".
The "Subject: " line is supposed to concisely describe what the
commit is about in one line of text.</p>


<p>"From: ", "Date: ", and "Subject: " lines starting the body override the
respective commit author name and title values taken from the headers.</p>


<p>The commit message is formed by the title taken from the
"Subject: ", a blank line and the body of the message up to
where the patch begins.  Excess whitespace at the end of each
line is automatically stripped.</p>


<p>The patch is expected to be inline, directly following the
message.  Any line that is of the form:</p>


<ul>
<li>
<p>three-dashes and end-of-line, or</p>
</li>
<li>
<p>a line that begins with "diff -", or</p>
</li>
<li>
<p>a line that begins with "Index: "</p>
</li>
</ul>


<p>is taken as the beginning of a patch, and the commit log message
is terminated before the first occurrence of such a line.</p>


<p>When initially invoking <code>git am</code>, you give it the names of the mailboxes
to process.  Upon seeing the first patch that does not apply, it
aborts in the middle.  You can recover from this in one of two ways:</p>


<ol>
<li>
<p>skip the current patch by re-running the command with the <code>--skip</code>
option.</p>
</li>
<li>
<p>hand resolve the conflict in the working directory, and update
the index file to bring it into a state that the patch should
have produced.  Then run the command with the <code>--continue</code> option.</p>
</li>
</ol>


<p>The command refuses to process new mailboxes until the current
operation is finished, so if you decide to start over from scratch,
run <code>git am --abort</code> before running the command with mailbox
names.</p>


<p>Before any patches are applied, ORIG_HEAD is set to the tip of the
current branch.  This is useful if you have problems with multiple
commits, like running <em>git am</em> on the wrong branch or an error in the
commits that is more easily fixed by changing the mailbox (e.g.
errors in the "From:" lines).</p>




<h2>HOOKS</h2>


<p>This command can run <code>applypatch-msg</code>, <code>pre-applypatch</code>,
and <code>post-applypatch</code> hooks.  See <a href="/docs/githooks">githooks[5]</a> for more
information.</p>




<h2>SEE ALSO</h2>


<p><a href="/docs/git-apply">git-apply[1]</a>.</p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-apply - Apply a patch to files and/or to the index</span></h2>




<h2><br>synopsis</h2>


<pre><em>git apply</em> [--stat] [--numstat] [--summary] [--check] [--index | --intent-to-add] [--3way]
	  [--apply] [--no-add] [--build-fake-ancestor=&lt;file&gt;] [-R | --reverse]
	  [--allow-binary-replacement | --binary] [--reject] [-z]
	  [-p&lt;n&gt;] [-C&lt;n&gt;] [--inaccurate-eof] [--recount] [--cached]
	  [--ignore-space-change | --ignore-whitespace]
	  [--whitespace=(nowarn|warn|fix|error|error-all)]
	  [--exclude=&lt;path&gt;] [--include=&lt;path&gt;] [--directory=&lt;root&gt;]
	  [--verbose | --quiet] [--unsafe-paths] [--allow-empty] [&lt;patch&gt;…<U+200B>]</pre>




<h2>description</h2>


<p>Reads the supplied diff output (i.e. "a patch") and applies it to files.
When running from a subdirectory in a repository, patched paths
outside the directory are ignored.
With the <code>--index</code> option the patch is also applied to the index, and
with the <code>--cached</code> option the patch is only applied to the index.
Without these options, the command applies the patch only to files,
and does not require them to be in a Git repository.</p>


<p>This command applies the patch but does not create a commit.  Use
<a href="/docs/git-am">git-am[1]</a> to create commits from patches generated by
<a href="/docs/git-format-patch">git-format-patch[1]</a> and/or received by email.</p>




<h2>options</h2>


<dl>
<dt> &lt;patch&gt;…<U+200B> </dt>
<dd>
<p>The files to read the patch from.  <em>-</em> can be used to read
from the standard input.</p>
</dd>
<dt> --stat </dt>
<dd>
<p>Instead of applying the patch, output diffstat for the
input.  Turns off "apply".</p>
</dd>
<dt> --numstat </dt>
<dd>
<p>Similar to <code>--stat</code>, but shows the number of added and
deleted lines in decimal notation and the pathname without
abbreviation, to make it more machine friendly.  For
binary files, outputs two <code>-</code> instead of saying
<code>0 0</code>.  Turns off "apply".</p>
</dd>
<dt> --summary </dt>
<dd>
<p>Instead of applying the patch, output a condensed
summary of information obtained from git diff extended
headers, such as creations, renames and mode changes.
Turns off "apply".</p>
</dd>
<dt> --check </dt>
<dd>
<p>Instead of applying the patch, see if the patch is
applicable to the current working tree and/or the index
file and detects errors.  Turns off "apply".</p>
</dd>
<dt> --index </dt>
<dd>
<p>Apply the patch to both the index and the working tree (or
merely check that it would apply cleanly to both if <code>--check</code> is
in effect). Note that <code>--index</code> expects index entries and
working tree copies for relevant paths to be identical (their
contents and metadata such as file mode must match), and will
raise an error if they are not, even if the patch would apply
cleanly to both the index and the working tree in isolation.</p>
</dd>
<dt> --cached </dt>
<dd>
<p>Apply the patch to just the index, without touching the working
tree. If <code>--check</code> is in effect, merely check that it would
apply cleanly to the index entry.</p>
</dd>
<dt> --intent-to-add </dt>
<dd>
<p>When applying the patch only to the working tree, mark new
files to be added to the index later (see <code>--intent-to-add</code>
option in <a href="/docs/git-add">git-add[1]</a>). This option is ignored unless
running in a Git repository and <code>--index</code> is not specified.
Note that <code>--index</code> could be implied by other options such
as <code>--cached</code> or <code>--3way</code>.</p>
</dd>
<dt> -3 </dt>
<dt> --3way </dt>
<dd>
<p>Attempt 3-way merge if the patch records the identity of blobs it is supposed
to apply to and we have those blobs available locally, possibly leaving the
conflict markers in the files in the working tree for the user to
resolve.  This option implies the <code>--index</code> option unless the
<code>--cached</code> option is used, and is incompatible with the <code>--reject</code> option.
When used with the <code>--cached</code> option, any conflicts are left at higher stages
in the cache.</p>
</dd>
<dt> --build-fake-ancestor=&lt;file&gt; </dt>
<dd>
<p>Newer <em>git diff</em> output has embedded <em>index information</em>
for each blob to help identify the original version that
the patch applies to.  When this flag is given, and if
the original versions of the blobs are available locally,
builds a temporary index containing those blobs.</p>

<p>When a pure mode change is encountered (which has no index information),
the information is read from the current index instead.</p>

</dd>
<dt> -R </dt>
<dt> --reverse </dt>
<dd>
<p>Apply the patch in reverse.</p>
</dd>
<dt> --reject </dt>
<dd>
<p>For atomicity, <em>git apply</em> by default fails the whole patch and
does not touch the working tree when some of the hunks
do not apply.  This option makes it apply
the parts of the patch that are applicable, and leave the
rejected hunks in corresponding *.rej files.</p>
</dd>
<dt> -z </dt>
<dd>
<p>When <code>--numstat</code> has been given, do not munge pathnames,
but use a NUL-terminated machine-readable format.</p>

<p>Without this option, pathnames with "unusual" characters are quoted as
explained for the configuration variable <code>core.quotePath</code> (see
<a href="/docs/git-config">git-config[1]</a>).</p>

</dd>
<dt> -p&lt;n&gt; </dt>
<dd>
<p>Remove &lt;n&gt; leading path components (separated by slashes) from
traditional diff paths. E.g., with <code>-p2</code>, a patch against
<code>a/dir/file</code> will be applied directly to <code>file</code>. The default is
1.</p>
</dd>
<dt> -C&lt;n&gt; </dt>
<dd>
<p>Ensure at least &lt;n&gt; lines of surrounding context match before
and after each change.  When fewer lines of surrounding
context exist they all must match.  By default no context is
ever ignored.</p>
</dd>
<dt> --unidiff-zero </dt>
<dd>
<p>By default, <em>git apply</em> expects that the patch being
applied is a unified diff with at least one line of context.
This provides good safety measures, but breaks down when
applying a diff generated with <code>--unified=0</code>. To bypass these
checks use <code>--unidiff-zero</code>.</p>

<p>Note, for the reasons stated above usage of context-free patches is
discouraged.</p>

</dd>
<dt> --apply </dt>
<dd>
<p>If you use any of the options marked "Turns off
<em>apply</em>" above, <em>git apply</em> reads and outputs the
requested information without actually applying the
patch.  Give this flag after those flags to also apply
the patch.</p>
</dd>
<dt> --no-add </dt>
<dd>
<p>When applying a patch, ignore additions made by the
patch.  This can be used to extract the common part between
two files by first running <em>diff</em> on them and applying
the result with this option, which would apply the
deletion part but not the addition part.</p>
</dd>
<dt> --allow-binary-replacement </dt>
<dt> --binary </dt>
<dd>
<p>Historically we did not allow binary patch applied
without an explicit permission from the user, and this
flag was the way to do so.  Currently we always allow binary
patch application, so this is a no-op.</p>
</dd>
<dt> --exclude=&lt;path-pattern&gt; </dt>
<dd>
<p>Don’t apply changes to files matching the given path pattern. This can
be useful when importing patchsets, where you want to exclude certain
files or directories.</p>
</dd>
<dt> --include=&lt;path-pattern&gt; </dt>
<dd>
<p>Apply changes to files matching the given path pattern. This can
be useful when importing patchsets, where you want to include certain
files or directories.</p>

<p>When <code>--exclude</code> and <code>--include</code> patterns are used, they are examined in the
order they appear on the command line, and the first match determines if a
patch to each path is used.  A patch to a path that does not match any
include/exclude pattern is used by default if there is no include pattern
on the command line, and ignored if there is any include pattern.</p>

</dd>
<dt> --ignore-space-change </dt>
<dt> --ignore-whitespace </dt>
<dd>
<p>When applying a patch, ignore changes in whitespace in context
lines if necessary.
Context lines will preserve their whitespace, and they will not
undergo whitespace fixing regardless of the value of the
<code>--whitespace</code> option. New lines will still be fixed, though.</p>
</dd>
<dt> --whitespace=&lt;action&gt; </dt>
<dd>
<p>When applying a patch, detect a new or modified line that has
whitespace errors.  What are considered whitespace errors is
controlled by <code>core.whitespace</code> configuration.  By default,
trailing whitespaces (including lines that solely consist of
whitespaces) and a space character that is immediately followed
by a tab character inside the initial indent of the line are
considered whitespace errors.</p>

<p>By default, the command outputs warning messages but applies the patch.
When <code>git-apply</code> is used for statistics and not applying a
patch, it defaults to <code>nowarn</code>.</p>


<p>You can use different <code>&lt;action&gt;</code> values to control this
behavior:</p>


<ul>
<li>
<p><code>nowarn</code> turns off the trailing whitespace warning.</p>
</li>
<li>
<p><code>warn</code> outputs warnings for a few such errors, but applies the
patch as-is (default).</p>
</li>
<li>
<p><code>fix</code> outputs warnings for a few such errors, and applies the
patch after fixing them (<code>strip</code> is a synonym --- the tool
used to consider only trailing whitespace characters as errors, and the
fix involved <em>stripping</em> them, but modern Gits do more).</p>
</li>
<li>
<p><code>error</code> outputs warnings for a few such errors, and refuses
to apply the patch.</p>
</li>
<li>
<p><code>error-all</code> is similar to <code>error</code> but shows all errors.</p>
</li>
</ul>

</dd>
<dt> --inaccurate-eof </dt>
<dd>
<p>Under certain circumstances, some versions of <em>diff</em> do not correctly
detect a missing new-line at the end of the file. As a result, patches
created by such <em>diff</em> programs do not record incomplete lines
correctly. This option adds support for applying such patches by
working around this bug.</p>
</dd>
<dt> -v </dt>
<dt> --verbose </dt>
<dd>
<p>Report progress to stderr. By default, only a message about the
current patch being applied will be printed. This option will cause
additional information to be reported.</p>
</dd>
<dt> -q </dt>
<dt> --quiet </dt>
<dd>
<p>Suppress stderr output. Messages about patch status and progress
will not be printed.</p>
</dd>
<dt> --recount </dt>
<dd>
<p>Do not trust the line counts in the hunk headers, but infer them
by inspecting the patch (e.g. after editing the patch without
adjusting the hunk headers appropriately).</p>
</dd>
<dt> --directory=&lt;root&gt; </dt>
<dd>
<p>Prepend &lt;root&gt; to all filenames.  If a "-p" argument was also passed,
it is applied before prepending the new root.</p>

<p>For example, a patch that talks about updating <code>a/git-gui.sh</code> to <code>b/git-gui.sh</code>
can be applied to the file in the working tree <code>modules/git-gui/git-gui.sh</code> by
running <code>git apply --directory=modules/git-gui</code>.</p>

</dd>
<dt> --unsafe-paths </dt>
<dd>
<p>By default, a patch that affects outside the working area
(either a Git controlled working tree, or the current working
directory when "git apply" is used as a replacement of GNU
patch) is rejected as a mistake (or a mischief).</p>

<p>When <code>git apply</code> is used as a "better GNU patch", the user can pass
the <code>--unsafe-paths</code> option to override this safety check.  This option
has no effect when <code>--index</code> or <code>--cached</code> is in use.</p>

</dd>
<dt> --allow-empty </dt>
<dd>
<p>Don’t return error for patches containing no diff. This includes
empty patches and patches with commit text only.</p>
</dd>
</dl>




<h2>CONFIGURATION</h2>


<dl>
<dt> apply.ignoreWhitespace </dt>
<dd>
<p>Set to <em>change</em> if you want changes in whitespace to be ignored by default.
Set to one of: no, none, never, false if you want changes in
whitespace to be significant.</p>
</dd>
<dt> apply.whitespace </dt>
<dd>
<p>When no <code>--whitespace</code> flag is given from the command
line, this configuration item is used as the default.</p>
</dd>
</dl>




<h2>SUBMODULES</h2>


<p>If the patch contains any changes to submodules then <em>git apply</em>
treats these changes as follows.</p>


<p>If <code>--index</code> is specified (explicitly or implicitly), then the submodule
commits must match the index exactly for the patch to apply.  If any
of the submodules are checked-out, then these check-outs are completely
ignored, i.e., they are not required to be up to date or clean and they
are not updated.</p>


<p>If <code>--index</code> is not specified, then the submodule commits in the patch
are ignored and only the absence or presence of the corresponding
subdirectory is checked and (if possible) updated.</p>




<h2>SEE ALSO</h2>


<p><a href="/docs/git-am">git-am[1]</a>.</p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-format-patch - Prepare patches for e-mail submission</span></h2>




<h2><br>synopsis</h2>


<pre><em>git format-patch</em> [-k] [(-o|--output-directory) &lt;dir&gt; | --stdout]
		   [--no-thread | --thread[=&lt;style&gt;]]
		   [(--attach|--inline)[=&lt;boundary&gt;] | --no-attach]
		   [-s | --signoff]
		   [--signature=&lt;signature&gt; | --no-signature]
		   [--signature-file=&lt;file&gt;]
		   [-n | --numbered | -N | --no-numbered]
		   [--start-number &lt;n&gt;] [--numbered-files]
		   [--in-reply-to=&lt;message id&gt;] [--suffix=.&lt;sfx&gt;]
		   [--ignore-if-in-upstream] [--always]
		   [--cover-from-description=&lt;mode&gt;]
		   [--rfc] [--subject-prefix=&lt;subject prefix&gt;]
		   [(--reroll-count|-v) &lt;n&gt;]
		   [--to=&lt;email&gt;] [--cc=&lt;email&gt;]
		   [--[no-]cover-letter] [--quiet]
		   [--[no-]encode-email-headers]
		   [--no-notes | --notes[=&lt;ref&gt;]]
		   [--interdiff=&lt;previous&gt;]
		   [--range-diff=&lt;previous&gt; [--creation-factor=&lt;percent&gt;]]
		   [--filename-max-length=&lt;n&gt;]
		   [--progress]
		   [&lt;common diff options&gt;]
		   [ &lt;since&gt; | &lt;revision range&gt; ]</pre>




<h2>description</h2>


<p>Prepare each non-merge commit with its "patch" in
one "message" per commit, formatted to resemble a UNIX mailbox.
The output of this command is convenient for e-mail submission or
for use with <em>git am</em>.</p>


<p>A "message" generated by the command consists of three parts:</p>


<ul>
<li>
<p>A brief metadata header that begins with <code>From &lt;commit&gt;</code>
with a fixed <code>Mon Sep 17 00:00:00 2001</code> datestamp to help programs
like "file(1)" to recognize that the file is an output from this
command, fields that record the author identity, the author date,
and the title of the change (taken from the first paragraph of the
commit log message).</p>
</li>
<li>
<p>The second and subsequent paragraphs of the commit log message.</p>
</li>
<li>
<p>The "patch", which is the "diff -p --stat" output (see
<a href="/docs/git-diff">git-diff[1]</a>) between the commit and its parent.</p>
</li>
</ul>


<p>The log message and the patch is separated by a line with a
three-dash line.</p>


<p>There are two ways to specify which commits to operate on.</p>


<ol>
<li>
<p>A single commit, &lt;since&gt;, specifies that the commits leading
to the tip of the current branch that are not in the history
that leads to the &lt;since&gt; to be output.</p>
</li>
<li>
<p>Generic &lt;revision range&gt; expression (see "SPECIFYING
REVISIONS" section in <a href="/docs/gitrevisions">gitrevisions[7]</a>) means the
commits in the specified range.</p>
</li>
</ol>


<p>The first rule takes precedence in the case of a single &lt;commit&gt;.  To
apply the second rule, i.e., format everything since the beginning of
history up until &lt;commit&gt;, use the <code>--root</code> option: <code>git format-patch
--root &lt;commit&gt;</code>.  If you want to format only &lt;commit&gt; itself, you
can do this with <code>git format-patch -1 &lt;commit&gt;</code>.</p>


<p>By default, each output file is numbered sequentially from 1, and uses the
first line of the commit message (massaged for pathname safety) as
the filename. With the <code>--numbered-files</code> option, the output file names
will only be numbers, without the first line of the commit appended.
The names of the output files are printed to standard
output, unless the <code>--stdout</code> option is specified.</p>


<p>If <code>-o</code> is specified, output files are created in &lt;dir&gt;.  Otherwise
they are created in the current working directory. The default path
can be set with the <code>format.outputDirectory</code> configuration option.
The <code>-o</code> option takes precedence over <code>format.outputDirectory</code>.
To store patches in the current working directory even when
<code>format.outputDirectory</code> points elsewhere, use <code>-o .</code>. All directory
components will be created.</p>


<p>By default, the subject of a single patch is "[PATCH] " followed by
the concatenation of lines from the commit message up to the first blank
line (see the DISCUSSION section of <a href="/docs/git-commit">git-commit[1]</a>).</p>


<p>When multiple patches are output, the subject prefix will instead be
"[PATCH n/m] ".  To force 1/1 to be added for a single patch, use <code>-n</code>.
To omit patch numbers from the subject, use <code>-N</code>.</p>


<p>If given <code>--thread</code>, <code>git-format-patch</code> will generate <code>In-Reply-To</code> and
<code>References</code> headers to make the second and subsequent patch mails appear
as replies to the first mail; this also generates a <code>Message-Id</code> header to
reference.</p>




<h2>options</h2>


<dl>
<dt> -p </dt>
<dt> --no-stat </dt>
<dd>
<p>Generate plain patches without any diffstats.</p>
</dd>
<dt> -U&lt;n&gt; </dt>
<dt> --unified=&lt;n&gt; </dt>
<dd>
<p>Generate diffs with &lt;n&gt; lines of context instead of
the usual three.</p>
</dd>
<dt> --output=&lt;file&gt; </dt>
<dd>
<p>Output to a specific file instead of stdout.</p>
</dd>
<dt> --output-indicator-new=&lt;char&gt; </dt>
<dt> --output-indicator-old=&lt;char&gt; </dt>
<dt> --output-indicator-context=&lt;char&gt; </dt>
<dd>
<p>Specify the character used to indicate new, old or context
lines in the generated patch. Normally they are <em>+</em>, <em>-</em> and
' ' respectively.</p>
</dd>
<dt> --indent-heuristic </dt>
<dd>
<p>Enable the heuristic that shifts diff hunk boundaries to make patches
easier to read. This is the default.</p>
</dd>
<dt> --no-indent-heuristic </dt>
<dd>
<p>Disable the indent heuristic.</p>
</dd>
<dt> --minimal </dt>
<dd>
<p>Spend extra time to make sure the smallest possible
diff is produced.</p>
</dd>
<dt> --patience </dt>
<dd>
<p>Generate a diff using the "patience diff" algorithm.</p>
</dd>
<dt> --histogram </dt>
<dd>
<p>Generate a diff using the "histogram diff" algorithm.</p>
</dd>
<dt> --anchored=&lt;text&gt; </dt>
<dd>
<p>Generate a diff using the "anchored diff" algorithm.</p>

<p>This option may be specified more than once.</p>


<p>If a line exists in both the source and destination, exists only once,
and starts with this text, this algorithm attempts to prevent it from
appearing as a deletion or addition in the output. It uses the "patience
diff" algorithm internally.</p>

</dd>
<dt> --diff-algorithm={patience|minimal|histogram|myers} </dt>
<dd>
<p>Choose a diff algorithm. The variants are as follows:</p>



<dl>
<dt> <code>default</code>, <code>myers</code> </dt>
<dd>
<p>The basic greedy diff algorithm. Currently, this is the default.</p>
</dd>
<dt> <code>minimal</code> </dt>
<dd>
<p>Spend extra time to make sure the smallest possible diff is
produced.</p>
</dd>
<dt> <code>patience</code> </dt>
<dd>
<p>Use "patience diff" algorithm when generating patches.</p>
</dd>
<dt> <code>histogram</code> </dt>
<dd>
<p>This algorithm extends the patience algorithm to "support
low-occurrence common elements".</p>
</dd>
</dl>




<p>For instance, if you configured the <code>diff.algorithm</code> variable to a
non-default value and want to use the default one, then you
have to use <code>--diff-algorithm=default</code> option.</p>

</dd>
<dt> --stat[=&lt;width&gt;[,&lt;name-width&gt;[,&lt;count&gt;]]] </dt>
<dd>
<p>Generate a diffstat. By default, as much space as necessary
will be used for the filename part, and the rest for the graph
part. Maximum width defaults to terminal width, or 80 columns
if not connected to a terminal, and can be overridden by
<code>&lt;width&gt;</code>. The width of the filename part can be limited by
giving another width <code>&lt;name-width&gt;</code> after a comma. The width
of the graph part can be limited by using
<code>--stat-graph-width=&lt;width&gt;</code> (affects all commands generating
a stat graph) or by setting <code>diff.statGraphWidth=&lt;width&gt;</code>
(does not affect <code>git format-patch</code>).
By giving a third parameter <code>&lt;count&gt;</code>, you can limit the
output to the first <code>&lt;count&gt;</code> lines, followed by <code>...</code> if
there are more.</p>

<p>These parameters can also be set individually with <code>--stat-width=&lt;width&gt;</code>,
<code>--stat-name-width=&lt;name-width&gt;</code> and <code>--stat-count=&lt;count&gt;</code>.</p>

</dd>
<dt> --compact-summary </dt>
<dd>
<p>Output a condensed summary of extended header information such
as file creations or deletions ("new" or "gone", optionally "+l"
if it’s a symlink) and mode changes ("+x" or "-x" for adding
or removing executable bit respectively) in diffstat. The
information is put between the filename part and the graph
part. Implies <code>--stat</code>.</p>
</dd>
<dt> --numstat </dt>
<dd>
<p>Similar to <code>--stat</code>, but shows number of added and
deleted lines in decimal notation and pathname without
abbreviation, to make it more machine friendly.  For
binary files, outputs two <code>-</code> instead of saying
<code>0 0</code>.</p>
</dd>
<dt> --shortstat </dt>
<dd>
<p>Output only the last line of the <code>--stat</code> format containing total
number of modified files, as well as number of added and deleted
lines.</p>
</dd>
<dt> -X[&lt;param1,param2,…<U+200B>&gt;] </dt>
<dt> --dirstat[=&lt;param1,param2,…<U+200B>&gt;] </dt>
<dd>
<p>Output the distribution of relative amount of changes for each
sub-directory. The behavior of <code>--dirstat</code> can be customized by
passing it a comma separated list of parameters.
The defaults are controlled by the <code>diff.dirstat</code> configuration
variable (see <a href="/docs/git-config">git-config[1]</a>).
The following parameters are available:</p>



<dl>
<dt> <code>changes</code> </dt>
<dd>
<p>Compute the dirstat numbers by counting the lines that have been
removed from the source, or added to the destination. This ignores
the amount of pure code movements within a file.  In other words,
rearranging lines in a file is not counted as much as other changes.
This is the default behavior when no parameter is given.</p>
</dd>
<dt> <code>lines</code> </dt>
<dd>
<p>Compute the dirstat numbers by doing the regular line-based diff
analysis, and summing the removed/added line counts. (For binary
files, count 64-byte chunks instead, since binary files have no
natural concept of lines). This is a more expensive <code>--dirstat</code>
behavior than the <code>changes</code> behavior, but it does count rearranged
lines within a file as much as other changes. The resulting output
is consistent with what you get from the other <code>--*stat</code> options.</p>
</dd>
<dt> <code>files</code> </dt>
<dd>
<p>Compute the dirstat numbers by counting the number of files changed.
Each changed file counts equally in the dirstat analysis. This is
the computationally cheapest <code>--dirstat</code> behavior, since it does
not have to look at the file contents at all.</p>
</dd>
<dt> <code>cumulative</code> </dt>
<dd>
<p>Count changes in a child directory for the parent directory as well.
Note that when using <code>cumulative</code>, the sum of the percentages
reported may exceed 100%. The default (non-cumulative) behavior can
be specified with the <code>noncumulative</code> parameter.</p>
</dd>
<dt> &lt;limit&gt; </dt>
<dd>
<p>An integer parameter specifies a cut-off percent (3% by default).
Directories contributing less than this percentage of the changes
are not shown in the output.</p>
</dd>
</dl>




<p>Example: The following will count changed files, while ignoring
directories with less than 10% of the total amount of changed files,
and accumulating child directory counts in the parent directories:
<code>--dirstat=files,10,cumulative</code>.</p>

</dd>
<dt> --cumulative </dt>
<dd>
<p>Synonym for --dirstat=cumulative</p>
</dd>
<dt> --dirstat-by-file[=&lt;param1,param2&gt;…<U+200B>] </dt>
<dd>
<p>Synonym for --dirstat=files,param1,param2…<U+200B></p>
</dd>
<dt> --summary </dt>
<dd>
<p>Output a condensed summary of extended header information
such as creations, renames and mode changes.</p>
</dd>
<dt> --no-renames </dt>
<dd>
<p>Turn off rename detection, even when the configuration
file gives the default to do so.</p>
</dd>
<dt> --[no-]rename-empty </dt>
<dd>
<p>Whether to use empty blobs as rename source.</p>
</dd>
<dt> --full-index </dt>
<dd>
<p>Instead of the first handful of characters, show the full
pre- and post-image blob object names on the "index"
line when generating patch format output.</p>
</dd>
<dt> --binary </dt>
<dd>
<p>In addition to <code>--full-index</code>, output a binary diff that
can be applied with <code>git-apply</code>.</p>
</dd>
<dt> --abbrev[=&lt;n&gt;] </dt>
<dd>
<p>Instead of showing the full 40-byte hexadecimal object
name in diff-raw format output and diff-tree header
lines, show the shortest prefix that is at least <em>&lt;n&gt;</em>
hexdigits long that uniquely refers the object.
In diff-patch output format, <code>--full-index</code> takes higher
precedence, i.e. if <code>--full-index</code> is specified, full blob
names will be shown regardless of <code>--abbrev</code>.
Non default number of digits can be specified with <code>--abbrev=&lt;n&gt;</code>.</p>
</dd>
<dt> -B[&lt;n&gt;][/&lt;m&gt;] </dt>
<dt> --break-rewrites[=[&lt;n&gt;][/&lt;m&gt;]] </dt>
<dd>
<p>Break complete rewrite changes into pairs of delete and
create. This serves two purposes:</p>

<p>It affects the way a change that amounts to a total rewrite of a file
not as a series of deletion and insertion mixed together with a very
few lines that happen to match textually as the context, but as a
single deletion of everything old followed by a single insertion of
everything new, and the number <code>m</code> controls this aspect of the -B
option (defaults to 60%). <code>-B/70%</code> specifies that less than 30% of the
original should remain in the result for Git to consider it a total
rewrite (i.e. otherwise the resulting patch will be a series of
deletion and insertion mixed together with context lines).</p>


<p>When used with -M, a totally-rewritten file is also considered as the
source of a rename (usually -M only considers a file that disappeared
as the source of a rename), and the number <code>n</code> controls this aspect of
the -B option (defaults to 50%). <code>-B20%</code> specifies that a change with
addition and deletion compared to 20% or more of the file’s size are
eligible for being picked up as a possible source of a rename to
another file.</p>

</dd>
<dt> -M[&lt;n&gt;] </dt>
<dt> --find-renames[=&lt;n&gt;] </dt>
<dd>
<p>Detect renames.
If <code>n</code> is specified, it is a threshold on the similarity
index (i.e. amount of addition/deletions compared to the
file’s size). For example, <code>-M90%</code> means Git should consider a
delete/add pair to be a rename if more than 90% of the file
hasn’t changed.  Without a <code>%</code> sign, the number is to be read as
a fraction, with a decimal point before it.  I.e., <code>-M5</code> becomes
0.5, and is thus the same as <code>-M50%</code>.  Similarly, <code>-M05</code> is
the same as <code>-M5%</code>.  To limit detection to exact renames, use
<code>-M100%</code>.  The default similarity index is 50%.</p>
</dd>
<dt> -C[&lt;n&gt;] </dt>
<dt> --find-copies[=&lt;n&gt;] </dt>
<dd>
<p>Detect copies as well as renames.  See also <code>--find-copies-harder</code>.
If <code>n</code> is specified, it has the same meaning as for <code>-M&lt;n&gt;</code>.</p>
</dd>
<dt> --find-copies-harder </dt>
<dd>
<p>For performance reasons, by default, <code>-C</code> option finds copies only
if the original file of the copy was modified in the same
changeset.  This flag makes the command
inspect unmodified files as candidates for the source of
copy.  This is a very expensive operation for large
projects, so use it with caution.  Giving more than one
<code>-C</code> option has the same effect.</p>
</dd>
<dt> -D </dt>
<dt> --irreversible-delete </dt>
<dd>
<p>Omit the preimage for deletes, i.e. print only the header but not
the diff between the preimage and <code>/dev/null</code>. The resulting patch
is not meant to be applied with <code>patch</code> or <code>git apply</code>; this is
solely for people who want to just concentrate on reviewing the
text after the change. In addition, the output obviously lacks
enough information to apply such a patch in reverse, even manually,
hence the name of the option.</p>

<p>When used together with <code>-B</code>, omit also the preimage in the deletion part
of a delete/create pair.</p>

</dd>
<dt> -l&lt;num&gt; </dt>
<dd>
<p>The <code>-M</code> and <code>-C</code> options involve some preliminary steps that
can detect subsets of renames/copies cheaply, followed by an
exhaustive fallback portion that compares all remaining
unpaired destinations to all relevant sources.  (For renames,
only remaining unpaired sources are relevant; for copies, all
original sources are relevant.)  For N sources and
destinations, this exhaustive check is O(N^2).  This option
prevents the exhaustive portion of rename/copy detection from
running if the number of source/destination files involved
exceeds the specified number.  Defaults to diff.renameLimit.
Note that a value of 0 is treated as unlimited.</p>
</dd>
<dt> -O&lt;orderfile&gt; </dt>
<dd>
<p>Control the order in which files appear in the output.
This overrides the <code>diff.orderFile</code> configuration variable
(see <a href="/docs/git-config">git-config[1]</a>).  To cancel <code>diff.orderFile</code>,
use <code>-O/dev/null</code>.</p>

<p>The output order is determined by the order of glob patterns in
&lt;orderfile&gt;.
All files with pathnames that match the first pattern are output
first, all files with pathnames that match the second pattern (but not
the first) are output next, and so on.
All files with pathnames that do not match any pattern are output
last, as if there was an implicit match-all pattern at the end of the
file.
If multiple pathnames have the same rank (they match the same pattern
but no earlier patterns), their output order relative to each other is
the normal order.</p>


<p>&lt;orderfile&gt; is parsed as follows:</p>




<ul>
<li>
<p>Blank lines are ignored, so they can be used as separators for
readability.</p>
</li>
<li>
<p>Lines starting with a hash ("<code>#</code>") are ignored, so they can be used
for comments.  Add a backslash ("<code>\</code>") to the beginning of the
pattern if it starts with a hash.</p>
</li>
<li>
<p>Each other line contains a single pattern.</p>
</li>
</ul>




<p>Patterns have the same syntax and semantics as patterns used for
fnmatch(3) without the FNM_PATHNAME flag, except a pathname also
matches a pattern if removing any number of the final pathname
components matches the pattern.  For example, the pattern "<code>foo*bar</code>"
matches "<code>fooasdfbar</code>" and "<code>foo/bar/baz/asdf</code>" but not "<code>foobarx</code>".</p>

</dd>
<dt> --skip-to=&lt;file&gt; </dt>
<dt> --rotate-to=&lt;file&gt; </dt>
<dd>
<p>Discard the files before the named &lt;file&gt; from the output
(i.e. <em>skip to</em>), or move them to the end of the output
(i.e. <em>rotate to</em>).  These were invented primarily for use
of the <code>git difftool</code> command, and may not be very useful
otherwise.</p>
</dd>
<dt> --relative[=&lt;path&gt;] </dt>
<dt> --no-relative </dt>
<dd>
<p>When run from a subdirectory of the project, it can be
told to exclude changes outside the directory and show
pathnames relative to it with this option.  When you are
not in a subdirectory (e.g. in a bare repository), you
can name which subdirectory to make the output relative
to by giving a &lt;path&gt; as an argument.
<code>--no-relative</code> can be used to countermand both <code>diff.relative</code> config
option and previous <code>--relative</code>.</p>
</dd>
<dt> -a </dt>
<dt> --text </dt>
<dd>
<p>Treat all files as text.</p>
</dd>
<dt> --ignore-cr-at-eol </dt>
<dd>
<p>Ignore carriage-return at the end of line when doing a comparison.</p>
</dd>
<dt> --ignore-space-at-eol </dt>
<dd>
<p>Ignore changes in whitespace at EOL.</p>
</dd>
<dt> -b </dt>
<dt> --ignore-space-change </dt>
<dd>
<p>Ignore changes in amount of whitespace.  This ignores whitespace
at line end, and considers all other sequences of one or
more whitespace characters to be equivalent.</p>
</dd>
<dt> -w </dt>
<dt> --ignore-all-space </dt>
<dd>
<p>Ignore whitespace when comparing lines.  This ignores
differences even if one line has whitespace where the other
line has none.</p>
</dd>
<dt> --ignore-blank-lines </dt>
<dd>
<p>Ignore changes whose lines are all blank.</p>
</dd>
<dt> -I&lt;regex&gt; </dt>
<dt> --ignore-matching-lines=&lt;regex&gt; </dt>
<dd>
<p>Ignore changes whose all lines match &lt;regex&gt;.  This option may
be specified more than once.</p>
</dd>
<dt> --inter-hunk-context=&lt;lines&gt; </dt>
<dd>
<p>Show the context between diff hunks, up to the specified number
of lines, thereby fusing hunks that are close to each other.
Defaults to <code>diff.interHunkContext</code> or 0 if the config option
is unset.</p>
</dd>
<dt> -W </dt>
<dt> --function-context </dt>
<dd>
<p>Show whole function as context lines for each change.
The function names are determined in the same way as
<code>git diff</code> works out patch hunk headers (see <em>Defining a
custom hunk-header</em> in <a href="/docs/gitattributes">gitattributes[5]</a>).</p>
</dd>
<dt> --ext-diff </dt>
<dd>
<p>Allow an external diff helper to be executed. If you set an
external diff driver with <a href="/docs/gitattributes">gitattributes[5]</a>, you need
to use this option with <a href="/docs/git-log">git-log[1]</a> and friends.</p>
</dd>
<dt> --no-ext-diff </dt>
<dd>
<p>Disallow external diff drivers.</p>
</dd>
<dt> --textconv </dt>
<dt> --no-textconv </dt>
<dd>
<p>Allow (or disallow) external text conversion filters to be run
when comparing binary files. See <a href="/docs/gitattributes">gitattributes[5]</a> for
details. Because textconv filters are typically a one-way
conversion, the resulting diff is suitable for human
consumption, but cannot be applied. For this reason, textconv
filters are enabled by default only for <a href="/docs/git-diff">git-diff[1]</a> and
<a href="/docs/git-log">git-log[1]</a>, but not for <a href="/docs/git-format-patch">git-format-patch[1]</a> or
diff plumbing commands.</p>
</dd>
<dt> --ignore-submodules[=&lt;when&gt;] </dt>
<dd>
<p>Ignore changes to submodules in the diff generation. &lt;when&gt; can be
either "none", "untracked", "dirty" or "all", which is the default.
Using "none" will consider the submodule modified when it either contains
untracked or modified files or its HEAD differs from the commit recorded
in the superproject and can be used to override any settings of the
<em>ignore</em> option in <a href="/docs/git-config">git-config[1]</a> or <a href="/docs/gitmodules">gitmodules[5]</a>. When
"untracked" is used submodules are not considered dirty when they only
contain untracked content (but they are still scanned for modified
content). Using "dirty" ignores all changes to the work tree of submodules,
only changes to the commits stored in the superproject are shown (this was
the behavior until 1.7.0). Using "all" hides all changes to submodules.</p>
</dd>
<dt> --src-prefix=&lt;prefix&gt; </dt>
<dd>
<p>Show the given source prefix instead of "a/".</p>
</dd>
<dt> --dst-prefix=&lt;prefix&gt; </dt>
<dd>
<p>Show the given destination prefix instead of "b/".</p>
</dd>
<dt> --no-prefix </dt>
<dd>
<p>Do not show any source or destination prefix.</p>
</dd>
<dt> --line-prefix=&lt;prefix&gt; </dt>
<dd>
<p>Prepend an additional prefix to every line of output.</p>
</dd>
<dt> --ita-invisible-in-index </dt>
<dd>
<p>By default entries added by "git add -N" appear as an existing
empty file in "git diff" and a new file in "git diff --cached".
This option makes the entry appear as a new file in "git diff"
and non-existent in "git diff --cached". This option could be
reverted with <code>--ita-visible-in-index</code>. Both options are
experimental and could be removed in future.</p>
</dd>
</dl>


<p>For more detailed explanation on these common options, see also
<a href="/docs/gitdiffcore">gitdiffcore[7]</a>.</p>


<dl>
<dt> -&lt;n&gt; </dt>
<dd>
<p>Prepare patches from the topmost &lt;n&gt; commits.</p>
</dd>
<dt> -o &lt;dir&gt; </dt>
<dt> --output-directory &lt;dir&gt; </dt>
<dd>
<p>Use &lt;dir&gt; to store the resulting files, instead of the
current working directory.</p>
</dd>
<dt> -n </dt>
<dt> --numbered </dt>
<dd>
<p>Name output in <em>[PATCH n/m]</em> format, even with a single patch.</p>
</dd>
<dt> -N </dt>
<dt> --no-numbered </dt>
<dd>
<p>Name output in <em>[PATCH]</em> format.</p>
</dd>
<dt> --start-number &lt;n&gt; </dt>
<dd>
<p>Start numbering the patches at &lt;n&gt; instead of 1.</p>
</dd>
<dt> --numbered-files </dt>
<dd>
<p>Output file names will be a simple number sequence
without the default first line of the commit appended.</p>
</dd>
<dt> -k </dt>
<dt> --keep-subject </dt>
<dd>
<p>Do not strip/add <em>[PATCH]</em> from the first line of the
commit log message.</p>
</dd>
<dt> -s </dt>
<dt> --signoff </dt>
<dd>
<p>Add a <code>Signed-off-by</code> trailer to the commit message, using
the committer identity of yourself.
See the signoff option in <a href="/docs/git-commit">git-commit[1]</a> for more information.</p>
</dd>
<dt> --stdout </dt>
<dd>
<p>Print all commits to the standard output in mbox format,
instead of creating a file for each one.</p>
</dd>
<dt> --attach[=&lt;boundary&gt;] </dt>
<dd>
<p>Create multipart/mixed attachment, the first part of
which is the commit message and the patch itself in the
second part, with <code>Content-Disposition: attachment</code>.</p>
</dd>
<dt> --no-attach </dt>
<dd>
<p>Disable the creation of an attachment, overriding the
configuration setting.</p>
</dd>
<dt> --inline[=&lt;boundary&gt;] </dt>
<dd>
<p>Create multipart/mixed attachment, the first part of
which is the commit message and the patch itself in the
second part, with <code>Content-Disposition: inline</code>.</p>
</dd>
<dt> --thread[=&lt;style&gt;] </dt>
<dt> --no-thread </dt>
<dd>
<p>Controls addition of <code>In-Reply-To</code> and <code>References</code> headers to
make the second and subsequent mails appear as replies to the
first.  Also controls generation of the <code>Message-Id</code> header to
reference.</p>

<p>The optional &lt;style&gt; argument can be either <code>shallow</code> or <code>deep</code>.
<em>shallow</em> threading makes every mail a reply to the head of the
series, where the head is chosen from the cover letter, the
<code>--in-reply-to</code>, and the first patch mail, in this order.  <em>deep</em>
threading makes every mail a reply to the previous one.</p>


<p>The default is <code>--no-thread</code>, unless the <code>format.thread</code> configuration
is set.  If <code>--thread</code> is specified without a style, it defaults to the
style specified by <code>format.thread</code> if any, or else <code>shallow</code>.</p>


<p>Beware that the default for <em>git send-email</em> is to thread emails
itself.  If you want <code>git format-patch</code> to take care of threading, you
will want to ensure that threading is disabled for <code>git send-email</code>.</p>

</dd>
<dt> --in-reply-to=&lt;message id&gt; </dt>
<dd>
<p>Make the first mail (or all the mails with <code>--no-thread</code>) appear as a
reply to the given &lt;message id&gt;, which avoids breaking threads to
provide a new patch series.</p>
</dd>
<dt> --ignore-if-in-upstream </dt>
<dd>
<p>Do not include a patch that matches a commit in
&lt;until&gt;..&lt;since&gt;.  This will examine all patches reachable
from &lt;since&gt; but not from &lt;until&gt; and compare them with the
patches being generated, and any patch that matches is
ignored.</p>
</dd>
<dt> --always </dt>
<dd>
<p>Include patches for commits that do not introduce any change,
which are omitted by default.</p>
</dd>
<dt> --cover-from-description=&lt;mode&gt; </dt>
<dd>
<p>Controls which parts of the cover letter will be automatically
populated using the branch’s description.</p>

<p>If <code>&lt;mode&gt;</code> is <code>message</code> or <code>default</code>, the cover letter subject will be
populated with placeholder text. The body of the cover letter will be
populated with the branch’s description. This is the default mode when
no configuration nor command line option is specified.</p>


<p>If <code>&lt;mode&gt;</code> is <code>subject</code>, the first paragraph of the branch description will
populate the cover letter subject. The remainder of the description will
populate the body of the cover letter.</p>


<p>If <code>&lt;mode&gt;</code> is <code>auto</code>, if the first paragraph of the branch description
is greater than 100 bytes, then the mode will be <code>message</code>, otherwise
<code>subject</code> will be used.</p>


<p>If <code>&lt;mode&gt;</code> is <code>none</code>, both the cover letter subject and body will be
populated with placeholder text.</p>

</dd>
<dt> --subject-prefix=&lt;subject prefix&gt; </dt>
<dd>
<p>Instead of the standard <em>[PATCH]</em> prefix in the subject
line, instead use <em>[&lt;subject prefix&gt;]</em>. This
allows for useful naming of a patch series, and can be
combined with the <code>--numbered</code> option.</p>
</dd>
<dt> --filename-max-length=&lt;n&gt; </dt>
<dd>
<p>Instead of the standard 64 bytes, chomp the generated output
filenames at around <em>&lt;n&gt;</em> bytes (too short a value will be
silently raised to a reasonable length).  Defaults to the
value of the <code>format.filenameMaxLength</code> configuration
variable, or 64 if unconfigured.</p>
</dd>
<dt> --rfc </dt>
<dd>
<p>Alias for <code>--subject-prefix="RFC PATCH"</code>. RFC means "Request For
Comments"; use this when sending an experimental patch for
discussion rather than application.</p>
</dd>
<dt> -v &lt;n&gt; </dt>
<dt> --reroll-count=&lt;n&gt; </dt>
<dd>
<p>Mark the series as the &lt;n&gt;-th iteration of the topic. The
output filenames have <code>v&lt;n&gt;</code> prepended to them, and the
subject prefix ("PATCH" by default, but configurable via the
<code>--subject-prefix</code> option) has ` v&lt;n&gt;` appended to it.  E.g.
<code>--reroll-count=4</code> may produce <code>v4-0001-add-makefile.patch</code>
file that has "Subject: [PATCH v4 1/20] Add makefile" in it.
<code>&lt;n&gt;</code> does not have to be an integer (e.g. "--reroll-count=4.4",
or "--reroll-count=4rev2" are allowed), but the downside of
using such a reroll-count is that the range-diff/interdiff
with the previous version does not state exactly which
version the new interation is compared against.</p>
</dd>
<dt> --to=&lt;email&gt; </dt>
<dd>
<p>Add a <code>To:</code> header to the email headers. This is in addition
to any configured headers, and may be used multiple times.
The negated form <code>--no-to</code> discards all <code>To:</code> headers added so
far (from config or command line).</p>
</dd>
<dt> --cc=&lt;email&gt; </dt>
<dd>
<p>Add a <code>Cc:</code> header to the email headers. This is in addition
to any configured headers, and may be used multiple times.
The negated form <code>--no-cc</code> discards all <code>Cc:</code> headers added so
far (from config or command line).</p>
</dd>
<dt> --from </dt>
<dt> --from=&lt;ident&gt; </dt>
<dd>
<p>Use <code>ident</code> in the <code>From:</code> header of each commit email. If the
author ident of the commit is not textually identical to the
provided <code>ident</code>, place a <code>From:</code> header in the body of the
message with the original author. If no <code>ident</code> is given, use
the committer ident.</p>

<p>Note that this option is only useful if you are actually sending the
emails and want to identify yourself as the sender, but retain the
original author (and <code>git am</code> will correctly pick up the in-body
header). Note also that <code>git send-email</code> already handles this
transformation for you, and this option should not be used if you are
feeding the result to <code>git send-email</code>.</p>

</dd>
<dt> --add-header=&lt;header&gt; </dt>
<dd>
<p>Add an arbitrary header to the email headers.  This is in addition
to any configured headers, and may be used multiple times.
For example, <code>--add-header="Organization: git-foo"</code>.
The negated form <code>--no-add-header</code> discards <strong>all</strong> (<code>To:</code>,
<code>Cc:</code>, and custom) headers added so far from config or command
line.</p>
</dd>
<dt> --[no-]cover-letter </dt>
<dd>
<p>In addition to the patches, generate a cover letter file
containing the branch description, shortlog and the overall diffstat.  You can
fill in a description in the file before sending it out.</p>
</dd>
<dt> --encode-email-headers </dt>
<dt> --no-encode-email-headers </dt>
<dd>
<p>Encode email headers that have non-ASCII characters with
"Q-encoding" (described in RFC 2047), instead of outputting the
headers verbatim. Defaults to the value of the
<code>format.encodeEmailHeaders</code> configuration variable.</p>
</dd>
<dt> --interdiff=&lt;previous&gt; </dt>
<dd>
<p>As a reviewer aid, insert an interdiff into the cover letter,
or as commentary of the lone patch of a 1-patch series, showing
the differences between the previous version of the patch series and
the series currently being formatted. <code>previous</code> is a single revision
naming the tip of the previous series which shares a common base with
the series being formatted (for example <code>git format-patch
--cover-letter --interdiff=feature/v1 -3 feature/v2</code>).</p>
</dd>
<dt> --range-diff=&lt;previous&gt; </dt>
<dd>
<p>As a reviewer aid, insert a range-diff (see <a href="/docs/git-range-diff">git-range-diff[1]</a>)
into the cover letter, or as commentary of the lone patch of a
1-patch series, showing the differences between the previous
version of the patch series and the series currently being formatted.
<code>previous</code> can be a single revision naming the tip of the previous
series if it shares a common base with the series being formatted (for
example <code>git format-patch --cover-letter --range-diff=feature/v1 -3
feature/v2</code>), or a revision range if the two versions of the series are
disjoint (for example <code>git format-patch --cover-letter
--range-diff=feature/v1~3..feature/v1 -3 feature/v2</code>).</p>

<p>Note that diff options passed to the command affect how the primary
product of <code>format-patch</code> is generated, and they are not passed to
the underlying <code>range-diff</code> machinery used to generate the cover-letter
material (this may change in the future).</p>

</dd>
<dt> --creation-factor=&lt;percent&gt; </dt>
<dd>
<p>Used with <code>--range-diff</code>, tweak the heuristic which matches up commits
between the previous and current series of patches by adjusting the
creation/deletion cost fudge factor. See <a href="/docs/git-range-diff">git-range-diff[1]</a>)
for details.</p>
</dd>
<dt> --notes[=&lt;ref&gt;] </dt>
<dt> --no-notes </dt>
<dd>
<p>Append the notes (see <a href="/docs/git-notes">git-notes[1]</a>) for the commit
after the three-dash line.</p>

<p>The expected use case of this is to write supporting explanation for
the commit that does not belong to the commit log message proper,
and include it with the patch submission. While one can simply write
these explanations after <code>format-patch</code> has run but before sending,
keeping them as Git notes allows them to be maintained between versions
of the patch series (but see the discussion of the <code>notes.rewrite</code>
configuration options in <a href="/docs/git-notes">git-notes[1]</a> to use this workflow).</p>


<p>The default is <code>--no-notes</code>, unless the <code>format.notes</code> configuration is
set.</p>

</dd>
<dt> --[no-]signature=&lt;signature&gt; </dt>
<dd>
<p>Add a signature to each message produced. Per RFC 3676 the signature
is separated from the body by a line with '-- ' on it. If the
signature option is omitted the signature defaults to the Git version
number.</p>
</dd>
<dt> --signature-file=&lt;file&gt; </dt>
<dd>
<p>Works just like --signature except the signature is read from a file.</p>
</dd>
<dt> --suffix=.&lt;sfx&gt; </dt>
<dd>
<p>Instead of using <code>.patch</code> as the suffix for generated
filenames, use specified suffix.  A common alternative is
<code>--suffix=.txt</code>.  Leaving this empty will remove the <code>.patch</code>
suffix.</p>

<p>Note that the leading character does not have to be a dot; for example,
you can use <code>--suffix=-patch</code> to get <code>0001-description-of-my-change-patch</code>.</p>

</dd>
<dt> -q </dt>
<dt> --quiet </dt>
<dd>
<p>Do not print the names of the generated files to standard output.</p>
</dd>
<dt> --no-binary </dt>
<dd>
<p>Do not output contents of changes in binary files, instead
display a notice that those files changed.  Patches generated
using this option cannot be applied properly, but they are
still useful for code review.</p>
</dd>
<dt> --zero-commit </dt>
<dd>
<p>Output an all-zero hash in each patch’s From header instead
of the hash of the commit.</p>
</dd>
<dt> --[no-]base[=&lt;commit&gt;] </dt>
<dd>
<p>Record the base tree information to identify the state the
patch series applies to.  See the BASE TREE INFORMATION section
below for details. If &lt;commit&gt; is "auto", a base commit is
automatically chosen. The <code>--no-base</code> option overrides a
<code>format.useAutoBase</code> configuration.</p>
</dd>
<dt> --root </dt>
<dd>
<p>Treat the revision argument as a &lt;revision range&gt;, even if it
is just a single commit (that would normally be treated as a
&lt;since&gt;).  Note that root commits included in the specified
range are always formatted as creation patches, independently
of this flag.</p>
</dd>
<dt> --progress </dt>
<dd>
<p>Show progress reports on stderr as patches are generated.</p>
</dd>
</dl>




<h2>CONFIGURATION</h2>


<p>You can specify extra mail header lines to be added to each message,
defaults for the subject prefix and file suffix, number patches when
outputting more than one patch, add "To:" or "Cc:" headers, configure
attachments, change the patch output directory, and sign off patches
with configuration variables.</p>



<pre>[format]
	headers = "Organization: git-foo\n"
	subjectPrefix = CHANGE
	suffix = .txt
	numbered = auto
	to = &lt;email&gt;
	cc = &lt;email&gt;
	attach [ = mime-boundary-string ]
	signOff = true
	outputDirectory = &lt;directory&gt;
	coverLetter = auto
	coverFromDescription = auto</pre>





<h2>DISCUSSION</h2>


<p>The patch produced by <em>git format-patch</em> is in UNIX mailbox format,
with a fixed "magic" time stamp to indicate that the file is output
from format-patch rather than a real mailbox, like so:</p>



<pre>From 8f72bad1baf19a53459661343e21d6491c3908d3 Mon Sep 17 00:00:00 2001
From: Tony Luck &lt;tony.luck@intel.com&gt;
Date: Tue, 13 Jul 2010 11:42:54 -0700
Subject: [PATCH] =?UTF-8?q?[IA64]=20Put=20ia64=20config=20files=20on=20the=20?=
 =?UTF-8?q?Uwe=20Kleine-K=C3=B6nig=20diet?=
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

arch/arm config files were slimmed down using a python script
(See commit c2330e286f68f1c408b4aa6515ba49d57f05beae comment)

Do the same for ia64 so we can have sleek &amp; trim looking
...</pre>



<p>Typically it will be placed in a MUA’s drafts folder, edited to add
timely commentary that should not go in the changelog after the three
dashes, and then sent as a message whose body, in our example, starts
with "arch/arm config files were…<U+200B>".  On the receiving end, readers
can save interesting patches in a UNIX mailbox and apply them with
<a href="/docs/git-am">git-am[1]</a>.</p>


<p>When a patch is part of an ongoing discussion, the patch generated by
<em>git format-patch</em> can be tweaked to take advantage of the <em>git am
--scissors</em> feature.  After your response to the discussion comes a
line that consists solely of "<code>-- &gt;8 --</code>" (scissors and perforation),
followed by the patch with unnecessary header fields removed:</p>



<pre>...
&gt; So we should do such-and-such.

Makes sense to me.  How about this patch?

-- &gt;8 --
Subject: [IA64] Put ia64 config files on the Uwe Kleine-König diet

arch/arm config files were slimmed down using a python script
...</pre>



<p>When sending a patch this way, most often you are sending your own
patch, so in addition to the "<code>From $SHA1 $magic_timestamp</code>" marker you
should omit <code>From:</code> and <code>Date:</code> lines from the patch file.  The patch
title is likely to be different from the subject of the discussion the
patch is in response to, so it is likely that you would want to keep
the Subject: line, like the example above.</p>


<h3>
Checking for patch corruption</h3>

<p>Many mailers if not set up properly will corrupt whitespace.  Here are
two common types of corruption:</p>


<ul>
<li>
<p>Empty context lines that do not have <em>any</em> whitespace.</p>
</li>
<li>
<p>Non-empty context lines that have one extra whitespace at the
beginning.</p>
</li>
</ul>


<p>One way to test if your MUA is set up correctly is:</p>


<ul>
<li>
<p>Send the patch to yourself, exactly the way you would, except
with To: and Cc: lines that do not contain the list and
maintainer address.</p>
</li>
<li>
<p>Save that patch to a file in UNIX mailbox format.  Call it a.patch,
say.</p>
</li>
<li>
<p>Apply it:</p>


<pre>$ git fetch &lt;project&gt; master:test-apply
$ git switch test-apply
$ git restore --source=HEAD --staged --worktree :/
$ git am a.patch</pre>


</li>
</ul>


<p>If it does not apply correctly, there can be various reasons.</p>


<ul>
<li>
<p>The patch itself does not apply cleanly.  That is <em>bad</em> but
does not have much to do with your MUA.  You might want to rebase
the patch with <a href="/docs/git-rebase">git-rebase[1]</a> before regenerating it in
this case.</p>
</li>
<li>
<p>The MUA corrupted your patch; "am" would complain that
the patch does not apply.  Look in the .git/rebase-apply/ subdirectory and
see what <em>patch</em> file contains and check for the common
corruption patterns mentioned above.</p>
</li>
<li>
<p>While at it, check the <em>info</em> and <em>final-commit</em> files as well.
If what is in <em>final-commit</em> is not exactly what you would want to
see in the commit log message, it is very likely that the
receiver would end up hand editing the log message when applying
your patch.  Things like "Hi, this is my first patch.\n" in the
patch e-mail should come after the three-dash line that signals
the end of the commit message.</p>
</li>
</ul>





<h2>MUA-SPECIFIC HINTS</h2>


<p>Here are some hints on how to successfully submit patches inline using
various mailers.</p>


<h3>
GMail</h3>

<p>GMail does not have any way to turn off line wrapping in the web
interface, so it will mangle any emails that you send.  You can however
use "git send-email" and send your patches through the GMail SMTP server, or
use any IMAP email client to connect to the google IMAP server and forward
the emails through that.</p>


<p>For hints on using <em>git send-email</em> to send your patches through the
GMail SMTP server, see the EXAMPLE section of <a href="/docs/git-send-email">git-send-email[1]</a>.</p>


<p>For hints on submission using the IMAP interface, see the EXAMPLE
section of <a href="/docs/git-imap-send">git-imap-send[1]</a>.</p>



<h3>
Thunderbird</h3>

<p>By default, Thunderbird will both wrap emails as well as flag
them as being <em>format=flowed</em>, both of which will make the
resulting email unusable by Git.</p>


<p>There are three different approaches: use an add-on to turn off line wraps,
configure Thunderbird to not mangle patches, or use
an external editor to keep Thunderbird from mangling the patches.</p>


<h4>
Approach #1 (add-on)</h4>

<p>Install the Toggle Word Wrap add-on that is available from
<a href="https://addons.mozilla.org/thunderbird/addon/toggle-word-wrap/">https://addons.mozilla.org/thunderbird/addon/toggle-word-wrap/</a>
It adds a menu entry "Enable Word Wrap" in the composer’s "Options" menu
that you can tick off. Now you can compose the message as you otherwise do
(cut + paste, <em>git format-patch</em> | <em>git imap-send</em>, etc), but you have to
insert line breaks manually in any text that you type.</p>



<h4>
Approach #2 (configuration)</h4>

<p>Three steps:</p>


<ol>
<li>
<p>Configure your mail server composition as plain text:
Edit…<U+200B>Account Settings…<U+200B>Composition &amp; Addressing,
uncheck "Compose Messages in HTML".</p>
</li>
<li>
<p>Configure your general composition window to not wrap.</p>

<p>In Thunderbird 2:
Edit..Preferences..Composition, wrap plain text messages at 0</p>


<p>In Thunderbird 3:
Edit..Preferences..Advanced..Config Editor.  Search for
"mail.wrap_long_lines".
Toggle it to make sure it is set to <code>false</code>. Also, search for
"mailnews.wraplength" and set the value to 0.</p>

</li>
<li>
<p>Disable the use of format=flowed:
Edit..Preferences..Advanced..Config Editor.  Search for
"mailnews.send_plaintext_flowed".
Toggle it to make sure it is set to <code>false</code>.</p>
</li>
</ol>


<p>After that is done, you should be able to compose email as you
otherwise would (cut + paste, <em>git format-patch</em> | <em>git imap-send</em>, etc),
and the patches will not be mangled.</p>



<h4>
Approach #3 (external editor)</h4>

<p>The following Thunderbird extensions are needed:
AboutConfig from <a href="http://aboutconfig.mozdev.org/">http://aboutconfig.mozdev.org/</a> and
External Editor from <a href="http://globs.org/articles.php?lng=en&amp;pg=8">http://globs.org/articles.php?lng=en&amp;pg=8</a></p>


<ol>
<li>
<p>Prepare the patch as a text file using your method of choice.</p>
</li>
<li>
<p>Before opening a compose window, use Edit<U+2192>Account Settings to
uncheck the "Compose messages in HTML format" setting in the
"Composition &amp; Addressing" panel of the account to be used to
send the patch.</p>
</li>
<li>
<p>In the main Thunderbird window, <em>before</em> you open the compose
window for the patch, use Tools<U+2192>about:config to set the
following to the indicated values:</p>


<pre>	mailnews.send_plaintext_flowed  =&gt; false
	mailnews.wraplength             =&gt; 0</pre>


</li>
<li>
<p>Open a compose window and click the external editor icon.</p>
</li>
<li>
<p>In the external editor window, read in the patch file and exit
the editor normally.</p>
</li>
</ol>


<p>Side note: it may be possible to do step 2 with
about:config and the following settings but no one’s tried yet.</p>



<pre>	mail.html_compose                       =&gt; false
	mail.identity.default.compose_html      =&gt; false
	mail.identity.id?.compose_html          =&gt; false</pre>



<p>There is a script in contrib/thunderbird-patch-inline which can help
you include patches with Thunderbird in an easy way. To use it, do the
steps above and then use the script as the external editor.</p>




<h3>
KMail</h3>

<p>This should help you to submit patches inline using KMail.</p>


<ol>
<li>
<p>Prepare the patch as a text file.</p>
</li>
<li>
<p>Click on New Mail.</p>
</li>
<li>
<p>Go under "Options" in the Composer window and be sure that
"Word wrap" is not set.</p>
</li>
<li>
<p>Use Message <U+2192> Insert file…<U+200B> and insert the patch.</p>
</li>
<li>
<p>Back in the compose window: add whatever other text you wish to the
message, complete the addressing and subject fields, and press send.</p>
</li>
</ol>





<h2>BASE TREE INFORMATION</h2>


<p>The base tree information block is used for maintainers or third party
testers to know the exact state the patch series applies to. It consists
of the <em>base commit</em>, which is a well-known commit that is part of the
stable part of the project history everybody else works off of, and zero
or more <em>prerequisite patches</em>, which are well-known patches in flight
that is not yet part of the <em>base commit</em> that need to be applied on top
of <em>base commit</em> in topological order before the patches can be applied.</p>


<p>The <em>base commit</em> is shown as "base-commit: " followed by the 40-hex of
the commit object name.  A <em>prerequisite patch</em> is shown as
"prerequisite-patch-id: " followed by the 40-hex <em>patch id</em>, which can
be obtained by passing the patch through the <code>git patch-id --stable</code>
command.</p>


<p>Imagine that on top of the public commit P, you applied well-known
patches X, Y and Z from somebody else, and then built your three-patch
series A, B, C, the history would be like:</p>



<pre>---P---X---Y---Z---A---B---C</pre>



<p>With <code>git format-patch --base=P -3 C</code> (or variants thereof, e.g. with
<code>--cover-letter</code> or using <code>Z..C</code> instead of <code>-3 C</code> to specify the
range), the base tree information block is shown at the end of the
first message the command outputs (either the first patch, or the
cover letter), like this:</p>



<pre>base-commit: P
prerequisite-patch-id: X
prerequisite-patch-id: Y
prerequisite-patch-id: Z</pre>



<p>For non-linear topology, such as</p>



<pre>---P---X---A---M---C
    \         /
     Y---Z---B</pre>



<p>You can also use <code>git format-patch --base=P -3 C</code> to generate patches
for A, B and C, and the identifiers for P, X, Y, Z are appended at the
end of the first message.</p>


<p>If set <code>--base=auto</code> in cmdline, it will automatically compute
the base commit as the merge base of tip commit of the remote-tracking
branch and revision-range specified in cmdline.
For a local branch, you need to make it to track a remote branch by <code>git branch
--set-upstream-to</code> before using this option.</p>




<h2>examples</h2>


<ul>
<li>
<p>Extract commits between revisions R1 and R2, and apply them on top of
the current branch using <em>git am</em> to cherry-pick them:</p>


<pre>$ git format-patch -k --stdout R1..R2 | git am -3 -k</pre>


</li>
<li>
<p>Extract all commits which are in the current branch but not in the
origin branch:</p>


<pre>$ git format-patch origin</pre>



<p>For each commit a separate file is created in the current directory.</p>

</li>
<li>
<p>Extract all commits that lead to <em>origin</em> since the inception of the
project:</p>


<pre>$ git format-patch --root origin</pre>


</li>
<li>
<p>The same as the previous one:</p>


<pre>$ git format-patch -M -B origin</pre>



<p>Additionally, it detects and handles renames and complete rewrites
intelligently to produce a renaming patch.  A renaming patch reduces
the amount of text output, and generally makes it easier to review.
Note that non-Git "patch" programs won’t understand renaming patches, so
use it only when you know the recipient uses Git to apply your patch.</p>

</li>
<li>
<p>Extract three topmost commits from the current branch and format them
as e-mailable patches:</p>


<pre>$ git format-patch -3</pre>


</li>
</ul>




<h2>CAVEATS</h2>


<p>Note that <code>format-patch</code> will omit merge commits from the output, even
if they are part of the requested range. A simple "patch" does not
include enough information for the receiving end to reproduce the same
merge commit.</p>




<h2>SEE ALSO</h2>


<p><a href="/docs/git-am">git-am[1]</a>, <a href="/docs/git-send-email">git-send-email[1]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-send-email - Send a collection of patches as emails</span></h2>




<h2><br>synopsis</h2>


<pre><em>git send-email</em> [&lt;options&gt;] &lt;file|directory&gt;…<U+200B>
<em>git send-email</em> [&lt;options&gt;] &lt;format-patch options&gt;
<em>git send-email</em> --dump-aliases</pre>




<h2>description</h2>


<p>Takes the patches given on the command line and emails them out.
Patches can be specified as files, directories (which will send all
files in the directory), or directly as a revision list.  In the
last case, any format accepted by <a href="/docs/git-format-patch">git-format-patch[1]</a> can
be passed to git send-email, as well as options understood by
<a href="/docs/git-format-patch">git-format-patch[1]</a>.</p>


<p>The header of the email is configurable via command-line options.  If not
specified on the command line, the user will be prompted with a ReadLine
enabled interface to provide the necessary information.</p>


<p>There are two formats accepted for patch files:</p>


<ol>
<li>
<p>mbox format files</p>

<p>This is what <a href="/docs/git-format-patch">git-format-patch[1]</a> generates.  Most headers and MIME
formatting are ignored.</p>

</li>
<li>
<p>The original format used by Greg Kroah-Hartman’s <em>send_lots_of_email.pl</em>
script</p>

<p>This format expects the first line of the file to contain the "Cc:" value
and the "Subject:" of the message as the second line.</p>

</li>
</ol>




<h2>options</h2>


<h3>
Composing</h3>

<dl>
<dt> --annotate </dt>
<dd>
<p>Review and edit each patch you’re about to send. Default is the value
of <code>sendemail.annotate</code>. See the CONFIGURATION section for
<code>sendemail.multiEdit</code>.</p>
</dd>
<dt> --bcc=&lt;address&gt;,…<U+200B> </dt>
<dd>
<p>Specify a "Bcc:" value for each email. Default is the value of
<code>sendemail.bcc</code>.</p>

<p>This option may be specified multiple times.</p>

</dd>
<dt> --cc=&lt;address&gt;,…<U+200B> </dt>
<dd>
<p>Specify a starting "Cc:" value for each email.
Default is the value of <code>sendemail.cc</code>.</p>

<p>This option may be specified multiple times.</p>

</dd>
<dt> --compose </dt>
<dd>
<p>Invoke a text editor (see GIT_EDITOR in <a href="/docs/git-var">git-var[1]</a>)
to edit an introductory message for the patch series.</p>

<p>When <code>--compose</code> is used, git send-email will use the From, Subject, and
In-Reply-To headers specified in the message. If the body of the message
(what you type after the headers and a blank line) only contains blank
(or Git: prefixed) lines, the summary won’t be sent, but From, Subject,
and In-Reply-To headers will be used unless they are removed.</p>


<p>Missing From or In-Reply-To headers will be prompted for.</p>


<p>See the CONFIGURATION section for <code>sendemail.multiEdit</code>.</p>

</dd>
<dt> --from=&lt;address&gt; </dt>
<dd>
<p>Specify the sender of the emails.  If not specified on the command line,
the value of the <code>sendemail.from</code> configuration option is used.  If
neither the command-line option nor <code>sendemail.from</code> are set, then the
user will be prompted for the value.  The default for the prompt will be
the value of GIT_AUTHOR_IDENT, or GIT_COMMITTER_IDENT if that is not
set, as returned by "git var -l".</p>
</dd>
<dt> --reply-to=&lt;address&gt; </dt>
<dd>
<p>Specify the address where replies from recipients should go to.
Use this if replies to messages should go to another address than what
is specified with the --from parameter.</p>
</dd>
<dt> --in-reply-to=&lt;identifier&gt; </dt>
<dd>
<p>Make the first mail (or all the mails with <code>--no-thread</code>) appear as a
reply to the given Message-Id, which avoids breaking threads to
provide a new patch series.
The second and subsequent emails will be sent as replies according to
the <code>--[no-]chain-reply-to</code> setting.</p>

<p>So for example when <code>--thread</code> and <code>--no-chain-reply-to</code> are specified, the
second and subsequent patches will be replies to the first one like in the
illustration below where <code>[PATCH v2 0/3]</code> is in reply to <code>[PATCH 0/2]</code>:</p>



<pre>[PATCH 0/2] Here is what I did...
  [PATCH 1/2] Clean up and tests
  [PATCH 2/2] Implementation
  [PATCH v2 0/3] Here is a reroll
    [PATCH v2 1/3] Clean up
    [PATCH v2 2/3] New tests
    [PATCH v2 3/3] Implementation</pre>



<p>Only necessary if --compose is also set.  If --compose
is not set, this will be prompted for.</p>

</dd>
<dt> --subject=&lt;string&gt; </dt>
<dd>
<p>Specify the initial subject of the email thread.
Only necessary if --compose is also set.  If --compose
is not set, this will be prompted for.</p>
</dd>
<dt> --to=&lt;address&gt;,…<U+200B> </dt>
<dd>
<p>Specify the primary recipient of the emails generated. Generally, this
will be the upstream maintainer of the project involved. Default is the
value of the <code>sendemail.to</code> configuration value; if that is unspecified,
and --to-cmd is not specified, this will be prompted for.</p>

<p>This option may be specified multiple times.</p>

</dd>
<dt> --8bit-encoding=&lt;encoding&gt; </dt>
<dd>
<p>When encountering a non-ASCII message or subject that does not
declare its encoding, add headers/quoting to indicate it is
encoded in &lt;encoding&gt;.  Default is the value of the
<em>sendemail.assume8bitEncoding</em>; if that is unspecified, this
will be prompted for if any non-ASCII files are encountered.</p>

<p>Note that no attempts whatsoever are made to validate the encoding.</p>

</dd>
<dt> --compose-encoding=&lt;encoding&gt; </dt>
<dd>
<p>Specify encoding of compose message. Default is the value of the
<em>sendemail.composeencoding</em>; if that is unspecified, UTF-8 is assumed.</p>
</dd>
<dt> --transfer-encoding=(7bit|8bit|quoted-printable|base64|auto) </dt>
<dd>
<p>Specify the transfer encoding to be used to send the message over SMTP.
7bit will fail upon encountering a non-ASCII message.  quoted-printable
can be useful when the repository contains files that contain carriage
returns, but makes the raw patch email file (as saved from a MUA) much
harder to inspect manually.  base64 is even more fool proof, but also
even more opaque.  auto will use 8bit when possible, and quoted-printable
otherwise.</p>

<p>Default is the value of the <code>sendemail.transferEncoding</code> configuration
value; if that is unspecified, default to <code>auto</code>.</p>

</dd>
<dt> --xmailer </dt>
<dt> --no-xmailer </dt>
<dd>
<p>Add (or prevent adding) the "X-Mailer:" header.  By default,
the header is added, but it can be turned off by setting the
<code>sendemail.xmailer</code> configuration variable to <code>false</code>.</p>
</dd>
</dl>



<h3>
Sending</h3>

<dl>
<dt> --envelope-sender=&lt;address&gt; </dt>
<dd>
<p>Specify the envelope sender used to send the emails.
This is useful if your default address is not the address that is
subscribed to a list. In order to use the <em>From</em> address, set the
value to "auto". If you use the sendmail binary, you must have
suitable privileges for the -f parameter.  Default is the value of the
<code>sendemail.envelopeSender</code> configuration variable; if that is
unspecified, choosing the envelope sender is left to your MTA.</p>
</dd>
<dt> --sendmail-cmd=&lt;command&gt; </dt>
<dd>
<p>Specify a command to run to send the email. The command should
be sendmail-like; specifically, it must support the <code>-i</code> option.
The command will be executed in the shell if necessary.  Default
is the value of <code>sendemail.sendmailcmd</code>.  If unspecified, and if
--smtp-server is also unspecified, git-send-email will search
for <code>sendmail</code> in <code>/usr/sbin</code>, <code>/usr/lib</code> and $PATH.</p>
</dd>
<dt> --smtp-encryption=&lt;encryption&gt; </dt>
<dd>
<p>Specify the encryption to use, either <em>ssl</em> or <em>tls</em>.  Any other
value reverts to plain SMTP.  Default is the value of
<code>sendemail.smtpEncryption</code>.</p>
</dd>
<dt> --smtp-domain=&lt;FQDN&gt; </dt>
<dd>
<p>Specifies the Fully Qualified Domain Name (FQDN) used in the
HELO/EHLO command to the SMTP server.  Some servers require the
FQDN to match your IP address.  If not set, git send-email attempts
to determine your FQDN automatically.  Default is the value of
<code>sendemail.smtpDomain</code>.</p>
</dd>
<dt> --smtp-auth=&lt;mechanisms&gt; </dt>
<dd>
<p>Whitespace-separated list of allowed SMTP-AUTH mechanisms. This setting
forces using only the listed mechanisms. Example:</p>


<pre>$ git send-email --smtp-auth="PLAIN LOGIN GSSAPI" ...</pre>



<p>If at least one of the specified mechanisms matches the ones advertised by the
SMTP server and if it is supported by the utilized SASL library, the mechanism
is used for authentication. If neither <em>sendemail.smtpAuth</em> nor <code>--smtp-auth</code>
is specified, all mechanisms supported by the SASL library can be used. The
special value <em>none</em> maybe specified to completely disable authentication
independently of <code>--smtp-user</code></p>

</dd>
<dt> --smtp-pass[=&lt;password&gt;] </dt>
<dd>
<p>Password for SMTP-AUTH. The argument is optional: If no
argument is specified, then the empty string is used as
the password. Default is the value of <code>sendemail.smtpPass</code>,
however <code>--smtp-pass</code> always overrides this value.</p>

<p>Furthermore, passwords need not be specified in configuration files
or on the command line. If a username has been specified (with
<code>--smtp-user</code> or a <code>sendemail.smtpUser</code>), but no password has been
specified (with <code>--smtp-pass</code> or <code>sendemail.smtpPass</code>), then
a password is obtained using <em>git-credential</em>.</p>

</dd>
<dt> --no-smtp-auth </dt>
<dd>
<p>Disable SMTP authentication. Short hand for <code>--smtp-auth=none</code></p>
</dd>
<dt> --smtp-server=&lt;host&gt; </dt>
<dd>
<p>If set, specifies the outgoing SMTP server to use (e.g.
<code>smtp.example.com</code> or a raw IP address).  If unspecified, and if
<code>--sendmail-cmd</code> is also unspecified, the default is to search
for <code>sendmail</code> in <code>/usr/sbin</code>, <code>/usr/lib</code> and $PATH if such a
program is available, falling back to <code>localhost</code> otherwise.</p>

<p>For backward compatibility, this option can also specify a full pathname
of a sendmail-like program instead; the program must support the <code>-i</code>
option.  This method does not support passing arguments or using plain
command names.  For those use cases, consider using <code>--sendmail-cmd</code>
instead.</p>

</dd>
<dt> --smtp-server-port=&lt;port&gt; </dt>
<dd>
<p>Specifies a port different from the default port (SMTP
servers typically listen to smtp port 25, but may also listen to
submission port 587, or the common SSL smtp port 465);
symbolic port names (e.g. "submission" instead of 587)
are also accepted. The port can also be set with the
<code>sendemail.smtpServerPort</code> configuration variable.</p>
</dd>
<dt> --smtp-server-option=&lt;option&gt; </dt>
<dd>
<p>If set, specifies the outgoing SMTP server option to use.
Default value can be specified by the <code>sendemail.smtpServerOption</code>
configuration option.</p>

<p>The --smtp-server-option option must be repeated for each option you want
to pass to the server. Likewise, different lines in the configuration files
must be used for each option.</p>

</dd>
<dt> --smtp-ssl </dt>
<dd>
<p>Legacy alias for <em>--smtp-encryption ssl</em>.</p>
</dd>
<dt> --smtp-ssl-cert-path </dt>
<dd>
<p>Path to a store of trusted CA certificates for SMTP SSL/TLS
certificate validation (either a directory that has been processed
by <em>c_rehash</em>, or a single file containing one or more PEM format
certificates concatenated together: see verify(1) -CAfile and
-CApath for more information on these). Set it to an empty string
to disable certificate verification. Defaults to the value of the
<code>sendemail.smtpsslcertpath</code> configuration variable, if set, or the
backing SSL library’s compiled-in default otherwise (which should
be the best choice on most platforms).</p>
</dd>
<dt> --smtp-user=&lt;user&gt; </dt>
<dd>
<p>Username for SMTP-AUTH. Default is the value of <code>sendemail.smtpUser</code>;
if a username is not specified (with <code>--smtp-user</code> or <code>sendemail.smtpUser</code>),
then authentication is not attempted.</p>
</dd>
<dt> --smtp-debug=0|1 </dt>
<dd>
<p>Enable (1) or disable (0) debug output. If enabled, SMTP
commands and replies will be printed. Useful to debug TLS
connection and authentication problems.</p>
</dd>
<dt> --batch-size=&lt;num&gt; </dt>
<dd>
<p>Some email servers (e.g. smtp.163.com) limit the number emails to be
sent per session (connection) and this will lead to a failure when
sending many messages.  With this option, send-email will disconnect after
sending $&lt;num&gt; messages and wait for a few seconds (see --relogin-delay)
and reconnect, to work around such a limit.  You may want to
use some form of credential helper to avoid having to retype
your password every time this happens.  Defaults to the
<code>sendemail.smtpBatchSize</code> configuration variable.</p>
</dd>
<dt> --relogin-delay=&lt;int&gt; </dt>
<dd>
<p>Waiting $&lt;int&gt; seconds before reconnecting to SMTP server. Used together
with --batch-size option.  Defaults to the <code>sendemail.smtpReloginDelay</code>
configuration variable.</p>
</dd>
</dl>



<h3>
Automating</h3>

<dl>
<dt> --no-[to|cc|bcc] </dt>
<dd>
<p>Clears any list of "To:", "Cc:", "Bcc:" addresses previously
set via config.</p>
</dd>
<dt> --no-identity </dt>
<dd>
<p>Clears the previously read value of <code>sendemail.identity</code> set
via config, if any.</p>
</dd>
<dt> --to-cmd=&lt;command&gt; </dt>
<dd>
<p>Specify a command to execute once per patch file which
should generate patch file specific "To:" entries.
Output of this command must be single email address per line.
Default is the value of <em>sendemail.tocmd</em> configuration value.</p>
</dd>
<dt> --cc-cmd=&lt;command&gt; </dt>
<dd>
<p>Specify a command to execute once per patch file which
should generate patch file specific "Cc:" entries.
Output of this command must be single email address per line.
Default is the value of <code>sendemail.ccCmd</code> configuration value.</p>
</dd>
<dt> --[no-]chain-reply-to </dt>
<dd>
<p>If this is set, each email will be sent as a reply to the previous
email sent.  If disabled with "--no-chain-reply-to", all emails after
the first will be sent as replies to the first email sent.  When using
this, it is recommended that the first file given be an overview of the
entire patch series. Disabled by default, but the <code>sendemail.chainReplyTo</code>
configuration variable can be used to enable it.</p>
</dd>
<dt> --identity=&lt;identity&gt; </dt>
<dd>
<p>A configuration identity. When given, causes values in the
<em>sendemail.&lt;identity&gt;</em> subsection to take precedence over
values in the <em>sendemail</em> section. The default identity is
the value of <code>sendemail.identity</code>.</p>
</dd>
<dt> --[no-]signed-off-by-cc </dt>
<dd>
<p>If this is set, add emails found in the <code>Signed-off-by</code> trailer or Cc: lines to the
cc list. Default is the value of <code>sendemail.signedoffbycc</code> configuration
value; if that is unspecified, default to --signed-off-by-cc.</p>
</dd>
<dt> --[no-]cc-cover </dt>
<dd>
<p>If this is set, emails found in Cc: headers in the first patch of
the series (typically the cover letter) are added to the cc list
for each email set. Default is the value of <em>sendemail.cccover</em>
configuration value; if that is unspecified, default to --no-cc-cover.</p>
</dd>
<dt> --[no-]to-cover </dt>
<dd>
<p>If this is set, emails found in To: headers in the first patch of
the series (typically the cover letter) are added to the to list
for each email set. Default is the value of <em>sendemail.tocover</em>
configuration value; if that is unspecified, default to --no-to-cover.</p>
</dd>
<dt> --suppress-cc=&lt;category&gt; </dt>
<dd>
<p>Specify an additional category of recipients to suppress the
auto-cc of:</p>



<ul>
<li>
<p><em>author</em> will avoid including the patch author.</p>
</li>
<li>
<p><em>self</em> will avoid including the sender.</p>
</li>
<li>
<p><em>cc</em> will avoid including anyone mentioned in Cc lines in the patch header
except for self (use <em>self</em> for that).</p>
</li>
<li>
<p><em>bodycc</em> will avoid including anyone mentioned in Cc lines in the
patch body (commit message) except for self (use <em>self</em> for that).</p>
</li>
<li>
<p><em>sob</em> will avoid including anyone mentioned in the Signed-off-by trailers except
for self (use <em>self</em> for that).</p>
</li>
<li>
<p><em>misc-by</em> will avoid including anyone mentioned in Acked-by,
Reviewed-by, Tested-by and other "-by" lines in the patch body,
except Signed-off-by (use <em>sob</em> for that).</p>
</li>
<li>
<p><em>cccmd</em> will avoid running the --cc-cmd.</p>
</li>
<li>
<p><em>body</em> is equivalent to <em>sob</em> + <em>bodycc</em> + <em>misc-by</em>.</p>
</li>
<li>
<p><em>all</em> will suppress all auto cc values.</p>
</li>
</ul>




<p>Default is the value of <code>sendemail.suppresscc</code> configuration value; if
that is unspecified, default to <em>self</em> if --suppress-from is
specified, as well as <em>body</em> if --no-signed-off-cc is specified.</p>

</dd>
<dt> --[no-]suppress-from </dt>
<dd>
<p>If this is set, do not add the From: address to the cc: list.
Default is the value of <code>sendemail.suppressFrom</code> configuration
value; if that is unspecified, default to --no-suppress-from.</p>
</dd>
<dt> --[no-]thread </dt>
<dd>
<p>If this is set, the In-Reply-To and References headers will be
added to each email sent.  Whether each mail refers to the
previous email (<code>deep</code> threading per <em>git format-patch</em>
wording) or to the first email (<code>shallow</code> threading) is
governed by "--[no-]chain-reply-to".</p>

<p>If disabled with "--no-thread", those headers will not be added
(unless specified with --in-reply-to).  Default is the value of the
<code>sendemail.thread</code> configuration value; if that is unspecified,
default to --thread.</p>


<p>It is up to the user to ensure that no In-Reply-To header already
exists when <em>git send-email</em> is asked to add it (especially note that
<em>git format-patch</em> can be configured to do the threading itself).
Failure to do so may not produce the expected result in the
recipient’s MUA.</p>

</dd>
</dl>



<h3>
Administering</h3>

<dl>
<dt> --confirm=&lt;mode&gt; </dt>
<dd>
<p>Confirm just before sending:</p>



<ul>
<li>
<p><em>always</em> will always confirm before sending</p>
</li>
<li>
<p><em>never</em> will never confirm before sending</p>
</li>
<li>
<p><em>cc</em> will confirm before sending when send-email has automatically
added addresses from the patch to the Cc list</p>
</li>
<li>
<p><em>compose</em> will confirm before sending the first message when using --compose.</p>
</li>
<li>
<p><em>auto</em> is equivalent to <em>cc</em> + <em>compose</em></p>
</li>
</ul>




<p>Default is the value of <code>sendemail.confirm</code> configuration value; if that
is unspecified, default to <em>auto</em> unless any of the suppress options
have been specified, in which case default to <em>compose</em>.</p>

</dd>
<dt> --dry-run </dt>
<dd>
<p>Do everything except actually send the emails.</p>
</dd>
<dt> --[no-]format-patch </dt>
<dd>
<p>When an argument may be understood either as a reference or as a file name,
choose to understand it as a format-patch argument (<code>--format-patch</code>)
or as a file name (<code>--no-format-patch</code>). By default, when such a conflict
occurs, git send-email will fail.</p>
</dd>
<dt> --quiet </dt>
<dd>
<p>Make git-send-email less verbose.  One line per email should be
all that is output.</p>
</dd>
<dt> --[no-]validate </dt>
<dd>
<p>Perform sanity checks on patches.
Currently, validation means the following:</p>



<ul>
<li>
<p>Invoke the sendemail-validate hook if present (see <a href="/docs/githooks">githooks[5]</a>).</p>
</li>
<li>
<p>Warn of patches that contain lines longer than
998 characters unless a suitable transfer encoding
(<em>auto</em>, <em>base64</em>, or <em>quoted-printable</em>) is used;
this is due to SMTP limits as described by
<a href="http://www.ietf.org/rfc/rfc5322.txt">http://www.ietf.org/rfc/rfc5322.txt</a>.</p>
</li>
</ul>




<p>Default is the value of <code>sendemail.validate</code>; if this is not set,
default to <code>--validate</code>.</p>

</dd>
<dt> --force </dt>
<dd>
<p>Send emails even if safety checks would prevent it.</p>
</dd>
</dl>



<h3>
Information</h3>

<dl>
<dt> --dump-aliases </dt>
<dd>
<p>Instead of the normal operation, dump the shorthand alias names from
the configured alias file(s), one per line in alphabetical order. Note,
this only includes the alias name and not its expanded email addresses.
See <em>sendemail.aliasesfile</em> for more information about aliases.</p>
</dd>
</dl>





<h2>CONFIGURATION</h2>


<dl>
<dt> sendemail.aliasesFile </dt>
<dd>
<p>To avoid typing long email addresses, point this to one or more
email aliases files.  You must also supply <code>sendemail.aliasFileType</code>.</p>
</dd>
<dt> sendemail.aliasFileType </dt>
<dd>
<p>Format of the file(s) specified in sendemail.aliasesFile. Must be
one of <em>mutt</em>, <em>mailrc</em>, <em>pine</em>, <em>elm</em>, or <em>gnus</em>, or <em>sendmail</em>.</p>

<p>What an alias file in each format looks like can be found in
the documentation of the email program of the same name. The
differences and limitations from the standard formats are
described below:</p>




<dl>
<dt> sendmail </dt>
<dd>

<ul>
<li>
<p>Quoted aliases and quoted addresses are not supported: lines that
contain a <code>"</code> symbol are ignored.</p>
</li>
<li>
<p>Redirection to a file (<code>/path/name</code>) or pipe (<code>|command</code>) is not
supported.</p>
</li>
<li>
<p>File inclusion (<code>:include: /path/name</code>) is not supported.</p>
</li>
<li>
<p>Warnings are printed on the standard error output for any
explicitly unsupported constructs, and any other lines that are not
recognized by the parser.</p>
</li>
</ul>

</dd>
</dl>



</dd>
<dt> sendemail.multiEdit </dt>
<dd>
<p>If true (default), a single editor instance will be spawned to edit
files you have to edit (patches when <code>--annotate</code> is used, and the
summary when <code>--compose</code> is used). If false, files will be edited one
after the other, spawning a new editor each time.</p>
</dd>
<dt> sendemail.confirm </dt>
<dd>
<p>Sets the default for whether to confirm before sending. Must be
one of <em>always</em>, <em>never</em>, <em>cc</em>, <em>compose</em>, or <em>auto</em>. See <code>--confirm</code>
in the previous section for the meaning of these values.</p>
</dd>
</dl>




<h2>examples</h2>


<h3>
Use gmail as the smtp server</h3>

<p>To use <em>git send-email</em> to send your patches through the GMail SMTP server,
edit ~/.gitconfig to specify your account settings:</p>



<pre>[sendemail]
	smtpEncryption = tls
	smtpServer = smtp.gmail.com
	smtpUser = yourname@gmail.com
	smtpServerPort = 587</pre>



<p>If you have multi-factor authentication set up on your Gmail account, you will
need to generate an app-specific password for use with <em>git send-email</em>. Visit
<a href="https://security.google.com/settings/security/apppasswords">https://security.google.com/settings/security/apppasswords</a> to create it.</p>


<p>If you do not have multi-factor authentication set up on your Gmail account,
you will need to allow less secure app access. Visit
<a href="https://myaccount.google.com/lesssecureapps">https://myaccount.google.com/lesssecureapps</a> to enable it.</p>


<p>Once your commits are ready to be sent to the mailing list, run the
following commands:</p>



<pre>$ git format-patch --cover-letter -M origin/master -o outgoing/
$ edit outgoing/0000-*
$ git send-email outgoing/*</pre>



<p>The first time you run it, you will be prompted for your credentials.  Enter the
app-specific or your regular password as appropriate.  If you have credential
helper configured (see <a href="/docs/git-credential">git-credential[1]</a>), the password will be saved in
the credential store so you won’t have to type it the next time.</p>


<p>Note: the following core Perl modules that may be installed with your
distribution of Perl are required:
MIME::Base64, MIME::QuotedPrint, Net::Domain and Net::SMTP.
These additional Perl modules are also required:
Authen::SASL and Mail::Address.</p>





<h2>SEE ALSO</h2>


<p><a href="/docs/git-format-patch">git-format-patch[1]</a>, <a href="/docs/git-imap-send">git-imap-send[1]</a>, mbox(5)</p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-request-pull - Generates a summary of pending changes</span></h2>




<h2><br>synopsis</h2>


<pre><em>git request-pull</em> [-p] &lt;start&gt; &lt;URL&gt; [&lt;end&gt;]</pre>




<h2>description</h2>


<p>Generate a request asking your upstream project to pull changes into
their tree.  The request, printed to the standard output,
begins with the branch description, summarizes
the changes and indicates from where they can be pulled.</p>


<p>The upstream project is expected to have the commit named by
<code>&lt;start&gt;</code> and the output asks it to integrate the changes you made
since that commit, up to the commit named by <code>&lt;end&gt;</code>, by visiting
the repository named by <code>&lt;URL&gt;</code>.</p>




<h2>options</h2>


<dl>
<dt> -p </dt>
<dd>
<p>Include patch text in the output.</p>
</dd>
<dt> &lt;start&gt; </dt>
<dd>
<p>Commit to start at.  This names a commit that is already in
the upstream history.</p>
</dd>
<dt> &lt;URL&gt; </dt>
<dd>
<p>The repository URL to be pulled from.</p>
</dd>
<dt> &lt;end&gt; </dt>
<dd>
<p>Commit to end at (defaults to HEAD).  This names the commit
at the tip of the history you are asking to be pulled.</p>

<p>When the repository named by <code>&lt;URL&gt;</code> has the commit at a tip of a
ref that is different from the ref you have locally, you can use the
<code>&lt;local&gt;:&lt;remote&gt;</code> syntax, to have its local name, a colon <code>:</code>, and
its remote name.</p>

</dd>
</dl>




<h2>examples</h2>


<p>Imagine that you built your work on your <code>master</code> branch on top of
the <code>v1.0</code> release, and want it to be integrated to the project.
First you push that change to your public repository for others to
see:</p>



<pre>git push https://git.ko.xz/project master</pre>



<p>Then, you run this command:</p>



<pre>git request-pull v1.0 https://git.ko.xz/project master</pre>



<p>which will produce a request to the upstream, summarizing the
changes between the <code>v1.0</code> release and your <code>master</code>, to pull it
from your public repository.</p>


<p>If you pushed your change to a branch whose name is different from
the one you have locally, e.g.</p>



<pre>git push https://git.ko.xz/project master:for-linus</pre>



<p>then you can ask that to be pulled with</p>



<pre>git request-pull v1.0 https://git.ko.xz/project master:for-linus</pre>





<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-svn - Bidirectional operation between a Subversion repository and Git</span></h2>




<h2><br>synopsis</h2>


<pre><em>git svn</em> &lt;command&gt; [&lt;options&gt;] [&lt;arguments&gt;]</pre>




<h2>description</h2>


<p><em>git svn</em> is a simple conduit for changesets between Subversion and Git.
It provides a bidirectional flow of changes between a Subversion and a Git
repository.</p>


<p><em>git svn</em> can track a standard Subversion repository,
following the common "trunk/branches/tags" layout, with the --stdlayout option.
It can also follow branches and tags in any layout with the -T/-t/-b options
(see options to <em>init</em> below, and also the <em>clone</em> command).</p>


<p>Once tracking a Subversion repository (with any of the above methods), the Git
repository can be updated from Subversion by the <em>fetch</em> command and
Subversion updated from Git by the <em>dcommit</em> command.</p>




<h2>COMMANDS</h2>


<dl>
<dt> <em>init</em> </dt>
<dd>
<p>Initializes an empty Git repository with additional
metadata directories for <em>git svn</em>.  The Subversion URL
may be specified as a command-line argument, or as full
URL arguments to -T/-t/-b.  Optionally, the target
directory to operate on can be specified as a second
argument.  Normally this command initializes the current
directory.</p>

<dl>
<dt> -T&lt;trunk_subdir&gt; </dt>
<dt> --trunk=&lt;trunk_subdir&gt; </dt>
<dt> -t&lt;tags_subdir&gt; </dt>
<dt> --tags=&lt;tags_subdir&gt; </dt>
<dt> -b&lt;branches_subdir&gt; </dt>
<dt> --branches=&lt;branches_subdir&gt; </dt>
<dt> -s </dt>
<dt> --stdlayout </dt>
<dd>
<p>These are optional command-line options for init.  Each of
these flags can point to a relative repository path
(--tags=project/tags) or a full url
(--tags=https://foo.org/project/tags).
You can specify more than one --tags and/or --branches options, in case
your Subversion repository places tags or branches under multiple paths.
The option --stdlayout is
a shorthand way of setting trunk,tags,branches as the relative paths,
which is the Subversion default. If any of the other options are given
as well, they take precedence.</p>
</dd>
<dt> --no-metadata </dt>
<dd>
<p>Set the <em>noMetadata</em> option in the [svn-remote] config.
This option is not recommended, please read the <em>svn.noMetadata</em>
section of this manpage before using this option.</p>
</dd>
<dt> --use-svm-props </dt>
<dd>
<p>Set the <em>useSvmProps</em> option in the [svn-remote] config.</p>
</dd>
<dt> --use-svnsync-props </dt>
<dd>
<p>Set the <em>useSvnsyncProps</em> option in the [svn-remote] config.</p>
</dd>
<dt> --rewrite-root=&lt;URL&gt; </dt>
<dd>
<p>Set the <em>rewriteRoot</em> option in the [svn-remote] config.</p>
</dd>
<dt> --rewrite-uuid=&lt;UUID&gt; </dt>
<dd>
<p>Set the <em>rewriteUUID</em> option in the [svn-remote] config.</p>
</dd>
<dt> --username=&lt;user&gt; </dt>
<dd>
<p>For transports that SVN handles authentication for (http,
https, and plain svn), specify the username.  For other
transports (e.g. <code>svn+ssh://</code>), you must include the username in
the URL, e.g. <code>svn+ssh://foo@svn.bar.com/project</code></p>
</dd>
<dt> --prefix=&lt;prefix&gt; </dt>
<dd>
<p>This allows one to specify a prefix which is prepended
to the names of remotes if trunk/branches/tags are
specified.  The prefix does not automatically include a
trailing slash, so be sure you include one in the
argument if that is what you want.  If --branches/-b is
specified, the prefix must include a trailing slash.
Setting a prefix (with a trailing slash) is strongly
encouraged in any case, as your SVN-tracking refs will
then be located at "refs/remotes/$prefix/<strong>", which is
compatible with Git’s own remote-tracking ref layout
(refs/remotes/$remote/</strong>). Setting a prefix is also useful
if you wish to track multiple projects that share a common
repository.
By default, the prefix is set to <em>origin/</em>.</p>

<table><tr>
<td>
Note
</td>
<td>
Before Git v2.0, the default prefix was "" (no prefix). This
meant that SVN-tracking refs were put at "refs/remotes/*", which is
incompatible with how Git’s own remote-tracking refs are organized.
If you still want the old default, you can get it by passing
<code>--prefix ""</code> on the command line (<code>--prefix=""</code> may not work if
your Perl’s Getopt::Long is &lt; v2.37).
</td>
</tr></table>

</dd>
<dt> --ignore-refs=&lt;regex&gt; </dt>
<dd>
<p>When passed to <em>init</em> or <em>clone</em> this regular expression will
be preserved as a config key.  See <em>fetch</em> for a description
of <code>--ignore-refs</code>.</p>
</dd>
<dt> --ignore-paths=&lt;regex&gt; </dt>
<dd>
<p>When passed to <em>init</em> or <em>clone</em> this regular expression will
be preserved as a config key.  See <em>fetch</em> for a description
of <code>--ignore-paths</code>.</p>
</dd>
<dt> --include-paths=&lt;regex&gt; </dt>
<dd>
<p>When passed to <em>init</em> or <em>clone</em> this regular expression will
be preserved as a config key.  See <em>fetch</em> for a description
of <code>--include-paths</code>.</p>
</dd>
<dt> --no-minimize-url </dt>
<dd>
<p>When tracking multiple directories (using --stdlayout,
--branches, or --tags options), git svn will attempt to connect
to the root (or highest allowed level) of the Subversion
repository.  This default allows better tracking of history if
entire projects are moved within a repository, but may cause
issues on repositories where read access restrictions are in
place.  Passing <code>--no-minimize-url</code> will allow git svn to
accept URLs as-is without attempting to connect to a higher
level directory.  This option is off by default when only
one URL/branch is tracked (it would do little good).</p>
</dd>
</dl>

</dd>
<dt> <em>fetch</em> </dt>
<dd>
<p>Fetch unfetched revisions from the Subversion remote we are
tracking.  The name of the [svn-remote "…<U+200B>"] section in the
$GIT_DIR/config file may be specified as an optional
command-line argument.</p>

<p>This automatically updates the rev_map if needed (see
<em>$GIT_DIR/svn/**/.rev_map.*</em> in the FILES section below for details).</p>


<dl>
<dt> --localtime </dt>
<dd>
<p>Store Git commit times in the local time zone instead of UTC.  This
makes <em>git log</em> (even without --date=local) show the same times
that <code>svn log</code> would in the local time zone.</p>

<p>This doesn’t interfere with interoperating with the Subversion
repository you cloned from, but if you wish for your local Git
repository to be able to interoperate with someone else’s local Git
repository, either don’t use this option or you should both use it in
the same local time zone.</p>

</dd>
<dt> --parent </dt>
<dd>
<p>Fetch only from the SVN parent of the current HEAD.</p>
</dd>
<dt> --ignore-refs=&lt;regex&gt; </dt>
<dd>
<p>Ignore refs for branches or tags matching the Perl regular
expression. A "negative look-ahead assertion" like
<code>^refs/remotes/origin/(?!tags/wanted-tag|wanted-branch).*$</code>
can be used to allow only certain refs.</p>

<pre>config key: svn-remote.&lt;name&gt;.ignore-refs</pre>


<p>If the ignore-refs configuration key is set, and the command-line
option is also given, both regular expressions will be used.</p>

</dd>
<dt> --ignore-paths=&lt;regex&gt; </dt>
<dd>
<p>This allows one to specify a Perl regular expression that will
cause skipping of all matching paths from checkout from SVN.
The <code>--ignore-paths</code> option should match for every <em>fetch</em>
(including automatic fetches due to <em>clone</em>, <em>dcommit</em>,
<em>rebase</em>, etc) on a given repository.</p>

<pre>config key: svn-remote.&lt;name&gt;.ignore-paths</pre>


<p>If the ignore-paths configuration key is set, and the command-line
option is also given, both regular expressions will be used.</p>


<p>Examples:</p>




<dl>
<dt> Skip "doc*" directory for every fetch </dt>
<dd>


<pre>--ignore-paths="^doc"</pre>


</dd>
<dt> Skip "branches" and "tags" of first level directories </dt>
<dd>


<pre>--ignore-paths="^[^/]+/(?:branches|tags)"</pre>


</dd>
</dl>



</dd>
<dt> --include-paths=&lt;regex&gt; </dt>
<dd>
<p>This allows one to specify a Perl regular expression that will
cause the inclusion of only matching paths from checkout from SVN.
The <code>--include-paths</code> option should match for every <em>fetch</em>
(including automatic fetches due to <em>clone</em>, <em>dcommit</em>,
<em>rebase</em>, etc) on a given repository. <code>--ignore-paths</code> takes
precedence over <code>--include-paths</code>.</p>

<pre>config key: svn-remote.&lt;name&gt;.include-paths</pre>

</dd>
<dt> --log-window-size=&lt;n&gt; </dt>
<dd>
<p>Fetch &lt;n&gt; log entries per request when scanning Subversion history.
The default is 100. For very large Subversion repositories, larger
values may be needed for <em>clone</em>/<em>fetch</em> to complete in reasonable
time. But overly large values may lead to higher memory usage and
request timeouts.</p>
</dd>
</dl>

</dd>
<dt> <em>clone</em> </dt>
<dd>
<p>Runs <em>init</em> and <em>fetch</em>.  It will automatically create a
directory based on the basename of the URL passed to it;
or if a second argument is passed; it will create a directory
and work within that.  It accepts all arguments that the
<em>init</em> and <em>fetch</em> commands accept; with the exception of
<code>--fetch-all</code> and <code>--parent</code>.  After a repository is cloned,
the <em>fetch</em> command will be able to update revisions without
affecting the working tree; and the <em>rebase</em> command will be
able to update the working tree with the latest changes.</p>

<dl>
<dt> --preserve-empty-dirs </dt>
<dd>
<p>Create a placeholder file in the local Git repository for each
empty directory fetched from Subversion.  This includes directories
that become empty by removing all entries in the Subversion
repository (but not the directory itself).  The placeholder files
are also tracked and removed when no longer necessary.</p>
</dd>
<dt> --placeholder-filename=&lt;filename&gt; </dt>
<dd>
<p>Set the name of placeholder files created by --preserve-empty-dirs.
Default: ".gitignore"</p>
</dd>
</dl>

</dd>
<dt> <em>rebase</em> </dt>
<dd>
<p>This fetches revisions from the SVN parent of the current HEAD
and rebases the current (uncommitted to SVN) work against it.</p>

<p>This works similarly to <code>svn update</code> or <em>git pull</em> except that
it preserves linear history with <em>git rebase</em> instead of
<em>git merge</em> for ease of dcommitting with <em>git svn</em>.</p>


<p>This accepts all options that <em>git svn fetch</em> and <em>git rebase</em>
accept.  However, <code>--fetch-all</code> only fetches from the current
[svn-remote], and not all [svn-remote] definitions.</p>


<p>Like <em>git rebase</em>; this requires that the working tree be clean
and have no uncommitted changes.</p>


<p>This automatically updates the rev_map if needed (see
<em>$GIT_DIR/svn/**/.rev_map.*</em> in the FILES section below for details).</p>


<dl>
<dt> -l </dt>
<dt> --local </dt>
<dd>
<p>Do not fetch remotely; only run <em>git rebase</em> against the
last fetched commit from the upstream SVN.</p>
</dd>
</dl>

</dd>
<dt> <em>dcommit</em> </dt>
<dd>
<p>Commit each diff from the current branch directly to the SVN
repository, and then rebase or reset (depending on whether or
not there is a diff between SVN and head).  This will create
a revision in SVN for each commit in Git.</p>

<p>When an optional Git branch name (or a Git commit object name)
is specified as an argument, the subcommand works on the specified
branch, not on the current branch.</p>


<p>Use of <em>dcommit</em> is preferred to <em>set-tree</em> (below).</p>


<dl>
<dt> --no-rebase </dt>
<dd>
<p>After committing, do not rebase or reset.</p>
</dd>
<dt> --commit-url &lt;URL&gt; </dt>
<dd>
<p>Commit to this SVN URL (the full path).  This is intended to
allow existing <em>git svn</em> repositories created with one transport
method (e.g. <code>svn://</code> or <code>http://</code> for anonymous read) to be
reused if a user is later given access to an alternate transport
method (e.g. <code>svn+ssh://</code> or <code>https://</code>) for commit.</p>

<pre>config key: svn-remote.&lt;name&gt;.commiturl
config key: svn.commiturl (overwrites all svn-remote.&lt;name&gt;.commiturl options)</pre>


<p>Note that the SVN URL of the commiturl config key includes the SVN branch.
If you rather want to set the commit URL for an entire SVN repository use
svn-remote.&lt;name&gt;.pushurl instead.</p>


<p>Using this option for any other purpose (don’t ask) is very strongly
discouraged.</p>

</dd>
<dt> --mergeinfo=&lt;mergeinfo&gt; </dt>
<dd>
<p>Add the given merge information during the dcommit
(e.g. <code>--mergeinfo="/branches/foo:1-10"</code>). All svn server versions can
store this information (as a property), and svn clients starting from
version 1.5 can make use of it. To specify merge information from multiple
branches, use a single space character between the branches
(<code>--mergeinfo="/branches/foo:1-10 /branches/bar:3,5-6,8"</code>)</p>

<pre>config key: svn.pushmergeinfo</pre>


<p>This option will cause git-svn to attempt to automatically populate the
svn:mergeinfo property in the SVN repository when possible. Currently, this can
only be done when dcommitting non-fast-forward merges where all parents but the
first have already been pushed into SVN.</p>

</dd>
<dt> --interactive </dt>
<dd>
<p>Ask the user to confirm that a patch set should actually be sent to SVN.
For each patch, one may answer "yes" (accept this patch), "no" (discard this
patch), "all" (accept all patches), or "quit".</p>

<p><em>git svn dcommit</em> returns immediately if answer is "no" or "quit", without
committing anything to SVN.</p>

</dd>
</dl>

</dd>
<dt> <em>branch</em> </dt>
<dd>
<p>Create a branch in the SVN repository.</p>

<dl>
<dt> -m </dt>
<dt> --message </dt>
<dd>
<p>Allows to specify the commit message.</p>
</dd>
<dt> -t </dt>
<dt> --tag </dt>
<dd>
<p>Create a tag by using the tags_subdir instead of the branches_subdir
specified during git svn init.</p>
</dd>
<dt> -d&lt;path&gt; </dt>
<dt> --destination=&lt;path&gt; </dt>
<dd>
<p>If more than one --branches (or --tags) option was given to the <em>init</em>
or <em>clone</em> command, you must provide the location of the branch (or
tag) you wish to create in the SVN repository.  &lt;path&gt; specifies which
path to use to create the branch or tag and should match the pattern
on the left-hand side of one of the configured branches or tags
refspecs.  You can see these refspecs with the commands</p>


<pre>git config --get-all svn-remote.&lt;name&gt;.branches
git config --get-all svn-remote.&lt;name&gt;.tags</pre>



<p>where &lt;name&gt; is the name of the SVN repository as specified by the -R option to
<em>init</em> (or "svn" by default).</p>

</dd>
<dt> --username </dt>
<dd>
<p>Specify the SVN username to perform the commit as.  This option overrides
the <em>username</em> configuration property.</p>
</dd>
<dt> --commit-url </dt>
<dd>
<p>Use the specified URL to connect to the destination Subversion
repository.  This is useful in cases where the source SVN
repository is read-only.  This option overrides configuration
property <em>commiturl</em>.</p>


<pre>git config --get-all svn-remote.&lt;name&gt;.commiturl</pre>


</dd>
<dt> --parents </dt>
<dd>
<p>Create parent folders. This parameter is equivalent to the parameter
--parents on svn cp commands and is useful for non-standard repository
layouts.</p>
</dd>
</dl>

</dd>
<dt> <em>tag</em> </dt>
<dd>
<p>Create a tag in the SVN repository. This is a shorthand for
<em>branch -t</em>.</p>
</dd>
<dt> <em>log</em> </dt>
<dd>
<p>This should make it easy to look up svn log messages when svn
users refer to -r/--revision numbers.</p>

<p>The following features from ‘svn log’ are supported:</p>




<dl>
<dt> -r &lt;n&gt;[:&lt;n&gt;] </dt>
<dt> --revision=&lt;n&gt;[:&lt;n&gt;] </dt>
<dd>
<p>is supported, non-numeric args are not:
HEAD, NEXT, BASE, PREV, etc …<U+200B></p>
</dd>
<dt> -v </dt>
<dt> --verbose </dt>
<dd>
<p>it’s not completely compatible with the --verbose
output in svn log, but reasonably close.</p>
</dd>
<dt> --limit=&lt;n&gt; </dt>
<dd>
<p>is NOT the same as --max-count, doesn’t count
merged/excluded commits</p>
</dd>
<dt> --incremental </dt>
<dd>
<p>supported</p>
</dd>
</dl>




<p>New features:</p>




<dl>
<dt> --show-commit </dt>
<dd>
<p>shows the Git commit sha1, as well</p>
</dd>
<dt> --oneline </dt>
<dd>
<p>our version of --pretty=oneline</p>
</dd>
</dl>




<table><tr>
<td>
Note
</td>
<td>
SVN itself only stores times in UTC and nothing else. The regular svn
client converts the UTC time to the local time (or based on the TZ=
environment). This command has the same behaviour.
</td>
</tr></table>


<p>Any other arguments are passed directly to <em>git log</em></p>

</dd>
<dt> <em>blame</em> </dt>
<dd>
<p>Show what revision and author last modified each line of a file. The
output of this mode is format-compatible with the output of
‘svn blame’ by default. Like the SVN blame command,
local uncommitted changes in the working tree are ignored;
the version of the file in the HEAD revision is annotated. Unknown
arguments are passed directly to <em>git blame</em>.</p>

<dl>
<dt> --git-format </dt>
<dd>
<p>Produce output in the same format as <em>git blame</em>, but with
SVN revision numbers instead of Git commit hashes. In this mode,
changes that haven’t been committed to SVN (including local
working-copy edits) are shown as revision 0.</p>
</dd>
</dl>

</dd>
<dt> <em>find-rev</em> </dt>
<dd>
<p>When given an SVN revision number of the form <em>rN</em>, returns the
corresponding Git commit hash (this can optionally be followed by a
tree-ish to specify which branch should be searched).  When given a
tree-ish, returns the corresponding SVN revision number.</p>

<dl>
<dt> -B </dt>
<dt> --before </dt>
<dd>
<p>Don’t require an exact match if given an SVN revision, instead find
the commit corresponding to the state of the SVN repository (on the
current branch) at the specified revision.</p>
</dd>
<dt> -A </dt>
<dt> --after </dt>
<dd>
<p>Don’t require an exact match if given an SVN revision; if there is
not an exact match return the closest match searching forward in the
history.</p>
</dd>
</dl>

</dd>
<dt> <em>set-tree</em> </dt>
<dd>
<p>You should consider using <em>dcommit</em> instead of this command.
Commit specified commit or tree objects to SVN.  This relies on
your imported fetch data being up to date.  This makes
absolutely no attempts to do patching when committing to SVN, it
simply overwrites files with those specified in the tree or
commit.  All merging is assumed to have taken place
independently of <em>git svn</em> functions.</p>
</dd>
<dt> <em>create-ignore</em> </dt>
<dd>
<p>Recursively finds the svn:ignore property on directories and
creates matching .gitignore files. The resulting files are staged to
be committed, but are not committed. Use -r/--revision to refer to a
specific revision.</p>
</dd>
<dt> <em>show-ignore</em> </dt>
<dd>
<p>Recursively finds and lists the svn:ignore property on
directories.  The output is suitable for appending to
the $GIT_DIR/info/exclude file.</p>
</dd>
<dt> <em>mkdirs</em> </dt>
<dd>
<p>Attempts to recreate empty directories that core Git cannot track
based on information in $GIT_DIR/svn/&lt;refname&gt;/unhandled.log files.
Empty directories are automatically recreated when using
"git svn clone" and "git svn rebase", so "mkdirs" is intended
for use after commands like "git checkout" or "git reset".
(See the svn-remote.&lt;name&gt;.automkdirs config file option for
more information.)</p>
</dd>
<dt> <em>commit-diff</em> </dt>
<dd>
<p>Commits the diff of two tree-ish arguments from the
command-line.  This command does not rely on being inside a <code>git svn
init</code>-ed repository.  This command takes three arguments, (a) the
original tree to diff against, (b) the new tree result, (c) the
URL of the target Subversion repository.  The final argument
(URL) may be omitted if you are working from a <em>git svn</em>-aware
repository (that has been <code>init</code>-ed with <em>git svn</em>).
The -r&lt;revision&gt; option is required for this.</p>

<p>The commit message is supplied either directly with the <code>-m</code> or <code>-F</code>
option, or indirectly from the tag or commit when the second tree-ish
denotes such an object, or it is requested by invoking an editor (see
<code>--edit</code> option below).</p>


<dl>
<dt> -m &lt;msg&gt; </dt>
<dt> --message=&lt;msg&gt; </dt>
<dd>
<p>Use the given <code>msg</code> as the commit message. This option
disables the <code>--edit</code> option.</p>
</dd>
<dt> -F &lt;filename&gt; </dt>
<dt> --file=&lt;filename&gt; </dt>
<dd>
<p>Take the commit message from the given file. This option
disables the <code>--edit</code> option.</p>
</dd>
</dl>

</dd>
<dt> <em>info</em> </dt>
<dd>
<p>Shows information about a file or directory similar to what
‘svn info’ provides.  Does not currently support a -r/--revision
argument.  Use the --url option to output only the value of the
<em>URL:</em> field.</p>
</dd>
<dt> <em>proplist</em> </dt>
<dd>
<p>Lists the properties stored in the Subversion repository about a
given file or directory.  Use -r/--revision to refer to a specific
Subversion revision.</p>
</dd>
<dt> <em>propget</em> </dt>
<dd>
<p>Gets the Subversion property given as the first argument, for a
file.  A specific revision can be specified with -r/--revision.</p>
</dd>
<dt> <em>propset</em> </dt>
<dd>
<p>Sets the Subversion property given as the first argument, to the
value given as the second argument for the file given as the
third argument.</p>

<p>Example:</p>



<pre>git svn propset svn:keywords "FreeBSD=%H" devel/py-tipper/Makefile</pre>



<p>This will set the property <em>svn:keywords</em> to <em>FreeBSD=%H</em> for the file
<em>devel/py-tipper/Makefile</em>.</p>

</dd>
<dt> <em>show-externals</em> </dt>
<dd>
<p>Shows the Subversion externals.  Use -r/--revision to specify a
specific revision.</p>
</dd>
<dt> <em>gc</em> </dt>
<dd>
<p>Compress $GIT_DIR/svn/&lt;refname&gt;/unhandled.log files and remove
$GIT_DIR/svn/&lt;refname&gt;/index files.</p>
</dd>
<dt> <em>reset</em> </dt>
<dd>
<p>Undoes the effects of <em>fetch</em> back to the specified revision.
This allows you to re-<em>fetch</em> an SVN revision.  Normally the
contents of an SVN revision should never change and <em>reset</em>
should not be necessary.  However, if SVN permissions change,
or if you alter your --ignore-paths option, a <em>fetch</em> may fail
with "not found in commit" (file not previously visible) or
"checksum mismatch" (missed a modification).  If the problem
file cannot be ignored forever (with --ignore-paths) the only
way to repair the repo is to use <em>reset</em>.</p>

<p>Only the rev_map and refs/remotes/git-svn are changed (see
<em>$GIT_DIR/svn/**/.rev_map.*</em> in the FILES section below for details).
Follow <em>reset</em> with a <em>fetch</em> and then <em>git reset</em> or <em>git rebase</em> to
move local branches onto the new tree.</p>


<dl>
<dt> -r &lt;n&gt; </dt>
<dt> --revision=&lt;n&gt; </dt>
<dd>
<p>Specify the most recent revision to keep.  All later revisions
are discarded.</p>
</dd>
<dt> -p </dt>
<dt> --parent </dt>
<dd>
<p>Discard the specified revision as well, keeping the nearest
parent instead.</p>
</dd>
<dt> Example: </dt>
<dd>
<p>Assume you have local changes in "master", but you need to refetch "r2".</p>


<pre>    r1---r2---r3 remotes/git-svn
                \
                 A---B master</pre>



<p>Fix the ignore-paths or SVN permissions problem that caused "r2" to
be incomplete in the first place.  Then:</p>


<pre>git svn reset -r2 -p
git svn fetch</pre>



<pre>    r1---r2'--r3' remotes/git-svn
      \
       r2---r3---A---B master</pre>



<p>Then fixup "master" with <em>git rebase</em>.
Do NOT use <em>git merge</em> or your history will not be compatible with a
future <em>dcommit</em>!</p>


<pre>git rebase --onto remotes/git-svn A^ master</pre>



<pre>    r1---r2'--r3' remotes/git-svn
                \
                 A'--B' master</pre>


</dd>
</dl>

</dd>
</dl>




<h2>options</h2>


<dl>
<dt> --shared[=(false|true|umask|group|all|world|everybody)] </dt>
<dt> --template=&lt;template-directory&gt; </dt>
<dd>
<p>Only used with the <em>init</em> command.
These are passed directly to <em>git init</em>.</p>
</dd>
<dt> -r &lt;arg&gt; </dt>
<dt> --revision &lt;arg&gt; </dt>
<dd>
<p>Used with the <em>fetch</em> command.</p>

<p>This allows revision ranges for partial/cauterized history
to be supported.  $NUMBER, $NUMBER1:$NUMBER2 (numeric ranges),
$NUMBER:HEAD, and BASE:$NUMBER are all supported.</p>


<p>This can allow you to make partial mirrors when running fetch;
but is generally not recommended because history will be skipped
and lost.</p>

</dd>
<dt> - </dt>
<dt> --stdin </dt>
<dd>
<p>Only used with the <em>set-tree</em> command.</p>

<p>Read a list of commits from stdin and commit them in reverse
order.  Only the leading sha1 is read from each line, so
<em>git rev-list --pretty=oneline</em> output can be used.</p>

</dd>
<dt> --rmdir </dt>
<dd>
<p>Only used with the <em>dcommit</em>, <em>set-tree</em> and <em>commit-diff</em> commands.</p>

<p>Remove directories from the SVN tree if there are no files left
behind.  SVN can version empty directories, and they are not
removed by default if there are no files left in them.  Git
cannot version empty directories.  Enabling this flag will make
the commit to SVN act like Git.</p>


<pre>config key: svn.rmdir</pre>

</dd>
<dt> -e </dt>
<dt> --edit </dt>
<dd>
<p>Only used with the <em>dcommit</em>, <em>set-tree</em> and <em>commit-diff</em> commands.</p>

<p>Edit the commit message before committing to SVN.  This is off by
default for objects that are commits, and forced on when committing
tree objects.</p>


<pre>config key: svn.edit</pre>

</dd>
<dt> -l&lt;num&gt; </dt>
<dt> --find-copies-harder </dt>
<dd>
<p>Only used with the <em>dcommit</em>, <em>set-tree</em> and <em>commit-diff</em> commands.</p>

<p>They are both passed directly to <em>git diff-tree</em>; see
<a href="/docs/git-diff-tree">git-diff-tree[1]</a> for more information.</p>


<pre>config key: svn.l
config key: svn.findcopiesharder</pre>

</dd>
<dt> -A&lt;filename&gt; </dt>
<dt> --authors-file=&lt;filename&gt; </dt>
<dd>
<p>Syntax is compatible with the file used by <em>git cvsimport</em> but
an empty email address can be supplied with <em>&lt;&gt;</em>:</p>


<pre>	loginname = Joe User &lt;user@example.com&gt;</pre>



<p>If this option is specified and <em>git svn</em> encounters an SVN
committer name that does not exist in the authors-file, <em>git svn</em>
will abort operation. The user will then have to add the
appropriate entry.  Re-running the previous <em>git svn</em> command
after the authors-file is modified should continue operation.</p>


<pre>config key: svn.authorsfile</pre>

</dd>
<dt> --authors-prog=&lt;filename&gt; </dt>
<dd>
<p>If this option is specified, for each SVN committer name that
does not exist in the authors file, the given file is executed
with the committer name as the first argument.  The program is
expected to return a single line of the form "Name &lt;email&gt;" or
"Name &lt;&gt;", which will be treated as if included in the authors
file.</p>

<p>Due to historical reasons a relative <em>filename</em> is first searched
relative to the current directory for <em>init</em> and <em>clone</em> and relative
to the root of the working tree for <em>fetch</em>. If <em>filename</em> is
not found, it is searched like any other command in <em>$PATH</em>.</p>


<pre>config key: svn.authorsProg</pre>

</dd>
<dt> -q </dt>
<dt> --quiet </dt>
<dd>
<p>Make <em>git svn</em> less verbose. Specify a second time to make it
even less verbose.</p>
</dd>
<dt> -m </dt>
<dt> --merge </dt>
<dt> -s&lt;strategy&gt; </dt>
<dt> --strategy=&lt;strategy&gt; </dt>
<dt> -p </dt>
<dt> --rebase-merges </dt>
<dd>
<p>These are only used with the <em>dcommit</em> and <em>rebase</em> commands.</p>

<p>Passed directly to <em>git rebase</em> when using <em>dcommit</em> if a
<em>git reset</em> cannot be used (see <em>dcommit</em>).</p>

</dd>
<dt> -n </dt>
<dt> --dry-run </dt>
<dd>
<p>This can be used with the <em>dcommit</em>, <em>rebase</em>, <em>branch</em> and
<em>tag</em> commands.</p>

<p>For <em>dcommit</em>, print out the series of Git arguments that would show
which diffs would be committed to SVN.</p>


<p>For <em>rebase</em>, display the local branch associated with the upstream svn
repository associated with the current branch and the URL of svn
repository that will be fetched from.</p>


<p>For <em>branch</em> and <em>tag</em>, display the urls that will be used for copying when
creating the branch or tag.</p>

</dd>
<dt> --use-log-author </dt>
<dd>
<p>When retrieving svn commits into Git (as part of <em>fetch</em>, <em>rebase</em>, or
<em>dcommit</em> operations), look for the first <code>From:</code> line or <code>Signed-off-by</code> trailer
in the log message and use that as the author string.</p>

<pre>config key: svn.useLogAuthor</pre>

</dd>
<dt> --add-author-from </dt>
<dd>
<p>When committing to svn from Git (as part of <em>set-tree</em> or <em>dcommit</em>
operations), if the existing log message doesn’t already have a
<code>From:</code> or <code>Signed-off-by</code> trailer, append a <code>From:</code> line based on the
Git commit’s author string.  If you use this, then <code>--use-log-author</code>
will retrieve a valid author string for all commits.</p>

<pre>config key: svn.addAuthorFrom</pre>

</dd>
</dl>




<h2>ADVANCED OPTIONS</h2>


<dl>
<dt> -i&lt;GIT_SVN_ID&gt; </dt>
<dt> --id &lt;GIT_SVN_ID&gt; </dt>
<dd>
<p>This sets GIT_SVN_ID (instead of using the environment).  This
allows the user to override the default refname to fetch from
when tracking a single URL.  The <em>log</em> and <em>dcommit</em> commands
no longer require this switch as an argument.</p>
</dd>
<dt> -R&lt;remote name&gt; </dt>
<dt> --svn-remote &lt;remote name&gt; </dt>
<dd>
<p>Specify the [svn-remote "&lt;remote name&gt;"] section to use,
this allows SVN multiple repositories to be tracked.
Default: "svn"</p>
</dd>
<dt> --follow-parent </dt>
<dd>
<p>This option is only relevant if we are tracking branches (using
one of the repository layout options --trunk, --tags,
--branches, --stdlayout). For each tracked branch, try to find
out where its revision was copied from, and set
a suitable parent in the first Git commit for the branch.
This is especially helpful when we’re tracking a directory
that has been moved around within the repository.  If this
feature is disabled, the branches created by <em>git svn</em> will all
be linear and not share any history, meaning that there will be
no information on where branches were branched off or merged.
However, following long/convoluted histories can take a long
time, so disabling this feature may speed up the cloning
process. This feature is enabled by default, use
--no-follow-parent to disable it.</p>

<pre>config key: svn.followparent</pre>

</dd>
</dl>




<h2>CONFIG FILE-ONLY OPTIONS</h2>


<dl>
<dt> svn.noMetadata </dt>
<dt> svn-remote.&lt;name&gt;.noMetadata </dt>
<dd>
<p>This gets rid of the <em>git-svn-id:</em> lines at the end of every commit.</p>

<p>This option can only be used for one-shot imports as <em>git svn</em>
will not be able to fetch again without metadata. Additionally,
if you lose your <em>$GIT_DIR/svn/**/.rev_map.*</em> files, <em>git svn</em> will not
be able to rebuild them.</p>


<p>The <em>git svn log</em> command will not work on repositories using
this, either.  Using this conflicts with the <em>useSvmProps</em>
option for (hopefully) obvious reasons.</p>


<p>This option is NOT recommended as it makes it difficult to track down
old references to SVN revision numbers in existing documentation, bug
reports, and archives.  If you plan to eventually migrate from SVN to
Git and are certain about dropping SVN history, consider
<a href="https://github.com/newren/git-filter-repo">git-filter-repo</a> instead.
filter-repo also allows reformatting of metadata for ease-of-reading
and rewriting authorship info for non-"svn.authorsFile" users.</p>

</dd>
<dt> svn.useSvmProps </dt>
<dt> svn-remote.&lt;name&gt;.useSvmProps </dt>
<dd>
<p>This allows <em>git svn</em> to re-map repository URLs and UUIDs from
mirrors created using SVN::Mirror (or svk) for metadata.</p>

<p>If an SVN revision has a property, "svm:headrev", it is likely
that the revision was created by SVN::Mirror (also used by SVK).
The property contains a repository UUID and a revision.  We want
to make it look like we are mirroring the original URL, so
introduce a helper function that returns the original identity
URL and UUID, and use it when generating metadata in commit
messages.</p>

</dd>
<dt> svn.useSvnsyncProps </dt>
<dt> svn-remote.&lt;name&gt;.useSvnsyncprops </dt>
<dd>
<p>Similar to the useSvmProps option; this is for users
of the svnsync(1) command distributed with SVN 1.4.x and
later.</p>
</dd>
<dt> svn-remote.&lt;name&gt;.rewriteRoot </dt>
<dd>
<p>This allows users to create repositories from alternate
URLs.  For example, an administrator could run <em>git svn</em> on the
server locally (accessing via file://) but wish to distribute
the repository with a public http:// or svn:// URL in the
metadata so users of it will see the public URL.</p>
</dd>
<dt> svn-remote.&lt;name&gt;.rewriteUUID </dt>
<dd>
<p>Similar to the useSvmProps option; this is for users who need
to remap the UUID manually. This may be useful in situations
where the original UUID is not available via either useSvmProps
or useSvnsyncProps.</p>
</dd>
<dt> svn-remote.&lt;name&gt;.pushurl </dt>
<dd>
<p>Similar to Git’s <code>remote.&lt;name&gt;.pushurl</code>, this key is designed
to be used in cases where <em>url</em> points to an SVN repository
via a read-only transport, to provide an alternate read/write
transport. It is assumed that both keys point to the same
repository. Unlike <em>commiturl</em>, <em>pushurl</em> is a base path. If
either <em>commiturl</em> or <em>pushurl</em> could be used, <em>commiturl</em>
takes precedence.</p>
</dd>
<dt> svn.brokenSymlinkWorkaround </dt>
<dd>
<p>This disables potentially expensive checks to workaround
broken symlinks checked into SVN by broken clients.  Set this
option to "false" if you track a SVN repository with many
empty blobs that are not symlinks.  This option may be changed
while <em>git svn</em> is running and take effect on the next
revision fetched.  If unset, <em>git svn</em> assumes this option to
be "true".</p>
</dd>
<dt> svn.pathnameencoding </dt>
<dd>
<p>This instructs git svn to recode pathnames to a given encoding.
It can be used by windows users and by those who work in non-utf8
locales to avoid corrupted file names with non-ASCII characters.
Valid encodings are the ones supported by Perl’s Encode module.</p>
</dd>
<dt> svn-remote.&lt;name&gt;.automkdirs </dt>
<dd>
<p>Normally, the "git svn clone" and "git svn rebase" commands
attempt to recreate empty directories that are in the
Subversion repository.  If this option is set to "false", then
empty directories will only be created if the "git svn mkdirs"
command is run explicitly.  If unset, <em>git svn</em> assumes this
option to be "true".</p>
</dd>
</dl>


<p>Since the noMetadata, rewriteRoot, rewriteUUID, useSvnsyncProps and useSvmProps
options all affect the metadata generated and used by <em>git svn</em>; they
<strong>must</strong> be set in the configuration file before any history is imported
and these settings should never be changed once they are set.</p>


<p>Additionally, only one of these options can be used per svn-remote
section because they affect the <em>git-svn-id:</em> metadata line, except
for rewriteRoot and rewriteUUID which can be used together.</p>




<h2>BASIC EXAMPLES</h2>


<p>Tracking and contributing to the trunk of a Subversion-managed project
(ignoring tags and branches):</p>



<pre># Clone a repo (like git clone):
	git svn clone http://svn.example.com/project/trunk
# Enter the newly cloned directory:
	cd trunk
# You should be on master branch, double-check with 'git branch'
	git branch
# Do some work and commit locally to Git:
	git commit ...
# Something is committed to SVN, rebase your local changes against the
# latest changes in SVN:
	git svn rebase
# Now commit your changes (that were committed previously using Git) to SVN,
# as well as automatically updating your working HEAD:
	git svn dcommit
# Append svn:ignore settings to the default Git exclude file:
	git svn show-ignore &gt;&gt; .git/info/exclude</pre>



<p>Tracking and contributing to an entire Subversion-managed project
(complete with a trunk, tags and branches):</p>



<pre># Clone a repo with standard SVN directory layout (like git clone):
	git svn clone http://svn.example.com/project --stdlayout --prefix svn/
# Or, if the repo uses a non-standard directory layout:
	git svn clone http://svn.example.com/project -T tr -b branch -t tag --prefix svn/
# View all branches and tags you have cloned:
	git branch -r
# Create a new branch in SVN
	git svn branch waldo
# Reset your master to trunk (or any other branch, replacing 'trunk'
# with the appropriate name):
	git reset --hard svn/trunk
# You may only dcommit to one branch/tag/trunk at a time.  The usage
# of dcommit/rebase/show-ignore should be the same as above.</pre>



<p>The initial <em>git svn clone</em> can be quite time-consuming
(especially for large Subversion repositories). If multiple
people (or one person with multiple machines) want to use
<em>git svn</em> to interact with the same Subversion repository, you can
do the initial <em>git svn clone</em> to a repository on a server and
have each person clone that repository with <em>git clone</em>:</p>



<pre># Do the initial import on a server
	ssh server "cd /pub &amp;&amp; git svn clone http://svn.example.com/project [options...]"
# Clone locally - make sure the refs/remotes/ space matches the server
	mkdir project
	cd project
	git init
	git remote add origin server:/pub/project
	git config --replace-all remote.origin.fetch '+refs/remotes/*:refs/remotes/*'
	git fetch
# Prevent fetch/pull from remote Git server in the future,
# we only want to use git svn for future updates
	git config --remove-section remote.origin
# Create a local branch from one of the branches just fetched
	git checkout -b master FETCH_HEAD
# Initialize 'git svn' locally (be sure to use the same URL and
# --stdlayout/-T/-b/-t/--prefix options as were used on server)
	git svn init http://svn.example.com/project [options...]
# Pull the latest changes from Subversion
	git svn rebase</pre>





<h2>REBASE VS. PULL/MERGE</h2>


<p>Prefer to use <em>git svn rebase</em> or <em>git rebase</em>, rather than
<em>git pull</em> or <em>git merge</em> to synchronize unintegrated commits with a <em>git svn</em>
branch. Doing so will keep the history of unintegrated commits linear with
respect to the upstream SVN repository and allow the use of the preferred
<em>git svn dcommit</em> subcommand to push unintegrated commits back into SVN.</p>


<p>Originally, <em>git svn</em> recommended that developers pulled or merged from
the <em>git svn</em> branch.  This was because the author favored
<code>git svn set-tree B</code> to commit a single head rather than the
<code>git svn set-tree A..B</code> notation to commit multiple commits. Use of
<em>git pull</em> or <em>git merge</em> with <code>git svn set-tree A..B</code> will cause non-linear
history to be flattened when committing into SVN and this can lead to merge
commits unexpectedly reversing previous commits in SVN.</p>




<h2>MERGE TRACKING</h2>


<p>While <em>git svn</em> can track
copy history (including branches and tags) for repositories adopting a
standard layout, it cannot yet represent merge history that happened
inside git back upstream to SVN users.  Therefore it is advised that
users keep history as linear as possible inside Git to ease
compatibility with SVN (see the CAVEATS section below).</p>




<h2>HANDLING OF SVN BRANCHES</h2>


<p>If <em>git svn</em> is configured to fetch branches (and --follow-branches
is in effect), it sometimes creates multiple Git branches for one
SVN branch, where the additional branches have names of the form
<em>branchname@nnn</em> (with nnn an SVN revision number).  These additional
branches are created if <em>git svn</em> cannot find a parent commit for the
first commit in an SVN branch, to connect the branch to the history of
the other branches.</p>


<p>Normally, the first commit in an SVN branch consists
of a copy operation. <em>git svn</em> will read this commit to get the SVN
revision the branch was created from. It will then try to find the
Git commit that corresponds to this SVN revision, and use that as the
parent of the branch. However, it is possible that there is no suitable
Git commit to serve as parent.  This will happen, among other reasons,
if the SVN branch is a copy of a revision that was not fetched by <em>git
svn</em> (e.g. because it is an old revision that was skipped with
<code>--revision</code>), or if in SVN a directory was copied that is not tracked
by <em>git svn</em> (such as a branch that is not tracked at all, or a
subdirectory of a tracked branch). In these cases, <em>git svn</em> will still
create a Git branch, but instead of using an existing Git commit as the
parent of the branch, it will read the SVN history of the directory the
branch was copied from and create appropriate Git commits.  This is
indicated by the message "Initializing parent: &lt;branchname&gt;".</p>


<p>Additionally, it will create a special branch named
<em>&lt;branchname&gt;@&lt;SVN-Revision&gt;</em>, where &lt;SVN-Revision&gt; is the SVN revision
number the branch was copied from.  This branch will point to the newly
created parent commit of the branch.  If in SVN the branch was deleted
and later recreated from a different version, there will be multiple
such branches with an <em>@</em>.</p>


<p>Note that this may mean that multiple Git commits are created for a
single SVN revision.</p>


<p>An example: in an SVN repository with a standard
trunk/tags/branches layout, a directory trunk/sub is created in r.100.
In r.200, trunk/sub is branched by copying it to branches/. <em>git svn
clone -s</em> will then create a branch <em>sub</em>. It will also create new Git
commits for r.100 through r.199 and use these as the history of branch
<em>sub</em>. Thus there will be two Git commits for each revision from r.100
to r.199 (one containing trunk/, one containing trunk/sub/). Finally,
it will create a branch <em>sub@200</em> pointing to the new parent commit of
branch <em>sub</em> (i.e. the commit for r.200 and trunk/sub/).</p>




<h2>CAVEATS</h2>


<p>For the sake of simplicity and interoperating with Subversion,
it is recommended that all <em>git svn</em> users clone, fetch and dcommit
directly from the SVN server, and avoid all <em>git clone</em>/<em>pull</em>/<em>merge</em>/<em>push</em>
operations between Git repositories and branches.  The recommended
method of exchanging code between Git branches and users is
<em>git format-patch</em> and <em>git am</em>, or just 'dcommit’ing to the SVN repository.</p>


<p>Running <em>git merge</em> or <em>git pull</em> is NOT recommended on a branch you
plan to <em>dcommit</em> from because Subversion users cannot see any
merges you’ve made.  Furthermore, if you merge or pull from a Git branch
that is a mirror of an SVN branch, <em>dcommit</em> may commit to the wrong
branch.</p>


<p>If you do merge, note the following rule: <em>git svn dcommit</em> will
attempt to commit on top of the SVN commit named in</p>



<pre>git log --grep=^git-svn-id: --first-parent -1</pre>



<p>You <em>must</em> therefore ensure that the most recent commit of the branch
you want to dcommit to is the <em>first</em> parent of the merge.  Chaos will
ensue otherwise, especially if the first parent is an older commit on
the same SVN branch.</p>


<p><em>git clone</em> does not clone branches under the refs/remotes/ hierarchy or
any <em>git svn</em> metadata, or config.  So repositories created and managed with
using <em>git svn</em> should use <em>rsync</em> for cloning, if cloning is to be done
at all.</p>


<p>Since <em>dcommit</em> uses rebase internally, any Git branches you <em>git push</em> to
before <em>dcommit</em> on will require forcing an overwrite of the existing ref
on the remote repository.  This is generally considered bad practice,
see the <a href="/docs/git-push">git-push[1]</a> documentation for details.</p>


<p>Do not use the --amend option of <a href="/docs/git-commit">git-commit[1]</a> on a change you’ve
already dcommitted.  It is considered bad practice to --amend commits
you’ve already pushed to a remote repository for other users, and
dcommit with SVN is analogous to that.</p>


<p>When cloning an SVN repository, if none of the options for describing
the repository layout is used (--trunk, --tags, --branches,
--stdlayout), <em>git svn clone</em> will create a Git repository with
completely linear history, where branches and tags appear as separate
directories in the working copy.  While this is the easiest way to get a
copy of a complete repository, for projects with many branches it will
lead to a working copy many times larger than just the trunk. Thus for
projects using the standard directory structure (trunk/branches/tags),
it is recommended to clone with option <code>--stdlayout</code>. If the project
uses a non-standard structure, and/or if branches and tags are not
required, it is easiest to only clone one directory (typically trunk),
without giving any repository layout options.  If the full history with
branches and tags is required, the options <code>--trunk</code> / <code>--branches</code> /
<code>--tags</code> must be used.</p>


<p>When using multiple --branches or --tags, <em>git svn</em> does not automatically
handle name collisions (for example, if two branches from different paths have
the same name, or if a branch and a tag have the same name).  In these cases,
use <em>init</em> to set up your Git repository then, before your first <em>fetch</em>, edit
the $GIT_DIR/config file so that the branches and tags are associated
with different name spaces.  For example:</p>



<pre>branches = stable/*:refs/remotes/svn/stable/*
branches = debug/*:refs/remotes/svn/debug/*</pre>





<h2>CONFIGURATION</h2>


<p><em>git svn</em> stores [svn-remote] configuration information in the
repository $GIT_DIR/config file.  It is similar the core Git
[remote] sections except <em>fetch</em> keys do not accept glob
arguments; but they are instead handled by the <em>branches</em>
and <em>tags</em> keys.  Since some SVN repositories are oddly
configured with multiple projects glob expansions such those
listed below are allowed:</p>



<pre>[svn-remote "project-a"]
	url = http://server.org/svn
	fetch = trunk/project-a:refs/remotes/project-a/trunk
	branches = branches/*/project-a:refs/remotes/project-a/branches/*
	branches = branches/release_*:refs/remotes/project-a/branches/release_*
	branches = branches/re*se:refs/remotes/project-a/branches/*
	tags = tags/*/project-a:refs/remotes/project-a/tags/*</pre>



<p>Keep in mind that the <code>*</code> (asterisk) wildcard of the local ref
(right of the <code>:</code>) <strong>must</strong> be the farthest right path component;
however the remote wildcard may be anywhere as long as it’s an
independent path component (surrounded by <code>/</code> or EOL).   This
type of configuration is not automatically created by <em>init</em> and
should be manually entered with a text-editor or using <em>git config</em>.</p>


<p>Also note that only one asterisk is allowed per word. For example:</p>



<pre>branches = branches/re*se:refs/remotes/project-a/branches/*</pre>



<p>will match branches <em>release</em>, <em>rese</em>, <em>re123se</em>, however</p>



<pre>branches = branches/re*s*e:refs/remotes/project-a/branches/*</pre>



<p>will produce an error.</p>


<p>It is also possible to fetch a subset of branches or tags by using a
comma-separated list of names within braces. For example:</p>



<pre>[svn-remote "huge-project"]
	url = http://server.org/svn
	fetch = trunk/src:refs/remotes/trunk
	branches = branches/{red,green}/src:refs/remotes/project-a/branches/*
	tags = tags/{1.0,2.0}/src:refs/remotes/project-a/tags/*</pre>



<p>Multiple fetch, branches, and tags keys are supported:</p>



<pre>[svn-remote "messy-repo"]
	url = http://server.org/svn
	fetch = trunk/project-a:refs/remotes/project-a/trunk
	fetch = branches/demos/june-project-a-demo:refs/remotes/project-a/demos/june-demo
	branches = branches/server/*:refs/remotes/project-a/branches/*
	branches = branches/demos/2011/*:refs/remotes/project-a/2011-demos/*
	tags = tags/server/*:refs/remotes/project-a/tags/*</pre>



<p>Creating a branch in such a configuration requires disambiguating which
location to use using the -d or --destination flag:</p>



<pre>$ git svn branch -d branches/server release-2-3-0</pre>



<p>Note that git-svn keeps track of the highest revision in which a branch
or tag has appeared. If the subset of branches or tags is changed after
fetching, then $GIT_DIR/svn/.metadata must be manually edited to remove
(or reset) branches-maxRev and/or tags-maxRev as appropriate.</p>




<h2>FILES</h2>


<dl>
<dt> $GIT_DIR/svn/**/.rev_map.* </dt>
<dd>
<p>Mapping between Subversion revision numbers and Git commit
names.  In a repository where the noMetadata option is not set,
this can be rebuilt from the git-svn-id: lines that are at the
end of every commit (see the <em>svn.noMetadata</em> section above for
details).</p>

<p><em>git svn fetch</em> and <em>git svn rebase</em> automatically update the rev_map
if it is missing or not up to date.  <em>git svn reset</em> automatically
rewinds it.</p>

</dd>
</dl>




<h2>BUGS</h2>


<p>We ignore all SVN properties except svn:executable.  Any unhandled
properties are logged to $GIT_DIR/svn/&lt;refname&gt;/unhandled.log</p>


<p>Renamed and copied directories are not detected by Git and hence not
tracked when committing to SVN.  I do not plan on adding support for
this as it’s quite difficult and time-consuming to get working for all
the possible corner cases (Git doesn’t do it, either).  Committing
renamed and copied files is fully supported if they’re similar enough
for Git to detect them.</p>


<p>In SVN, it is possible (though discouraged) to commit changes to a tag
(because a tag is just a directory copy, thus technically the same as a
branch). When cloning an SVN repository, <em>git svn</em> cannot know if such a
commit to a tag will happen in the future. Thus it acts conservatively
and imports all SVN tags as branches, prefixing the tag name with <em>tags/</em>.</p>




<h2>SEE ALSO</h2>


<p><a href="/docs/git-rebase">git-rebase[1]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-fast-import - Backend for fast Git data importers</span></h2>




<h2><br>synopsis</h2>


<pre>frontend | <em>git fast-import</em> [&lt;options&gt;]</pre>




<h2>description</h2>


<p>This program is usually not what the end user wants to run directly.
Most end users want to use one of the existing frontend programs,
which parses a specific type of foreign source and feeds the contents
stored there to <em>git fast-import</em>.</p>


<p>fast-import reads a mixed command/data stream from standard input and
writes one or more packfiles directly into the current repository.
When EOF is received on standard input, fast import writes out
updated branch and tag refs, fully updating the current repository
with the newly imported data.</p>


<p>The fast-import backend itself can import into an empty repository (one that
has already been initialized by <em>git init</em>) or incrementally
update an existing populated repository.  Whether or not incremental
imports are supported from a particular foreign source depends on
the frontend program in use.</p>




<h2>options</h2>


<dl>
<dt> --force </dt>
<dd>
<p>Force updating modified existing branches, even if doing
so would cause commits to be lost (as the new commit does
not contain the old commit).</p>
</dd>
<dt> --quiet </dt>
<dd>
<p>Disable the output shown by --stats, making fast-import usually
be silent when it is successful.  However, if the import stream
has directives intended to show user output (e.g. <code>progress</code>
directives), the corresponding messages will still be shown.</p>
</dd>
<dt> --stats </dt>
<dd>
<p>Display some basic statistics about the objects fast-import has
created, the packfiles they were stored into, and the
memory used by fast-import during this run.  Showing this output
is currently the default, but can be disabled with --quiet.</p>
</dd>
<dt> --allow-unsafe-features </dt>
<dd>
<p>Many command-line options can be provided as part of the
fast-import stream itself by using the <code>feature</code> or <code>option</code>
commands. However, some of these options are unsafe (e.g.,
allowing fast-import to access the filesystem outside of the
repository). These options are disabled by default, but can be
allowed by providing this option on the command line.  This
currently impacts only the <code>export-marks</code>, <code>import-marks</code>, and
<code>import-marks-if-exists</code> feature commands.</p>


<pre>Only enable this option if you trust the program generating the
fast-import stream! This option is enabled automatically for
remote-helpers that use the `import` capability, as they are
already trusted to run their own code.</pre>


</dd>
</dl>


<h3>
Options for Frontends</h3>

<dl>
<dt> --cat-blob-fd=&lt;fd&gt; </dt>
<dd>
<p>Write responses to <code>get-mark</code>, <code>cat-blob</code>, and <code>ls</code> queries to the
file descriptor &lt;fd&gt; instead of <code>stdout</code>.  Allows <code>progress</code>
output intended for the end-user to be separated from other
output.</p>
</dd>
<dt> --date-format=&lt;fmt&gt; </dt>
<dd>
<p>Specify the type of dates the frontend will supply to
fast-import within <code>author</code>, <code>committer</code> and <code>tagger</code> commands.
See “Date Formats” below for details about which formats
are supported, and their syntax.</p>
</dd>
<dt> --done </dt>
<dd>
<p>Terminate with error if there is no <code>done</code> command at the end of
the stream.  This option might be useful for detecting errors
that cause the frontend to terminate before it has started to
write a stream.</p>
</dd>
</dl>



<h3>
Locations of Marks Files</h3>

<dl>
<dt> --export-marks=&lt;file&gt; </dt>
<dd>
<p>Dumps the internal marks table to &lt;file&gt; when complete.
Marks are written one per line as <code>:markid SHA-1</code>.
Frontends can use this file to validate imports after they
have been completed, or to save the marks table across
incremental runs.  As &lt;file&gt; is only opened and truncated
at checkpoint (or completion) the same path can also be
safely given to --import-marks.</p>
</dd>
<dt> --import-marks=&lt;file&gt; </dt>
<dd>
<p>Before processing any input, load the marks specified in
&lt;file&gt;.  The input file must exist, must be readable, and
must use the same format as produced by --export-marks.
Multiple options may be supplied to import more than one
set of marks.  If a mark is defined to different values,
the last file wins.</p>
</dd>
<dt> --import-marks-if-exists=&lt;file&gt; </dt>
<dd>
<p>Like --import-marks but instead of erroring out, silently
skips the file if it does not exist.</p>
</dd>
<dt> --[no-]relative-marks </dt>
<dd>
<p>After specifying --relative-marks the paths specified
with --import-marks= and --export-marks= are relative
to an internal directory in the current repository.
In git-fast-import this means that the paths are relative
to the .git/info/fast-import directory. However, other
importers may use a different location.</p>

<p>Relative and non-relative marks may be combined by interweaving
--(no-)-relative-marks with the --(import|export)-marks= options.</p>

</dd>
</dl>



<h3>
Submodule Rewriting</h3>

<dl>
<dt> --rewrite-submodules-from=&lt;name&gt;:&lt;file&gt; </dt>
<dt> --rewrite-submodules-to=&lt;name&gt;:&lt;file&gt; </dt>
<dd>
<p> Rewrite the object IDs for the submodule specified by &lt;name&gt; from the values
used in the from &lt;file&gt; to those used in the to &lt;file&gt;. The from marks should
have been created by <code>git fast-export</code>, and the to marks should have been
created by <code>git fast-import</code> when importing that same submodule.</p>

<p>&lt;name&gt; may be any arbitrary string not containing a colon character, but the
same value must be used with both options when specifying corresponding marks.
Multiple submodules may be specified with different values for &lt;name&gt;. It is an
error not to use these options in corresponding pairs.</p>


<p>These options are primarily useful when converting a repository from one hash
algorithm to another; without them, fast-import will fail if it encounters a
submodule because it has no way of writing the object ID into the new hash
algorithm.</p>

</dd>
</dl>



<h3>
Performance and Compression Tuning</h3>

<dl>
<dt> --active-branches=&lt;n&gt; </dt>
<dd>
<p>Maximum number of branches to maintain active at once.
See “Memory Utilization” below for details.  Default is 5.</p>
</dd>
<dt> --big-file-threshold=&lt;n&gt; </dt>
<dd>
<p>Maximum size of a blob that fast-import will attempt to
create a delta for, expressed in bytes.  The default is 512m
(512 MiB).  Some importers may wish to lower this on systems
with constrained memory.</p>
</dd>
<dt> --depth=&lt;n&gt; </dt>
<dd>
<p>Maximum delta depth, for blob and tree deltification.
Default is 50.</p>
</dd>
<dt> --export-pack-edges=&lt;file&gt; </dt>
<dd>
<p>After creating a packfile, print a line of data to
&lt;file&gt; listing the filename of the packfile and the last
commit on each branch that was written to that packfile.
This information may be useful after importing projects
whose total object set exceeds the 4 GiB packfile limit,
as these commits can be used as edge points during calls
to <em>git pack-objects</em>.</p>
</dd>
<dt> --max-pack-size=&lt;n&gt; </dt>
<dd>
<p>Maximum size of each output packfile.
The default is unlimited.</p>
</dd>
<dt> fastimport.unpackLimit </dt>
<dd>
<p>See <a href="/docs/git-config">git-config[1]</a></p>
</dd>
</dl>





<h2>PERFORMANCE</h2>


<p>The design of fast-import allows it to import large projects in a minimum
amount of memory usage and processing time.  Assuming the frontend
is able to keep up with fast-import and feed it a constant stream of data,
import times for projects holding 10+ years of history and containing
100,000+ individual commits are generally completed in just 1-2
hours on quite modest (~$2,000 USD) hardware.</p>


<p>Most bottlenecks appear to be in foreign source data access (the
source just cannot extract revisions fast enough) or disk IO (fast-import
writes as fast as the disk will take the data).  Imports will run
faster if the source data is stored on a different drive than the
destination Git repository (due to less IO contention).</p>




<h2>DEVELOPMENT COST</h2>


<p>A typical frontend for fast-import tends to weigh in at approximately 200
lines of Perl/Python/Ruby code.  Most developers have been able to
create working importers in just a couple of hours, even though it
is their first exposure to fast-import, and sometimes even to Git.  This is
an ideal situation, given that most conversion tools are throw-away
(use once, and never look back).</p>




<h2>PARALLEL OPERATION</h2>


<p>Like <em>git push</em> or <em>git fetch</em>, imports handled by fast-import are safe to
run alongside parallel <code>git repack -a -d</code> or <code>git gc</code> invocations,
or any other Git operation (including <em>git prune</em>, as loose objects
are never used by fast-import).</p>


<p>fast-import does not lock the branch or tag refs it is actively importing.
After the import, during its ref update phase, fast-import tests each
existing branch ref to verify the update will be a fast-forward
update (the commit stored in the ref is contained in the new
history of the commit to be written).  If the update is not a
fast-forward update, fast-import will skip updating that ref and instead
prints a warning message.  fast-import will always attempt to update all
branch refs, and does not stop on the first failure.</p>


<p>Branch updates can be forced with --force, but it’s recommended that
this only be used on an otherwise quiet repository.  Using --force
is not necessary for an initial import into an empty repository.</p>




<h2>TECHNICAL DISCUSSION</h2>


<p>fast-import tracks a set of branches in memory.  Any branch can be created
or modified at any point during the import process by sending a
<code>commit</code> command on the input stream.  This design allows a frontend
program to process an unlimited number of branches simultaneously,
generating commits in the order they are available from the source
data.  It also simplifies the frontend programs considerably.</p>


<p>fast-import does not use or alter the current working directory, or any
file within it.  (It does however update the current Git repository,
as referenced by <code>GIT_DIR</code>.)  Therefore an import frontend may use
the working directory for its own purposes, such as extracting file
revisions from the foreign source.  This ignorance of the working
directory also allows fast-import to run very quickly, as it does not
need to perform any costly file update operations when switching
between branches.</p>




<h2>INPUT FORMAT</h2>


<p>With the exception of raw file data (which Git does not interpret)
the fast-import input format is text (ASCII) based.  This text based
format simplifies development and debugging of frontend programs,
especially when a higher level language such as Perl, Python or
Ruby is being used.</p>


<p>fast-import is very strict about its input.  Where we say SP below we mean
<strong>exactly</strong> one space.  Likewise LF means one (and only one) linefeed
and HT one (and only one) horizontal tab.
Supplying additional whitespace characters will cause unexpected
results, such as branch names or file names with leading or trailing
spaces in their name, or early termination of fast-import when it encounters
unexpected input.</p>


<h3>
Stream Comments</h3>

<p>To aid in debugging frontends fast-import ignores any line that
begins with <code>#</code> (ASCII pound/hash) up to and including the line
ending <code>LF</code>.  A comment line may contain any sequence of bytes
that does not contain an LF and therefore may be used to include
any detailed debugging information that might be specific to the
frontend and useful when inspecting a fast-import data stream.</p>



<h3>
Date Formats</h3>

<p>The following date formats are supported.  A frontend should select
the format it will use for this import by passing the format name
in the --date-format=&lt;fmt&gt; command-line option.</p>


<dl>
<dt> <code>raw</code> </dt>
<dd>
<p>This is the Git native format and is <code>&lt;time&gt; SP &lt;offutc&gt;</code>.
It is also fast-import’s default format, if --date-format was
not specified.</p>

<p>The time of the event is specified by <code>&lt;time&gt;</code> as the number of
seconds since the UNIX epoch (midnight, Jan 1, 1970, UTC) and is
written as an ASCII decimal integer.</p>


<p>The local offset is specified by <code>&lt;offutc&gt;</code> as a positive or negative
offset from UTC.  For example EST (which is 5 hours behind UTC)
would be expressed in <code>&lt;tz&gt;</code> by “-0500” while UTC is “+0000”.
The local offset does not affect <code>&lt;time&gt;</code>; it is used only as an
advisement to help formatting routines display the timestamp.</p>


<p>If the local offset is not available in the source material, use
“+0000”, or the most common local offset.  For example many
organizations have a CVS repository which has only ever been accessed
by users who are located in the same location and time zone.  In this
case a reasonable offset from UTC could be assumed.</p>


<p>Unlike the <code>rfc2822</code> format, this format is very strict.  Any
variation in formatting will cause fast-import to reject the value,
and some sanity checks on the numeric values may also be performed.</p>

</dd>
<dt> <code>raw-permissive</code> </dt>
<dd>
<p>This is the same as <code>raw</code> except that no sanity checks on
the numeric epoch and local offset are performed.  This can
be useful when trying to filter or import an existing history
with e.g. bogus timezone values.</p>
</dd>
<dt> <code>rfc2822</code> </dt>
<dd>
<p>This is the standard email format as described by RFC 2822.</p>

<p>An example value is “Tue Feb 6 11:22:18 2007 -0500”.  The Git
parser is accurate, but a little on the lenient side.  It is the
same parser used by <em>git am</em> when applying patches
received from email.</p>


<p>Some malformed strings may be accepted as valid dates.  In some of
these cases Git will still be able to obtain the correct date from
the malformed string.  There are also some types of malformed
strings which Git will parse wrong, and yet consider valid.
Seriously malformed strings will be rejected.</p>


<p>Unlike the <code>raw</code> format above, the time zone/UTC offset information
contained in an RFC 2822 date string is used to adjust the date
value to UTC prior to storage.  Therefore it is important that
this information be as accurate as possible.</p>


<p>If the source material uses RFC 2822 style dates,
the frontend should let fast-import handle the parsing and conversion
(rather than attempting to do it itself) as the Git parser has
been well tested in the wild.</p>


<p>Frontends should prefer the <code>raw</code> format if the source material
already uses UNIX-epoch format, can be coaxed to give dates in that
format, or its format is easily convertible to it, as there is no
ambiguity in parsing.</p>

</dd>
<dt> <code>now</code> </dt>
<dd>
<p>Always use the current time and time zone.  The literal
<code>now</code> must always be supplied for <code>&lt;when&gt;</code>.</p>

<p>This is a toy format.  The current time and time zone of this system
is always copied into the identity string at the time it is being
created by fast-import.  There is no way to specify a different time or
time zone.</p>


<p>This particular format is supplied as it’s short to implement and
may be useful to a process that wants to create a new commit
right now, without needing to use a working directory or
<em>git update-index</em>.</p>


<p>If separate <code>author</code> and <code>committer</code> commands are used in a <code>commit</code>
the timestamps may not match, as the system clock will be polled
twice (once for each command).  The only way to ensure that both
author and committer identity information has the same timestamp
is to omit <code>author</code> (thus copying from <code>committer</code>) or to use a
date format other than <code>now</code>.</p>

</dd>
</dl>



<h3>
Commands</h3>

<p>fast-import accepts several commands to update the current repository
and control the current import process.  More detailed discussion
(with examples) of each command follows later.</p>


<dl>
<dt> <code>commit</code> </dt>
<dd>
<p>Creates a new branch or updates an existing branch by
creating a new commit and updating the branch to point at
the newly created commit.</p>
</dd>
<dt> <code>tag</code> </dt>
<dd>
<p>Creates an annotated tag object from an existing commit or
branch.  Lightweight tags are not supported by this command,
as they are not recommended for recording meaningful points
in time.</p>
</dd>
<dt> <code>reset</code> </dt>
<dd>
<p>Reset an existing branch (or a new branch) to a specific
revision.  This command must be used to change a branch to
a specific revision without making a commit on it.</p>
</dd>
<dt> <code>blob</code> </dt>
<dd>
<p>Convert raw file data into a blob, for future use in a
<code>commit</code> command.  This command is optional and is not
needed to perform an import.</p>
</dd>
<dt> <code>alias</code> </dt>
<dd>
<p>Record that a mark refers to a given object without first
creating any new object.  Using --import-marks and referring
to missing marks will cause fast-import to fail, so aliases
can provide a way to set otherwise pruned commits to a valid
value (e.g. the nearest non-pruned ancestor).</p>
</dd>
<dt> <code>checkpoint</code> </dt>
<dd>
<p>Forces fast-import to close the current packfile, generate its
unique SHA-1 checksum and index, and start a new packfile.
This command is optional and is not needed to perform
an import.</p>
</dd>
<dt> <code>progress</code> </dt>
<dd>
<p>Causes fast-import to echo the entire line to its own
standard output.  This command is optional and is not needed
to perform an import.</p>
</dd>
<dt> <code>done</code> </dt>
<dd>
<p>Marks the end of the stream. This command is optional
unless the <code>done</code> feature was requested using the
<code>--done</code> command-line option or <code>feature done</code> command.</p>
</dd>
<dt> <code>get-mark</code> </dt>
<dd>
<p>Causes fast-import to print the SHA-1 corresponding to a mark
to the file descriptor set with <code>--cat-blob-fd</code>, or <code>stdout</code> if
unspecified.</p>
</dd>
<dt> <code>cat-blob</code> </dt>
<dd>
<p>Causes fast-import to print a blob in <em>cat-file --batch</em>
format to the file descriptor set with <code>--cat-blob-fd</code> or
<code>stdout</code> if unspecified.</p>
</dd>
<dt> <code>ls</code> </dt>
<dd>
<p>Causes fast-import to print a line describing a directory
entry in <em>ls-tree</em> format to the file descriptor set with
<code>--cat-blob-fd</code> or <code>stdout</code> if unspecified.</p>
</dd>
<dt> <code>feature</code> </dt>
<dd>
<p>Enable the specified feature. This requires that fast-import
supports the specified feature, and aborts if it does not.</p>
</dd>
<dt> <code>option</code> </dt>
<dd>
<p>Specify any of the options listed under OPTIONS that do not
change stream semantic to suit the frontend’s needs. This
command is optional and is not needed to perform an import.</p>
</dd>
</dl>



<h3>
<code>commit</code>
</h3>

<p>Create or update a branch with a new commit, recording one logical
change to the project.</p>



<pre>	'commit' SP &lt;ref&gt; LF
	mark?
	original-oid?
	('author' (SP &lt;name&gt;)? SP LT &lt;email&gt; GT SP &lt;when&gt; LF)?
	'committer' (SP &lt;name&gt;)? SP LT &lt;email&gt; GT SP &lt;when&gt; LF
	('encoding' SP &lt;encoding&gt;)?
	data
	('from' SP &lt;commit-ish&gt; LF)?
	('merge' SP &lt;commit-ish&gt; LF)*
	(filemodify | filedelete | filecopy | filerename | filedeleteall | notemodify)*
	LF?</pre>



<p>where <code>&lt;ref&gt;</code> is the name of the branch to make the commit on.
Typically branch names are prefixed with <code>refs/heads/</code> in
Git, so importing the CVS branch symbol <code>RELENG-1_0</code> would use
<code>refs/heads/RELENG-1_0</code> for the value of <code>&lt;ref&gt;</code>.  The value of
<code>&lt;ref&gt;</code> must be a valid refname in Git.  As <code>LF</code> is not valid in
a Git refname, no quoting or escaping syntax is supported here.</p>


<p>A <code>mark</code> command may optionally appear, requesting fast-import to save a
reference to the newly created commit for future use by the frontend
(see below for format).  It is very common for frontends to mark
every commit they create, thereby allowing future branch creation
from any imported commit.</p>


<p>The <code>data</code> command following <code>committer</code> must supply the commit
message (see below for <code>data</code> command syntax).  To import an empty
commit message use a 0 length data.  Commit messages are free-form
and are not interpreted by Git.  Currently they must be encoded in
UTF-8, as fast-import does not permit other encodings to be specified.</p>


<p>Zero or more <code>filemodify</code>, <code>filedelete</code>, <code>filecopy</code>, <code>filerename</code>,
<code>filedeleteall</code> and <code>notemodify</code> commands
may be included to update the contents of the branch prior to
creating the commit.  These commands may be supplied in any order.
However it is recommended that a <code>filedeleteall</code> command precede
all <code>filemodify</code>, <code>filecopy</code>, <code>filerename</code> and <code>notemodify</code> commands in
the same commit, as <code>filedeleteall</code> wipes the branch clean (see below).</p>


<p>The <code>LF</code> after the command is optional (it used to be required).  Note
that for reasons of backward compatibility, if the commit ends with a
<code>data</code> command (i.e. it has no <code>from</code>, <code>merge</code>, <code>filemodify</code>,
<code>filedelete</code>, <code>filecopy</code>, <code>filerename</code>, <code>filedeleteall</code> or
<code>notemodify</code> commands) then two <code>LF</code> commands may appear at the end of
the command instead of just one.</p>


<h4>
<code>author</code>
</h4>

<p>An <code>author</code> command may optionally appear, if the author information
might differ from the committer information.  If <code>author</code> is omitted
then fast-import will automatically use the committer’s information for
the author portion of the commit.  See below for a description of
the fields in <code>author</code>, as they are identical to <code>committer</code>.</p>



<h4>
<code>committer</code>
</h4>

<p>The <code>committer</code> command indicates who made this commit, and when
they made it.</p>


<p>Here <code>&lt;name&gt;</code> is the person’s display name (for example
“Com M Itter”) and <code>&lt;email&gt;</code> is the person’s email address
(“cm@example.com”).  <code>LT</code> and <code>GT</code> are the literal less-than (\x3c)
and greater-than (\x3e) symbols.  These are required to delimit
the email address from the other fields in the line.  Note that
<code>&lt;name&gt;</code> and <code>&lt;email&gt;</code> are free-form and may contain any sequence
of bytes, except <code>LT</code>, <code>GT</code> and <code>LF</code>.  <code>&lt;name&gt;</code> is typically UTF-8 encoded.</p>


<p>The time of the change is specified by <code>&lt;when&gt;</code> using the date format
that was selected by the --date-format=&lt;fmt&gt; command-line option.
See “Date Formats” above for the set of supported formats, and
their syntax.</p>



<h4>
<code>encoding</code>
</h4>

<p>The optional <code>encoding</code> command indicates the encoding of the commit
message.  Most commits are UTF-8 and the encoding is omitted, but this
allows importing commit messages into git without first reencoding them.</p>



<h4>
<code>from</code>
</h4>

<p>The <code>from</code> command is used to specify the commit to initialize
this branch from.  This revision will be the first ancestor of the
new commit.  The state of the tree built at this commit will begin
with the state at the <code>from</code> commit, and be altered by the content
modifications in this commit.</p>


<p>Omitting the <code>from</code> command in the first commit of a new branch
will cause fast-import to create that commit with no ancestor. This
tends to be desired only for the initial commit of a project.
If the frontend creates all files from scratch when making a new
branch, a <code>merge</code> command may be used instead of <code>from</code> to start
the commit with an empty tree.
Omitting the <code>from</code> command on existing branches is usually desired,
as the current commit on that branch is automatically assumed to
be the first ancestor of the new commit.</p>


<p>As <code>LF</code> is not valid in a Git refname or SHA-1 expression, no
quoting or escaping syntax is supported within <code>&lt;commit-ish&gt;</code>.</p>


<p>Here <code>&lt;commit-ish&gt;</code> is any of the following:</p>


<ul>
<li>
<p>The name of an existing branch already in fast-import’s internal branch
table.  If fast-import doesn’t know the name, it’s treated as a SHA-1
expression.</p>
</li>
<li>
<p>A mark reference, <code>:&lt;idnum&gt;</code>, where <code>&lt;idnum&gt;</code> is the mark number.</p>

<p>The reason fast-import uses <code>:</code> to denote a mark reference is this character
is not legal in a Git branch name.  The leading <code>:</code> makes it easy
to distinguish between the mark 42 (<code>:42</code>) and the branch 42 (<code>42</code>
or <code>refs/heads/42</code>), or an abbreviated SHA-1 which happened to
consist only of base-10 digits.</p>


<p>Marks must be declared (via <code>mark</code>) before they can be used.</p>

</li>
<li>
<p>A complete 40 byte or abbreviated commit SHA-1 in hex.</p>
</li>
<li>
<p>Any valid Git SHA-1 expression that resolves to a commit.  See
“SPECIFYING REVISIONS” in <a href="/docs/gitrevisions">gitrevisions[7]</a> for details.</p>
</li>
<li>
<p>The special null SHA-1 (40 zeros) specifies that the branch is to be
removed.</p>
</li>
</ul>


<p>The special case of restarting an incremental import from the
current branch value should be written as:</p>



<pre>	from refs/heads/branch^0</pre>



<p>The <code>^0</code> suffix is necessary as fast-import does not permit a branch to
start from itself, and the branch is created in memory before the
<code>from</code> command is even read from the input.  Adding <code>^0</code> will force
fast-import to resolve the commit through Git’s revision parsing library,
rather than its internal branch table, thereby loading in the
existing value of the branch.</p>



<h4>
<code>merge</code>
</h4>

<p>Includes one additional ancestor commit.  The additional ancestry
link does not change the way the tree state is built at this commit.
If the <code>from</code> command is
omitted when creating a new branch, the first <code>merge</code> commit will be
the first ancestor of the current commit, and the branch will start
out with no files.  An unlimited number of <code>merge</code> commands per
commit are permitted by fast-import, thereby establishing an n-way merge.</p>


<p>Here <code>&lt;commit-ish&gt;</code> is any of the commit specification expressions
also accepted by <code>from</code> (see above).</p>



<h4>
<code>filemodify</code>
</h4>

<p>Included in a <code>commit</code> command to add a new file or change the
content of an existing file.  This command has two different means
of specifying the content of the file.</p>


<dl>
<dt> External data format </dt>
<dd>
<p>The data content for the file was already supplied by a prior
<code>blob</code> command.  The frontend just needs to connect it.</p>


<pre>	'M' SP &lt;mode&gt; SP &lt;dataref&gt; SP &lt;path&gt; LF</pre>



<p>Here usually <code>&lt;dataref&gt;</code> must be either a mark reference (<code>:&lt;idnum&gt;</code>)
set by a prior <code>blob</code> command, or a full 40-byte SHA-1 of an
existing Git blob object.  If <code>&lt;mode&gt;</code> is <code>040000`</code> then
<code>&lt;dataref&gt;</code> must be the full 40-byte SHA-1 of an existing
Git tree object or a mark reference set with <code>--import-marks</code>.</p>

</dd>
<dt> Inline data format </dt>
<dd>
<p>The data content for the file has not been supplied yet.
The frontend wants to supply it as part of this modify
command.</p>


<pre>	'M' SP &lt;mode&gt; SP 'inline' SP &lt;path&gt; LF
	data</pre>



<p>See below for a detailed description of the <code>data</code> command.</p>

</dd>
</dl>


<p>In both formats <code>&lt;mode&gt;</code> is the type of file entry, specified
in octal.  Git only supports the following modes:</p>


<ul>
<li>
<p><code>100644</code> or <code>644</code>: A normal (not-executable) file.  The majority
of files in most projects use this mode.  If in doubt, this is
what you want.</p>
</li>
<li>
<p><code>100755</code> or <code>755</code>: A normal, but executable, file.</p>
</li>
<li>
<p><code>120000</code>: A symlink, the content of the file will be the link target.</p>
</li>
<li>
<p><code>160000</code>: A gitlink, SHA-1 of the object refers to a commit in
another repository. Git links can only be specified by SHA or through
a commit mark. They are used to implement submodules.</p>
</li>
<li>
<p><code>040000</code>: A subdirectory.  Subdirectories can only be specified by
SHA or through a tree mark set with <code>--import-marks</code>.</p>
</li>
</ul>


<p>In both formats <code>&lt;path&gt;</code> is the complete path of the file to be added
(if not already existing) or modified (if already existing).</p>


<p>A <code>&lt;path&gt;</code> string must use UNIX-style directory separators (forward
slash <code>/</code>), may contain any byte other than <code>LF</code>, and must not
start with double quote (<code>"</code>).</p>


<p>A path can use C-style string quoting; this is accepted in all cases
and mandatory if the filename starts with double quote or contains
<code>LF</code>. In C-style quoting, the complete name should be surrounded with
double quotes, and any <code>LF</code>, backslash, or double quote characters
must be escaped by preceding them with a backslash (e.g.,
<code>"path/with\n, \\ and \" in it"</code>).</p>


<p>The value of <code>&lt;path&gt;</code> must be in canonical form. That is it must not:</p>


<ul>
<li>
<p>contain an empty directory component (e.g. <code>foo//bar</code> is invalid),</p>
</li>
<li>
<p>end with a directory separator (e.g. <code>foo/</code> is invalid),</p>
</li>
<li>
<p>start with a directory separator (e.g. <code>/foo</code> is invalid),</p>
</li>
<li>
<p>contain the special component <code>.</code> or <code>..</code> (e.g. <code>foo/./bar</code> and
<code>foo/../bar</code> are invalid).</p>
</li>
</ul>


<p>The root of the tree can be represented by an empty string as <code>&lt;path&gt;</code>.</p>


<p>It is recommended that <code>&lt;path&gt;</code> always be encoded using UTF-8.</p>



<h4>
<code>filedelete</code>
</h4>

<p>Included in a <code>commit</code> command to remove a file or recursively
delete an entire directory from the branch.  If the file or directory
removal makes its parent directory empty, the parent directory will
be automatically removed too.  This cascades up the tree until the
first non-empty directory or the root is reached.</p>



<pre>	'D' SP &lt;path&gt; LF</pre>



<p>here <code>&lt;path&gt;</code> is the complete path of the file or subdirectory to
be removed from the branch.
See <code>filemodify</code> above for a detailed description of <code>&lt;path&gt;</code>.</p>



<h4>
<code>filecopy</code>
</h4>

<p>Recursively copies an existing file or subdirectory to a different
location within the branch.  The existing file or directory must
exist.  If the destination exists it will be completely replaced
by the content copied from the source.</p>



<pre>	'C' SP &lt;path&gt; SP &lt;path&gt; LF</pre>



<p>here the first <code>&lt;path&gt;</code> is the source location and the second
<code>&lt;path&gt;</code> is the destination.  See <code>filemodify</code> above for a detailed
description of what <code>&lt;path&gt;</code> may look like.  To use a source path
that contains SP the path must be quoted.</p>


<p>A <code>filecopy</code> command takes effect immediately.  Once the source
location has been copied to the destination any future commands
applied to the source location will not impact the destination of
the copy.</p>



<h4>
<code>filerename</code>
</h4>

<p>Renames an existing file or subdirectory to a different location
within the branch.  The existing file or directory must exist. If
the destination exists it will be replaced by the source directory.</p>



<pre>	'R' SP &lt;path&gt; SP &lt;path&gt; LF</pre>



<p>here the first <code>&lt;path&gt;</code> is the source location and the second
<code>&lt;path&gt;</code> is the destination.  See <code>filemodify</code> above for a detailed
description of what <code>&lt;path&gt;</code> may look like.  To use a source path
that contains SP the path must be quoted.</p>


<p>A <code>filerename</code> command takes effect immediately.  Once the source
location has been renamed to the destination any future commands
applied to the source location will create new files there and not
impact the destination of the rename.</p>


<p>Note that a <code>filerename</code> is the same as a <code>filecopy</code> followed by a
<code>filedelete</code> of the source location.  There is a slight performance
advantage to using <code>filerename</code>, but the advantage is so small
that it is never worth trying to convert a delete/add pair in
source material into a rename for fast-import.  This <code>filerename</code>
command is provided just to simplify frontends that already have
rename information and don’t want bother with decomposing it into a
<code>filecopy</code> followed by a <code>filedelete</code>.</p>



<h4>
<code>filedeleteall</code>
</h4>

<p>Included in a <code>commit</code> command to remove all files (and also all
directories) from the branch.  This command resets the internal
branch structure to have no files in it, allowing the frontend
to subsequently add all interesting files from scratch.</p>



<pre>	'deleteall' LF</pre>



<p>This command is extremely useful if the frontend does not know
(or does not care to know) what files are currently on the branch,
and therefore cannot generate the proper <code>filedelete</code> commands to
update the content.</p>


<p>Issuing a <code>filedeleteall</code> followed by the needed <code>filemodify</code>
commands to set the correct content will produce the same results
as sending only the needed <code>filemodify</code> and <code>filedelete</code> commands.
The <code>filedeleteall</code> approach may however require fast-import to use slightly
more memory per active branch (less than 1 MiB for even most large
projects); so frontends that can easily obtain only the affected
paths for a commit are encouraged to do so.</p>



<h4>
<code>notemodify</code>
</h4>

<p>Included in a <code>commit</code> <code>&lt;notes_ref&gt;</code> command to add a new note
annotating a <code>&lt;commit-ish&gt;</code> or change this annotation contents.
Internally it is similar to filemodify 100644 on <code>&lt;commit-ish&gt;</code>
path (maybe split into subdirectories). It’s not advised to
use any other commands to write to the <code>&lt;notes_ref&gt;</code> tree except
<code>filedeleteall</code> to delete all existing notes in this tree.
This command has two different means of specifying the content
of the note.</p>


<dl>
<dt> External data format </dt>
<dd>
<p>The data content for the note was already supplied by a prior
<code>blob</code> command.  The frontend just needs to connect it to the
commit that is to be annotated.</p>


<pre>	'N' SP &lt;dataref&gt; SP &lt;commit-ish&gt; LF</pre>



<p>Here <code>&lt;dataref&gt;</code> can be either a mark reference (<code>:&lt;idnum&gt;</code>)
set by a prior <code>blob</code> command, or a full 40-byte SHA-1 of an
existing Git blob object.</p>

</dd>
<dt> Inline data format </dt>
<dd>
<p>The data content for the note has not been supplied yet.
The frontend wants to supply it as part of this modify
command.</p>


<pre>	'N' SP 'inline' SP &lt;commit-ish&gt; LF
	data</pre>



<p>See below for a detailed description of the <code>data</code> command.</p>

</dd>
</dl>


<p>In both formats <code>&lt;commit-ish&gt;</code> is any of the commit specification
expressions also accepted by <code>from</code> (see above).</p>




<h3>
<code>mark</code>
</h3>

<p>Arranges for fast-import to save a reference to the current object, allowing
the frontend to recall this object at a future point in time, without
knowing its SHA-1.  Here the current object is the object creation
command the <code>mark</code> command appears within.  This can be <code>commit</code>,
<code>tag</code>, and <code>blob</code>, but <code>commit</code> is the most common usage.</p>



<pre>	'mark' SP ':' &lt;idnum&gt; LF</pre>



<p>where <code>&lt;idnum&gt;</code> is the number assigned by the frontend to this mark.
The value of <code>&lt;idnum&gt;</code> is expressed as an ASCII decimal integer.
The value 0 is reserved and cannot be used as
a mark.  Only values greater than or equal to 1 may be used as marks.</p>


<p>New marks are created automatically.  Existing marks can be moved
to another object simply by reusing the same <code>&lt;idnum&gt;</code> in another
<code>mark</code> command.</p>



<h3>
<code>original-oid</code>
</h3>

<p>Provides the name of the object in the original source control system.
fast-import will simply ignore this directive, but filter processes
which operate on and modify the stream before feeding to fast-import
may have uses for this information</p>



<pre>	'original-oid' SP &lt;object-identifier&gt; LF</pre>



<p>where <code>&lt;object-identifier&gt;</code> is any string not containing LF.</p>



<h3>
<code>tag</code>
</h3>

<p>Creates an annotated tag referring to a specific commit.  To create
lightweight (non-annotated) tags see the <code>reset</code> command below.</p>



<pre>	'tag' SP &lt;name&gt; LF
	mark?
	'from' SP &lt;commit-ish&gt; LF
	original-oid?
	'tagger' (SP &lt;name&gt;)? SP LT &lt;email&gt; GT SP &lt;when&gt; LF
	data</pre>



<p>where <code>&lt;name&gt;</code> is the name of the tag to create.</p>


<p>Tag names are automatically prefixed with <code>refs/tags/</code> when stored
in Git, so importing the CVS branch symbol <code>RELENG-1_0-FINAL</code> would
use just <code>RELENG-1_0-FINAL</code> for <code>&lt;name&gt;</code>, and fast-import will write the
corresponding ref as <code>refs/tags/RELENG-1_0-FINAL</code>.</p>


<p>The value of <code>&lt;name&gt;</code> must be a valid refname in Git and therefore
may contain forward slashes.  As <code>LF</code> is not valid in a Git refname,
no quoting or escaping syntax is supported here.</p>


<p>The <code>from</code> command is the same as in the <code>commit</code> command; see
above for details.</p>


<p>The <code>tagger</code> command uses the same format as <code>committer</code> within
<code>commit</code>; again see above for details.</p>


<p>The <code>data</code> command following <code>tagger</code> must supply the annotated tag
message (see below for <code>data</code> command syntax).  To import an empty
tag message use a 0 length data.  Tag messages are free-form and are
not interpreted by Git.  Currently they must be encoded in UTF-8,
as fast-import does not permit other encodings to be specified.</p>


<p>Signing annotated tags during import from within fast-import is not
supported.  Trying to include your own PGP/GPG signature is not
recommended, as the frontend does not (easily) have access to the
complete set of bytes which normally goes into such a signature.
If signing is required, create lightweight tags from within fast-import with
<code>reset</code>, then create the annotated versions of those tags offline
with the standard <em>git tag</em> process.</p>



<h3>
<code>reset</code>
</h3>

<p>Creates (or recreates) the named branch, optionally starting from
a specific revision.  The reset command allows a frontend to issue
a new <code>from</code> command for an existing branch, or to create a new
branch from an existing commit without creating a new commit.</p>



<pre>	'reset' SP &lt;ref&gt; LF
	('from' SP &lt;commit-ish&gt; LF)?
	LF?</pre>



<p>For a detailed description of <code>&lt;ref&gt;</code> and <code>&lt;commit-ish&gt;</code> see above
under <code>commit</code> and <code>from</code>.</p>


<p>The <code>LF</code> after the command is optional (it used to be required).</p>


<p>The <code>reset</code> command can also be used to create lightweight
(non-annotated) tags.  For example:</p>





<pre>reset refs/tags/938
from :938</pre>





<p>would create the lightweight tag <code>refs/tags/938</code> referring to
whatever commit mark <code>:938</code> references.</p>



<h3>
<code>blob</code>
</h3>

<p>Requests writing one file revision to the packfile.  The revision
is not connected to any commit; this connection must be formed in
a subsequent <code>commit</code> command by referencing the blob through an
assigned mark.</p>



<pre>	'blob' LF
	mark?
	original-oid?
	data</pre>



<p>The mark command is optional here as some frontends have chosen
to generate the Git SHA-1 for the blob on their own, and feed that
directly to <code>commit</code>.  This is typically more work than it’s worth
however, as marks are inexpensive to store and easy to use.</p>



<h3>
<code>data</code>
</h3>

<p>Supplies raw data (for use as blob/file content, commit messages, or
annotated tag messages) to fast-import.  Data can be supplied using an exact
byte count or delimited with a terminating line.  Real frontends
intended for production-quality conversions should always use the
exact byte count format, as it is more robust and performs better.
The delimited format is intended primarily for testing fast-import.</p>


<p>Comment lines appearing within the <code>&lt;raw&gt;</code> part of <code>data</code> commands
are always taken to be part of the body of the data and are therefore
never ignored by fast-import.  This makes it safe to import any
file/message content whose lines might start with <code>#</code>.</p>


<dl>
<dt> Exact byte count format </dt>
<dd>
<p>The frontend must specify the number of bytes of data.</p>


<pre>	'data' SP &lt;count&gt; LF
	&lt;raw&gt; LF?</pre>



<p>where <code>&lt;count&gt;</code> is the exact number of bytes appearing within
<code>&lt;raw&gt;</code>.  The value of <code>&lt;count&gt;</code> is expressed as an ASCII decimal
integer.  The <code>LF</code> on either side of <code>&lt;raw&gt;</code> is not
included in <code>&lt;count&gt;</code> and will not be included in the imported data.</p>


<p>The <code>LF</code> after <code>&lt;raw&gt;</code> is optional (it used to be required) but
recommended.  Always including it makes debugging a fast-import
stream easier as the next command always starts in column 0
of the next line, even if <code>&lt;raw&gt;</code> did not end with an <code>LF</code>.</p>

</dd>
<dt> Delimited format </dt>
<dd>
<p>A delimiter string is used to mark the end of the data.
fast-import will compute the length by searching for the delimiter.
This format is primarily useful for testing and is not
recommended for real data.</p>


<pre>	'data' SP '&lt;&lt;' &lt;delim&gt; LF
	&lt;raw&gt; LF
	&lt;delim&gt; LF
	LF?</pre>



<p>where <code>&lt;delim&gt;</code> is the chosen delimiter string.  The string <code>&lt;delim&gt;</code>
must not appear on a line by itself within <code>&lt;raw&gt;</code>, as otherwise
fast-import will think the data ends earlier than it really does.  The <code>LF</code>
immediately trailing <code>&lt;raw&gt;</code> is part of <code>&lt;raw&gt;</code>.  This is one of
the limitations of the delimited format, it is impossible to supply
a data chunk which does not have an LF as its last byte.</p>


<p>The <code>LF</code> after <code>&lt;delim&gt; LF</code> is optional (it used to be required).</p>

</dd>
</dl>



<h3>
<code>alias</code>
</h3>

<p>Record that a mark refers to a given object without first creating any
new object.</p>



<pre>	'alias' LF
	mark
	'to' SP &lt;commit-ish&gt; LF
	LF?</pre>



<p>For a detailed description of <code>&lt;commit-ish&gt;</code> see above under <code>from</code>.</p>



<h3>
<code>checkpoint</code>
</h3>

<p>Forces fast-import to close the current packfile, start a new one, and to
save out all current branch refs, tags and marks.</p>



<pre>	'checkpoint' LF
	LF?</pre>



<p>Note that fast-import automatically switches packfiles when the current
packfile reaches --max-pack-size, or 4 GiB, whichever limit is
smaller.  During an automatic packfile switch fast-import does not update
the branch refs, tags or marks.</p>


<p>As a <code>checkpoint</code> can require a significant amount of CPU time and
disk IO (to compute the overall pack SHA-1 checksum, generate the
corresponding index file, and update the refs) it can easily take
several minutes for a single <code>checkpoint</code> command to complete.</p>


<p>Frontends may choose to issue checkpoints during extremely large
and long running imports, or when they need to allow another Git
process access to a branch.  However given that a 30 GiB Subversion
repository can be loaded into Git through fast-import in about 3 hours,
explicit checkpointing may not be necessary.</p>


<p>The <code>LF</code> after the command is optional (it used to be required).</p>



<h3>
<code>progress</code>
</h3>

<p>Causes fast-import to print the entire <code>progress</code> line unmodified to
its standard output channel (file descriptor 1) when the command is
processed from the input stream.  The command otherwise has no impact
on the current import, or on any of fast-import’s internal state.</p>



<pre>	'progress' SP &lt;any&gt; LF
	LF?</pre>



<p>The <code>&lt;any&gt;</code> part of the command may contain any sequence of bytes
that does not contain <code>LF</code>.  The <code>LF</code> after the command is optional.
Callers may wish to process the output through a tool such as sed to
remove the leading part of the line, for example:</p>





<pre>frontend | git fast-import | sed 's/^progress //'</pre>





<p>Placing a <code>progress</code> command immediately after a <code>checkpoint</code> will
inform the reader when the <code>checkpoint</code> has been completed and it
can safely access the refs that fast-import updated.</p>



<h3>
<code>get-mark</code>
</h3>

<p>Causes fast-import to print the SHA-1 corresponding to a mark to
stdout or to the file descriptor previously arranged with the
<code>--cat-blob-fd</code> argument. The command otherwise has no impact on the
current import; its purpose is to retrieve SHA-1s that later commits
might want to refer to in their commit messages.</p>



<pre>	'get-mark' SP ':' &lt;idnum&gt; LF</pre>



<p>See “Responses To Commands” below for details about how to read
this output safely.</p>



<h3>
<code>cat-blob</code>
</h3>

<p>Causes fast-import to print a blob to a file descriptor previously
arranged with the <code>--cat-blob-fd</code> argument.  The command otherwise
has no impact on the current import; its main purpose is to
retrieve blobs that may be in fast-import’s memory but not
accessible from the target repository.</p>



<pre>	'cat-blob' SP &lt;dataref&gt; LF</pre>



<p>The <code>&lt;dataref&gt;</code> can be either a mark reference (<code>:&lt;idnum&gt;</code>)
set previously or a full 40-byte SHA-1 of a Git blob, preexisting or
ready to be written.</p>


<p>Output uses the same format as <code>git cat-file --batch</code>:</p>





<pre>&lt;sha1&gt; SP 'blob' SP &lt;size&gt; LF
&lt;contents&gt; LF</pre>





<p>This command can be used where a <code>filemodify</code> directive can appear,
allowing it to be used in the middle of a commit.  For a <code>filemodify</code>
using an inline directive, it can also appear right before the <code>data</code>
directive.</p>


<p>See “Responses To Commands” below for details about how to read
this output safely.</p>



<h3>
<code>ls</code>
</h3>

<p>Prints information about the object at a path to a file descriptor
previously arranged with the <code>--cat-blob-fd</code> argument.  This allows
printing a blob from the active commit (with <code>cat-blob</code>) or copying a
blob or tree from a previous commit for use in the current one (with
<code>filemodify</code>).</p>


<p>The <code>ls</code> command can also be used where a <code>filemodify</code> directive can
appear, allowing it to be used in the middle of a commit.</p>


<dl>
<dt> Reading from the active commit </dt>
<dd>
<p>This form can only be used in the middle of a <code>commit</code>.
The path names a directory entry within fast-import’s
active commit.  The path must be quoted in this case.</p>


<pre>	'ls' SP &lt;path&gt; LF</pre>


</dd>
<dt> Reading from a named tree </dt>
<dd>
<p>The <code>&lt;dataref&gt;</code> can be a mark reference (<code>:&lt;idnum&gt;</code>) or the
full 40-byte SHA-1 of a Git tag, commit, or tree object,
preexisting or waiting to be written.
The path is relative to the top level of the tree
named by <code>&lt;dataref&gt;</code>.</p>


<pre>	'ls' SP &lt;dataref&gt; SP &lt;path&gt; LF</pre>


</dd>
</dl>


<p>See <code>filemodify</code> above for a detailed description of <code>&lt;path&gt;</code>.</p>


<p>Output uses the same format as <code>git ls-tree &lt;tree&gt; -- &lt;path&gt;</code>:</p>





<pre>&lt;mode&gt; SP ('blob' | 'tree' | 'commit') SP &lt;dataref&gt; HT &lt;path&gt; LF</pre>





<p>The &lt;dataref&gt; represents the blob, tree, or commit object at &lt;path&gt;
and can be used in later <em>get-mark</em>, <em>cat-blob</em>, <em>filemodify</em>, or
<em>ls</em> commands.</p>


<p>If there is no file or subtree at that path, <em>git fast-import</em> will
instead report</p>





<pre>missing SP &lt;path&gt; LF</pre>





<p>See “Responses To Commands” below for details about how to read
this output safely.</p>



<h3>
<code>feature</code>
</h3>

<p>Require that fast-import supports the specified feature, or abort if
it does not.</p>



<pre>	'feature' SP &lt;feature&gt; ('=' &lt;argument&gt;)? LF</pre>



<p>The &lt;feature&gt; part of the command may be any one of the following:</p>


<dl>
<dt> date-format </dt>
<dt> export-marks </dt>
<dt> relative-marks </dt>
<dt> no-relative-marks </dt>
<dt> force </dt>
<dd>
<p>Act as though the corresponding command-line option with
a leading <code>--</code> was passed on the command line
(see OPTIONS, above).</p>
</dd>
<dt> import-marks </dt>
<dt> import-marks-if-exists </dt>
<dd>
<p>Like --import-marks except in two respects: first, only one
"feature import-marks" or "feature import-marks-if-exists"
command is allowed per stream; second, an --import-marks=
or --import-marks-if-exists command-line option overrides
any of these "feature" commands in the stream; third,
"feature import-marks-if-exists" like a corresponding
command-line option silently skips a nonexistent file.</p>
</dd>
<dt> get-mark </dt>
<dt> cat-blob </dt>
<dt> ls </dt>
<dd>
<p>Require that the backend support the <em>get-mark</em>, <em>cat-blob</em>,
or <em>ls</em> command respectively.
Versions of fast-import not supporting the specified command
will exit with a message indicating so.
This lets the import error out early with a clear message,
rather than wasting time on the early part of an import
before the unsupported command is detected.</p>
</dd>
<dt> notes </dt>
<dd>
<p>Require that the backend support the <em>notemodify</em> (N)
subcommand to the <em>commit</em> command.
Versions of fast-import not supporting notes will exit
with a message indicating so.</p>
</dd>
<dt> done </dt>
<dd>
<p>Error out if the stream ends without a <em>done</em> command.
Without this feature, errors causing the frontend to end
abruptly at a convenient point in the stream can go
undetected.  This may occur, for example, if an import
front end dies in mid-operation without emitting SIGTERM
or SIGKILL at its subordinate git fast-import instance.</p>
</dd>
</dl>



<h3>
<code>option</code>
</h3>

<p>Processes the specified option so that git fast-import behaves in a
way that suits the frontend’s needs.
Note that options specified by the frontend are overridden by any
options the user may specify to git fast-import itself.</p>



<pre>    'option' SP &lt;option&gt; LF</pre>



<p>The <code>&lt;option&gt;</code> part of the command may contain any of the options
listed in the OPTIONS section that do not change import semantics,
without the leading <code>--</code> and is treated in the same way.</p>


<p>Option commands must be the first commands on the input (not counting
feature commands), to give an option command after any non-option
command is an error.</p>


<p>The following command-line options change import semantics and may therefore
not be passed as option:</p>


<ul>
<li>
<p>date-format</p>
</li>
<li>
<p>import-marks</p>
</li>
<li>
<p>export-marks</p>
</li>
<li>
<p>cat-blob-fd</p>
</li>
<li>
<p>force</p>
</li>
</ul>



<h3>
<code>done</code>
</h3>

<p>If the <code>done</code> feature is not in use, treated as if EOF was read.
This can be used to tell fast-import to finish early.</p>


<p>If the <code>--done</code> command-line option or <code>feature done</code> command is
in use, the <code>done</code> command is mandatory and marks the end of the
stream.</p>





<h2>RESPONSES TO COMMANDS</h2>


<p>New objects written by fast-import are not available immediately.
Most fast-import commands have no visible effect until the next
checkpoint (or completion).  The frontend can send commands to
fill fast-import’s input pipe without worrying about how quickly
they will take effect, which improves performance by simplifying
scheduling.</p>


<p>For some frontends, though, it is useful to be able to read back
data from the current repository as it is being updated (for
example when the source material describes objects in terms of
patches to be applied to previously imported objects).  This can
be accomplished by connecting the frontend and fast-import via
bidirectional pipes:</p>





<pre>mkfifo fast-import-output
frontend &lt;fast-import-output |
git fast-import &gt;fast-import-output</pre>





<p>A frontend set up this way can use <code>progress</code>, <code>get-mark</code>, <code>ls</code>, and
<code>cat-blob</code> commands to read information from the import in progress.</p>


<p>To avoid deadlock, such frontends must completely consume any
pending output from <code>progress</code>, <code>ls</code>, <code>get-mark</code>, and <code>cat-blob</code> before
performing writes to fast-import that might block.</p>




<h2>CRASH REPORTS</h2>


<p>If fast-import is supplied invalid input it will terminate with a
non-zero exit status and create a crash report in the top level of
the Git repository it was importing into.  Crash reports contain
a snapshot of the internal fast-import state as well as the most
recent commands that lead up to the crash.</p>


<p>All recent commands (including stream comments, file changes and
progress commands) are shown in the command history within the crash
report, but raw file data and commit messages are excluded from the
crash report.  This exclusion saves space within the report file
and reduces the amount of buffering that fast-import must perform
during execution.</p>


<p>After writing a crash report fast-import will close the current
packfile and export the marks table.  This allows the frontend
developer to inspect the repository state and resume the import from
the point where it crashed.  The modified branches and tags are not
updated during a crash, as the import did not complete successfully.
Branch and tag information can be found in the crash report and
must be applied manually if the update is needed.</p>


<p>An example crash:</p>





<pre>$ cat &gt;in &lt;&lt;END_OF_INPUT
# my very first test commit
commit refs/heads/master
committer Shawn O. Pearce &lt;spearce&gt; 19283 -0400
# who is that guy anyway?
data &lt;&lt;EOF
this is my commit
EOF
M 644 inline .gitignore
data &lt;&lt;EOF
.gitignore
EOF
M 777 inline bob
END_OF_INPUT</pre>




<pre>$ git fast-import &lt;in
fatal: Corrupt mode: M 777 inline bob
fast-import: dumping crash report to .git/fast_import_crash_8434</pre>




<pre>$ cat .git/fast_import_crash_8434
fast-import crash report:
    fast-import process: 8434
    parent process     : 1391
    at Sat Sep 1 00:58:12 2007</pre>




<pre>fatal: Corrupt mode: M 777 inline bob</pre>




<pre>Most Recent Commands Before Crash
---------------------------------
  # my very first test commit
  commit refs/heads/master
  committer Shawn O. Pearce &lt;spearce&gt; 19283 -0400
  # who is that guy anyway?
  data &lt;&lt;EOF
  M 644 inline .gitignore
  data &lt;&lt;EOF
* M 777 inline bob</pre>




<pre>Active Branch LRU
-----------------
    active_branches = 1 cur, 5 max</pre>




<pre>pos  clock name
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 1)      0 refs/heads/master</pre>




<pre>Inactive Branches
-----------------
refs/heads/master:
  status      : active loaded dirty
  tip commit  : 0000000000000000000000000000000000000000
  old tree    : 0000000000000000000000000000000000000000
  cur tree    : 0000000000000000000000000000000000000000
  commit clock: 0
  last pack   :</pre>




<pre>-------------------
END OF CRASH REPORT</pre>







<h2>TIPS AND TRICKS</h2>


<p>The following tips and tricks have been collected from various
users of fast-import, and are offered here as suggestions.</p>


<h3>
Use One Mark Per Commit</h3>

<p>When doing a repository conversion, use a unique mark per commit
(<code>mark :&lt;n&gt;</code>) and supply the --export-marks option on the command
line.  fast-import will dump a file which lists every mark and the Git
object SHA-1 that corresponds to it.  If the frontend can tie
the marks back to the source repository, it is easy to verify the
accuracy and completeness of the import by comparing each Git
commit to the corresponding source revision.</p>


<p>Coming from a system such as Perforce or Subversion this should be
quite simple, as the fast-import mark can also be the Perforce changeset
number or the Subversion revision number.</p>



<h3>
Freely Skip Around Branches</h3>

<p>Don’t bother trying to optimize the frontend to stick to one branch
at a time during an import.  Although doing so might be slightly
faster for fast-import, it tends to increase the complexity of the frontend
code considerably.</p>


<p>The branch LRU builtin to fast-import tends to behave very well, and the
cost of activating an inactive branch is so low that bouncing around
between branches has virtually no impact on import performance.</p>



<h3>
Handling Renames</h3>

<p>When importing a renamed file or directory, simply delete the old
name(s) and modify the new name(s) during the corresponding commit.
Git performs rename detection after-the-fact, rather than explicitly
during a commit.</p>



<h3>
Use Tag Fixup Branches</h3>

<p>Some other SCM systems let the user create a tag from multiple
files which are not from the same commit/changeset.  Or to create
tags which are a subset of the files available in the repository.</p>


<p>Importing these tags as-is in Git is impossible without making at
least one commit which “fixes up” the files to match the content
of the tag.  Use fast-import’s <code>reset</code> command to reset a dummy branch
outside of your normal branch space to the base commit for the tag,
then commit one or more file fixup commits, and finally tag the
dummy branch.</p>


<p>For example since all normal branches are stored under <code>refs/heads/</code>
name the tag fixup branch <code>TAG_FIXUP</code>.  This way it is impossible for
the fixup branch used by the importer to have namespace conflicts
with real branches imported from the source (the name <code>TAG_FIXUP</code>
is not <code>refs/heads/TAG_FIXUP</code>).</p>


<p>When committing fixups, consider using <code>merge</code> to connect the
commit(s) which are supplying file revisions to the fixup branch.
Doing so will allow tools such as <em>git blame</em> to track
through the real commit history and properly annotate the source
files.</p>


<p>After fast-import terminates the frontend will need to do <code>rm .git/TAG_FIXUP</code>
to remove the dummy branch.</p>



<h3>
Import Now, Repack Later</h3>

<p>As soon as fast-import completes the Git repository is completely valid
and ready for use.  Typically this takes only a very short time,
even for considerably large projects (100,000+ commits).</p>


<p>However repacking the repository is necessary to improve data
locality and access performance.  It can also take hours on extremely
large projects (especially if -f and a large --window parameter is
used).  Since repacking is safe to run alongside readers and writers,
run the repack in the background and let it finish when it finishes.
There is no reason to wait to explore your new Git project!</p>


<p>If you choose to wait for the repack, don’t try to run benchmarks
or performance tests until repacking is completed.  fast-import outputs
suboptimal packfiles that are simply never seen in real use
situations.</p>



<h3>
Repacking Historical Data</h3>

<p>If you are repacking very old imported data (e.g. older than the
last year), consider expending some extra CPU time and supplying
--window=50 (or higher) when you run <em>git repack</em>.
This will take longer, but will also produce a smaller packfile.
You only need to expend the effort once, and everyone using your
project will benefit from the smaller repository.</p>



<h3>
Include Some Progress Messages</h3>

<p>Every once in a while have your frontend emit a <code>progress</code> message
to fast-import.  The contents of the messages are entirely free-form,
so one suggestion would be to output the current month and year
each time the current commit date moves into the next month.
Your users will feel better knowing how much of the data stream
has been processed.</p>





<h2>PACKFILE OPTIMIZATION</h2>


<p>When packing a blob fast-import always attempts to deltify against the last
blob written.  Unless specifically arranged for by the frontend,
this will probably not be a prior version of the same file, so the
generated delta will not be the smallest possible.  The resulting
packfile will be compressed, but will not be optimal.</p>


<p>Frontends which have efficient access to all revisions of a
single file (for example reading an RCS/CVS ,v file) can choose
to supply all revisions of that file as a sequence of consecutive
<code>blob</code> commands.  This allows fast-import to deltify the different file
revisions against each other, saving space in the final packfile.
Marks can be used to later identify individual file revisions during
a sequence of <code>commit</code> commands.</p>


<p>The packfile(s) created by fast-import do not encourage good disk access
patterns.  This is caused by fast-import writing the data in the order
it is received on standard input, while Git typically organizes
data within packfiles to make the most recent (current tip) data
appear before historical data.  Git also clusters commits together,
speeding up revision traversal through better cache locality.</p>


<p>For this reason it is strongly recommended that users repack the
repository with <code>git repack -a -d</code> after fast-import completes, allowing
Git to reorganize the packfiles for faster data access.  If blob
deltas are suboptimal (see above) then also adding the <code>-f</code> option
to force recomputation of all deltas can significantly reduce the
final packfile size (30-50% smaller can be quite typical).</p>


<p>Instead of running <code>git repack</code> you can also run <code>git gc
--aggressive</code>, which will also optimize other things after an import
(e.g. pack loose refs). As noted in the "AGGRESSIVE" section in
<a href="/docs/git-gc">git-gc[1]</a> the <code>--aggressive</code> option will find new deltas with
the <code>-f</code> option to <a href="/docs/git-repack">git-repack[1]</a>. For the reasons elaborated
on above using <code>--aggressive</code> after a fast-import is one of the few
cases where it’s known to be worthwhile.</p>




<h2>MEMORY UTILIZATION</h2>


<p>There are a number of factors which affect how much memory fast-import
requires to perform an import.  Like critical sections of core
Git, fast-import uses its own memory allocators to amortize any overheads
associated with malloc.  In practice fast-import tends to amortize any
malloc overheads to 0, due to its use of large block allocations.</p>


<h3>
per object</h3>

<p>fast-import maintains an in-memory structure for every object written in
this execution.  On a 32 bit system the structure is 32 bytes,
on a 64 bit system the structure is 40 bytes (due to the larger
pointer sizes).  Objects in the table are not deallocated until
fast-import terminates.  Importing 2 million objects on a 32 bit system
will require approximately 64 MiB of memory.</p>


<p>The object table is actually a hashtable keyed on the object name
(the unique SHA-1).  This storage configuration allows fast-import to reuse
an existing or already written object and avoid writing duplicates
to the output packfile.  Duplicate blobs are surprisingly common
in an import, typically due to branch merges in the source.</p>



<h3>
per mark</h3>

<p>Marks are stored in a sparse array, using 1 pointer (4 bytes or 8
bytes, depending on pointer size) per mark.  Although the array
is sparse, frontends are still strongly encouraged to use marks
between 1 and n, where n is the total number of marks required for
this import.</p>



<h3>
per branch</h3>

<p>Branches are classified as active and inactive.  The memory usage
of the two classes is significantly different.</p>


<p>Inactive branches are stored in a structure which uses 96 or 120
bytes (32 bit or 64 bit systems, respectively), plus the length of
the branch name (typically under 200 bytes), per branch.  fast-import will
easily handle as many as 10,000 inactive branches in under 2 MiB
of memory.</p>


<p>Active branches have the same overhead as inactive branches, but
also contain copies of every tree that has been recently modified on
that branch.  If subtree <code>include</code> has not been modified since the
branch became active, its contents will not be loaded into memory,
but if subtree <code>src</code> has been modified by a commit since the branch
became active, then its contents will be loaded in memory.</p>


<p>As active branches store metadata about the files contained on that
branch, their in-memory storage size can grow to a considerable size
(see below).</p>


<p>fast-import automatically moves active branches to inactive status based on
a simple least-recently-used algorithm.  The LRU chain is updated on
each <code>commit</code> command.  The maximum number of active branches can be
increased or decreased on the command line with --active-branches=.</p>



<h3>
per active tree</h3>

<p>Trees (aka directories) use just 12 bytes of memory on top of the
memory required for their entries (see “per active file” below).
The cost of a tree is virtually 0, as its overhead amortizes out
over the individual file entries.</p>



<h3>
per active file entry</h3>

<p>Files (and pointers to subtrees) within active trees require 52 or 64
bytes (32/64 bit platforms) per entry.  To conserve space, file and
tree names are pooled in a common string table, allowing the filename
“Makefile” to use just 16 bytes (after including the string header
overhead) no matter how many times it occurs within the project.</p>


<p>The active branch LRU, when coupled with the filename string pool
and lazy loading of subtrees, allows fast-import to efficiently import
projects with 2,000+ branches and 45,114+ files in a very limited
memory footprint (less than 2.7 MiB per active branch).</p>





<h2>SIGNALS</h2>


<p>Sending <strong>SIGUSR1</strong> to the <em>git fast-import</em> process ends the current
packfile early, simulating a <code>checkpoint</code> command.  The impatient
operator can use this facility to peek at the objects and refs from an
import in progress, at the cost of some added running time and worse
compression.</p>




<h2>SEE ALSO</h2>


<p><a href="/docs/git-fast-export">git-fast-export[1]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-daemon - A really simple server for Git repositories</span></h2>




<h2><br>synopsis</h2>


<pre><em>git daemon</em> [--verbose] [--syslog] [--export-all]
	     [--timeout=&lt;n&gt;] [--init-timeout=&lt;n&gt;] [--max-connections=&lt;n&gt;]
	     [--strict-paths] [--base-path=&lt;path&gt;] [--base-path-relaxed]
	     [--user-path | --user-path=&lt;path&gt;]
	     [--interpolated-path=&lt;pathtemplate&gt;]
	     [--reuseaddr] [--detach] [--pid-file=&lt;file&gt;]
	     [--enable=&lt;service&gt;] [--disable=&lt;service&gt;]
	     [--allow-override=&lt;service&gt;] [--forbid-override=&lt;service&gt;]
	     [--access-hook=&lt;path&gt;] [--[no-]informative-errors]
	     [--inetd |
	      [--listen=&lt;host_or_ipaddr&gt;] [--port=&lt;n&gt;]
	      [--user=&lt;user&gt; [--group=&lt;group&gt;]]]
	     [--log-destination=(stderr|syslog|none)]
	     [&lt;directory&gt;…<U+200B>]</pre>




<h2>description</h2>


<p>A really simple TCP Git daemon that normally listens on port "DEFAULT_GIT_PORT"
aka 9418.  It waits for a connection asking for a service, and will serve
that service if it is enabled.</p>


<p>It verifies that the directory has the magic file "git-daemon-export-ok", and
it will refuse to export any Git directory that hasn’t explicitly been marked
for export this way (unless the <code>--export-all</code> parameter is specified). If you
pass some directory paths as <em>git daemon</em> arguments, you can further restrict
the offers to a whitelist comprising of those.</p>


<p>By default, only <code>upload-pack</code> service is enabled, which serves
<em>git fetch-pack</em> and <em>git ls-remote</em> clients, which are invoked
from <em>git fetch</em>, <em>git pull</em>, and <em>git clone</em>.</p>


<p>This is ideally suited for read-only updates, i.e., pulling from
Git repositories.</p>


<p>An <code>upload-archive</code> also exists to serve <em>git archive</em>.</p>




<h2>options</h2>


<dl>
<dt> --strict-paths </dt>
<dd>
<p>Match paths exactly (i.e. don’t allow "/foo/repo" when the real path is
"/foo/repo.git" or "/foo/repo/.git") and don’t do user-relative paths.
<em>git daemon</em> will refuse to start when this option is enabled and no
whitelist is specified.</p>
</dd>
<dt> --base-path=&lt;path&gt; </dt>
<dd>
<p>Remap all the path requests as relative to the given path.
This is sort of "Git root" - if you run <em>git daemon</em> with
<em>--base-path=/srv/git</em> on example.com, then if you later try to pull
<em>git://example.com/hello.git</em>, <em>git daemon</em> will interpret the path
as <code>/srv/git/hello.git</code>.</p>
</dd>
<dt> --base-path-relaxed </dt>
<dd>
<p>If --base-path is enabled and repo lookup fails, with this option
<em>git daemon</em> will attempt to lookup without prefixing the base path.
This is useful for switching to --base-path usage, while still
allowing the old paths.</p>
</dd>
<dt> --interpolated-path=&lt;pathtemplate&gt; </dt>
<dd>
<p>To support virtual hosting, an interpolated path template can be
used to dynamically construct alternate paths.  The template
supports %H for the target hostname as supplied by the client but
converted to all lowercase, %CH for the canonical hostname,
%IP for the server’s IP address, %P for the port number,
and %D for the absolute path of the named repository.
After interpolation, the path is validated against the directory
whitelist.</p>
</dd>
<dt> --export-all </dt>
<dd>
<p>Allow pulling from all directories that look like Git repositories
(have the <em>objects</em> and <em>refs</em> subdirectories), even if they
do not have the <em>git-daemon-export-ok</em> file.</p>
</dd>
<dt> --inetd </dt>
<dd>
<p>Have the server run as an inetd service. Implies --syslog (may be
overridden with <code>--log-destination=</code>).
Incompatible with --detach, --port, --listen, --user and --group
options.</p>
</dd>
<dt> --listen=&lt;host_or_ipaddr&gt; </dt>
<dd>
<p>Listen on a specific IP address or hostname.  IP addresses can
be either an IPv4 address or an IPv6 address if supported.  If IPv6
is not supported, then --listen=hostname is also not supported and
--listen must be given an IPv4 address.
Can be given more than once.
Incompatible with <code>--inetd</code> option.</p>
</dd>
<dt> --port=&lt;n&gt; </dt>
<dd>
<p>Listen on an alternative port.  Incompatible with <code>--inetd</code> option.</p>
</dd>
<dt> --init-timeout=&lt;n&gt; </dt>
<dd>
<p>Timeout (in seconds) between the moment the connection is established
and the client request is received (typically a rather low value, since
that should be basically immediate).</p>
</dd>
<dt> --timeout=&lt;n&gt; </dt>
<dd>
<p>Timeout (in seconds) for specific client sub-requests. This includes
the time it takes for the server to process the sub-request and the
time spent waiting for the next client’s request.</p>
</dd>
<dt> --max-connections=&lt;n&gt; </dt>
<dd>
<p>Maximum number of concurrent clients, defaults to 32.  Set it to
zero for no limit.</p>
</dd>
<dt> --syslog </dt>
<dd>
<p>Short for <code>--log-destination=syslog</code>.</p>
</dd>
<dt> --log-destination=&lt;destination&gt; </dt>
<dd>
<p>Send log messages to the specified destination.
Note that this option does not imply --verbose,
thus by default only error conditions will be logged.
The &lt;destination&gt; must be one of:</p>



<dl>
<dt> stderr </dt>
<dd>
<p>Write to standard error.
Note that if <code>--detach</code> is specified,
the process disconnects from the real standard error,
making this destination effectively equivalent to <code>none</code>.</p>
</dd>
<dt> syslog </dt>
<dd>
<p>Write to syslog, using the <code>git-daemon</code> identifier.</p>
</dd>
<dt> none </dt>
<dd>
<p>Disable all logging.</p>
</dd>
</dl>




<p>The default destination is <code>syslog</code> if <code>--inetd</code> or <code>--detach</code> is specified,
otherwise <code>stderr</code>.</p>

</dd>
<dt> --user-path </dt>
<dt> --user-path=&lt;path&gt; </dt>
<dd>
<p>Allow ~user notation to be used in requests.  When
specified with no parameter, requests to
git://host/~alice/foo is taken as a request to access
<em>foo</em> repository in the home directory of user <code>alice</code>.
If <code>--user-path=path</code> is specified, the same request is
taken as a request to access <code>path/foo</code> repository in
the home directory of user <code>alice</code>.</p>
</dd>
<dt> --verbose </dt>
<dd>
<p>Log details about the incoming connections and requested files.</p>
</dd>
<dt> --reuseaddr </dt>
<dd>
<p>Use SO_REUSEADDR when binding the listening socket.
This allows the server to restart without waiting for
old connections to time out.</p>
</dd>
<dt> --detach </dt>
<dd>
<p>Detach from the shell. Implies --syslog.</p>
</dd>
<dt> --pid-file=&lt;file&gt; </dt>
<dd>
<p>Save the process id in <em>file</em>.  Ignored when the daemon
is run under <code>--inetd</code>.</p>
</dd>
<dt> --user=&lt;user&gt; </dt>
<dt> --group=&lt;group&gt; </dt>
<dd>
<p>Change daemon’s uid and gid before entering the service loop.
When only <code>--user</code> is given without <code>--group</code>, the
primary group ID for the user is used.  The values of
the option are given to <code>getpwnam(3)</code> and <code>getgrnam(3)</code>
and numeric IDs are not supported.</p>

<p>Giving these options is an error when used with <code>--inetd</code>; use
the facility of inet daemon to achieve the same before spawning
<em>git daemon</em> if needed.</p>


<p>Like many programs that switch user id, the daemon does not reset
environment variables such as <code>$HOME</code> when it runs git programs,
e.g. <code>upload-pack</code> and <code>receive-pack</code>. When using this option, you
may also want to set and export <code>HOME</code> to point at the home
directory of <code>&lt;user&gt;</code> before starting the daemon, and make sure any
Git configuration files in that directory are readable by <code>&lt;user&gt;</code>.</p>

</dd>
<dt> --enable=&lt;service&gt; </dt>
<dt> --disable=&lt;service&gt; </dt>
<dd>
<p>Enable/disable the service site-wide per default.  Note
that a service disabled site-wide can still be enabled
per repository if it is marked overridable and the
repository enables the service with a configuration
item.</p>
</dd>
<dt> --allow-override=&lt;service&gt; </dt>
<dt> --forbid-override=&lt;service&gt; </dt>
<dd>
<p>Allow/forbid overriding the site-wide default with per
repository configuration.  By default, all the services
may be overridden.</p>
</dd>
<dt> --[no-]informative-errors </dt>
<dd>
<p>When informative errors are turned on, git-daemon will report
more verbose errors to the client, differentiating conditions
like "no such repository" from "repository not exported". This
is more convenient for clients, but may leak information about
the existence of unexported repositories.  When informative
errors are not enabled, all errors report "access denied" to the
client. The default is --no-informative-errors.</p>
</dd>
<dt> --access-hook=&lt;path&gt; </dt>
<dd>
<p>Every time a client connects, first run an external command
specified by the &lt;path&gt; with service name (e.g. "upload-pack"),
path to the repository, hostname (%H), canonical hostname
(%CH), IP address (%IP), and TCP port (%P) as its command-line
arguments. The external command can decide to decline the
service by exiting with a non-zero status (or to allow it by
exiting with a zero status).  It can also look at the $REMOTE_ADDR
and <code>$REMOTE_PORT</code> environment variables to learn about the
requestor when making this decision.</p>

<p>The external command can optionally write a single line to its
standard output to be sent to the requestor as an error message when
it declines the service.</p>

</dd>
<dt> &lt;directory&gt; </dt>
<dd>
<p>A directory to add to the whitelist of allowed directories. Unless
--strict-paths is specified this will also include subdirectories
of each named directory.</p>
</dd>
</dl>




<h2>SERVICES</h2>


<p>These services can be globally enabled/disabled using the
command-line options of this command.  If finer-grained
control is desired (e.g. to allow <em>git archive</em> to be run
against only in a few selected repositories the daemon serves),
the per-repository configuration file can be used to enable or
disable them.</p>


<dl>
<dt> upload-pack </dt>
<dd>
<p>This serves <em>git fetch-pack</em> and <em>git ls-remote</em>
clients.  It is enabled by default, but a repository can
disable it by setting <code>daemon.uploadpack</code> configuration
item to <code>false</code>.</p>
</dd>
<dt> upload-archive </dt>
<dd>
<p>This serves <em>git archive --remote</em>.  It is disabled by
default, but a repository can enable it by setting
<code>daemon.uploadarch</code> configuration item to <code>true</code>.</p>
</dd>
<dt> receive-pack </dt>
<dd>
<p>This serves <em>git send-pack</em> clients, allowing anonymous
push.  It is disabled by default, as there is <em>no</em>
authentication in the protocol (in other words, anybody
can push anything into the repository, including removal
of refs).  This is solely meant for a closed LAN setting
where everybody is friendly.  This service can be
enabled by setting <code>daemon.receivepack</code> configuration item to
<code>true</code>.</p>
</dd>
</dl>




<h2>examples</h2>


<dl>
<dt> We assume the following in /etc/services </dt>
<dd>


<pre>$ grep 9418 /etc/services
git		9418/tcp		# Git Version Control System</pre>


</dd>
<dt> <em>git daemon</em> as inetd server </dt>
<dd>
<p>To set up <em>git daemon</em> as an inetd service that handles any
repository under the whitelisted set of directories, /pub/foo
and /pub/bar, place an entry like the following into
/etc/inetd all on one line:</p>


<pre>	git stream tcp nowait nobody  /usr/bin/git
		git daemon --inetd --verbose --export-all
		/pub/foo /pub/bar</pre>


</dd>
<dt> <em>git daemon</em> as inetd server for virtual hosts </dt>
<dd>
<p>To set up <em>git daemon</em> as an inetd service that handles
repositories for different virtual hosts, <code>www.example.com</code>
and <code>www.example.org</code>, place an entry like the following into
<code>/etc/inetd</code> all on one line:</p>


<pre>	git stream tcp nowait nobody /usr/bin/git
		git daemon --inetd --verbose --export-all
		--interpolated-path=/pub/%H%D
		/pub/www.example.org/software
		/pub/www.example.com/software
		/software</pre>



<p>In this example, the root-level directory <code>/pub</code> will contain
a subdirectory for each virtual host name supported.
Further, both hosts advertise repositories simply as
<code>git://www.example.com/software/repo.git</code>.  For pre-1.4.0
clients, a symlink from <code>/software</code> into the appropriate
default repository could be made as well.</p>

</dd>
<dt> <em>git daemon</em> as regular daemon for virtual hosts </dt>
<dd>
<p>To set up <em>git daemon</em> as a regular, non-inetd service that
handles repositories for multiple virtual hosts based on
their IP addresses, start the daemon like this:</p>


<pre>	git daemon --verbose --export-all
		--interpolated-path=/pub/%IP/%D
		/pub/192.168.1.200/software
		/pub/10.10.220.23/software</pre>



<p>In this example, the root-level directory <code>/pub</code> will contain
a subdirectory for each virtual host IP address supported.
Repositories can still be accessed by hostname though, assuming
they correspond to these IP addresses.</p>

</dd>
<dt> selectively enable/disable services per repository </dt>
<dd>
<p>To enable <em>git archive --remote</em> and disable <em>git fetch</em> against
a repository, have the following in the configuration file in the
repository (that is the file <em>config</em> next to <code>HEAD</code>, <em>refs</em> and
<em>objects</em>).</p>


<pre>	[daemon]
		uploadpack = false
		uploadarch = true</pre>


</dd>
</dl>




<h2>ENVIRONMENT</h2>


<p><em>git daemon</em> will set REMOTE_ADDR to the IP address of the client
that connected to it, if the IP address is available. REMOTE_ADDR will
be available in the environment of hooks called when
services are performed.</p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-update-server-info - Update auxiliary info file to help dumb servers</span></h2>




<h2><br>synopsis</h2>


<pre><em>git update-server-info</em></pre>




<h2>description</h2>


<p>A dumb server that does not do on-the-fly pack generations must
have some auxiliary information files in $GIT_DIR/info and
$GIT_OBJECT_DIRECTORY/info directories to help clients discover
what references and packs the server has.  This command
generates such auxiliary files.</p>




<h2>OUTPUT</h2>


<p>Currently the command updates the following files.  Please see
<a href="/docs/gitrepository-layout">gitrepository-layout[5]</a> for description of
what they are for:</p>


<ul>
<li>
<p>objects/info/packs</p>
</li>
<li>
<p>info/refs</p>
</li>
</ul>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">gitattributes - Defining attributes per path</span></h2>




<h2><br>synopsis</h2>


<p>$GIT_DIR/info/attributes, .gitattributes</p>




<h2>description</h2>


<p>A <code>gitattributes</code> file is a simple text file that gives
<code>attributes</code> to pathnames.</p>


<p>Each line in <code>gitattributes</code> file is of form:</p>



<pre>pattern attr1 attr2 ...</pre>



<p>That is, a pattern followed by an attributes list,
separated by whitespaces. Leading and trailing whitespaces are
ignored. Lines that begin with <em>#</em> are ignored. Patterns
that begin with a double quote are quoted in C style.
When the pattern matches the path in question, the attributes
listed on the line are given to the path.</p>


<p>Each attribute can be in one of these states for a given path:</p>


<dl>
<dt> Set </dt>
<dd>
<p>The path has the attribute with special value "true";
this is specified by listing only the name of the
attribute in the attribute list.</p>
</dd>
<dt> Unset </dt>
<dd>
<p>The path has the attribute with special value "false";
this is specified by listing the name of the attribute
prefixed with a dash <code>-</code> in the attribute list.</p>
</dd>
<dt> Set to a value </dt>
<dd>
<p>The path has the attribute with specified string value;
this is specified by listing the name of the attribute
followed by an equal sign <code>=</code> and its value in the
attribute list.</p>
</dd>
<dt> Unspecified </dt>
<dd>
<p>No pattern matches the path, and nothing says if
the path has or does not have the attribute, the
attribute for the path is said to be Unspecified.</p>
</dd>
</dl>


<p>When more than one pattern matches the path, a later line
overrides an earlier line.  This overriding is done per
attribute.</p>


<p>The rules by which the pattern matches paths are the same as in
<code>.gitignore</code> files (see <a href="/docs/gitignore">gitignore[5]</a>), with a few exceptions:</p>


<ul>
<li>
<p>negative patterns are forbidden</p>
</li>
<li>
<p>patterns that match a directory do not recursively match paths
inside that directory (so using the trailing-slash <code>path/</code> syntax is
pointless in an attributes file; use <code>path/**</code> instead)</p>
</li>
</ul>


<p>When deciding what attributes are assigned to a path, Git
consults <code>$GIT_DIR/info/attributes</code> file (which has the highest
precedence), <code>.gitattributes</code> file in the same directory as the
path in question, and its parent directories up to the toplevel of the
work tree (the further the directory that contains <code>.gitattributes</code>
is from the path in question, the lower its precedence). Finally
global and system-wide files are considered (they have the lowest
precedence).</p>


<p>When the <code>.gitattributes</code> file is missing from the work tree, the
path in the index is used as a fall-back.  During checkout process,
<code>.gitattributes</code> in the index is used and then the file in the
working tree is used as a fall-back.</p>


<p>If you wish to affect only a single repository (i.e., to assign
attributes to files that are particular to
one user’s workflow for that repository), then
attributes should be placed in the <code>$GIT_DIR/info/attributes</code> file.
Attributes which should be version-controlled and distributed to other
repositories (i.e., attributes of interest to all users) should go into
<code>.gitattributes</code> files. Attributes that should affect all repositories
for a single user should be placed in a file specified by the
<code>core.attributesFile</code> configuration option (see <a href="/docs/git-config">git-config[1]</a>).
Its default value is $XDG_CONFIG_HOME/git/attributes. If $XDG_CONFIG_HOME
is either not set or empty, $HOME/.config/git/attributes is used instead.
Attributes for all users on a system should be placed in the
<code>$(prefix)/etc/gitattributes</code> file.</p>


<p>Sometimes you would need to override a setting of an attribute
for a path to <code>Unspecified</code> state.  This can be done by listing
the name of the attribute prefixed with an exclamation point <code>!</code>.</p>




<h2>EFFECTS</h2>


<p>Certain operations by Git can be influenced by assigning
particular attributes to a path.  Currently, the following
operations are attributes-aware.</p>


<h3>
Checking-out and checking-in</h3>

<p>These attributes affect how the contents stored in the
repository are copied to the working tree files when commands
such as <em>git switch</em>, <em>git checkout</em>  and <em>git merge</em> run.
They also affect how
Git stores the contents you prepare in the working tree in the
repository upon <em>git add</em> and <em>git commit</em>.</p>


<h4>
<code>text</code>
</h4>

<p>This attribute enables and controls end-of-line normalization.  When a
text file is normalized, its line endings are converted to LF in the
repository.  To control what line ending style is used in the working
directory, use the <code>eol</code> attribute for a single file and the
<code>core.eol</code> configuration variable for all text files.
Note that setting <code>core.autocrlf</code> to <code>true</code> or <code>input</code> overrides
<code>core.eol</code> (see the definitions of those options in
<a href="/docs/git-config">git-config[1]</a>).</p>


<dl>
<dt> Set </dt>
<dd>
<p>Setting the <code>text</code> attribute on a path enables end-of-line
normalization and marks the path as a text file.  End-of-line
conversion takes place without guessing the content type.</p>
</dd>
<dt> Unset </dt>
<dd>
<p>Unsetting the <code>text</code> attribute on a path tells Git not to
attempt any end-of-line conversion upon checkin or checkout.</p>
</dd>
<dt> Set to string value "auto" </dt>
<dd>
<p>When <code>text</code> is set to "auto", the path is marked for automatic
end-of-line conversion.  If Git decides that the content is
text, its line endings are converted to LF on checkin.
When the file has been committed with CRLF, no conversion is done.</p>
</dd>
<dt> Unspecified </dt>
<dd>
<p>If the <code>text</code> attribute is unspecified, Git uses the
<code>core.autocrlf</code> configuration variable to determine if the
file should be converted.</p>
</dd>
</dl>


<p>Any other value causes Git to act as if <code>text</code> has been left
unspecified.</p>



<h4>
<code>eol</code>
</h4>

<p>This attribute sets a specific line-ending style to be used in the
working directory.  It enables end-of-line conversion without any
content checks, effectively setting the <code>text</code> attribute.  Note that
setting this attribute on paths which are in the index with CRLF line
endings may make the paths to be considered dirty.  Adding the path to
the index again will normalize the line endings in the index.</p>


<dl>
<dt> Set to string value "crlf" </dt>
<dd>
<p>This setting forces Git to normalize line endings for this
file on checkin and convert them to CRLF when the file is
checked out.</p>
</dd>
<dt> Set to string value "lf" </dt>
<dd>
<p>This setting forces Git to normalize line endings to LF on
checkin and prevents conversion to CRLF when the file is
checked out.</p>
</dd>
</dl>



<h4>
Backwards compatibility with <code>crlf</code> attribute</h4>

<p>For backwards compatibility, the <code>crlf</code> attribute is interpreted as
follows:</p>



<pre>crlf		text
-crlf		-text
crlf=input	eol=lf</pre>




<h4>
End-of-line conversion</h4>

<p>While Git normally leaves file contents alone, it can be configured to
normalize line endings to LF in the repository and, optionally, to
convert them to CRLF when files are checked out.</p>


<p>If you simply want to have CRLF line endings in your working directory
regardless of the repository you are working with, you can set the
config variable "core.autocrlf" without using any attributes.</p>



<pre>[core]
	autocrlf = true</pre>



<p>This does not force normalization of text files, but does ensure
that text files that you introduce to the repository have their line
endings normalized to LF when they are added, and that files that are
already normalized in the repository stay normalized.</p>


<p>If you want to ensure that text files that any contributor introduces to
the repository have their line endings normalized, you can set the
<code>text</code> attribute to "auto" for <em>all</em> files.</p>



<pre>*	text=auto</pre>



<p>The attributes allow a fine-grained control, how the line endings
are converted.
Here is an example that will make Git normalize .txt, .vcproj and .sh
files, ensure that .vcproj files have CRLF and .sh files have LF in
the working directory, and prevent .jpg files from being normalized
regardless of their content.</p>



<pre>*               text=auto
*.txt		text
*.vcproj	text eol=crlf
*.sh		text eol=lf
*.jpg		-text</pre>



<table><tr>
<td>
Note
</td>
<td>
When <code>text=auto</code> conversion is enabled in a cross-platform
project using push and pull to a central repository the text files
containing CRLFs should be normalized.
</td>
</tr></table>


<p>From a clean working directory:</p>



<pre>$ echo "* text=auto" &gt;.gitattributes
$ git add --renormalize .
$ git status        # Show files that will be normalized
$ git commit -m "Introduce end-of-line normalization"</pre>



<p>If any files that should not be normalized show up in <em>git status</em>,
unset their <code>text</code> attribute before running <em>git add -u</em>.</p>



<pre>manual.pdf	-text</pre>



<p>Conversely, text files that Git does not detect can have normalization
enabled manually.</p>



<pre>weirdchars.txt	text</pre>



<p>If <code>core.safecrlf</code> is set to "true" or "warn", Git verifies if
the conversion is reversible for the current setting of
<code>core.autocrlf</code>.  For "true", Git rejects irreversible
conversions; for "warn", Git only prints a warning but accepts
an irreversible conversion.  The safety triggers to prevent such
a conversion done to the files in the work tree, but there are a
few exceptions.  Even though…<U+200B></p>


<ul>
<li>
<p><em>git add</em> itself does not touch the files in the work tree, the
next checkout would, so the safety triggers;</p>
</li>
<li>
<p><em>git apply</em> to update a text file with a patch does touch the files
in the work tree, but the operation is about text files and CRLF
conversion is about fixing the line ending inconsistencies, so the
safety does not trigger;</p>
</li>
<li>
<p><em>git diff</em> itself does not touch the files in the work tree, it is
often run to inspect the changes you intend to next <em>git add</em>.  To
catch potential problems early, safety triggers.</p>
</li>
</ul>



<h4>
<code>working-tree-encoding</code>
</h4>

<p>Git recognizes files encoded in ASCII or one of its supersets (e.g.
UTF-8, ISO-8859-1, …<U+200B>) as text files. Files encoded in certain other
encodings (e.g. UTF-16) are interpreted as binary and consequently
built-in Git text processing tools (e.g. <em>git diff</em>) as well as most Git
web front ends do not visualize the contents of these files by default.</p>


<p>In these cases you can tell Git the encoding of a file in the working
directory with the <code>working-tree-encoding</code> attribute. If a file with this
attribute is added to Git, then Git re-encodes the content from the
specified encoding to UTF-8. Finally, Git stores the UTF-8 encoded
content in its internal data structure (called "the index"). On checkout
the content is re-encoded back to the specified encoding.</p>


<p>Please note that using the <code>working-tree-encoding</code> attribute may have a
number of pitfalls:</p>


<ul>
<li>
<p>Alternative Git implementations (e.g. JGit or libgit2) and older Git
versions (as of March 2018) do not support the <code>working-tree-encoding</code>
attribute. If you decide to use the <code>working-tree-encoding</code> attribute
in your repository, then it is strongly recommended to ensure that all
clients working with the repository support it.</p>

<p>For example, Microsoft Visual Studio resources files (<code>*.rc</code>) or
PowerShell script files (<code>*.ps1</code>) are sometimes encoded in UTF-16.
If you declare <code>*.ps1</code> as files as UTF-16 and you add <code>foo.ps1</code> with
a <code>working-tree-encoding</code> enabled Git client, then <code>foo.ps1</code> will be
stored as UTF-8 internally. A client without <code>working-tree-encoding</code>
support will checkout <code>foo.ps1</code> as UTF-8 encoded file. This will
typically cause trouble for the users of this file.</p>


<p>If a Git client that does not support the <code>working-tree-encoding</code>
attribute adds a new file <code>bar.ps1</code>, then <code>bar.ps1</code> will be
stored "as-is" internally (in this example probably as UTF-16).
A client with <code>working-tree-encoding</code> support will interpret the
internal contents as UTF-8 and try to convert it to UTF-16 on checkout.
That operation will fail and cause an error.</p>

</li>
<li>
<p>Reencoding content to non-UTF encodings can cause errors as the
conversion might not be UTF-8 round trip safe. If you suspect your
encoding to not be round trip safe, then add it to
<code>core.checkRoundtripEncoding</code> to make Git check the round trip
encoding (see <a href="/docs/git-config">git-config[1]</a>). SHIFT-JIS (Japanese character
set) is known to have round trip issues with UTF-8 and is checked by
default.</p>
</li>
<li>
<p>Reencoding content requires resources that might slow down certain
Git operations (e.g <em>git checkout</em> or <em>git add</em>).</p>
</li>
</ul>


<p>Use the <code>working-tree-encoding</code> attribute only if you cannot store a file
in UTF-8 encoding and if you want Git to be able to process the content
as text.</p>


<p>As an example, use the following attributes if your <em>*.ps1</em> files are
UTF-16 encoded with byte order mark (BOM) and you want Git to perform
automatic line ending conversion based on your platform.</p>



<pre>*.ps1		text working-tree-encoding=UTF-16</pre>



<p>Use the following attributes if your <em>*.ps1</em> files are UTF-16 little
endian encoded without BOM and you want Git to use Windows line endings
in the working directory (use <code>UTF-16LE-BOM</code> instead of <code>UTF-16LE</code> if
you want UTF-16 little endian with BOM).
Please note, it is highly recommended to
explicitly define the line endings with <code>eol</code> if the <code>working-tree-encoding</code>
attribute is used to avoid ambiguity.</p>



<pre>*.ps1		text working-tree-encoding=UTF-16LE eol=CRLF</pre>



<p>You can get a list of all available encodings on your platform with the
following command:</p>



<pre>iconv --list</pre>



<p>If you do not know the encoding of a file, then you can use the <code>file</code>
command to guess the encoding:</p>



<pre>file foo.ps1</pre>




<h4>
<code>ident</code>
</h4>

<p>When the attribute <code>ident</code> is set for a path, Git replaces
<code>$Id$</code> in the blob object with <code>$Id:</code>, followed by the
40-character hexadecimal blob object name, followed by a dollar
sign <code>$</code> upon checkout.  Any byte sequence that begins with
<code>$Id:</code> and ends with <code>$</code> in the worktree file is replaced
with <code>$Id$</code> upon check-in.</p>



<h4>
<code>filter</code>
</h4>

<p>A <code>filter</code> attribute can be set to a string value that names a
filter driver specified in the configuration.</p>


<p>A filter driver consists of a <code>clean</code> command and a <code>smudge</code>
command, either of which can be left unspecified.  Upon
checkout, when the <code>smudge</code> command is specified, the command is
fed the blob object from its standard input, and its standard
output is used to update the worktree file.  Similarly, the
<code>clean</code> command is used to convert the contents of worktree file
upon checkin. By default these commands process only a single
blob and terminate. If a long running <code>process</code> filter is used
in place of <code>clean</code> and/or <code>smudge</code> filters, then Git can process
all blobs with a single filter command invocation for the entire
life of a single Git command, for example <code>git add --all</code>. If a
long running <code>process</code> filter is configured then it always takes
precedence over a configured single blob filter. See section
below for the description of the protocol used to communicate with
a <code>process</code> filter.</p>


<p>One use of the content filtering is to massage the content into a shape
that is more convenient for the platform, filesystem, and the user to use.
For this mode of operation, the key phrase here is "more convenient" and
not "turning something unusable into usable".  In other words, the intent
is that if someone unsets the filter driver definition, or does not have
the appropriate filter program, the project should still be usable.</p>


<p>Another use of the content filtering is to store the content that cannot
be directly used in the repository (e.g. a UUID that refers to the true
content stored outside Git, or an encrypted content) and turn it into a
usable form upon checkout (e.g. download the external content, or decrypt
the encrypted content).</p>


<p>These two filters behave differently, and by default, a filter is taken as
the former, massaging the contents into more convenient shape.  A missing
filter driver definition in the config, or a filter driver that exits with
a non-zero status, is not an error but makes the filter a no-op passthru.</p>


<p>You can declare that a filter turns a content that by itself is unusable
into a usable content by setting the filter.&lt;driver&gt;.required configuration
variable to <code>true</code>.</p>


<p>Note: Whenever the clean filter is changed, the repo should be renormalized:
$ git add --renormalize .</p>


<p>For example, in .gitattributes, you would assign the <code>filter</code>
attribute for paths.</p>



<pre>*.c	filter=indent</pre>



<p>Then you would define a "filter.indent.clean" and "filter.indent.smudge"
configuration in your .git/config to specify a pair of commands to
modify the contents of C programs when the source files are checked
in ("clean" is run) and checked out (no change is made because the
command is "cat").</p>



<pre>[filter "indent"]
	clean = indent
	smudge = cat</pre>



<p>For best results, <code>clean</code> should not alter its output further if it is
run twice ("clean<U+2192>clean" should be equivalent to "clean"), and
multiple <code>smudge</code> commands should not alter <code>clean</code>'s output
("smudge<U+2192>smudge<U+2192>clean" should be equivalent to "clean").  See the
section on merging below.</p>


<p>The "indent" filter is well-behaved in this regard: it will not modify
input that is already correctly indented.  In this case, the lack of a
smudge filter means that the clean filter <em>must</em> accept its own output
without modifying it.</p>


<p>If a filter <em>must</em> succeed in order to make the stored contents usable,
you can declare that the filter is <code>required</code>, in the configuration:</p>



<pre>[filter "crypt"]
	clean = openssl enc ...
	smudge = openssl enc -d ...
	required</pre>



<p>Sequence "%f" on the filter command line is replaced with the name of
the file the filter is working on.  A filter might use this in keyword
substitution.  For example:</p>



<pre>[filter "p4"]
	clean = git-p4-filter --clean %f
	smudge = git-p4-filter --smudge %f</pre>



<p>Note that "%f" is the name of the path that is being worked on. Depending
on the version that is being filtered, the corresponding file on disk may
not exist, or may have different contents. So, smudge and clean commands
should not try to access the file on disk, but only act as filters on the
content provided to them on standard input.</p>



<h4>
Long Running Filter Process</h4>

<p>If the filter command (a string value) is defined via
<code>filter.&lt;driver&gt;.process</code> then Git can process all blobs with a
single filter invocation for the entire life of a single Git
command. This is achieved by using the long-running process protocol
(described in technical/long-running-process-protocol.txt).</p>


<p>When Git encounters the first file that needs to be cleaned or smudged,
it starts the filter and performs the handshake. In the handshake, the
welcome message sent by Git is "git-filter-client", only version 2 is
supported, and the supported capabilities are "clean", "smudge", and
"delay".</p>


<p>Afterwards Git sends a list of "key=value" pairs terminated with
a flush packet. The list will contain at least the filter command
(based on the supported capabilities) and the pathname of the file
to filter relative to the repository root. Right after the flush packet
Git sends the content split in zero or more pkt-line packets and a
flush packet to terminate content. Please note, that the filter
must not send any response before it received the content and the
final flush packet. Also note that the "value" of a "key=value" pair
can contain the "=" character whereas the key would never contain
that character.</p>



<pre>packet:          git&gt; command=smudge
packet:          git&gt; pathname=path/testfile.dat
packet:          git&gt; 0000
packet:          git&gt; CONTENT
packet:          git&gt; 0000</pre>



<p>The filter is expected to respond with a list of "key=value" pairs
terminated with a flush packet. If the filter does not experience
problems then the list must contain a "success" status. Right after
these packets the filter is expected to send the content in zero
or more pkt-line packets and a flush packet at the end. Finally, a
second list of "key=value" pairs terminated with a flush packet
is expected. The filter can change the status in the second list
or keep the status as is with an empty list. Please note that the
empty list must be terminated with a flush packet regardless.</p>



<pre>packet:          git&lt; status=success
packet:          git&lt; 0000
packet:          git&lt; SMUDGED_CONTENT
packet:          git&lt; 0000
packet:          git&lt; 0000  # empty list, keep "status=success" unchanged!</pre>



<p>If the result content is empty then the filter is expected to respond
with a "success" status and a flush packet to signal the empty content.</p>



<pre>packet:          git&lt; status=success
packet:          git&lt; 0000
packet:          git&lt; 0000  # empty content!
packet:          git&lt; 0000  # empty list, keep "status=success" unchanged!</pre>



<p>In case the filter cannot or does not want to process the content,
it is expected to respond with an "error" status.</p>



<pre>packet:          git&lt; status=error
packet:          git&lt; 0000</pre>



<p>If the filter experiences an error during processing, then it can
send the status "error" after the content was (partially or
completely) sent.</p>



<pre>packet:          git&lt; status=success
packet:          git&lt; 0000
packet:          git&lt; HALF_WRITTEN_ERRONEOUS_CONTENT
packet:          git&lt; 0000
packet:          git&lt; status=error
packet:          git&lt; 0000</pre>



<p>In case the filter cannot or does not want to process the content
as well as any future content for the lifetime of the Git process,
then it is expected to respond with an "abort" status at any point
in the protocol.</p>



<pre>packet:          git&lt; status=abort
packet:          git&lt; 0000</pre>



<p>Git neither stops nor restarts the filter process in case the
"error"/"abort" status is set. However, Git sets its exit code
according to the <code>filter.&lt;driver&gt;.required</code> flag, mimicking the
behavior of the <code>filter.&lt;driver&gt;.clean</code> / <code>filter.&lt;driver&gt;.smudge</code>
mechanism.</p>


<p>If the filter dies during the communication or does not adhere to
the protocol then Git will stop the filter process and restart it
with the next file that needs to be processed. Depending on the
<code>filter.&lt;driver&gt;.required</code> flag Git will interpret that as error.</p>



<h4>
Delay</h4>

<p>If the filter supports the "delay" capability, then Git can send the
flag "can-delay" after the filter command and pathname. This flag
denotes that the filter can delay filtering the current blob (e.g. to
compensate network latencies) by responding with no content but with
the status "delayed" and a flush packet.</p>



<pre>packet:          git&gt; command=smudge
packet:          git&gt; pathname=path/testfile.dat
packet:          git&gt; can-delay=1
packet:          git&gt; 0000
packet:          git&gt; CONTENT
packet:          git&gt; 0000
packet:          git&lt; status=delayed
packet:          git&lt; 0000</pre>



<p>If the filter supports the "delay" capability then it must support the
"list_available_blobs" command. If Git sends this command, then the
filter is expected to return a list of pathnames representing blobs
that have been delayed earlier and are now available.
The list must be terminated with a flush packet followed
by a "success" status that is also terminated with a flush packet. If
no blobs for the delayed paths are available, yet, then the filter is
expected to block the response until at least one blob becomes
available. The filter can tell Git that it has no more delayed blobs
by sending an empty list. As soon as the filter responds with an empty
list, Git stops asking. All blobs that Git has not received at this
point are considered missing and will result in an error.</p>



<pre>packet:          git&gt; command=list_available_blobs
packet:          git&gt; 0000
packet:          git&lt; pathname=path/testfile.dat
packet:          git&lt; pathname=path/otherfile.dat
packet:          git&lt; 0000
packet:          git&lt; status=success
packet:          git&lt; 0000</pre>



<p>After Git received the pathnames, it will request the corresponding
blobs again. These requests contain a pathname and an empty content
section. The filter is expected to respond with the smudged content
in the usual way as explained above.</p>



<pre>packet:          git&gt; command=smudge
packet:          git&gt; pathname=path/testfile.dat
packet:          git&gt; 0000
packet:          git&gt; 0000  # empty content!
packet:          git&lt; status=success
packet:          git&lt; 0000
packet:          git&lt; SMUDGED_CONTENT
packet:          git&lt; 0000
packet:          git&lt; 0000  # empty list, keep "status=success" unchanged!</pre>




<h4>
Example</h4>

<p>A long running filter demo implementation can be found in
<code>contrib/long-running-filter/example.pl</code> located in the Git
core repository. If you develop your own long running filter
process then the <code>GIT_TRACE_PACKET</code> environment variables can be
very helpful for debugging (see <a href="/docs/git">git[1]</a>).</p>


<p>Please note that you cannot use an existing <code>filter.&lt;driver&gt;.clean</code>
or <code>filter.&lt;driver&gt;.smudge</code> command with <code>filter.&lt;driver&gt;.process</code>
because the former two use a different inter process communication
protocol than the latter one.</p>



<h4>
Interaction between checkin/checkout attributes</h4>

<p>In the check-in codepath, the worktree file is first converted
with <code>filter</code> driver (if specified and corresponding driver
defined), then the result is processed with <code>ident</code> (if
specified), and then finally with <code>text</code> (again, if specified
and applicable).</p>


<p>In the check-out codepath, the blob content is first converted
with <code>text</code>, and then <code>ident</code> and fed to <code>filter</code>.</p>



<h4>
Merging branches with differing checkin/checkout attributes</h4>

<p>If you have added attributes to a file that cause the canonical
repository format for that file to change, such as adding a
clean/smudge filter or text/eol/ident attributes, merging anything
where the attribute is not in place would normally cause merge
conflicts.</p>


<p>To prevent these unnecessary merge conflicts, Git can be told to run a
virtual check-out and check-in of all three stages of a file when
resolving a three-way merge by setting the <code>merge.renormalize</code>
configuration variable.  This prevents changes caused by check-in
conversion from causing spurious merge conflicts when a converted file
is merged with an unconverted file.</p>


<p>As long as a "smudge<U+2192>clean" results in the same output as a "clean"
even on files that are already smudged, this strategy will
automatically resolve all filter-related conflicts.  Filters that do
not act in this way may cause additional merge conflicts that must be
resolved manually.</p>




<h3>
Generating diff text</h3>

<h4>
<code>diff</code>
</h4>

<p>The attribute <code>diff</code> affects how Git generates diffs for particular
files. It can tell Git whether to generate a textual patch for the path
or to treat the path as a binary file.  It can also affect what line is
shown on the hunk header <code>@@ -k,l +n,m @@</code> line, tell Git to use an
external command to generate the diff, or ask Git to convert binary
files to a text format before generating the diff.</p>


<dl>
<dt> Set </dt>
<dd>
<p>A path to which the <code>diff</code> attribute is set is treated
as text, even when they contain byte values that
normally never appear in text files, such as NUL.</p>
</dd>
<dt> Unset </dt>
<dd>
<p>A path to which the <code>diff</code> attribute is unset will
generate <code>Binary files differ</code> (or a binary patch, if
binary patches are enabled).</p>
</dd>
<dt> Unspecified </dt>
<dd>
<p>A path to which the <code>diff</code> attribute is unspecified
first gets its contents inspected, and if it looks like
text and is smaller than core.bigFileThreshold, it is treated
as text. Otherwise it would generate <code>Binary files differ</code>.</p>
</dd>
<dt> String </dt>
<dd>
<p>Diff is shown using the specified diff driver.  Each driver may
specify one or more options, as described in the following
section. The options for the diff driver "foo" are defined
by the configuration variables in the "diff.foo" section of the
Git config file.</p>
</dd>
</dl>



<h4>
Defining an external diff driver</h4>

<p>The definition of a diff driver is done in <code>gitconfig</code>, not
<code>gitattributes</code> file, so strictly speaking this manual page is a
wrong place to talk about it.  However…<U+200B></p>


<p>To define an external diff driver <code>jcdiff</code>, add a section to your
<code>$GIT_DIR/config</code> file (or <code>$HOME/.gitconfig</code> file) like this:</p>



<pre>[diff "jcdiff"]
	command = j-c-diff</pre>



<p>When Git needs to show you a diff for the path with <code>diff</code>
attribute set to <code>jcdiff</code>, it calls the command you specified
with the above configuration, i.e. <code>j-c-diff</code>, with 7
parameters, just like <code>GIT_EXTERNAL_DIFF</code> program is called.
See <a href="/docs/git">git[1]</a> for details.</p>



<h4>
Defining a custom hunk-header</h4>

<p>Each group of changes (called a "hunk") in the textual diff output
is prefixed with a line of the form:</p>



<pre>@@ -k,l +n,m @@ TEXT</pre>



<p>This is called a <em>hunk header</em>.  The "TEXT" portion is by default a line
that begins with an alphabet, an underscore or a dollar sign; this
matches what GNU <em>diff -p</em> output uses.  This default selection however
is not suited for some contents, and you can use a customized pattern
to make a selection.</p>


<p>First, in .gitattributes, you would assign the <code>diff</code> attribute
for paths.</p>



<pre>*.tex	diff=tex</pre>



<p>Then, you would define a "diff.tex.xfuncname" configuration to
specify a regular expression that matches a line that you would
want to appear as the hunk header "TEXT". Add a section to your
<code>$GIT_DIR/config</code> file (or <code>$HOME/.gitconfig</code> file) like this:</p>



<pre>[diff "tex"]
	xfuncname = "^(\\\\(sub)*section\\{.*)$"</pre>



<p>Note.  A single level of backslashes are eaten by the
configuration file parser, so you would need to double the
backslashes; the pattern above picks a line that begins with a
backslash, and zero or more occurrences of <code>sub</code> followed by
<code>section</code> followed by open brace, to the end of line.</p>


<p>There are a few built-in patterns to make this easier, and <code>tex</code>
is one of them, so you do not have to write the above in your
configuration file (you still need to enable this with the
attribute mechanism, via <code>.gitattributes</code>).  The following built in
patterns are available:</p>


<ul>
<li>
<p><code>ada</code> suitable for source code in the Ada language.</p>
</li>
<li>
<p><code>bash</code> suitable for source code in the Bourne-Again SHell language.
Covers a superset of POSIX shell function definitions.</p>
</li>
<li>
<p><code>bibtex</code> suitable for files with BibTeX coded references.</p>
</li>
<li>
<p><code>cpp</code> suitable for source code in the C and C++ languages.</p>
</li>
<li>
<p><code>csharp</code> suitable for source code in the C# language.</p>
</li>
<li>
<p><code>css</code> suitable for cascading style sheets.</p>
</li>
<li>
<p><code>dts</code> suitable for devicetree (DTS) files.</p>
</li>
<li>
<p><code>elixir</code> suitable for source code in the Elixir language.</p>
</li>
<li>
<p><code>fortran</code> suitable for source code in the Fortran language.</p>
</li>
<li>
<p><code>fountain</code> suitable for Fountain documents.</p>
</li>
<li>
<p><code>golang</code> suitable for source code in the Go language.</p>
</li>
<li>
<p><code>html</code> suitable for HTML/XHTML documents.</p>
</li>
<li>
<p><code>java</code> suitable for source code in the Java language.</p>
</li>
<li>
<p><code>markdown</code> suitable for Markdown documents.</p>
</li>
<li>
<p><code>matlab</code> suitable for source code in the MATLAB and Octave languages.</p>
</li>
<li>
<p><code>objc</code> suitable for source code in the Objective-C language.</p>
</li>
<li>
<p><code>pascal</code> suitable for source code in the Pascal/Delphi language.</p>
</li>
<li>
<p><code>perl</code> suitable for source code in the Perl language.</p>
</li>
<li>
<p><code>php</code> suitable for source code in the PHP language.</p>
</li>
<li>
<p><code>python</code> suitable for source code in the Python language.</p>
</li>
<li>
<p><code>ruby</code> suitable for source code in the Ruby language.</p>
</li>
<li>
<p><code>rust</code> suitable for source code in the Rust language.</p>
</li>
<li>
<p><code>scheme</code> suitable for source code in the Scheme language.</p>
</li>
<li>
<p><code>tex</code> suitable for source code for LaTeX documents.</p>
</li>
</ul>



<h4>
Customizing word diff</h4>

<p>You can customize the rules that <code>git diff --word-diff</code> uses to
split words in a line, by specifying an appropriate regular expression
in the "diff.*.wordRegex" configuration variable.  For example, in TeX
a backslash followed by a sequence of letters forms a command, but
several such commands can be run together without intervening
whitespace.  To separate them, use a regular expression in your
<code>$GIT_DIR/config</code> file (or <code>$HOME/.gitconfig</code> file) like this:</p>



<pre>[diff "tex"]
	wordRegex = "\\\\[a-zA-Z]+|[{}]|\\\\.|[^\\{}[:space:]]+"</pre>



<p>A built-in pattern is provided for all languages listed in the
previous section.</p>



<h4>
Performing text diffs of binary files</h4>

<p>Sometimes it is desirable to see the diff of a text-converted
version of some binary files. For example, a word processor
document can be converted to an ASCII text representation, and
the diff of the text shown. Even though this conversion loses
some information, the resulting diff is useful for human
viewing (but cannot be applied directly).</p>


<p>The <code>textconv</code> config option is used to define a program for
performing such a conversion. The program should take a single
argument, the name of a file to convert, and produce the
resulting text on stdout.</p>


<p>For example, to show the diff of the exif information of a
file instead of the binary information (assuming you have the
exif tool installed), add the following section to your
<code>$GIT_DIR/config</code> file (or <code>$HOME/.gitconfig</code> file):</p>



<pre>[diff "jpg"]
	textconv = exif</pre>



<table><tr>
<td>
Note
</td>
<td>
The text conversion is generally a one-way conversion;
in this example, we lose the actual image contents and focus
just on the text data. This means that diffs generated by
textconv are <em>not</em> suitable for applying. For this reason,
only <code>git diff</code> and the <code>git log</code> family of commands (i.e.,
log, whatchanged, show) will perform text conversion. <code>git
format-patch</code> will never generate this output. If you want to
send somebody a text-converted diff of a binary file (e.g.,
because it quickly conveys the changes you have made), you
should generate it separately and send it as a comment <em>in
addition to</em> the usual binary diff that you might send.
</td>
</tr></table>


<p>Because text conversion can be slow, especially when doing a
large number of them with <code>git log -p</code>, Git provides a mechanism
to cache the output and use it in future diffs.  To enable
caching, set the "cachetextconv" variable in your diff driver’s
config. For example:</p>



<pre>[diff "jpg"]
	textconv = exif
	cachetextconv = true</pre>



<p>This will cache the result of running "exif" on each blob
indefinitely. If you change the textconv config variable for a
diff driver, Git will automatically invalidate the cache entries
and re-run the textconv filter. If you want to invalidate the
cache manually (e.g., because your version of "exif" was updated
and now produces better output), you can remove the cache
manually with <code>git update-ref -d refs/notes/textconv/jpg</code> (where
"jpg" is the name of the diff driver, as in the example above).</p>



<h4>
Choosing textconv versus external diff</h4>

<p>If you want to show differences between binary or specially-formatted
blobs in your repository, you can choose to use either an external diff
command, or to use textconv to convert them to a diff-able text format.
Which method you choose depends on your exact situation.</p>


<p>The advantage of using an external diff command is flexibility. You are
not bound to find line-oriented changes, nor is it necessary for the
output to resemble unified diff. You are free to locate and report
changes in the most appropriate way for your data format.</p>


<p>A textconv, by comparison, is much more limiting. You provide a
transformation of the data into a line-oriented text format, and Git
uses its regular diff tools to generate the output. There are several
advantages to choosing this method:</p>


<ol>
<li>
<p>Ease of use. It is often much simpler to write a binary to text
transformation than it is to perform your own diff. In many cases,
existing programs can be used as textconv filters (e.g., exif,
odt2txt).</p>
</li>
<li>
<p>Git diff features. By performing only the transformation step
yourself, you can still utilize many of Git’s diff features,
including colorization, word-diff, and combined diffs for merges.</p>
</li>
<li>
<p>Caching. Textconv caching can speed up repeated diffs, such as those
you might trigger by running <code>git log -p</code>.</p>
</li>
</ol>



<h4>
Marking files as binary</h4>

<p>Git usually guesses correctly whether a blob contains text or binary
data by examining the beginning of the contents. However, sometimes you
may want to override its decision, either because a blob contains binary
data later in the file, or because the content, while technically
composed of text characters, is opaque to a human reader. For example,
many postscript files contain only ASCII characters, but produce noisy
and meaningless diffs.</p>


<p>The simplest way to mark a file as binary is to unset the diff
attribute in the <code>.gitattributes</code> file:</p>



<pre>*.ps -diff</pre>



<p>This will cause Git to generate <code>Binary files differ</code> (or a binary
patch, if binary patches are enabled) instead of a regular diff.</p>


<p>However, one may also want to specify other diff driver attributes. For
example, you might want to use <code>textconv</code> to convert postscript files to
an ASCII representation for human viewing, but otherwise treat them as
binary files. You cannot specify both <code>-diff</code> and <code>diff=ps</code> attributes.
The solution is to use the <code>diff.*.binary</code> config option:</p>



<pre>[diff "ps"]
  textconv = ps2ascii
  binary = true</pre>





<h3>
Performing a three-way merge</h3>

<h4>
<code>merge</code>
</h4>

<p>The attribute <code>merge</code> affects how three versions of a file are
merged when a file-level merge is necessary during <code>git merge</code>,
and other commands such as <code>git revert</code> and <code>git cherry-pick</code>.</p>


<dl>
<dt> Set </dt>
<dd>
<p>Built-in 3-way merge driver is used to merge the
contents in a way similar to <em>merge</em> command of <code>RCS</code>
suite.  This is suitable for ordinary text files.</p>
</dd>
<dt> Unset </dt>
<dd>
<p>Take the version from the current branch as the
tentative merge result, and declare that the merge has
conflicts.  This is suitable for binary files that do
not have a well-defined merge semantics.</p>
</dd>
<dt> Unspecified </dt>
<dd>
<p>By default, this uses the same built-in 3-way merge
driver as is the case when the <code>merge</code> attribute is set.
However, the <code>merge.default</code> configuration variable can name
different merge driver to be used with paths for which the
<code>merge</code> attribute is unspecified.</p>
</dd>
<dt> String </dt>
<dd>
<p>3-way merge is performed using the specified custom
merge driver.  The built-in 3-way merge driver can be
explicitly specified by asking for "text" driver; the
built-in "take the current branch" driver can be
requested with "binary".</p>
</dd>
</dl>



<h4>
Built-in merge drivers</h4>

<p>There are a few built-in low-level merge drivers defined that
can be asked for via the <code>merge</code> attribute.</p>


<dl>
<dt> text </dt>
<dd>
<p>Usual 3-way file level merge for text files.  Conflicted
regions are marked with conflict markers <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>,
<code>=======</code> and <code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code>.  The version from your branch
appears before the <code>=======</code> marker, and the version
from the merged branch appears after the <code>=======</code>
marker.</p>
</dd>
<dt> binary </dt>
<dd>
<p>Keep the version from your branch in the work tree, but
leave the path in the conflicted state for the user to
sort out.</p>
</dd>
<dt> union </dt>
<dd>
<p>Run 3-way file level merge for text files, but take
lines from both versions, instead of leaving conflict
markers.  This tends to leave the added lines in the
resulting file in random order and the user should
verify the result. Do not use this if you do not
understand the implications.</p>
</dd>
</dl>



<h4>
Defining a custom merge driver</h4>

<p>The definition of a merge driver is done in the <code>.git/config</code>
file, not in the <code>gitattributes</code> file, so strictly speaking this
manual page is a wrong place to talk about it.  However…<U+200B></p>


<p>To define a custom merge driver <code>filfre</code>, add a section to your
<code>$GIT_DIR/config</code> file (or <code>$HOME/.gitconfig</code> file) like this:</p>



<pre>[merge "filfre"]
	name = feel-free merge driver
	driver = filfre %O %A %B %L %P
	recursive = binary</pre>



<p>The <code>merge.*.name</code> variable gives the driver a human-readable
name.</p>


<p>The <code>merge.*.driver</code> variable’s value is used to construct a
command to run to merge ancestor’s version (<code>%O</code>), current
version (<code>%A</code>) and the other branches' version (<code>%B</code>).  These
three tokens are replaced with the names of temporary files that
hold the contents of these versions when the command line is
built. Additionally, %L will be replaced with the conflict marker
size (see below).</p>


<p>The merge driver is expected to leave the result of the merge in
the file named with <code>%A</code> by overwriting it, and exit with zero
status if it managed to merge them cleanly, or non-zero if there
were conflicts.</p>


<p>The <code>merge.*.recursive</code> variable specifies what other merge
driver to use when the merge driver is called for an internal
merge between common ancestors, when there are more than one.
When left unspecified, the driver itself is used for both
internal merge and the final merge.</p>


<p>The merge driver can learn the pathname in which the merged result
will be stored via placeholder <code>%P</code>.</p>



<h4>
<code>conflict-marker-size</code>
</h4>

<p>This attribute controls the length of conflict markers left in
the work tree file during a conflicted merge.  Only setting to
the value to a positive integer has any meaningful effect.</p>


<p>For example, this line in <code>.gitattributes</code> can be used to tell the merge
machinery to leave much longer (instead of the usual 7-character-long)
conflict markers when merging the file <code>Documentation/git-merge.txt</code>
results in a conflict.</p>



<pre>Documentation/git-merge.txt	conflict-marker-size=32</pre>





<h3>
Checking whitespace errors</h3>

<h4>
<code>whitespace</code>
</h4>

<p>The <code>core.whitespace</code> configuration variable allows you to define what
<em>diff</em> and <em>apply</em> should consider whitespace errors for all paths in
the project (See <a href="/docs/git-config">git-config[1]</a>).  This attribute gives you finer
control per path.</p>


<dl>
<dt> Set </dt>
<dd>
<p>Notice all types of potential whitespace errors known to Git.
The tab width is taken from the value of the <code>core.whitespace</code>
configuration variable.</p>
</dd>
<dt> Unset </dt>
<dd>
<p>Do not notice anything as error.</p>
</dd>
<dt> Unspecified </dt>
<dd>
<p>Use the value of the <code>core.whitespace</code> configuration variable to
decide what to notice as error.</p>
</dd>
<dt> String </dt>
<dd>
<p>Specify a comma separate list of common whitespace problems to
notice in the same format as the <code>core.whitespace</code> configuration
variable.</p>
</dd>
</dl>




<h3>
Creating an archive</h3>

<h4>
<code>export-ignore</code>
</h4>

<p>Files and directories with the attribute <code>export-ignore</code> won’t be added to
archive files.</p>



<h4>
<code>export-subst</code>
</h4>

<p>If the attribute <code>export-subst</code> is set for a file then Git will expand
several placeholders when adding this file to an archive.  The
expansion depends on the availability of a commit ID, i.e., if
<a href="/docs/git-archive">git-archive[1]</a> has been given a tree instead of a commit or a
tag then no replacement will be done.  The placeholders are the same
as those for the option <code>--pretty=format:</code> of <a href="/docs/git-log">git-log[1]</a>,
except that they need to be wrapped like this: <code>$Format:PLACEHOLDERS$</code>
in the file.  E.g. the string <code>$Format:%H$</code> will be replaced by the
commit hash.  However, only one <code>%(describe)</code> placeholder is expanded
per archive to avoid denial-of-service attacks.</p>




<h3>
Packing objects</h3>

<h4>
<code>delta</code>
</h4>

<p>Delta compression will not be attempted for blobs for paths with the
attribute <code>delta</code> set to false.</p>




<h3>
Viewing files in GUI tools</h3>

<h4>
<code>encoding</code>
</h4>

<p>The value of this attribute specifies the character encoding that should
be used by GUI tools (e.g. <a href="/docs/gitk">gitk[1]</a> and <a href="/docs/git-gui">git-gui[1]</a>) to
display the contents of the relevant file. Note that due to performance
considerations <a href="/docs/gitk">gitk[1]</a> does not use this attribute unless you
manually enable per-file encodings in its options.</p>


<p>If this attribute is not set or has an invalid value, the value of the
<code>gui.encoding</code> configuration variable is used instead
(See <a href="/docs/git-config">git-config[1]</a>).</p>






<h2>USING MACRO ATTRIBUTES</h2>


<p>You do not want any end-of-line conversions applied to, nor textual diffs
produced for, any binary file you track.  You would need to specify e.g.</p>



<pre>*.jpg -text -diff</pre>



<p>but that may become cumbersome, when you have many attributes.  Using
macro attributes, you can define an attribute that, when set, also
sets or unsets a number of other attributes at the same time.  The
system knows a built-in macro attribute, <code>binary</code>:</p>



<pre>*.jpg binary</pre>



<p>Setting the "binary" attribute also unsets the "text" and "diff"
attributes as above.  Note that macro attributes can only be "Set",
though setting one might have the effect of setting or unsetting other
attributes or even returning other attributes to the "Unspecified"
state.</p>




<h2>DEFINING MACRO ATTRIBUTES</h2>


<p>Custom macro attributes can be defined only in top-level gitattributes
files (<code>$GIT_DIR/info/attributes</code>, the <code>.gitattributes</code> file at the
top level of the working tree, or the global or system-wide
gitattributes files), not in <code>.gitattributes</code> files in working tree
subdirectories.  The built-in macro attribute "binary" is equivalent
to:</p>



<pre>[attr]binary -diff -merge -text</pre>





<h2>NOTES</h2>


<p>Git does not follow symbolic links when accessing a <code>.gitattributes</code>
file in the working tree. This keeps behavior consistent when the file
is accessed from the index or a tree versus from the filesystem.</p>




<h2>examples</h2>


<p>If you have these three <code>gitattributes</code> file:</p>



<pre>(in $GIT_DIR/info/attributes)

a*	foo !bar -baz

(in .gitattributes)
abc	foo bar baz

(in t/.gitattributes)
ab*	merge=filfre
abc	-foo -bar
*.c	frotz</pre>



<p>the attributes given to path <code>t/abc</code> are computed as follows:</p>


<ol>
<li>
<p>By examining <code>t/.gitattributes</code> (which is in the same
directory as the path in question), Git finds that the first
line matches.  <code>merge</code> attribute is set.  It also finds that
the second line matches, and attributes <code>foo</code> and <code>bar</code>
are unset.</p>
</li>
<li>
<p>Then it examines <code>.gitattributes</code> (which is in the parent
directory), and finds that the first line matches, but
<code>t/.gitattributes</code> file already decided how <code>merge</code>, <code>foo</code>
and <code>bar</code> attributes should be given to this path, so it
leaves <code>foo</code> and <code>bar</code> unset.  Attribute <code>baz</code> is set.</p>
</li>
<li>
<p>Finally it examines <code>$GIT_DIR/info/attributes</code>.  This file
is used to override the in-tree settings.  The first line is
a match, and <code>foo</code> is set, <code>bar</code> is reverted to unspecified
state, and <code>baz</code> is unset.</p>
</li>
</ol>


<p>As the result, the attributes assignment to <code>t/abc</code> becomes:</p>



<pre>foo	set to true
bar	unspecified
baz	set to false
merge	set to string value "filfre"
frotz	unspecified</pre>





<h2>SEE ALSO</h2>


<p><a href="/docs/git-check-attr">git-check-attr[1]</a>.</p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">gitcli - Git command-line interface and conventions</span></h2>




<h2><br>synopsis</h2>


<p>gitcli</p>




<h2>description</h2>


<p>This manual describes the convention used throughout Git CLI.</p>


<p>Many commands take revisions (most often "commits", but sometimes
"tree-ish", depending on the context and command) and paths as their
arguments.  Here are the rules:</p>


<ul>
<li>
<p>Revisions come first and then paths.
E.g. in <code>git diff v1.0 v2.0 arch/x86 include/asm-x86</code>,
<code>v1.0</code> and <code>v2.0</code> are revisions and <code>arch/x86</code> and <code>include/asm-x86</code>
are paths.</p>
</li>
<li>
<p>When an argument can be misunderstood as either a revision or a path,
they can be disambiguated by placing <code>--</code> between them.
E.g. <code>git diff -- HEAD</code> is, "I have a file called HEAD in my work
tree.  Please show changes between the version I staged in the index
and what I have in the work tree for that file", not "show difference
between the HEAD commit and the work tree as a whole".  You can say
<code>git diff HEAD --</code> to ask for the latter.</p>
</li>
<li>
<p>Without disambiguating <code>--</code>, Git makes a reasonable guess, but errors
out and asking you to disambiguate when ambiguous.  E.g. if you have a
file called HEAD in your work tree, <code>git diff HEAD</code> is ambiguous, and
you have to say either <code>git diff HEAD --</code> or <code>git diff -- HEAD</code> to
disambiguate.</p>
</li>
<li>
<p>Because <code>--</code> disambiguates revisions and paths in some commands, it
cannot be used for those commands to separate options and revisions.
You can use <code>--end-of-options</code> for this (it also works for commands
that do not distinguish between revisions in paths, in which case it
is simply an alias for <code>--</code>).</p>

<p>When writing a script that is expected to handle random user-input, it is
a good practice to make it explicit which arguments are which by placing
disambiguating <code>--</code> at appropriate places.</p>

</li>
<li>
<p>Many commands allow wildcards in paths, but you need to protect
them from getting globbed by the shell.  These two mean different
things:</p>


<pre>$ git restore *.c
$ git restore \*.c</pre>



<p>The former lets your shell expand the fileglob, and you are asking
the dot-C files in your working tree to be overwritten with the version
in the index.  The latter passes the <code>*.c</code> to Git, and you are asking
the paths in the index that match the pattern to be checked out to your
working tree.  After running <code>git add hello.c; rm hello.c</code>, you will <em>not</em>
see <code>hello.c</code> in your working tree with the former, but with the latter
you will.</p>

</li>
<li>
<p>Just as the filesystem <em>.</em> (period) refers to the current directory,
using a <em>.</em> as a repository name in Git (a dot-repository) is a relative
path and means your current repository.</p>
</li>
</ul>


<p>Here are the rules regarding the "flags" that you should follow when you are
scripting Git:</p>


<ul>
<li>
<p>it’s preferred to use the non-dashed form of Git commands, which means that
you should prefer <code>git foo</code> to <code>git-foo</code>.</p>
</li>
<li>
<p>splitting short options to separate words (prefer <code>git foo -a -b</code>
to <code>git foo -ab</code>, the latter may not even work).</p>
</li>
<li>
<p>when a command-line option takes an argument, use the <em>stuck</em> form.  In
other words, write <code>git foo -oArg</code> instead of <code>git foo -o Arg</code> for short
options, and <code>git foo --long-opt=Arg</code> instead of <code>git foo --long-opt Arg</code>
for long options.  An option that takes optional option-argument must be
written in the <em>stuck</em> form.</p>
</li>
<li>
<p>when you give a revision parameter to a command, make sure the parameter is
not ambiguous with a name of a file in the work tree.  E.g. do not write
<code>git log -1 HEAD</code> but write <code>git log -1 HEAD --</code>; the former will not work
if you happen to have a file called <code>HEAD</code> in the work tree.</p>
</li>
<li>
<p>many commands allow a long option <code>--option</code> to be abbreviated
only to their unique prefix (e.g. if there is no other option
whose name begins with <code>opt</code>, you may be able to spell <code>--opt</code> to
invoke the <code>--option</code> flag), but you should fully spell them out
when writing your scripts; later versions of Git may introduce a
new option whose name shares the same prefix, e.g. <code>--optimize</code>,
to make a short prefix that used to be unique no longer unique.</p>
</li>
</ul>




<h2>ENHANCED OPTION PARSER</h2>


<p>From the Git 1.5.4 series and further, many Git commands (not all of them at the
time of the writing though) come with an enhanced option parser.</p>


<p>Here is a list of the facilities provided by this option parser.</p>


<h3>
Magic Options</h3>

<p>Commands which have the enhanced option parser activated all understand a
couple of magic command-line options:</p>


<dl>
<dt> -h </dt>
<dd>
<p>gives a pretty printed usage of the command.</p>


<pre>$ git describe -h
usage: git describe [&lt;options&gt;] &lt;commit-ish&gt;*
   or: git describe [&lt;options&gt;] --dirty

    --contains            find the tag that comes after the commit
    --debug               debug search strategy on stderr
    --all                 use any ref
    --tags                use any tag, even unannotated
    --long                always use long format
    --abbrev[=&lt;n&gt;]        use &lt;n&gt; digits to display SHA-1s</pre>



<p>Note that some subcommand (e.g. <code>git grep</code>) may behave differently
when there are things on the command line other than <code>-h</code>, but <code>git
subcmd -h</code> without anything else on the command line is meant to
consistently give the usage.</p>

</dd>
<dt> --help-all </dt>
<dd>
<p>Some Git commands take options that are only used for plumbing or that
are deprecated, and such options are hidden from the default usage. This
option gives the full list of options.</p>
</dd>
</dl>



<h3>
Negating options</h3>

<p>Options with long option names can be negated by prefixing <code>--no-</code>. For
example, <code>git branch</code> has the option <code>--track</code> which is <em>on</em> by default. You
can use <code>--no-track</code> to override that behaviour. The same goes for <code>--color</code>
and <code>--no-color</code>.</p>



<h3>
Aggregating short options</h3>

<p>Commands that support the enhanced option parser allow you to aggregate short
options. This means that you can for example use <code>git rm -rf</code> or
<code>git clean -fdx</code>.</p>



<h3>
Abbreviating long options</h3>

<p>Commands that support the enhanced option parser accepts unique
prefix of a long option as if it is fully spelled out, but use this
with a caution.  For example, <code>git commit --amen</code> behaves as if you
typed <code>git commit --amend</code>, but that is true only until a later version
of Git introduces another option that shares the same prefix,
e.g. <code>git commit --amenity</code> option.</p>



<h3>
Separating argument from the option</h3>

<p>You can write the mandatory option parameter to an option as a separate
word on the command line.  That means that all the following uses work:</p>



<pre>$ git foo --long-opt=Arg
$ git foo --long-opt Arg
$ git foo -oArg
$ git foo -o Arg</pre>



<p>However, this is <strong>NOT</strong> allowed for switches with an optional value, where the
<em>stuck</em> form must be used:</p>



<pre>$ git describe --abbrev HEAD     # correct
$ git describe --abbrev=10 HEAD  # correct
$ git describe --abbrev 10 HEAD  # NOT WHAT YOU MEANT</pre>






<h2>NOTES ON FREQUENTLY CONFUSED OPTIONS</h2>


<p>Many commands that can work on files in the working tree
and/or in the index can take <code>--cached</code> and/or <code>--index</code>
options.  Sometimes people incorrectly think that, because
the index was originally called cache, these two are
synonyms.  They are <strong>not</strong><U+2009>—<U+2009>these two options mean very
different things.</p>


<ul>
<li>
<p>The <code>--cached</code> option is used to ask a command that
usually works on files in the working tree to <strong>only</strong> work
with the index.  For example, <code>git grep</code>, when used
without a commit to specify from which commit to look for
strings in, usually works on files in the working tree,
but with the <code>--cached</code> option, it looks for strings in
the index.</p>
</li>
<li>
<p>The <code>--index</code> option is used to ask a command that
usually works on files in the working tree to <strong>also</strong>
affect the index.  For example, <code>git stash apply</code> usually
merges changes recorded in a stash entry to the working tree,
but with the <code>--index</code> option, it also merges changes to
the index as well.</p>
</li>
</ul>


<p><code>git apply</code> command can be used with <code>--cached</code> and
<code>--index</code> (but not at the same time).  Usually the command
only affects the files in the working tree, but with
<code>--index</code>, it patches both the files and their index
entries, and with <code>--cached</code>, it modifies only the index
entries.</p>


<p>See also <a href="https://lore.kernel.org/git/7v64clg5u9.fsf@assigned-by-dhcp.cox.net/">https://lore.kernel.org/git/7v64clg5u9.fsf@assigned-by-dhcp.cox.net/</a> and
<a href="https://lore.kernel.org/git/7vy7ej9g38.fsf@gitster.siamese.dyndns.org/">https://lore.kernel.org/git/7vy7ej9g38.fsf@gitster.siamese.dyndns.org/</a> for further
information.</p>


<p>Some other commands that also work on files in the working tree and/or
in the index can take <code>--staged</code> and/or <code>--worktree</code>.</p>


<ul>
<li>
<p><code>--staged</code> is exactly like <code>--cached</code>, which is used to ask a
command to only work on the index, not the working tree.</p>
</li>
<li>
<p><code>--worktree</code> is the opposite, to ask a command to work on the
working tree only, not the index.</p>
</li>
<li>
<p>The two options can be specified together to ask a command to work
on both the index and the working tree.</p>
</li>
</ul>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">giteveryday - A useful minimum set of commands for Everyday Git</span></h2>




<h2><br>synopsis</h2>


<p>Everyday Git With 20 Commands Or So</p>




<h2>description</h2>


<p>Git users can broadly be grouped into four categories for the purposes of
describing here a small set of useful command for everyday Git.</p>


<ul>
<li>
<p><a href="#STANDALONE">Individual Developer (Standalone)</a> commands are essential
for anybody who makes a commit, even for somebody who works alone.</p>
</li>
<li>
<p>If you work with other people, you will need commands listed in
the <a href="#PARTICIPANT">Individual Developer (Participant)</a> section as well.</p>
</li>
<li>
<p>People who play the <a href="#INTEGRATOR">Integrator</a> role need to learn some
more commands in addition to the above.</p>
</li>
<li>
<p><a href="#ADMINISTRATION">Repository Administration</a> commands are for system
administrators who are responsible for the care and feeding
of Git repositories.</p>
</li>
</ul>




<h2>Individual Developer (Standalone)
</h2>


<p>A standalone individual developer does not exchange patches with
other people, and works alone in a single repository, using the
following commands.</p>


<ul>
<li>
<p><a href="/docs/git-init">git-init[1]</a> to create a new repository.</p>
</li>
<li>
<p><a href="/docs/git-log">git-log[1]</a> to see what happened.</p>
</li>
<li>
<p><a href="/docs/git-switch">git-switch[1]</a> and <a href="/docs/git-branch">git-branch[1]</a> to switch
branches.</p>
</li>
<li>
<p><a href="/docs/git-add">git-add[1]</a> to manage the index file.</p>
</li>
<li>
<p><a href="/docs/git-diff">git-diff[1]</a> and <a href="/docs/git-status">git-status[1]</a> to see what
you are in the middle of doing.</p>
</li>
<li>
<p><a href="/docs/git-commit">git-commit[1]</a> to advance the current branch.</p>
</li>
<li>
<p><a href="/docs/git-restore">git-restore[1]</a> to undo changes.</p>
</li>
<li>
<p><a href="/docs/git-merge">git-merge[1]</a> to merge between local branches.</p>
</li>
<li>
<p><a href="/docs/git-rebase">git-rebase[1]</a> to maintain topic branches.</p>
</li>
<li>
<p><a href="/docs/git-tag">git-tag[1]</a> to mark a known point.</p>
</li>
</ul>


<h3>
Examples</h3>

<dl>
<dt> Use a tarball as a starting point for a new repository. </dt>
<dd>


<pre>$ tar zxf frotz.tar.gz
$ cd frotz
$ git init
$ git add . <b>(1)</b>
$ git commit -m "import of frotz source tree."
$ git tag v2.43 <b>(2)</b></pre>



<ol>
<li>
<p>add everything under the current directory.</p>
</li>
<li>
<p>make a lightweight, unannotated tag.</p>
</li>
</ol>

</dd>
<dt> Create a topic branch and develop. </dt>
<dd>


<pre>$ git switch -c alsa-audio <b>(1)</b>
$ edit/compile/test
$ git restore curses/ux_audio_oss.c <b>(2)</b>
$ git add curses/ux_audio_alsa.c <b>(3)</b>
$ edit/compile/test
$ git diff HEAD <b>(4)</b>
$ git commit -a -s <b>(5)</b>
$ edit/compile/test
$ git diff HEAD^ <b>(6)</b>
$ git commit -a --amend <b>(7)</b>
$ git switch master <b>(8)</b>
$ git merge alsa-audio <b>(9)</b>
$ git log --since='3 days ago' <b>(10)</b>
$ git log v2.43.. curses/ <b>(11)</b></pre>



<ol>
<li>
<p>create a new topic branch.</p>
</li>
<li>
<p>revert your botched changes in <code>curses/ux_audio_oss.c</code>.</p>
</li>
<li>
<p>you need to tell Git if you added a new file; removal and
modification will be caught if you do <code>git commit -a</code> later.</p>
</li>
<li>
<p>to see what changes you are committing.</p>
</li>
<li>
<p>commit everything, as you have tested, with your sign-off.</p>
</li>
<li>
<p>look at all your changes including the previous commit.</p>
</li>
<li>
<p>amend the previous commit, adding all your new changes,
using your original message.</p>
</li>
<li>
<p>switch to the master branch.</p>
</li>
<li>
<p>merge a topic branch into your master branch.</p>
</li>
<li>
<p>review commit logs; other forms to limit output can be
combined and include <code>-10</code> (to show up to 10 commits),
<code>--until=2005-12-10</code>, etc.</p>
</li>
<li>
<p>view only the changes that touch what’s in <code>curses/</code>
directory, since <code>v2.43</code> tag.</p>
</li>
</ol>

</dd>
</dl>





<h2>Individual Developer (Participant)
</h2>


<p>A developer working as a participant in a group project needs to
learn how to communicate with others, and uses these commands in
addition to the ones needed by a standalone developer.</p>


<ul>
<li>
<p><a href="/docs/git-clone">git-clone[1]</a> from the upstream to prime your local
repository.</p>
</li>
<li>
<p><a href="/docs/git-pull">git-pull[1]</a> and <a href="/docs/git-fetch">git-fetch[1]</a> from "origin"
to keep up-to-date with the upstream.</p>
</li>
<li>
<p><a href="/docs/git-push">git-push[1]</a> to shared repository, if you adopt CVS
style shared repository workflow.</p>
</li>
<li>
<p><a href="/docs/git-format-patch">git-format-patch[1]</a> to prepare e-mail submission, if
you adopt Linux kernel-style public forum workflow.</p>
</li>
<li>
<p><a href="/docs/git-send-email">git-send-email[1]</a> to send your e-mail submission without
corruption by your MUA.</p>
</li>
<li>
<p><a href="/docs/git-request-pull">git-request-pull[1]</a> to create a summary of changes
for your upstream to pull.</p>
</li>
</ul>


<h3>
Examples</h3>

<dl>
<dt> Clone the upstream and work on it.  Feed changes to upstream. </dt>
<dd>


<pre>$ git clone git://git.kernel.org/pub/scm/.../torvalds/linux-2.6 my2.6
$ cd my2.6
$ git switch -c mine master <b>(1)</b>
$ edit/compile/test; git commit -a -s <b>(2)</b>
$ git format-patch master <b>(3)</b>
$ git send-email --to="person &lt;email@example.com&gt;" 00*.patch <b>(4)</b>
$ git switch master <b>(5)</b>
$ git pull <b>(6)</b>
$ git log -p ORIG_HEAD.. arch/i386 include/asm-i386 <b>(7)</b>
$ git ls-remote --heads http://git.kernel.org/.../jgarzik/libata-dev.git <b>(8)</b>
$ git pull git://git.kernel.org/pub/.../jgarzik/libata-dev.git ALL <b>(9)</b>
$ git reset --hard ORIG_HEAD <b>(10)</b>
$ git gc <b>(11)</b></pre>



<ol>
<li>
<p>checkout a new branch <code>mine</code> from master.</p>
</li>
<li>
<p>repeat as needed.</p>
</li>
<li>
<p>extract patches from your branch, relative to master,</p>
</li>
<li>
<p>and email them.</p>
</li>
<li>
<p>return to <code>master</code>, ready to see what’s new</p>
</li>
<li>
<p><code>git pull</code> fetches from <code>origin</code> by default and merges into the
current branch.</p>
</li>
<li>
<p>immediately after pulling, look at the changes done upstream
since last time we checked, only in the
area we are interested in.</p>
</li>
<li>
<p>check the branch names in an external repository (if not known).</p>
</li>
<li>
<p>fetch from a specific branch <code>ALL</code> from a specific repository
and merge it.</p>
</li>
<li>
<p>revert the pull.</p>
</li>
<li>
<p>garbage collect leftover objects from reverted pull.</p>
</li>
</ol>

</dd>
<dt> Push into another repository. </dt>
<dd>


<pre>satellite$ git clone mothership:frotz frotz <b>(1)</b>
satellite$ cd frotz
satellite$ git config --get-regexp '^(remote|branch)\.' <b>(2)</b>
remote.origin.url mothership:frotz
remote.origin.fetch refs/heads/*:refs/remotes/origin/*
branch.master.remote origin
branch.master.merge refs/heads/master
satellite$ git config remote.origin.push \
	   +refs/heads/*:refs/remotes/satellite/* <b>(3)</b>
satellite$ edit/compile/test/commit
satellite$ git push origin <b>(4)</b>

mothership$ cd frotz
mothership$ git switch master
mothership$ git merge satellite/master <b>(5)</b></pre>



<ol>
<li>
<p>mothership machine has a frotz repository under your home
directory; clone from it to start a repository on the satellite
machine.</p>
</li>
<li>
<p>clone sets these configuration variables by default.
It arranges <code>git pull</code> to fetch and store the branches of mothership
machine to local <code>remotes/origin/*</code> remote-tracking branches.</p>
</li>
<li>
<p>arrange <code>git push</code> to push all local branches to
their corresponding branch of the mothership machine.</p>
</li>
<li>
<p>push will stash all our work away on <code>remotes/satellite/*</code>
remote-tracking branches on the mothership machine.  You could use this
as a back-up method. Likewise, you can pretend that mothership
"fetched" from you (useful when access is one sided).</p>
</li>
<li>
<p>on mothership machine, merge the work done on the satellite
machine into the master branch.</p>
</li>
</ol>

</dd>
<dt> Branch off of a specific tag. </dt>
<dd>


<pre>$ git switch -c private2.6.14 v2.6.14 <b>(1)</b>
$ edit/compile/test; git commit -a
$ git checkout master
$ git cherry-pick v2.6.14..private2.6.14 <b>(2)</b></pre>



<ol>
<li>
<p>create a private branch based on a well known (but somewhat behind)
tag.</p>
</li>
<li>
<p>forward port all changes in <code>private2.6.14</code> branch to <code>master</code> branch
without a formal "merging". Or longhand<br><code>git format-patch -k -m --stdout v2.6.14..private2.6.14 |
  git am -3 -k</code></p>
</li>
</ol>

</dd>
</dl>


<p>An alternate participant submission mechanism is using the
<code>git request-pull</code> or pull-request mechanisms (e.g as used on
GitHub (www.github.com) to notify your upstream of your
contribution.</p>





<h2>Integrator
</h2>


<p>A fairly central person acting as the integrator in a group
project receives changes made by others, reviews and integrates
them and publishes the result for others to use, using these
commands in addition to the ones needed by participants.</p>


<p>This section can also be used by those who respond to <code>git
request-pull</code> or pull-request on GitHub (www.github.com) to
integrate the work of others into their history. A sub-area
lieutenant for a repository will act both as a participant and
as an integrator.</p>


<ul>
<li>
<p><a href="/docs/git-am">git-am[1]</a> to apply patches e-mailed in from your
contributors.</p>
</li>
<li>
<p><a href="/docs/git-pull">git-pull[1]</a> to merge from your trusted lieutenants.</p>
</li>
<li>
<p><a href="/docs/git-format-patch">git-format-patch[1]</a> to prepare and send suggested
alternative to contributors.</p>
</li>
<li>
<p><a href="/docs/git-revert">git-revert[1]</a> to undo botched commits.</p>
</li>
<li>
<p><a href="/docs/git-push">git-push[1]</a> to publish the bleeding edge.</p>
</li>
</ul>


<h3>
Examples</h3>

<dl>
<dt> A typical integrator’s Git day. </dt>
<dd>


<pre>$ git status <b>(1)</b>
$ git branch --no-merged master <b>(2)</b>
$ mailx <b>(3)</b>
&amp; s 2 3 4 5 ./+to-apply
&amp; s 7 8 ./+hold-linus
&amp; q
$ git switch -c topic/one master
$ git am -3 -i -s ./+to-apply <b>(4)</b>
$ compile/test
$ git switch -c hold/linus &amp;&amp; git am -3 -i -s ./+hold-linus <b>(5)</b>
$ git switch topic/one &amp;&amp; git rebase master <b>(6)</b>
$ git switch -C seen next <b>(7)</b>
$ git merge topic/one topic/two &amp;&amp; git merge hold/linus <b>(8)</b>
$ git switch maint
$ git cherry-pick master~4 <b>(9)</b>
$ compile/test
$ git tag -s -m "GIT 0.99.9x" v0.99.9x <b>(10)</b>
$ git fetch ko &amp;&amp; for branch in master maint next seen <b>(11)</b>
    do
	git show-branch ko/$branch $branch <b>(12)</b>
    done
$ git push --follow-tags ko <b>(13)</b></pre>



<ol>
<li>
<p>see what you were in the middle of doing, if anything.</p>
</li>
<li>
<p>see which branches haven’t been merged into <code>master</code> yet.
Likewise for any other integration branches e.g. <code>maint</code>, <code>next</code>
and <code>seen</code>.</p>
</li>
<li>
<p>read mails, save ones that are applicable, and save others
that are not quite ready (other mail readers are available).</p>
</li>
<li>
<p>apply them, interactively, with your sign-offs.</p>
</li>
<li>
<p>create topic branch as needed and apply, again with sign-offs.</p>
</li>
<li>
<p>rebase internal topic branch that has not been merged to the
master or exposed as a part of a stable branch.</p>
</li>
<li>
<p>restart <code>seen</code> every time from the next.</p>
</li>
<li>
<p>and bundle topic branches still cooking.</p>
</li>
<li>
<p>backport a critical fix.</p>
</li>
<li>
<p>create a signed tag.</p>
</li>
<li>
<p>make sure master was not accidentally rewound beyond that
already pushed out.</p>
</li>
<li>
<p>In the output from <code>git show-branch</code>, <code>master</code> should have
everything <code>ko/master</code> has, and <code>next</code> should have
everything <code>ko/next</code> has, etc.</p>
</li>
<li>
<p>push out the bleeding edge, together with new tags that point
into the pushed history.</p>
</li>
</ol>

</dd>
</dl>


<p>In this example, the <code>ko</code> shorthand points at the Git maintainer’s
repository at kernel.org, and looks like this:</p>



<pre>(in .git/config)
[remote "ko"]
	url = kernel.org:/pub/scm/git/git.git
	fetch = refs/heads/*:refs/remotes/ko/*
	push = refs/heads/master
	push = refs/heads/next
	push = +refs/heads/seen
	push = refs/heads/maint</pre>






<h2>Repository Administration
</h2>


<p>A repository administrator uses the following tools to set up
and maintain access to the repository by developers.</p>


<ul>
<li>
<p><a href="/docs/git-daemon">git-daemon[1]</a> to allow anonymous download from
repository.</p>
</li>
<li>
<p><a href="/docs/git-shell">git-shell[1]</a> can be used as a <em>restricted login shell</em>
for shared central repository users.</p>
</li>
<li>
<p><a href="/docs/git-http-backend">git-http-backend[1]</a> provides a server side implementation
of Git-over-HTTP ("Smart http") allowing both fetch and push services.</p>
</li>
<li>
<p><a href="/docs/gitweb">gitweb[1]</a> provides a web front-end to Git repositories,
which can be set-up using the <a href="/docs/git-instaweb">git-instaweb[1]</a> script.</p>
</li>
</ul>


<p><a href="/docs/howto/update-hook-example">update hook howto</a> has a good
example of managing a shared central repository.</p>


<p>In addition there are a number of other widely deployed hosting, browsing
and reviewing solutions such as:</p>


<ul>
<li>
<p>gitolite, gerrit code review, cgit and others.</p>
</li>
</ul>


<h3>
Examples</h3>

<dl>
<dt> We assume the following in /etc/services </dt>
<dd>


<pre>$ grep 9418 /etc/services
git		9418/tcp		# Git Version Control System</pre>


</dd>
<dt> Run git-daemon to serve /pub/scm from inetd. </dt>
<dd>


<pre>$ grep git /etc/inetd.conf
git	stream	tcp	nowait	nobody \
  /usr/bin/git-daemon git-daemon --inetd --export-all /pub/scm</pre>



<p>The actual configuration line should be on one line.</p>

</dd>
<dt> Run git-daemon to serve /pub/scm from xinetd. </dt>
<dd>


<pre>$ cat /etc/xinetd.d/git-daemon
# default: off
# description: The Git server offers access to Git repositories
service git
{
	disable = no
	type            = UNLISTED
	port            = 9418
	socket_type     = stream
	wait            = no
	user            = nobody
	server          = /usr/bin/git-daemon
	server_args     = --inetd --export-all --base-path=/pub/scm
	log_on_failure  += USERID
}</pre>



<p>Check your xinetd(8) documentation and setup, this is from a Fedora system.
Others might be different.</p>

</dd>
<dt> Give push/pull only access to developers using git-over-ssh. </dt>
<dd>
<p>e.g. those using:
<code>$ git push/pull ssh://host.xz/pub/scm/project</code></p>


<pre>$ grep git /etc/passwd <b>(1)</b>
alice:x:1000:1000::/home/alice:/usr/bin/git-shell
bob:x:1001:1001::/home/bob:/usr/bin/git-shell
cindy:x:1002:1002::/home/cindy:/usr/bin/git-shell
david:x:1003:1003::/home/david:/usr/bin/git-shell
$ grep git /etc/shells <b>(2)</b>
/usr/bin/git-shell</pre>



<ol>
<li>
<p>log-in shell is set to /usr/bin/git-shell, which does not
allow anything but <code>git push</code> and <code>git pull</code>.  The users require
ssh access to the machine.</p>
</li>
<li>
<p>in many distributions /etc/shells needs to list what is used
as the login shell.</p>
</li>
</ol>

</dd>
<dt> CVS-style shared repository. </dt>
<dd>


<pre>$ grep git /etc/group <b>(1)</b>
git:x:9418:alice,bob,cindy,david
$ cd /home/devo.git
$ ls -l <b>(2)</b>
  lrwxrwxrwx   1 david git    17 Dec  4 22:40 HEAD -&gt; refs/heads/master
  drwxrwsr-x   2 david git  4096 Dec  4 22:40 branches
  -rw-rw-r--   1 david git    84 Dec  4 22:40 config
  -rw-rw-r--   1 david git    58 Dec  4 22:40 description
  drwxrwsr-x   2 david git  4096 Dec  4 22:40 hooks
  -rw-rw-r--   1 david git 37504 Dec  4 22:40 index
  drwxrwsr-x   2 david git  4096 Dec  4 22:40 info
  drwxrwsr-x   4 david git  4096 Dec  4 22:40 objects
  drwxrwsr-x   4 david git  4096 Nov  7 14:58 refs
  drwxrwsr-x   2 david git  4096 Dec  4 22:40 remotes
$ ls -l hooks/update <b>(3)</b>
  -r-xr-xr-x   1 david git  3536 Dec  4 22:40 update
$ cat info/allowed-users <b>(4)</b>
refs/heads/master	alice\|cindy
refs/heads/doc-update	bob
refs/tags/v[0-9]*	david</pre>



<ol>
<li>
<p>place the developers into the same git group.</p>
</li>
<li>
<p>and make the shared repository writable by the group.</p>
</li>
<li>
<p>use update-hook example by Carl from Documentation/howto/
for branch policy control.</p>
</li>
<li>
<p>alice and cindy can push into master, only bob can push into doc-update.
david is the release manager and is the only person who can
create and push version tags.</p>
</li>
</ol>

</dd>
</dl>





<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">gitfaq - Frequently asked questions about using Git</span></h2>




<h2><br>synopsis</h2>


<p>gitfaq</p>




<h2>description</h2>


<p>The examples in this FAQ assume a standard POSIX shell, like <code>bash</code> or <code>dash</code>,
and a user, A U Thor, who has the account <code>author</code> on the hosting provider
<code>git.example.org</code>.</p>




<h2>Configuration</h2>


<dl>
<dt> What should I put in <code>user.name</code>? </dt>
<dd>
<p>You should put your personal name, generally a form using a given name
and family name.  For example, the current maintainer of Git uses "Junio
C Hamano".  This will be the name portion that is stored in every commit
you make.</p>

<p>This configuration doesn’t have any effect on authenticating to remote services;
for that, see <code>credential.username</code> in <a href="/docs/git-config">git-config[1]</a>.</p>

</dd>
</dl>


<dl>
<dt> What does <code>http.postBuffer</code> really do? </dt>
<dd>
<p>This option changes the size of the buffer that Git uses when pushing
data to a remote over HTTP or HTTPS.  If the data is larger than this
size, libcurl, which handles the HTTP support for Git, will use chunked
transfer encoding since it isn’t known ahead of time what the size of
the pushed data will be.</p>

<p>Leaving this value at the default size is fine unless you know that either the
remote server or a proxy in the middle doesn’t support HTTP/1.1 (which
introduced the chunked transfer encoding) or is known to be broken with chunked
data.  This is often (erroneously) suggested as a solution for generic push
problems, but since almost every server and proxy supports at least HTTP/1.1,
raising this value usually doesn’t solve most push problems.  A server or proxy
that didn’t correctly support HTTP/1.1 and chunked transfer encoding wouldn’t be
that useful on the Internet today, since it would break lots of traffic.</p>


<p>Note that increasing this value will increase the memory used on every relevant
push that Git does over HTTP or HTTPS, since the entire buffer is allocated
regardless of whether or not it is all used.  Thus, it’s best to leave it at the
default unless you are sure you need a different value.</p>

</dd>
</dl>


<dl>
<dt> How do I configure a different editor? </dt>
<dd>
<p>If you haven’t specified an editor specifically for Git, it will by default
use the editor you’ve configured using the <code>VISUAL</code> or <code>EDITOR</code> environment
variables, or if neither is specified, the system default (which is usually
<code>vi</code>).  Since some people find <code>vi</code> difficult to use or prefer a different
editor, it may be desirable to change the editor used.</p>

<p>If you want to configure a general editor for most programs which need one, you
can edit your shell configuration (e.g., <code>~/.bashrc</code> or <code>~/.zshenv</code>) to contain
a line setting the <code>EDITOR</code> or <code>VISUAL</code> environment variable to an appropriate
value.  For example, if you prefer the editor <code>nano</code>, then you could write the
following:</p>



<pre>export VISUAL=nano</pre>



<p>If you want to configure an editor specifically for Git, you can either set the
<code>core.editor</code> configuration value or the <code>GIT_EDITOR</code> environment variable.  You
can see <a href="/docs/git-var">git-var[1]</a> for details on the order in which these options are
consulted.</p>


<p>Note that in all cases, the editor value will be passed to the shell, so any
arguments containing spaces should be appropriately quoted.  Additionally, if
your editor normally detaches from the terminal when invoked, you should specify
it with an argument that makes it not do that, or else Git will not see any
changes.  An example of a configuration addressing both of these issues on
Windows would be the configuration <code>"C:\Program Files\Vim\gvim.exe" --nofork</code>,
which quotes the filename with spaces and specifies the <code>--nofork</code> option to
avoid backgrounding the process.</p>

</dd>
</dl>




<h2>Credentials</h2>


<dl>
<dt> How do I specify my credentials when pushing over HTTP? </dt>
<dd>
<p>The easiest way to do this is to use a credential helper via the
<code>credential.helper</code> configuration.  Most systems provide a standard
choice to integrate with the system credential manager.  For example,
Git for Windows provides the <code>wincred</code> credential manager, macOS has the
<code>osxkeychain</code> credential manager, and Unix systems with a standard
desktop environment can use the <code>libsecret</code> credential manager.  All of
these store credentials in an encrypted store to keep your passwords or
tokens secure.</p>

<p>In addition, you can use the <code>store</code> credential manager which stores in a file
in your home directory, or the <code>cache</code> credential manager, which does not
permanently store your credentials, but does prevent you from being prompted for
them for a certain period of time.</p>


<p>You can also just enter your password when prompted.  While it is possible to
place the password (which must be percent-encoded) in the URL, this is not
particularly secure and can lead to accidental exposure of credentials, so it is
not recommended.</p>

</dd>
</dl>


<dl>
<dt> How do I read a password or token from an environment variable? </dt>
<dd>
<p>The <code>credential.helper</code> configuration option can also take an arbitrary
shell command that produces the credential protocol on standard output.
This is useful when passing credentials into a container, for example.</p>

<p>Such a shell command can be specified by starting the option value with an
exclamation point.  If your password or token were stored in the <code>GIT_TOKEN</code>,
you could run the following command to set your credential helper:</p>



<pre>$ git config credential.helper \
	'!f() { echo username=author; echo "password=$GIT_TOKEN"; };f'</pre>


</dd>
</dl>


<dl>
<dt> How do I change the password or token I’ve saved in my credential manager? </dt>
<dd>
<p>Usually, if the password or token is invalid, Git will erase it and
prompt for a new one.  However, there are times when this doesn’t always
happen.  To change the password or token, you can erase the existing
credentials and then Git will prompt for new ones.  To erase
credentials, use a syntax like the following (substituting your username
and the hostname):</p>


<pre>$ echo url=https://author@git.example.org | git credential reject</pre>


</dd>
</dl>


<dl>
<dt> How do I use multiple accounts with the same hosting provider using HTTP? </dt>
<dd>
<p>Usually the easiest way to distinguish between these accounts is to use
the username in the URL.  For example, if you have the accounts <code>author</code>
and <code>committer</code> on <code>git.example.org</code>, you can use the URLs
<a href="https://author@git.example.org/org1/project1.git">https://author@git.example.org/org1/project1.git</a> and
<a href="https://committer@git.example.org/org2/project2.git">https://committer@git.example.org/org2/project2.git</a>.  This way, when you
use a credential helper, it will automatically try to look up the
correct credentials for your account.  If you already have a remote set
up, you can change the URL with something like <code>git remote set-url
origin https://author@git.example.org/org1/project1.git</code> (see
<a href="/docs/git-remote">git-remote[1]</a> for details).</p>
</dd>
</dl>


<dl>
<dt> How do I use multiple accounts with the same hosting provider using SSH? </dt>
<dd>
<p>With most hosting providers that support SSH, a single key pair uniquely
identifies a user.  Therefore, to use multiple accounts, it’s necessary
to create a key pair for each account.  If you’re using a reasonably
modern OpenSSH version, you can create a new key pair with something
like <code>ssh-keygen -t ed25519 -f ~/.ssh/id_committer</code>.  You can then
register the public key (in this case, <code>~/.ssh/id_committer.pub</code>; note
the <code>.pub</code>) with the hosting provider.</p>

<p>Most hosting providers use a single SSH account for pushing; that is, all users
push to the <code>git</code> account (e.g., <code>git@git.example.org</code>).  If that’s the case for
your provider, you can set up multiple aliases in SSH to make it clear which key
pair to use.  For example, you could write something like the following in
<code>~/.ssh/config</code>, substituting the proper private key file:</p>



<pre># This is the account for author on git.example.org.
Host example_author
	HostName git.example.org
	User git
	# This is the key pair registered for author with git.example.org.
	IdentityFile ~/.ssh/id_author
	IdentitiesOnly yes
# This is the account for committer on git.example.org.
Host example_committer
	HostName git.example.org
	User git
	# This is the key pair registered for committer with git.example.org.
	IdentityFile ~/.ssh/id_committer
	IdentitiesOnly yes</pre>



<p>Then, you can adjust your push URL to use <code>git@example_author</code> or
<code>git@example_committer</code> instead of <code>git@example.org</code> (e.g., <code>git remote set-url
git@example_author:org1/project1.git</code>).</p>

</dd>
</dl>




<h2>Common Issues</h2>


<dl>
<dt> I’ve made a mistake in the last commit.  How do I change it? </dt>
<dd>
<p>You can make the appropriate change to your working tree, run <code>git add
&lt;file&gt;</code> or <code>git rm &lt;file&gt;</code>, as appropriate, to stage it, and then <code>git
commit --amend</code>.  Your change will be included in the commit, and you’ll
be prompted to edit the commit message again; if you wish to use the
original message verbatim, you can use the <code>--no-edit</code> option to <code>git
commit</code> in addition, or just save and quit when your editor opens.</p>
</dd>
</dl>


<dl>
<dt> I’ve made a change with a bug and it’s been included in the main branch.  How should I undo it? </dt>
<dd>
<p>The usual way to deal with this is to use <code>git revert</code>.  This preserves
the history that the original change was made and was a valuable
contribution, but also introduces a new commit that undoes those changes
because the original had a problem.  The commit message of the revert
indicates the commit which was reverted and is usually edited to include
an explanation as to why the revert was made.</p>
</dd>
</dl>


<dl>
<dt> How do I ignore changes to a tracked file? </dt>
<dd>
<p>Git doesn’t provide a way to do this.  The reason is that if Git needs
to overwrite this file, such as during a checkout, it doesn’t know
whether the changes to the file are precious and should be kept, or
whether they are irrelevant and can safely be destroyed.  Therefore, it
has to take the safe route and always preserve them.</p>

<p>It’s tempting to try to use certain features of <code>git update-index</code>, namely the
assume-unchanged and skip-worktree bits, but these don’t work properly for this
purpose and shouldn’t be used this way.</p>


<p>If your goal is to modify a configuration file, it can often be helpful to have
a file checked into the repository which is a template or set of defaults which
can then be copied alongside and modified as appropriate.  This second, modified
file is usually ignored to prevent accidentally committing it.</p>

</dd>
</dl>


<dl>
<dt> I asked Git to ignore various files, yet they are still tracked </dt>
<dd>
<p>A <code>gitignore</code> file ensures that certain file(s) which are not
tracked by Git remain untracked.  However, sometimes particular
file(s) may have been tracked before adding them into the
<code>.gitignore</code>, hence they still remain tracked.  To untrack and
ignore files/patterns, use <code>git rm --cached &lt;file/pattern&gt;</code>
and add a pattern to <code>.gitignore</code> that matches the &lt;file&gt;.
See <a href="/docs/gitignore">gitignore[5]</a> for details.</p>
</dd>
</dl>


<dl>
<dt> How do I know if I want to do a fetch or a pull? </dt>
<dd>
<p>A fetch stores a copy of the latest changes from the remote
repository, without modifying the working tree or current branch.
You can then at your leisure inspect, merge, rebase on top of, or
ignore the upstream changes.  A pull consists of a fetch followed
immediately by either a merge or rebase.  See <a href="/docs/git-pull">git-pull[1]</a>.</p>
</dd>
</dl>




<h2>Merging and Rebasing</h2>


<dl>
<dt> What kinds of problems can occur when merging long-lived branches with squash merges? </dt>
<dd>
<p>In general, there are a variety of problems that can occur when using squash
merges to merge two branches multiple times.  These can include seeing extra
commits in <code>git log</code> output, with a GUI, or when using the <code>...</code> notation to
express a range, as well as the possibility of needing to re-resolve conflicts
again and again.</p>

<p>When Git does a normal merge between two branches, it considers exactly three
points: the two branches and a third commit, called the <em>merge base</em>, which is
usually the common ancestor of the commits.  The result of the merge is the sum
of the changes between the merge base and each head.  When you merge two
branches with a regular merge commit, this results in a new commit which will
end up as a merge base when they’re merged again, because there is now a new
common ancestor.  Git doesn’t have to consider changes that occurred before the
merge base, so you don’t have to re-resolve any conflicts you resolved before.</p>


<p>When you perform a squash merge, a merge commit isn’t created; instead, the
changes from one side are applied as a regular commit to the other side.  This
means that the merge base for these branches won’t have changed, and so when Git
goes to perform its next merge, it considers all of the changes that it
considered the last time plus the new changes.  That means any conflicts may
need to be re-resolved.  Similarly, anything using the <code>...</code> notation in <code>git
diff</code>, <code>git log</code>, or a GUI will result in showing all of the changes since the
original merge base.</p>


<p>As a consequence, if you want to merge two long-lived branches repeatedly, it’s
best to always use a regular merge commit.</p>

</dd>
</dl>


<dl>
<dt> If I make a change on two branches but revert it on one, why does the merge of those branches include the change? </dt>
<dd>
<p>By default, when Git does a merge, it uses a strategy called the <code>ort</code>
strategy, which does a fancy three-way merge.  In such a case, when Git
performs the merge, it considers exactly three points: the two heads and a
third point, called the <em>merge base</em>, which is usually the common ancestor of
those commits.  Git does not consider the history or the individual commits
that have happened on those branches at all.</p>

<p>As a result, if both sides have a change and one side has reverted that change,
the result is to include the change.  This is because the code has changed on
one side and there is no net change on the other, and in this scenario, Git
adopts the change.</p>


<p>If this is a problem for you, you can do a rebase instead, rebasing the branch
with the revert onto the other branch.  A rebase in this scenario will revert
the change, because a rebase applies each individual commit, including the
revert.  Note that rebases rewrite history, so you should avoid rebasing
published branches unless you’re sure you’re comfortable with that.  See the
NOTES section in <a href="/docs/git-rebase">git-rebase[1]</a> for more details.</p>

</dd>
</dl>




<h2>Hooks</h2>


<dl>
<dt> How do I use hooks to prevent users from making certain changes? </dt>
<dd>
<p>The only safe place to make these changes is on the remote repository
(i.e., the Git server), usually in the <code>pre-receive</code> hook or in a
continuous integration (CI) system.  These are the locations in which
policy can be enforced effectively.</p>

<p>It’s common to try to use <code>pre-commit</code> hooks (or, for commit messages,
<code>commit-msg</code> hooks) to check these things, which is great if you’re working as a
solo developer and want the tooling to help you.  However, using hooks on a
developer machine is not effective as a policy control because a user can bypass
these hooks with <code>--no-verify</code> without being noticed (among various other ways).
Git assumes that the user is in control of their local repositories and doesn’t
try to prevent this or tattle on the user.</p>


<p>In addition, some advanced users find <code>pre-commit</code> hooks to be an impediment to
workflows that use temporary commits to stage work in progress or that create
fixup commits, so it’s better to push these kinds of checks to the server
anyway.</p>

</dd>
</dl>




<h2>Cross-Platform Issues</h2>


<dl>
<dt> I’m on Windows and my text files are detected as binary. </dt>
<dd>
<p>Git works best when you store text files as UTF-8.  Many programs on
Windows support UTF-8, but some do not and only use the little-endian
UTF-16 format, which Git detects as binary.  If you can’t use UTF-8 with
your programs, you can specify a working tree encoding that indicates
which encoding your files should be checked out with, while still
storing these files as UTF-8 in the repository.  This allows tools like
<a href="/docs/git-diff">git-diff[1]</a> to work as expected, while still allowing your tools
to work.</p>

<p>To do so, you can specify a <a href="/docs/gitattributes">gitattributes[5]</a> pattern with the
<code>working-tree-encoding</code> attribute.  For example, the following pattern sets all
C files to use UTF-16LE-BOM, which is a common encoding on Windows:</p>



<pre>*.c	working-tree-encoding=UTF-16LE-BOM</pre>



<p>You will need to run <code>git add --renormalize</code> to have this take effect.  Note
that if you are making these changes on a project that is used across platforms,
you’ll probably want to make it in a per-user configuration file or in the one
in <code>$GIT_DIR/info/attributes</code>, since making it in a <code>.gitattributes</code> file in the
repository will apply to all users of the repository.</p>


<p>See the following entry for information about normalizing line endings as well,
and see <a href="/docs/gitattributes">gitattributes[5]</a> for more information about attribute files.</p>

</dd>
</dl>


<dl>
<dt> I’m on Windows and git diff shows my files as having a <code>^M</code> at the end. </dt>
<dd>
<p>By default, Git expects files to be stored with Unix line endings.  As such,
the carriage return (<code>^M</code>) that is part of a Windows line ending is shown
because it is considered to be trailing whitespace.  Git defaults to showing
trailing whitespace only on new lines, not existing ones.</p>

<p>You can store the files in the repository with Unix line endings and convert
them automatically to your platform’s line endings.  To do that, set the
configuration option <code>core.eol</code> to <code>native</code> and see the following entry for
information about how to configure files as text or binary.</p>


<p>You can also control this behavior with the <code>core.whitespace</code> setting if you
don’t wish to remove the carriage returns from your line endings.</p>

</dd>
</dl>


<dl>
<dt> Why do I have a file that’s always modified? </dt>
<dd>
<p>Internally, Git always stores file names as sequences of bytes and doesn’t
perform any encoding or case folding.  However, Windows and macOS by default
both perform case folding on file names.  As a result, it’s possible to end up
with multiple files or directories whose names differ only in case.  Git can
handle this just fine, but the file system can store only one of these files,
so when Git reads the other file to see its contents, it looks modified.</p>

<p>It’s best to remove one of the files such that you only have one file.  You can
do this with commands like the following (assuming two files <code>AFile.txt</code> and
<code>afile.txt</code>) on an otherwise clean working tree:</p>



<pre>$ git rm --cached AFile.txt
$ git commit -m 'Remove files conflicting in case'
$ git checkout .</pre>



<p>This avoids touching the disk, but removes the additional file.  Your project
may prefer to adopt a naming convention, such as all-lowercase names, to avoid
this problem from occurring again; such a convention can be checked using a
<code>pre-receive</code> hook or as part of a continuous integration (CI) system.</p>


<p>It is also possible for perpetually modified files to occur on any platform if a
smudge or clean filter is in use on your system but a file was previously
committed without running the smudge or clean filter.  To fix this, run the
following on an otherwise clean working tree:</p>



<pre>$ git add --renormalize .</pre>


</dd>
</dl>


<dl>
<dt> What’s the recommended way to store files in Git? </dt>
<dd>
<p>While Git can store and handle any file of any type, there are some
settings that work better than others.  In general, we recommend that
text files be stored in UTF-8 without a byte-order mark (BOM) with LF
(Unix-style) endings.  We also recommend the use of UTF-8 (again,
without BOM) in commit messages.  These are the settings that work best
across platforms and with tools such as <code>git diff</code> and <code>git merge</code>.</p>

<p>Additionally, if you have a choice between storage formats that are text based
or non-text based, we recommend storing files in the text format and, if
necessary, transforming them into the other format.  For example, a text-based
SQL dump with one record per line will work much better for diffing and merging
than an actual database file.  Similarly, text-based formats such as Markdown
and AsciiDoc will work better than binary formats such as Microsoft Word and
PDF.</p>


<p>Similarly, storing binary dependencies (e.g., shared libraries or JAR files) or
build products in the repository is generally not recommended.  Dependencies and
build products are best stored on an artifact or package server with only
references, URLs, and hashes stored in the repository.</p>


<p>We also recommend setting a <a href="/docs/gitattributes">gitattributes[5]</a> file to explicitly mark
which files are text and which are binary.  If you want Git to guess, you can
set the attribute <code>text=auto</code>.  For example, the following might be appropriate
in some projects:</p>



<pre># By default, guess.
*	text=auto
# Mark all C files as text.
*.c	text
# Mark all JPEG files as binary.
*.jpg	binary</pre>



<p>These settings help tools pick the right format for output such as patches and
result in files being checked out in the appropriate line ending for the
platform.</p>

</dd>
</dl>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">gitglossary - A Git Glossary</span></h2>




<h2><br>synopsis</h2>


<p>*</p>




<h2>description</h2>


<dl>
<dt> alternate object database </dt>
<dd>
<p>Via the alternates mechanism, a <a href="#def_repository">repository</a>
can inherit part of its <a href="#def_object_database">object database</a>
from another object database, which is called an "alternate".</p>
</dd>
<dt> bare repository </dt>
<dd>
<p>A bare repository is normally an appropriately
named <a href="#def_directory">directory</a> with a <code>.git</code> suffix that does not
have a locally checked-out copy of any of the files under
revision control. That is, all of the Git
administrative and control files that would normally be present in the
hidden <code>.git</code> sub-directory are directly present in the
<code>repository.git</code> directory instead,
and no other files are present and checked out. Usually publishers of
public repositories make bare repositories available.</p>
</dd>
<dt> blob object </dt>
<dd>
<p>Untyped <a href="#def_object">object</a>, e.g. the contents of a file.</p>
</dd>
<dt> branch </dt>
<dd>
<p>A "branch" is a line of development.  The most recent
<a href="#def_commit">commit</a> on a branch is referred to as the tip of
that branch.  The tip of the branch is referenced by a branch
<a href="#def_head">head</a>, which moves forward as additional development
is done on the branch.  A single Git
<a href="#def_repository">repository</a> can track an arbitrary number of
branches, but your <a href="#def_working_tree">working tree</a> is
associated with just one of them (the "current" or "checked out"
branch), and <a href="#def_HEAD">HEAD</a> points to that branch.</p>
</dd>
<dt> cache </dt>
<dd>
<p>Obsolete for: <a href="#def_index">index</a>.</p>
</dd>
<dt> chain </dt>
<dd>
<p>A list of objects, where each <a href="#def_object">object</a> in the list contains
a reference to its successor (for example, the successor of a
<a href="#def_commit">commit</a> could be one of its <a href="#def_parent">parents</a>).</p>
</dd>
<dt> changeset </dt>
<dd>
<p>BitKeeper/cvsps speak for "<a href="#def_commit">commit</a>". Since Git does not
store changes, but states, it really does not make sense to use the term
"changesets" with Git.</p>
</dd>
<dt> checkout </dt>
<dd>
<p>The action of updating all or part of the
<a href="#def_working_tree">working tree</a> with a <a href="#def_tree_object">tree object</a>
or <a href="#def_blob_object">blob</a> from the
<a href="#def_object_database">object database</a>, and updating the
<a href="#def_index">index</a> and <a href="#def_HEAD">HEAD</a> if the whole working tree has
been pointed at a new <a href="#def_branch">branch</a>.</p>
</dd>
<dt> cherry-picking </dt>
<dd>
<p>In <a href="#def_SCM">SCM</a> jargon, "cherry pick" means to choose a subset of
changes out of a series of changes (typically commits) and record them
as a new series of changes on top of a different codebase. In Git, this is
performed by the "git cherry-pick" command to extract the change introduced
by an existing <a href="#def_commit">commit</a> and to record it based on the tip
of the current <a href="#def_branch">branch</a> as a new commit.</p>
</dd>
<dt> clean </dt>
<dd>
<p>A <a href="#def_working_tree">working tree</a> is clean, if it
corresponds to the <a href="#def_revision">revision</a> referenced by the current
<a href="#def_head">head</a>. Also see "<a href="#def_dirty">dirty</a>".</p>
</dd>
<dt> commit </dt>
<dd>
<p>As a noun: A single point in the
Git history; the entire history of a project is represented as a
set of interrelated commits.  The word "commit" is often
used by Git in the same places other revision control systems
use the words "revision" or "version".  Also used as a short
hand for <a href="#def_commit_object">commit object</a>.</p>

<p>As a verb: The action of storing a new snapshot of the project’s
state in the Git history, by creating a new commit representing the current
state of the <a href="#def_index">index</a> and advancing <a href="#def_HEAD">HEAD</a>
to point at the new commit.</p>

</dd>
<dt> commit object </dt>
<dd>
<p>An <a href="#def_object">object</a> which contains the information about a
particular <a href="#def_revision">revision</a>, such as <a href="#def_parent">parents</a>, committer,
author, date and the <a href="#def_tree_object">tree object</a> which corresponds
to the top <a href="#def_directory">directory</a> of the stored
revision.</p>
</dd>
<dt> commit-ish (also committish) </dt>
<dd>
<p>A <a href="#def_commit_object">commit object</a> or an
<a href="#def_object">object</a> that can be recursively dereferenced to
a commit object.
The following are all commit-ishes:
a commit object,
a <a href="#def_tag_object">tag object</a> that points to a commit
object,
a tag object that points to a tag object that points to a
commit object,
etc.</p>
</dd>
<dt> core Git </dt>
<dd>
<p>Fundamental data structures and utilities of Git. Exposes only limited
source code management tools.</p>
</dd>
<dt> DAG </dt>
<dd>
<p>Directed acyclic graph. The <a href="#def_commit_object">commit objects</a> form a
directed acyclic graph, because they have parents (directed), and the
graph of commit objects is acyclic (there is no <a href="#def_chain">chain</a>
which begins and ends with the same <a href="#def_object">object</a>).</p>
</dd>
<dt> dangling object </dt>
<dd>
<p>An <a href="#def_unreachable_object">unreachable object</a> which is not
<a href="#def_reachable">reachable</a> even from other unreachable objects; a
dangling object has no references to it from any
reference or <a href="#def_object">object</a> in the <a href="#def_repository">repository</a>.</p>
</dd>
<dt> detached HEAD </dt>
<dd>
<p>Normally the <a href="#def_HEAD">HEAD</a> stores the name of a
<a href="#def_branch">branch</a>, and commands that operate on the
history HEAD represents operate on the history leading to the
tip of the branch the HEAD points at.  However, Git also
allows you to <a href="#def_checkout">check out</a> an arbitrary
<a href="#def_commit">commit</a> that isn’t necessarily the tip of any
particular branch.  The HEAD in such a state is called
"detached".</p>

<p>Note that commands that operate on the history of the current branch
(e.g. <code>git commit</code> to build a new history on top of it) still work
while the HEAD is detached. They update the HEAD to point at the tip
of the updated history without affecting any branch.  Commands that
update or inquire information <em>about</em> the current branch (e.g. <code>git
branch --set-upstream-to</code> that sets what remote-tracking branch the
current branch integrates with) obviously do not work, as there is no
(real) current branch to ask about in this state.</p>

</dd>
<dt> directory </dt>
<dd>
<p>The list you get with "ls" :-)</p>
</dd>
<dt> dirty </dt>
<dd>
<p>A <a href="#def_working_tree">working tree</a> is said to be "dirty" if
it contains modifications which have not been <a href="#def_commit">committed</a> to the current
<a href="#def_branch">branch</a>.</p>
</dd>
<dt> evil merge </dt>
<dd>
<p>An evil merge is a <a href="#def_merge">merge</a> that introduces changes that
do not appear in any <a href="#def_parent">parent</a>.</p>
</dd>
<dt> fast-forward </dt>
<dd>
<p>A fast-forward is a special type of <a href="#def_merge">merge</a> where you have a
<a href="#def_revision">revision</a> and you are "merging" another
<a href="#def_branch">branch</a>'s changes that happen to be a descendant of what
you have. In such a case, you do not make a new <a href="#def_merge">merge</a>
<a href="#def_commit">commit</a> but instead just update your branch to point at the same
revision as the branch you are merging. This will happen frequently on a
<a href="#def_remote_tracking_branch">remote-tracking branch</a> of a remote
<a href="#def_repository">repository</a>.</p>
</dd>
<dt> fetch </dt>
<dd>
<p>Fetching a <a href="#def_branch">branch</a> means to get the
branch’s <a href="#def_head_ref">head ref</a> from a remote
<a href="#def_repository">repository</a>, to find out which objects are
missing from the local <a href="#def_object_database">object database</a>,
and to get them, too.  See also <a href="/docs/git-fetch">git-fetch[1]</a>.</p>
</dd>
<dt> file system </dt>
<dd>
<p>Linus Torvalds originally designed Git to be a user space file system,
i.e. the infrastructure to hold files and directories. That ensured the
efficiency and speed of Git.</p>
</dd>
<dt> Git archive </dt>
<dd>
<p>Synonym for <a href="#def_repository">repository</a> (for arch people).</p>
</dd>
<dt> gitfile </dt>
<dd>
<p>A plain file <code>.git</code> at the root of a working tree that
points at the directory that is the real repository.</p>
</dd>
<dt> grafts </dt>
<dd>
<p>Grafts enables two otherwise different lines of development to be joined
together by recording fake ancestry information for commits. This way
you can make Git pretend the set of <a href="#def_parent">parents</a> a <a href="#def_commit">commit</a> has
is different from what was recorded when the commit was
created. Configured via the <code>.git/info/grafts</code> file.</p>

<p>Note that the grafts mechanism is outdated and can lead to problems
transferring objects between repositories; see <a href="/docs/git-replace">git-replace[1]</a>
for a more flexible and robust system to do the same thing.</p>

</dd>
<dt> hash </dt>
<dd>
<p>In Git’s context, synonym for <a href="#def_object_name">object name</a>.</p>
</dd>
<dt> head </dt>
<dd>
<p>A <a href="#def_ref">named reference</a> to the <a href="#def_commit">commit</a> at the tip of a
<a href="#def_branch">branch</a>.  Heads are stored in a file in
<code>$GIT_DIR/refs/heads/</code> directory, except when using packed refs. (See
<a href="/docs/git-pack-refs">git-pack-refs[1]</a>.)</p>
</dd>
<dt> HEAD </dt>
<dd>
<p>The current <a href="#def_branch">branch</a>.  In more detail: Your <a href="#def_working_tree">working tree</a> is normally derived from the state of the tree
referred to by HEAD.  HEAD is a reference to one of the
<a href="#def_head">heads</a> in your repository, except when using a
<a href="#def_detached_HEAD">detached HEAD</a>, in which case it directly
references an arbitrary commit.</p>
</dd>
<dt> head ref </dt>
<dd>
<p>A synonym for <a href="#def_head">head</a>.</p>
</dd>
<dt> hook </dt>
<dd>
<p>During the normal execution of several Git commands, call-outs are made
to optional scripts that allow a developer to add functionality or
checking. Typically, the hooks allow for a command to be pre-verified
and potentially aborted, and allow for a post-notification after the
operation is done. The hook scripts are found in the
<code>$GIT_DIR/hooks/</code> directory, and are enabled by simply
removing the <code>.sample</code> suffix from the filename. In earlier versions
of Git you had to make them executable.</p>
</dd>
<dt> index </dt>
<dd>
<p>A collection of files with stat information, whose contents are stored
as objects. The index is a stored version of your
<a href="#def_working_tree">working tree</a>. Truth be told, it can also contain a second, and even
a third version of a working tree, which are used
when <a href="#def_merge">merging</a>.</p>
</dd>
<dt> index entry </dt>
<dd>
<p>The information regarding a particular file, stored in the
<a href="#def_index">index</a>. An index entry can be unmerged, if a
<a href="#def_merge">merge</a> was started, but not yet finished (i.e. if
the index contains multiple versions of that file).</p>
</dd>
<dt> master </dt>
<dd>
<p>The default development <a href="#def_branch">branch</a>. Whenever you
create a Git <a href="#def_repository">repository</a>, a branch named
"master" is created, and becomes the active branch. In most
cases, this contains the local development, though that is
purely by convention and is not required.</p>
</dd>
<dt> merge </dt>
<dd>
<p>As a verb: To bring the contents of another
<a href="#def_branch">branch</a> (possibly from an external
<a href="#def_repository">repository</a>) into the current branch.  In the
case where the merged-in branch is from a different repository,
this is done by first <a href="#def_fetch">fetching</a> the remote branch
and then merging the result into the current branch.  This
combination of fetch and merge operations is called a
<a href="#def_pull">pull</a>.  Merging is performed by an automatic process
that identifies changes made since the branches diverged, and
then applies all those changes together.  In cases where changes
conflict, manual intervention may be required to complete the
merge.</p>

<p>As a noun: unless it is a <a href="#def_fast_forward">fast-forward</a>, a
successful merge results in the creation of a new <a href="#def_commit">commit</a>
representing the result of the merge, and having as
<a href="#def_parent">parents</a> the tips of the merged <a href="#def_branch">branches</a>.
This commit is referred to as a "merge commit", or sometimes just a
"merge".</p>

</dd>
<dt> object </dt>
<dd>
<p>The unit of storage in Git. It is uniquely identified by the
<a href="#def_SHA1">SHA-1</a> of its contents. Consequently, an
object cannot be changed.</p>
</dd>
<dt> object database </dt>
<dd>
<p>Stores a set of "objects", and an individual <a href="#def_object">object</a> is
identified by its <a href="#def_object_name">object name</a>. The objects usually
live in <code>$GIT_DIR/objects/</code>.</p>
</dd>
<dt> object identifier </dt>
<dd>
<p>Synonym for <a href="#def_object_name">object name</a>.</p>
</dd>
<dt> object name </dt>
<dd>
<p>The unique identifier of an <a href="#def_object">object</a>.  The
object name is usually represented by a 40 character
hexadecimal string.  Also colloquially called <a href="#def_SHA1">SHA-1</a>.</p>
</dd>
<dt> object type </dt>
<dd>
<p>One of the identifiers "<a href="#def_commit_object">commit</a>",
"<a href="#def_tree_object">tree</a>", "<a href="#def_tag_object">tag</a>" or
"<a href="#def_blob_object">blob</a>" describing the type of an
<a href="#def_object">object</a>.</p>
</dd>
<dt> octopus </dt>
<dd>
<p>To <a href="#def_merge">merge</a> more than two <a href="#def_branch">branches</a>.</p>
</dd>
<dt> origin </dt>
<dd>
<p>The default upstream <a href="#def_repository">repository</a>. Most projects have
at least one upstream project which they track. By default
<em>origin</em> is used for that purpose. New upstream updates
will be fetched into <a href="#def_remote_tracking_branch">remote-tracking branches</a> named
origin/name-of-upstream-branch, which you can see using
<code>git branch -r</code>.</p>
</dd>
<dt> overlay </dt>
<dd>
<p>Only update and add files to the working directory, but don’t
delete them, similar to how <em>cp -R</em> would update the contents
in the destination directory.  This is the default mode in a
<a href="#def_checkout">checkout</a> when checking out files from the
<a href="#def_index">index</a> or a <a href="#def_tree-ish">tree-ish</a>.  In
contrast, no-overlay mode also deletes tracked files not
present in the source, similar to <em>rsync --delete</em>.</p>
</dd>
<dt> pack </dt>
<dd>
<p>A set of objects which have been compressed into one file (to save space
or to transmit them efficiently).</p>
</dd>
<dt> pack index </dt>
<dd>
<p>The list of identifiers, and other information, of the objects in a
<a href="#def_pack">pack</a>, to assist in efficiently accessing the contents of a
pack.</p>
</dd>
<dt> pathspec </dt>
<dd>
<p>Pattern used to limit paths in Git commands.</p>

<p>Pathspecs are used on the command line of "git ls-files", "git
ls-tree", "git add", "git grep", "git diff", "git checkout",
and many other commands to
limit the scope of operations to some subset of the tree or
worktree.  See the documentation of each command for whether
paths are relative to the current directory or toplevel.  The
pathspec syntax is as follows:</p>




<ul>
<li>
<p>any path matches itself</p>
</li>
<li>
<p>the pathspec up to the last slash represents a
directory prefix.  The scope of that pathspec is
limited to that subtree.</p>
</li>
<li>
<p>the rest of the pathspec is a pattern for the remainder
of the pathname.  Paths relative to the directory
prefix will be matched against that pattern using fnmatch(3);
in particular, <em>*</em> and <em>?</em> <em>can</em> match directory separators.</p>
</li>
</ul>




<p>For example, Documentation/*.jpg will match all .jpg files
in the Documentation subtree,
including Documentation/chapter_1/figure_1.jpg.</p>


<p>A pathspec that begins with a colon <code>:</code> has special meaning.  In the
short form, the leading colon <code>:</code> is followed by zero or more "magic
signature" letters (which optionally is terminated by another colon <code>:</code>),
and the remainder is the pattern to match against the path.
The "magic signature" consists of ASCII symbols that are neither
alphanumeric, glob, regex special characters nor colon.
The optional colon that terminates the "magic signature" can be
omitted if the pattern begins with a character that does not belong to
"magic signature" symbol set and is not a colon.</p>


<p>In the long form, the leading colon <code>:</code> is followed by an open
parenthesis <code>(</code>, a comma-separated list of zero or more "magic words",
and a close parentheses <code>)</code>, and the remainder is the pattern to match
against the path.</p>


<p>A pathspec with only a colon means "there is no pathspec". This form
should not be combined with other pathspec.</p>




<dl>
<dt> top </dt>
<dd>
<p>The magic word <code>top</code> (magic signature: <code>/</code>) makes the pattern
match from the root of the working tree, even when you are
running the command from inside a subdirectory.</p>
</dd>
<dt> literal </dt>
<dd>
<p>Wildcards in the pattern such as <code>*</code> or <code>?</code> are treated
as literal characters.</p>
</dd>
<dt> icase </dt>
<dd>
<p>Case insensitive match.</p>
</dd>
<dt> glob </dt>
<dd>
<p>Git treats the pattern as a shell glob suitable for
consumption by fnmatch(3) with the FNM_PATHNAME flag:
wildcards in the pattern will not match a / in the pathname.
For example, "Documentation/*.html" matches
"Documentation/git.html" but not "Documentation/ppc/ppc.html"
or "tools/perf/Documentation/perf.html".</p>

<p>Two consecutive asterisks ("<code>**</code>") in patterns matched against
full pathname may have special meaning:</p>


<ul>
<li>
<p>A leading "<code>**</code>" followed by a slash means match in all
directories. For example, "<code>**/foo</code>" matches file or directory
"<code>foo</code>" anywhere, the same as pattern "<code>foo</code>". "<code>**/foo/bar</code>"
matches file or directory "<code>bar</code>" anywhere that is directly
under directory "<code>foo</code>".</p>
</li>
<li>
<p>A trailing "<code>/**</code>" matches everything inside. For example,
"<code>abc/**</code>" matches all files inside directory "abc", relative
to the location of the <code>.gitignore</code> file, with infinite depth.</p>
</li>
<li>
<p>A slash followed by two consecutive asterisks then a slash
matches zero or more directories. For example, "<code>a/**/b</code>"
matches "<code>a/b</code>", "<code>a/x/b</code>", "<code>a/x/y/b</code>" and so on.</p>
</li>
<li>
<p>Other consecutive asterisks are considered invalid.</p>

<p>Glob magic is incompatible with literal magic.</p>

</li>
</ul>

</dd>
<dt> attr </dt>
<dd>
<p>After <code>attr:</code> comes a space separated list of "attribute
requirements", all of which must be met in order for the
path to be considered a match; this is in addition to the
usual non-magic pathspec pattern matching.
See <a href="/docs/gitattributes">gitattributes[5]</a>.</p>

<p>Each of the attribute requirements for the path takes one of
these forms:</p>


<ul>
<li>
<p>"<code>ATTR</code>" requires that the attribute <code>ATTR</code> be set.</p>
</li>
<li>
<p>"<code>-ATTR</code>" requires that the attribute <code>ATTR</code> be unset.</p>
</li>
<li>
<p>"<code>ATTR=VALUE</code>" requires that the attribute <code>ATTR</code> be
set to the string <code>VALUE</code>.</p>
</li>
<li>
<p>"<code>!ATTR</code>" requires that the attribute <code>ATTR</code> be
unspecified.</p>

<p>Note that when matching against a tree object, attributes are still
obtained from working tree, not from the given tree object.</p>

</li>
</ul>

</dd>
<dt> exclude </dt>
<dd>
<p>After a path matches any non-exclude pathspec, it will be run
through all exclude pathspecs (magic signature: <code>!</code> or its
synonym <code>^</code>). If it matches, the path is ignored.  When there
is no non-exclude pathspec, the exclusion is applied to the
result set as if invoked without any pathspec.</p>
</dd>
</dl>



</dd>
<dt> parent </dt>
<dd>
<p>A <a href="#def_commit_object">commit object</a> contains a (possibly empty) list
of the logical predecessor(s) in the line of development, i.e. its
parents.</p>
</dd>
<dt> pickaxe </dt>
<dd>
<p>The term <a href="#def_pickaxe">pickaxe</a> refers to an option to the diffcore
routines that help select changes that add or delete a given text
string. With the <code>--pickaxe-all</code> option, it can be used to view the full
<a href="#def_changeset">changeset</a> that introduced or removed, say, a
particular line of text. See <a href="/docs/git-diff">git-diff[1]</a>.</p>
</dd>
<dt> plumbing </dt>
<dd>
<p>Cute name for <a href="#def_core_git">core Git</a>.</p>
</dd>
<dt> porcelain </dt>
<dd>
<p>Cute name for programs and program suites depending on
<a href="#def_core_git">core Git</a>, presenting a high level access to
core Git. Porcelains expose more of a <a href="#def_SCM">SCM</a>
interface than the <a href="#def_plumbing">plumbing</a>.</p>
</dd>
<dt> per-worktree ref </dt>
<dd>
<p>Refs that are per-<a href="#def_working_tree">worktree</a>, rather than
global.  This is presently only <a href="#def_HEAD">HEAD</a> and any refs
that start with <code>refs/bisect/</code>, but might later include other
unusual refs.</p>
</dd>
<dt> pseudoref </dt>
<dd>
<p>Pseudorefs are a class of files under <code>$GIT_DIR</code> which behave
like refs for the purposes of rev-parse, but which are treated
specially by git.  Pseudorefs both have names that are all-caps,
and always start with a line consisting of a
<a href="#def_SHA1">SHA-1</a> followed by whitespace.  So, HEAD is not a
pseudoref, because it is sometimes a symbolic ref.  They might
optionally contain some additional data.  <code>MERGE_HEAD</code> and
<code>CHERRY_PICK_HEAD</code> are examples.  Unlike
<a href="#def_per_worktree_ref">per-worktree refs</a>, these files cannot
be symbolic refs, and never have reflogs.  They also cannot be
updated through the normal ref update machinery.  Instead,
they are updated by directly writing to the files.  However,
they can be read as if they were refs, so <code>git rev-parse
MERGE_HEAD</code> will work.</p>
</dd>
<dt> pull </dt>
<dd>
<p>Pulling a <a href="#def_branch">branch</a> means to <a href="#def_fetch">fetch</a> it and
<a href="#def_merge">merge</a> it.  See also <a href="/docs/git-pull">git-pull[1]</a>.</p>
</dd>
<dt> push </dt>
<dd>
<p>Pushing a <a href="#def_branch">branch</a> means to get the branch’s
<a href="#def_head_ref">head ref</a> from a remote <a href="#def_repository">repository</a>,
find out if it is an ancestor to the branch’s local
head ref, and in that case, putting all
objects, which are <a href="#def_reachable">reachable</a> from the local
head ref, and which are missing from the remote
repository, into the remote
<a href="#def_object_database">object database</a>, and updating the remote
head ref. If the remote <a href="#def_head">head</a> is not an
ancestor to the local head, the push fails.</p>
</dd>
<dt> reachable </dt>
<dd>
<p>All of the ancestors of a given <a href="#def_commit">commit</a> are said to be
"reachable" from that commit. More
generally, one <a href="#def_object">object</a> is reachable from
another if we can reach the one from the other by a <a href="#def_chain">chain</a>
that follows <a href="#def_tag">tags</a> to whatever they tag,
<a href="#def_commit_object">commits</a> to their parents or trees, and
<a href="#def_tree_object">trees</a> to the trees or <a href="#def_blob_object">blobs</a>
that they contain.</p>
</dd>
<dt> rebase </dt>
<dd>
<p>To reapply a series of changes from a <a href="#def_branch">branch</a> to a
different base, and reset the <a href="#def_head">head</a> of that branch
to the result.</p>
</dd>
<dt> ref </dt>
<dd>
<p>A name that begins with <code>refs/</code> (e.g. <code>refs/heads/master</code>)
that points to an <a href="#def_object_name">object name</a> or another
ref (the latter is called a <a href="#def_symref">symbolic ref</a>).
For convenience, a ref can sometimes be abbreviated when used
as an argument to a Git command; see <a href="/docs/gitrevisions">gitrevisions[7]</a>
for details.
Refs are stored in the <a href="#def_repository">repository</a>.</p>

<p>The ref namespace is hierarchical.
Different subhierarchies are used for different purposes (e.g. the
<code>refs/heads/</code> hierarchy is used to represent local branches).</p>


<p>There are a few special-purpose refs that do not begin with <code>refs/</code>.
The most notable example is <code>HEAD</code>.</p>

</dd>
<dt> reflog </dt>
<dd>
<p>A reflog shows the local "history" of a ref.  In other words,
it can tell you what the 3rd last revision in <em>this</em> repository
was, and what was the current state in <em>this</em> repository,
yesterday 9:14pm.  See <a href="/docs/git-reflog">git-reflog[1]</a> for details.</p>
</dd>
<dt> refspec </dt>
<dd>
<p>A "refspec" is used by <a href="#def_fetch">fetch</a> and
<a href="#def_push">push</a> to describe the mapping between remote
<a href="#def_ref">ref</a> and local ref.</p>
</dd>
<dt> remote repository </dt>
<dd>
<p>A <a href="#def_repository">repository</a> which is used to track the same
project but resides somewhere else. To communicate with remotes,
see <a href="#def_fetch">fetch</a> or <a href="#def_push">push</a>.</p>
</dd>
<dt> remote-tracking branch </dt>
<dd>
<p>A <a href="#def_ref">ref</a> that is used to follow changes from another
<a href="#def_repository">repository</a>. It typically looks like
<em>refs/remotes/foo/bar</em> (indicating that it tracks a branch named
<em>bar</em> in a remote named <em>foo</em>), and matches the right-hand-side of
a configured fetch <a href="#def_refspec">refspec</a>. A remote-tracking
branch should not contain direct modifications or have local
commits made to it.</p>
</dd>
<dt> repository </dt>
<dd>
<p>A collection of <a href="#def_ref">refs</a> together with an
<a href="#def_object_database">object database</a> containing all objects
which are <a href="#def_reachable">reachable</a> from the refs, possibly
accompanied by meta data from one or more <a href="#def_porcelain">porcelains</a>. A
repository can share an object database with other repositories
via <a href="#def_alternate_object_database">alternates mechanism</a>.</p>
</dd>
<dt> resolve </dt>
<dd>
<p>The action of fixing up manually what a failed automatic
<a href="#def_merge">merge</a> left behind.</p>
</dd>
<dt> revision </dt>
<dd>
<p>Synonym for <a href="#def_commit">commit</a> (the noun).</p>
</dd>
<dt> rewind </dt>
<dd>
<p>To throw away part of the development, i.e. to assign the
<a href="#def_head">head</a> to an earlier <a href="#def_revision">revision</a>.</p>
</dd>
<dt> SCM </dt>
<dd>
<p>Source code management (tool).</p>
</dd>
<dt> SHA-1 </dt>
<dd>
<p>"Secure Hash Algorithm 1"; a cryptographic hash function.
In the context of Git used as a synonym for <a href="#def_object_name">object name</a>.</p>
</dd>
<dt> shallow clone </dt>
<dd>
<p>Mostly a synonym to <a href="#def_shallow_repository">shallow repository</a>
but the phrase makes it more explicit that it was created by
running <code>git clone --depth=...</code> command.</p>
</dd>
<dt> shallow repository </dt>
<dd>
<p>A shallow <a href="#def_repository">repository</a> has an incomplete
history some of whose <a href="#def_commit">commits</a> have <a href="#def_parent">parents</a> cauterized away (in other
words, Git is told to pretend that these commits do not have the
parents, even though they are recorded in the <a href="#def_commit_object">commit
object</a>). This is sometimes useful when you are interested only in the
recent history of a project even though the real history recorded in the
upstream is much larger. A shallow repository
is created by giving the <code>--depth</code> option to <a href="/docs/git-clone">git-clone[1]</a>, and
its history can be later deepened with <a href="/docs/git-fetch">git-fetch[1]</a>.</p>
</dd>
<dt> stash entry </dt>
<dd>
<p>An <a href="#def_object">object</a> used to temporarily store the contents of a
<a href="#def_dirty">dirty</a> working directory and the index for future reuse.</p>
</dd>
<dt> submodule </dt>
<dd>
<p>A <a href="#def_repository">repository</a> that holds the history of a
separate project inside another repository (the latter of
which is called <a href="#def_superproject">superproject</a>).</p>
</dd>
<dt> superproject </dt>
<dd>
<p>A <a href="#def_repository">repository</a> that references repositories
of other projects in its working tree as <a href="#def_submodule">submodules</a>.
The superproject knows about the names of (but does not hold
copies of) commit objects of the contained submodules.</p>
</dd>
<dt> symref </dt>
<dd>
<p>Symbolic reference: instead of containing the <a href="#def_SHA1">SHA-1</a>
id itself, it is of the format <em>ref: refs/some/thing</em> and when
referenced, it recursively dereferences to this reference.
<em><a href="#def_HEAD">HEAD</a></em> is a prime example of a symref. Symbolic
references are manipulated with the <a href="/docs/git-symbolic-ref">git-symbolic-ref[1]</a>
command.</p>
</dd>
<dt> tag </dt>
<dd>
<p>A <a href="#def_ref">ref</a> under <code>refs/tags/</code> namespace that points to an
object of an arbitrary type (typically a tag points to either a
<a href="#def_tag_object">tag</a> or a <a href="#def_commit_object">commit object</a>).
In contrast to a <a href="#def_head">head</a>, a tag is not updated by
the <code>commit</code> command. A Git tag has nothing to do with a Lisp
tag (which would be called an <a href="#def_object_type">object type</a>
in Git’s context). A tag is most typically used to mark a particular
point in the commit ancestry <a href="#def_chain">chain</a>.</p>
</dd>
<dt> tag object </dt>
<dd>
<p>An <a href="#def_object">object</a> containing a <a href="#def_ref">ref</a> pointing to
another object, which can contain a message just like a
<a href="#def_commit_object">commit object</a>. It can also contain a (PGP)
signature, in which case it is called a "signed tag object".</p>
</dd>
<dt> topic branch </dt>
<dd>
<p>A regular Git <a href="#def_branch">branch</a> that is used by a developer to
identify a conceptual line of development. Since branches are very easy
and inexpensive, it is often desirable to have several small branches
that each contain very well defined concepts or small incremental yet
related changes.</p>
</dd>
<dt> tree </dt>
<dd>
<p>Either a <a href="#def_working_tree">working tree</a>, or a <a href="#def_tree_object">tree
object</a> together with the dependent <a href="#def_blob_object">blob</a> and tree objects
(i.e. a stored representation of a working tree).</p>
</dd>
<dt> tree object </dt>
<dd>
<p>An <a href="#def_object">object</a> containing a list of file names and modes along
with refs to the associated blob and/or tree objects. A
<a href="#def_tree">tree</a> is equivalent to a <a href="#def_directory">directory</a>.</p>
</dd>
<dt> tree-ish (also treeish) </dt>
<dd>
<p>A <a href="#def_tree_object">tree object</a> or an <a href="#def_object">object</a>
that can be recursively dereferenced to a tree object.
Dereferencing a <a href="#def_commit_object">commit object</a> yields the
tree object corresponding to the <a href="#def_revision">revision</a>'s
top <a href="#def_directory">directory</a>.
The following are all tree-ishes:
a <a href="#def_commit-ish">commit-ish</a>,
a tree object,
a <a href="#def_tag_object">tag object</a> that points to a tree object,
a tag object that points to a tag object that points to a tree
object,
etc.</p>
</dd>
<dt> unmerged index </dt>
<dd>
<p>An <a href="#def_index">index</a> which contains unmerged
<a href="#def_index_entry">index entries</a>.</p>
</dd>
<dt> unreachable object </dt>
<dd>
<p>An <a href="#def_object">object</a> which is not <a href="#def_reachable">reachable</a> from a
<a href="#def_branch">branch</a>, <a href="#def_tag">tag</a>, or any other reference.</p>
</dd>
<dt> upstream branch </dt>
<dd>
<p>The default <a href="#def_branch">branch</a> that is merged into the branch in
question (or the branch in question is rebased onto). It is configured
via branch.&lt;name&gt;.remote and branch.&lt;name&gt;.merge. If the upstream branch
of <em>A</em> is <em>origin/B</em> sometimes we say "<em>A</em> is tracking <em>origin/B</em>".</p>
</dd>
<dt> working tree </dt>
<dd>
<p>The tree of actual checked out files.  The working tree normally
contains the contents of the <a href="#def_HEAD">HEAD</a> commit’s tree,
plus any local changes that you have made but not yet committed.</p>
</dd>
</dl>




<h2>SEE ALSO</h2>


<p><a href="/docs/gittutorial">gittutorial[7]</a>,
<a href="/docs/gittutorial-2">gittutorial-2[7]</a>,
<a href="/docs/gitcvs-migration">gitcvs-migration[7]</a>,
<a href="/docs/giteveryday">giteveryday[7]</a>,
<a href="/docs/user-manual">The Git User’s Manual</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">githooks - Hooks used by Git</span></h2>




<h2><br>synopsis</h2>


<p>$GIT_DIR/hooks/* (or `git config core.hooksPath`/*)</p>




<h2>description</h2>


<p>Hooks are programs you can place in a hooks directory to trigger
actions at certain points in git’s execution. Hooks that don’t have
the executable bit set are ignored.</p>


<p>By default the hooks directory is <code>$GIT_DIR/hooks</code>, but that can be
changed via the <code>core.hooksPath</code> configuration variable (see
<a href="/docs/git-config">git-config[1]</a>).</p>


<p>Before Git invokes a hook, it changes its working directory to either
$GIT_DIR in a bare repository or the root of the working tree in a non-bare
repository. An exception are hooks triggered during a push (<em>pre-receive</em>,
<em>update</em>, <em>post-receive</em>, <em>post-update</em>, <em>push-to-checkout</em>) which are always
executed in $GIT_DIR.</p>


<p>Hooks can get their arguments via the environment, command-line
arguments, and stdin. See the documentation for each hook below for
details.</p>


<p><code>git init</code> may copy hooks to the new repository, depending on its
configuration. See the "TEMPLATE DIRECTORY" section in
<a href="/docs/git-init">git-init[1]</a> for details. When the rest of this document refers
to "default hooks" it’s talking about the default template shipped
with Git.</p>


<p>The currently supported hooks are described below.</p>




<h2>HOOKS</h2>


<h3>
applypatch-msg</h3>

<p>This hook is invoked by <a href="/docs/git-am">git-am[1]</a>.  It takes a single
parameter, the name of the file that holds the proposed commit
log message.  Exiting with a non-zero status causes <code>git am</code> to abort
before applying the patch.</p>


<p>The hook is allowed to edit the message file in place, and can
be used to normalize the message into some project standard
format. It can also be used to refuse the commit after inspecting
the message file.</p>


<p>The default <em>applypatch-msg</em> hook, when enabled, runs the
<em>commit-msg</em> hook, if the latter is enabled.</p>



<h3>
pre-applypatch</h3>

<p>This hook is invoked by <a href="/docs/git-am">git-am[1]</a>.  It takes no parameter, and is
invoked after the patch is applied, but before a commit is made.</p>


<p>If it exits with non-zero status, then the working tree will not be
committed after applying the patch.</p>


<p>It can be used to inspect the current working tree and refuse to
make a commit if it does not pass certain test.</p>


<p>The default <em>pre-applypatch</em> hook, when enabled, runs the
<em>pre-commit</em> hook, if the latter is enabled.</p>



<h3>
post-applypatch</h3>

<p>This hook is invoked by <a href="/docs/git-am">git-am[1]</a>.  It takes no parameter,
and is invoked after the patch is applied and a commit is made.</p>


<p>This hook is meant primarily for notification, and cannot affect
the outcome of <code>git am</code>.</p>



<h3>
pre-commit</h3>

<p>This hook is invoked by <a href="/docs/git-commit">git-commit[1]</a>, and can be bypassed
with the <code>--no-verify</code> option.  It takes no parameters, and is
invoked before obtaining the proposed commit log message and
making a commit.  Exiting with a non-zero status from this script
causes the <code>git commit</code> command to abort before creating a commit.</p>


<p>The default <em>pre-commit</em> hook, when enabled, catches introduction
of lines with trailing whitespaces and aborts the commit when
such a line is found.</p>


<p>All the <code>git commit</code> hooks are invoked with the environment
variable <code>GIT_EDITOR=:</code> if the command will not bring up an editor
to modify the commit message.</p>


<p>The default <em>pre-commit</em> hook, when enabled—<U+200B>and with the
<code>hooks.allownonascii</code> config option unset or set to false—<U+200B>prevents
the use of non-ASCII filenames.</p>



<h3>
pre-merge-commit</h3>

<p>This hook is invoked by <a href="/docs/git-merge">git-merge[1]</a>, and can be bypassed
with the <code>--no-verify</code> option.  It takes no parameters, and is
invoked after the merge has been carried out successfully and before
obtaining the proposed commit log message to
make a commit.  Exiting with a non-zero status from this script
causes the <code>git merge</code> command to abort before creating a commit.</p>


<p>The default <em>pre-merge-commit</em> hook, when enabled, runs the
<em>pre-commit</em> hook, if the latter is enabled.</p>


<p>This hook is invoked with the environment variable
<code>GIT_EDITOR=:</code> if the command will not bring up an editor
to modify the commit message.</p>


<p>If the merge cannot be carried out automatically, the conflicts
need to be resolved and the result committed separately (see
<a href="/docs/git-merge">git-merge[1]</a>). At that point, this hook will not be executed,
but the <em>pre-commit</em> hook will, if it is enabled.</p>



<h3>
prepare-commit-msg</h3>

<p>This hook is invoked by <a href="/docs/git-commit">git-commit[1]</a> right after preparing the
default log message, and before the editor is started.</p>


<p>It takes one to three parameters.  The first is the name of the file
that contains the commit log message.  The second is the source of the commit
message, and can be: <code>message</code> (if a <code>-m</code> or <code>-F</code> option was
given); <code>template</code> (if a <code>-t</code> option was given or the
configuration option <code>commit.template</code> is set); <code>merge</code> (if the
commit is a merge or a <code>.git/MERGE_MSG</code> file exists); <code>squash</code>
(if a <code>.git/SQUASH_MSG</code> file exists); or <code>commit</code>, followed by
a commit object name (if a <code>-c</code>, <code>-C</code> or <code>--amend</code> option was given).</p>


<p>If the exit status is non-zero, <code>git commit</code> will abort.</p>


<p>The purpose of the hook is to edit the message file in place, and
it is not suppressed by the <code>--no-verify</code> option.  A non-zero exit
means a failure of the hook and aborts the commit.  It should not
be used as replacement for pre-commit hook.</p>


<p>The sample <code>prepare-commit-msg</code> hook that comes with Git removes the
help message found in the commented portion of the commit template.</p>



<h3>
commit-msg</h3>

<p>This hook is invoked by <a href="/docs/git-commit">git-commit[1]</a> and <a href="/docs/git-merge">git-merge[1]</a>, and can be
bypassed with the <code>--no-verify</code> option.  It takes a single parameter,
the name of the file that holds the proposed commit log message.
Exiting with a non-zero status causes the command to abort.</p>


<p>The hook is allowed to edit the message file in place, and can be used
to normalize the message into some project standard format. It
can also be used to refuse the commit after inspecting the message
file.</p>


<p>The default <em>commit-msg</em> hook, when enabled, detects duplicate
<code>Signed-off-by</code> trailers, and aborts the commit if one is found.</p>



<h3>
post-commit</h3>

<p>This hook is invoked by <a href="/docs/git-commit">git-commit[1]</a>. It takes no parameters, and is
invoked after a commit is made.</p>


<p>This hook is meant primarily for notification, and cannot affect
the outcome of <code>git commit</code>.</p>



<h3>
pre-rebase</h3>

<p>This hook is called by <a href="/docs/git-rebase">git-rebase[1]</a> and can be used to prevent a
branch from getting rebased.  The hook may be called with one or
two parameters.  The first parameter is the upstream from which
the series was forked.  The second parameter is the branch being
rebased, and is not set when rebasing the current branch.</p>



<h3>
post-checkout</h3>

<p>This hook is invoked when a <a href="/docs/git-checkout">git-checkout[1]</a> or
<a href="/docs/git-switch">git-switch[1]</a> is run after having updated the
worktree.  The hook is given three parameters: the ref of the previous HEAD,
the ref of the new HEAD (which may or may not have changed), and a flag
indicating whether the checkout was a branch checkout (changing branches,
flag=1) or a file checkout (retrieving a file from the index, flag=0).
This hook cannot affect the outcome of <code>git switch</code> or <code>git checkout</code>,
other than that the hook’s exit status becomes the exit status of
these two commands.</p>


<p>It is also run after <a href="/docs/git-clone">git-clone[1]</a>, unless the <code>--no-checkout</code> (<code>-n</code>) option is
used. The first parameter given to the hook is the null-ref, the second the
ref of the new HEAD and the flag is always 1. Likewise for <code>git worktree add</code>
unless <code>--no-checkout</code> is used.</p>


<p>This hook can be used to perform repository validity checks, auto-display
differences from the previous HEAD if different, or set working dir metadata
properties.</p>



<h3>
post-merge</h3>

<p>This hook is invoked by <a href="/docs/git-merge">git-merge[1]</a>, which happens when a <code>git pull</code>
is done on a local repository.  The hook takes a single parameter, a status
flag specifying whether or not the merge being done was a squash merge.
This hook cannot affect the outcome of <code>git merge</code> and is not executed,
if the merge failed due to conflicts.</p>


<p>This hook can be used in conjunction with a corresponding pre-commit hook to
save and restore any form of metadata associated with the working tree
(e.g.: permissions/ownership, ACLS, etc).  See contrib/hooks/setgitperms.perl
for an example of how to do this.</p>



<h3>
pre-push</h3>

<p>This hook is called by <a href="/docs/git-push">git-push[1]</a> and can be used to prevent
a push from taking place.  The hook is called with two parameters
which provide the name and location of the destination remote, if a
named remote is not being used both values will be the same.</p>


<p>Information about what is to be pushed is provided on the hook’s standard
input with lines of the form:</p>



<pre>&lt;local ref&gt; SP &lt;local object name&gt; SP &lt;remote ref&gt; SP &lt;remote object name&gt; LF</pre>



<p>For instance, if the command <code>git push origin master:foreign</code> were run the
hook would receive a line like the following:</p>



<pre>refs/heads/master 67890 refs/heads/foreign 12345</pre>



<p>although the full object name would be supplied.  If the foreign ref does not
yet exist the <code>&lt;remote object name&gt;</code> will be the all-zeroes object name.  If a
ref is to be deleted, the <code>&lt;local ref&gt;</code> will be supplied as <code>(delete)</code> and the
<code>&lt;local object name&gt;</code> will be the all-zeroes object name.  If the local commit
was specified by something other than a name which could be expanded (such as
<code>HEAD~</code>, or an object name) it will be supplied as it was originally given.</p>


<p>If this hook exits with a non-zero status, <code>git push</code> will abort without
pushing anything.  Information about why the push is rejected may be sent
to the user by writing to standard error.</p>



<h3>
pre-receive</h3>

<p>This hook is invoked by <a href="/docs/git-receive-pack">git-receive-pack[1]</a> when it reacts to
<code>git push</code> and updates reference(s) in its repository.
Just before starting to update refs on the remote repository, the
pre-receive hook is invoked.  Its exit status determines the success
or failure of the update.</p>


<p>This hook executes once for the receive operation. It takes no
arguments, but for each ref to be updated it receives on standard
input a line of the format:</p>



<pre>&lt;old-value&gt; SP &lt;new-value&gt; SP &lt;ref-name&gt; LF</pre>



<p>where <code>&lt;old-value&gt;</code> is the old object name stored in the ref,
<code>&lt;new-value&gt;</code> is the new object name to be stored in the ref and
<code>&lt;ref-name&gt;</code> is the full name of the ref.
When creating a new ref, <code>&lt;old-value&gt;</code> is the all-zeroes object name.</p>


<p>If the hook exits with non-zero status, none of the refs will be
updated. If the hook exits with zero, updating of individual refs can
still be prevented by the  hook.</p>


<p>Both standard output and standard error output are forwarded to
<code>git send-pack</code> on the other end, so you can simply <code>echo</code> messages
for the user.</p>


<p>The number of push options given on the command line of
<code>git push --push-option=...</code> can be read from the environment
variable <code>GIT_PUSH_OPTION_COUNT</code>, and the options themselves are
found in <code>GIT_PUSH_OPTION_0</code>, <code>GIT_PUSH_OPTION_1</code>,…<U+200B>
If it is negotiated to not use the push options phase, the
environment variables will not be set. If the client selects
to use push options, but doesn’t transmit any, the count variable
will be set to zero, <code>GIT_PUSH_OPTION_COUNT=0</code>.</p>


<p>See the section on "Quarantine Environment" in
<a href="/docs/git-receive-pack">git-receive-pack[1]</a> for some caveats.</p>



<h3>
update</h3>

<p>This hook is invoked by <a href="/docs/git-receive-pack">git-receive-pack[1]</a> when it reacts to
<code>git push</code> and updates reference(s) in its repository.
Just before updating the ref on the remote repository, the update hook
is invoked.  Its exit status determines the success or failure of
the ref update.</p>


<p>The hook executes once for each ref to be updated, and takes
three parameters:</p>


<ul>
<li>
<p>the name of the ref being updated,</p>
</li>
<li>
<p>the old object name stored in the ref,</p>
</li>
<li>
<p>and the new object name to be stored in the ref.</p>
</li>
</ul>


<p>A zero exit from the update hook allows the ref to be updated.
Exiting with a non-zero status prevents <code>git receive-pack</code>
from updating that ref.</p>


<p>This hook can be used to prevent <em>forced</em> update on certain refs by
making sure that the object name is a commit object that is a
descendant of the commit object named by the old object name.
That is, to enforce a "fast-forward only" policy.</p>


<p>It could also be used to log the old..new status.  However, it
does not know the entire set of branches, so it would end up
firing one e-mail per ref when used naively, though.  The
 hook is more suited to that.</p>


<p>In an environment that restricts the users' access only to git
commands over the wire, this hook can be used to implement access
control without relying on filesystem ownership and group
membership. See <a href="/docs/git-shell">git-shell[1]</a> for how you might use the login
shell to restrict the user’s access to only git commands.</p>


<p>Both standard output and standard error output are forwarded to
<code>git send-pack</code> on the other end, so you can simply <code>echo</code> messages
for the user.</p>


<p>The default <em>update</em> hook, when enabled—<U+200B>and with
<code>hooks.allowunannotated</code> config option unset or set to false—<U+200B>prevents
unannotated tags to be pushed.</p>



<h3>
proc-receive</h3>

<p>This hook is invoked by <a href="/docs/git-receive-pack">git-receive-pack[1]</a>.  If the server has
set the multi-valued config variable <code>receive.procReceiveRefs</code>, and the
commands sent to <em>receive-pack</em> have matching reference names, these
commands will be executed by this hook, instead of by the internal
<code>execute_commands()</code> function.  This hook is responsible for updating
the relevant references and reporting the results back to <em>receive-pack</em>.</p>


<p>This hook executes once for the receive operation.  It takes no
arguments, but uses a pkt-line format protocol to communicate with
<em>receive-pack</em> to read commands, push-options and send results.  In the
following example for the protocol, the letter <em>S</em> stands for
<em>receive-pack</em> and the letter <em>H</em> stands for this hook.</p>



<pre># Version and features negotiation.
S: PKT-LINE(version=1\0push-options atomic...)
S: flush-pkt
H: PKT-LINE(version=1\0push-options...)
H: flush-pkt</pre>




<pre># Send commands from server to the hook.
S: PKT-LINE(&lt;old-oid&gt; &lt;new-oid&gt; &lt;ref&gt;)
S: ... ...
S: flush-pkt
# Send push-options only if the 'push-options' feature is enabled.
S: PKT-LINE(push-option)
S: ... ...
S: flush-pkt</pre>




<pre># Receive result from the hook.
# OK, run this command successfully.
H: PKT-LINE(ok &lt;ref&gt;)
# NO, I reject it.
H: PKT-LINE(ng &lt;ref&gt; &lt;reason&gt;)
# Fall through, let 'receive-pack' to execute it.
H: PKT-LINE(ok &lt;ref&gt;)
H: PKT-LINE(option fall-through)
# OK, but has an alternate reference.  The alternate reference name
# and other status can be given in option directives.
H: PKT-LINE(ok &lt;ref&gt;)
H: PKT-LINE(option refname &lt;refname&gt;)
H: PKT-LINE(option old-oid &lt;old-oid&gt;)
H: PKT-LINE(option new-oid &lt;new-oid&gt;)
H: PKT-LINE(option forced-update)
H: ... ...
H: flush-pkt</pre>



<p>Each command for the <em>proc-receive</em> hook may point to a pseudo-reference
and always has a zero-old as its old-oid, while the <em>proc-receive</em> hook
may update an alternate reference and the alternate reference may exist
already with a non-zero old-oid.  For this case, this hook will use
"option" directives to report extended attributes for the reference given
by the leading "ok" directive.</p>


<p>The report of the commands of this hook should have the same order as
the input.  The exit status of the <em>proc-receive</em> hook only determines
the success or failure of the group of commands sent to it, unless
atomic push is in use.</p>



<h3>
post-receive</h3>

<p>This hook is invoked by <a href="/docs/git-receive-pack">git-receive-pack[1]</a> when it reacts to
<code>git push</code> and updates reference(s) in its repository.
It executes on the remote repository once after all the refs have
been updated.</p>


<p>This hook executes once for the receive operation.  It takes no
arguments, but gets the same information as the

hook does on its standard input.</p>


<p>This hook does not affect the outcome of <code>git receive-pack</code>, as it
is called after the real work is done.</p>


<p>This supersedes the  hook in that it gets
both old and new values of all the refs in addition to their
names.</p>


<p>Both standard output and standard error output are forwarded to
<code>git send-pack</code> on the other end, so you can simply <code>echo</code> messages
for the user.</p>


<p>The default <em>post-receive</em> hook is empty, but there is
a sample script <code>post-receive-email</code> provided in the <code>contrib/hooks</code>
directory in Git distribution, which implements sending commit
emails.</p>


<p>The number of push options given on the command line of
<code>git push --push-option=...</code> can be read from the environment
variable <code>GIT_PUSH_OPTION_COUNT</code>, and the options themselves are
found in <code>GIT_PUSH_OPTION_0</code>, <code>GIT_PUSH_OPTION_1</code>,…<U+200B>
If it is negotiated to not use the push options phase, the
environment variables will not be set. If the client selects
to use push options, but doesn’t transmit any, the count variable
will be set to zero, <code>GIT_PUSH_OPTION_COUNT=0</code>.</p>



<h3>
post-update</h3>

<p>This hook is invoked by <a href="/docs/git-receive-pack">git-receive-pack[1]</a> when it reacts to
<code>git push</code> and updates reference(s) in its repository.
It executes on the remote repository once after all the refs have
been updated.</p>


<p>It takes a variable number of parameters, each of which is the
name of ref that was actually updated.</p>


<p>This hook is meant primarily for notification, and cannot affect
the outcome of <code>git receive-pack</code>.</p>


<p>The <em>post-update</em> hook can tell what are the heads that were pushed,
but it does not know what their original and updated values are,
so it is a poor place to do log old..new. The
 hook does get both original and
updated values of the refs. You might consider it instead if you need
them.</p>


<p>When enabled, the default <em>post-update</em> hook runs
<code>git update-server-info</code> to keep the information used by dumb
transports (e.g., HTTP) up to date.  If you are publishing
a Git repository that is accessible via HTTP, you should
probably enable this hook.</p>


<p>Both standard output and standard error output are forwarded to
<code>git send-pack</code> on the other end, so you can simply <code>echo</code> messages
for the user.</p>



<h3>
reference-transaction</h3>

<p>This hook is invoked by any Git command that performs reference
updates. It executes whenever a reference transaction is prepared,
committed or aborted and may thus get called multiple times. The hook
does not cover symbolic references (but that may change in the future).</p>


<p>The hook takes exactly one argument, which is the current state the
given reference transaction is in:</p>


<ul>
<li>
<p>"prepared": All reference updates have been queued to the
transaction and references were locked on disk.</p>
</li>
<li>
<p>"committed": The reference transaction was committed and all
references now have their respective new value.</p>
</li>
<li>
<p>"aborted": The reference transaction was aborted, no changes
were performed and the locks have been released.</p>
</li>
</ul>


<p>For each reference update that was added to the transaction, the hook
receives on standard input a line of the format:</p>



<pre>&lt;old-value&gt; SP &lt;new-value&gt; SP &lt;ref-name&gt; LF</pre>



<p>where <code>&lt;old-value&gt;</code> is the old object name passed into the reference
transaction, <code>&lt;new-value&gt;</code> is the new object name to be stored in the
ref and <code>&lt;ref-name&gt;</code> is the full name of the ref. When force updating
the reference regardless of its current value or when the reference is
to be created anew, <code>&lt;old-value&gt;</code> is the all-zeroes object name. To
distinguish these cases, you can inspect the current value of
<code>&lt;ref-name&gt;</code> via <code>git rev-parse</code>.</p>


<p>The exit status of the hook is ignored for any state except for the
"prepared" state. In the "prepared" state, a non-zero exit status will
cause the transaction to be aborted. The hook will not be called with
"aborted" state in that case.</p>



<h3>
push-to-checkout</h3>

<p>This hook is invoked by <a href="/docs/git-receive-pack">git-receive-pack[1]</a> when it reacts to
<code>git push</code> and updates reference(s) in its repository, and when
the push tries to update the branch that is currently checked out
and the <code>receive.denyCurrentBranch</code> configuration variable is set to
<code>updateInstead</code>.  Such a push by default is refused if the working
tree and the index of the remote repository has any difference from
the currently checked out commit; when both the working tree and the
index match the current commit, they are updated to match the newly
pushed tip of the branch.  This hook is to be used to override the
default behaviour.</p>


<p>The hook receives the commit with which the tip of the current
branch is going to be updated.  It can exit with a non-zero status
to refuse the push (when it does so, it must not modify the index or
the working tree).  Or it can make any necessary changes to the
working tree and to the index to bring them to the desired state
when the tip of the current branch is updated to the new commit, and
exit with a zero status.</p>


<p>For example, the hook can simply run <code>git read-tree -u -m HEAD "$1"</code>
in order to emulate <code>git fetch</code> that is run in the reverse direction
with <code>git push</code>, as the two-tree form of <code>git read-tree -u -m</code> is
essentially the same as <code>git switch</code> or <code>git checkout</code>
that switches branches while
keeping the local changes in the working tree that do not interfere
with the difference between the branches.</p>



<h3>
pre-auto-gc</h3>

<p>This hook is invoked by <code>git gc --auto</code> (see <a href="/docs/git-gc">git-gc[1]</a>). It
takes no parameter, and exiting with non-zero status from this script
causes the <code>git gc --auto</code> to abort.</p>



<h3>
post-rewrite</h3>

<p>This hook is invoked by commands that rewrite commits
(<a href="/docs/git-commit">git-commit[1]</a> when called with <code>--amend</code> and
<a href="/docs/git-rebase">git-rebase[1]</a>; however, full-history (re)writing tools like
<a href="/docs/git-fast-import">git-fast-import[1]</a> or
<a href="https://github.com/newren/git-filter-repo">git-filter-repo</a> typically
do not call it!).  Its first argument denotes the command it was
invoked by: currently one of <code>amend</code> or <code>rebase</code>.  Further
command-dependent arguments may be passed in the future.</p>


<p>The hook receives a list of the rewritten commits on stdin, in the
format</p>



<pre>&lt;old-object-name&gt; SP &lt;new-object-name&gt; [ SP &lt;extra-info&gt; ] LF</pre>



<p>The <em>extra-info</em> is again command-dependent.  If it is empty, the
preceding SP is also omitted.  Currently, no commands pass any
<em>extra-info</em>.</p>


<p>The hook always runs after the automatic note copying (see
"notes.rewrite.&lt;command&gt;" in <a href="/docs/git-config">git-config[1]</a>) has happened, and
thus has access to these notes.</p>


<p>The following command-specific comments apply:</p>


<dl>
<dt> rebase </dt>
<dd>
<p>For the <em>squash</em> and <em>fixup</em> operation, all commits that were
squashed are listed as being rewritten to the squashed commit.
This means that there will be several lines sharing the same
<em>new-object-name</em>.</p>

<p>The commits are guaranteed to be listed in the order that they were
processed by rebase.</p>

</dd>
</dl>



<h3>
sendemail-validate</h3>

<p>This hook is invoked by <a href="/docs/git-send-email">git-send-email[1]</a>.  It takes a single parameter,
the name of the file that holds the e-mail to be sent.  Exiting with a
non-zero status causes <code>git send-email</code> to abort before sending any
e-mails.</p>



<h3>
fsmonitor-watchman</h3>

<p>This hook is invoked when the configuration option <code>core.fsmonitor</code> is
set to <code>.git/hooks/fsmonitor-watchman</code> or <code>.git/hooks/fsmonitor-watchmanv2</code>
depending on the version of the hook to use.</p>


<p>Version 1 takes two arguments, a version (1) and the time in elapsed
nanoseconds since midnight, January 1, 1970.</p>


<p>Version 2 takes two arguments, a version (2) and a token that is used
for identifying changes since the token. For watchman this would be
a clock id. This version must output to stdout the new token followed
by a NUL before the list of files.</p>


<p>The hook should output to stdout the list of all files in the working
directory that may have changed since the requested time.  The logic
should be inclusive so that it does not miss any potential changes.
The paths should be relative to the root of the working directory
and be separated by a single NUL.</p>


<p>It is OK to include files which have not actually changed.  All changes
including newly-created and deleted files should be included. When
files are renamed, both the old and the new name should be included.</p>


<p>Git will limit what files it checks for changes as well as which
directories are checked for untracked files based on the path names
given.</p>


<p>An optimized way to tell git "all files have changed" is to return
the filename <code>/</code>.</p>


<p>The exit status determines whether git will use the data from the
hook to limit its search.  On error, it will fall back to verifying
all files and folders.</p>



<h3>
p4-changelist</h3>

<p>This hook is invoked by <code>git-p4 submit</code>.</p>


<p>The <code>p4-changelist</code> hook is executed after the changelist
message has been edited by the user. It can be bypassed with the
<code>--no-verify</code> option. It takes a single parameter, the name
of the file that holds the proposed changelist text. Exiting
with a non-zero status causes the command to abort.</p>


<p>The hook is allowed to edit the changelist file and can be used
to normalize the text into some project standard format. It can
also be used to refuse the Submit after inspect the message file.</p>


<p>Run <code>git-p4 submit --help</code> for details.</p>



<h3>
p4-prepare-changelist</h3>

<p>This hook is invoked by <code>git-p4 submit</code>.</p>


<p>The <code>p4-prepare-changelist</code> hook is executed right after preparing
the default changelist message and before the editor is started.
It takes one parameter, the name of the file that contains the
changelist text. Exiting with a non-zero status from the script
will abort the process.</p>


<p>The purpose of the hook is to edit the message file in place,
and it is not suppressed by the <code>--no-verify</code> option. This hook
is called even if <code>--prepare-p4-only</code> is set.</p>


<p>Run <code>git-p4 submit --help</code> for details.</p>



<h3>
p4-post-changelist</h3>

<p>This hook is invoked by <code>git-p4 submit</code>.</p>


<p>The <code>p4-post-changelist</code> hook is invoked after the submit has
successfully occurred in P4. It takes no parameters and is meant
primarily for notification and cannot affect the outcome of the
git p4 submit action.</p>


<p>Run <code>git-p4 submit --help</code> for details.</p>



<h3>
p4-pre-submit</h3>

<p>This hook is invoked by <code>git-p4 submit</code>. It takes no parameters and nothing
from standard input. Exiting with non-zero status from this script prevent
<code>git-p4 submit</code> from launching. It can be bypassed with the <code>--no-verify</code>
command line option. Run <code>git-p4 submit --help</code> for details.</p>



<h3>
post-index-change</h3>

<p>This hook is invoked when the index is written in read-cache.c
do_write_locked_index.</p>


<p>The first parameter passed to the hook is the indicator for the
working directory being updated.  "1" meaning working directory
was updated or "0" when the working directory was not updated.</p>


<p>The second parameter passed to the hook is the indicator for whether
or not the index was updated and the skip-worktree bit could have
changed.  "1" meaning skip-worktree bits could have been updated
and "0" meaning they were not.</p>


<p>Only one parameter should be set to "1" when the hook runs.  The hook
running passing "1", "1" should not be possible.</p>





<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">gitignore - Specifies intentionally untracked files to ignore</span></h2>




<h2><br>synopsis</h2>


<p>$XDG_CONFIG_HOME/git/ignore, $GIT_DIR/info/exclude, .gitignore</p>




<h2>description</h2>


<p>A <code>gitignore</code> file specifies intentionally untracked files that
Git should ignore.
Files already tracked by Git are not affected; see the NOTES
below for details.</p>


<p>Each line in a <code>gitignore</code> file specifies a pattern.
When deciding whether to ignore a path, Git normally checks
<code>gitignore</code> patterns from multiple sources, with the following
order of precedence, from highest to lowest (within one level of
precedence, the last matching pattern decides the outcome):</p>


<ul>
<li>
<p>Patterns read from the command line for those commands that support
them.</p>
</li>
<li>
<p>Patterns read from a <code>.gitignore</code> file in the same directory
as the path, or in any parent directory (up to the top-level of the working
tree), with patterns in the higher level files being overridden by those in
lower level files down to the directory containing the file. These patterns
match relative to the location of the <code>.gitignore</code> file.  A project normally
includes such <code>.gitignore</code> files in its repository, containing patterns for
files generated as part of the project build.</p>
</li>
<li>
<p>Patterns read from <code>$GIT_DIR/info/exclude</code>.</p>
</li>
<li>
<p>Patterns read from the file specified by the configuration
variable <code>core.excludesFile</code>.</p>
</li>
</ul>


<p>Which file to place a pattern in depends on how the pattern is meant to
be used.</p>


<ul>
<li>
<p>Patterns which should be version-controlled and distributed to
other repositories via clone (i.e., files that all developers will want
to ignore) should go into a <code>.gitignore</code> file.</p>
</li>
<li>
<p>Patterns which are
specific to a particular repository but which do not need to be shared
with other related repositories (e.g., auxiliary files that live inside
the repository but are specific to one user’s workflow) should go into
the <code>$GIT_DIR/info/exclude</code> file.</p>
</li>
<li>
<p>Patterns which a user wants Git to
ignore in all situations (e.g., backup or temporary files generated by
the user’s editor of choice) generally go into a file specified by
<code>core.excludesFile</code> in the user’s <code>~/.gitconfig</code>. Its default value is
$XDG_CONFIG_HOME/git/ignore. If $XDG_CONFIG_HOME is either not set or
empty, $HOME/.config/git/ignore is used instead.</p>
</li>
</ul>


<p>The underlying Git plumbing tools, such as
<em>git ls-files</em> and <em>git read-tree</em>, read
<code>gitignore</code> patterns specified by command-line options, or from
files specified by command-line options.  Higher-level Git
tools, such as <em>git status</em> and <em>git add</em>,
use patterns from the sources specified above.</p>




<h2>PATTERN FORMAT</h2>


<ul>
<li>
<p>A blank line matches no files, so it can serve as a separator
for readability.</p>
</li>
<li>
<p>A line starting with # serves as a comment.
Put a backslash ("<code>\</code>") in front of the first hash for patterns
that begin with a hash.</p>
</li>
<li>
<p>Trailing spaces are ignored unless they are quoted with backslash
("<code>\</code>").</p>
</li>
<li>
<p>An optional prefix "<code>!</code>" which negates the pattern; any
matching file excluded by a previous pattern will become
included again. It is not possible to re-include a file if a parent
directory of that file is excluded. Git doesn’t list excluded
directories for performance reasons, so any patterns on contained
files have no effect, no matter where they are defined.
Put a backslash ("<code>\</code>") in front of the first "<code>!</code>" for patterns
that begin with a literal "<code>!</code>", for example, "<code>\!important!.txt</code>".</p>
</li>
<li>
<p>The slash <em>/</em> is used as the directory separator. Separators may
occur at the beginning, middle or end of the <code>.gitignore</code> search pattern.</p>
</li>
<li>
<p>If there is a separator at the beginning or middle (or both) of the
pattern, then the pattern is relative to the directory level of the
particular <code>.gitignore</code> file itself. Otherwise the pattern may also
match at any level below the <code>.gitignore</code> level.</p>
</li>
<li>
<p>If there is a separator at the end of the pattern then the pattern
will only match directories, otherwise the pattern can match both
files and directories.</p>
</li>
<li>
<p>For example, a pattern <code>doc/frotz/</code> matches <code>doc/frotz</code> directory,
but not <code>a/doc/frotz</code> directory; however <code>frotz/</code> matches <code>frotz</code>
and <code>a/frotz</code> that is a directory (all paths are relative from
the <code>.gitignore</code> file).</p>
</li>
<li>
<p>An asterisk "<code>*</code>" matches anything except a slash.
The character "<code>?</code>" matches any one character except "<code>/</code>".
The range notation, e.g. <code>[a-zA-Z]</code>, can be used to match
one of the characters in a range. See fnmatch(3) and the
FNM_PATHNAME flag for a more detailed description.</p>
</li>
</ul>


<p>Two consecutive asterisks ("<code>**</code>") in patterns matched against
full pathname may have special meaning:</p>


<ul>
<li>
<p>A leading "<code>**</code>" followed by a slash means match in all
directories. For example, "<code>**/foo</code>" matches file or directory
"<code>foo</code>" anywhere, the same as pattern "<code>foo</code>". "<code>**/foo/bar</code>"
matches file or directory "<code>bar</code>" anywhere that is directly
under directory "<code>foo</code>".</p>
</li>
<li>
<p>A trailing "<code>/**</code>" matches everything inside. For example,
"<code>abc/**</code>" matches all files inside directory "<code>abc</code>", relative
to the location of the <code>.gitignore</code> file, with infinite depth.</p>
</li>
<li>
<p>A slash followed by two consecutive asterisks then a slash
matches zero or more directories. For example, "<code>a/**/b</code>"
matches "<code>a/b</code>", "<code>a/x/b</code>", "<code>a/x/y/b</code>" and so on.</p>
</li>
<li>
<p>Other consecutive asterisks are considered regular asterisks and
will match according to the previous rules.</p>
</li>
</ul>




<h2>CONFIGURATION</h2>


<p>The optional configuration variable <code>core.excludesFile</code> indicates a path to a
file containing patterns of file names to exclude, similar to
<code>$GIT_DIR/info/exclude</code>.  Patterns in the exclude file are used in addition to
those in <code>$GIT_DIR/info/exclude</code>.</p>




<h2>NOTES</h2>


<p>The purpose of gitignore files is to ensure that certain files
not tracked by Git remain untracked.</p>


<p>To stop tracking a file that is currently tracked, use
<em>git rm --cached</em>.</p>


<p>Git does not follow symbolic links when accessing a <code>.gitignore</code> file in
the working tree. This keeps behavior consistent when the file is
accessed from the index or a tree versus from the filesystem.</p>




<h2>examples</h2>


<ul>
<li>
<p>The pattern <code>hello.*</code> matches any file or directory
whose name begins with <code>hello.</code>. If one wants to restrict
this only to the directory and not in its subdirectories,
one can prepend the pattern with a slash, i.e. <code>/hello.*</code>;
the pattern now matches <code>hello.txt</code>, <code>hello.c</code> but not
<code>a/hello.java</code>.</p>
</li>
<li>
<p>The pattern <code>foo/</code> will match a directory <code>foo</code> and
paths underneath it, but will not match a regular file
or a symbolic link <code>foo</code> (this is consistent with the
way how pathspec works in general in Git)</p>
</li>
<li>
<p>The pattern <code>doc/frotz</code> and <code>/doc/frotz</code> have the same effect
in any <code>.gitignore</code> file. In other words, a leading slash
is not relevant  if there is already a middle slash in
the pattern.</p>
</li>
<li>
<p>The pattern "foo/*", matches "foo/test.json"
(a regular file), "foo/bar" (a directory), but it does not match
"foo/bar/hello.c" (a regular file), as the asterisk in the
pattern does not match "bar/hello.c" which has a slash in it.</p>
</li>
</ul>



<pre>    $ git status
    [...]
    # Untracked files:
    [...]
    #       Documentation/foo.html
    #       Documentation/gitignore.html
    #       file.o
    #       lib.a
    #       src/internal.o
    [...]
    $ cat .git/info/exclude
    # ignore objects and archives, anywhere in the tree.
    *.[oa]
    $ cat Documentation/.gitignore
    # ignore generated html files,
    *.html
    # except foo.html which is maintained by hand
    !foo.html
    $ git status
    [...]
    # Untracked files:
    [...]
    #       Documentation/foo.html
    [...]</pre>



<p>Another example:</p>



<pre>    $ cat .gitignore
    vmlinux*
    $ ls arch/foo/kernel/vm*
    arch/foo/kernel/vmlinux.lds.S
    $ echo '!/vmlinux*' &gt;arch/foo/kernel/.gitignore</pre>



<p>The second .gitignore prevents Git from ignoring
<code>arch/foo/kernel/vmlinux.lds.S</code>.</p>


<p>Example to exclude everything except a specific directory <code>foo/bar</code>
(note the <code>/*</code> - without the slash, the wildcard would also exclude
everything within <code>foo/bar</code>):</p>



<pre>    $ cat .gitignore
    # exclude everything except directory foo/bar
    /*
    !/foo
    /foo/*
    !/foo/bar</pre>





<h2>SEE ALSO</h2>


<p><a href="/docs/git-rm">git-rm[1]</a>,
<a href="/docs/gitrepository-layout">gitrepository-layout[5]</a>,
<a href="/docs/git-check-ignore">git-check-ignore[1]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">gitmodules - Defining submodule properties</span></h2>




<h2><br>synopsis</h2>


<p>$GIT_WORK_TREE/.gitmodules</p>




<h2>description</h2>


<p>The <code>.gitmodules</code> file, located in the top-level directory of a Git
working tree, is a text file with a syntax matching the requirements
of <a href="/docs/git-config">git-config[1]</a>.</p>


<p>The file contains one subsection per submodule, and the subsection value
is the name of the submodule. The name is set to the path where the
submodule has been added unless it was customized with the <code>--name</code>
option of <em>git submodule add</em>. Each submodule section also contains the
following required keys:</p>


<dl>
<dt> submodule.&lt;name&gt;.path </dt>
<dd>
<p>Defines the path, relative to the top-level directory of the Git
working tree, where the submodule is expected to be checked out.
The path name must not end with a <code>/</code>. All submodule paths must
be unique within the <code>.gitmodules</code> file.</p>
</dd>
<dt> submodule.&lt;name&gt;.url </dt>
<dd>
<p>Defines a URL from which the submodule repository can be cloned.
This may be either an absolute URL ready to be passed to
<a href="/docs/git-clone">git-clone[1]</a> or (if it begins with <code>./</code> or <code>../</code>) a location
relative to the superproject’s origin repository.</p>
</dd>
</dl>


<p>In addition, there are a number of optional keys:</p>


<dl>
<dt> submodule.&lt;name&gt;.update </dt>
<dd>
<p>Defines the default update procedure for the named submodule,
i.e. how the submodule is updated by the <code>git submodule update</code>
command in the superproject. This is only used by <code>git
submodule init</code> to initialize the configuration variable of
the same name. Allowed values here are <em>checkout</em>, <em>rebase</em>,
<em>merge</em> or <em>none</em>. See description of <em>update</em> command in
<a href="/docs/git-submodule">git-submodule[1]</a> for their meaning. For security
reasons, the <em>!command</em> form is not accepted here.</p>
</dd>
<dt> submodule.&lt;name&gt;.branch </dt>
<dd>
<p>A remote branch name for tracking updates in the upstream submodule.
If the option is not specified, it defaults to the remote <code>HEAD</code>.
A special value of <code>.</code> is used to indicate that the name of the branch
in the submodule should be the same name as the current branch in the
current repository.  See the <code>--remote</code> documentation in
<a href="/docs/git-submodule">git-submodule[1]</a> for details.</p>
</dd>
<dt> submodule.&lt;name&gt;.fetchRecurseSubmodules </dt>
<dd>
<p>This option can be used to control recursive fetching of this
submodule. If this option is also present in the submodule’s entry in
<code>.git/config</code> of the superproject, the setting there will override the
one found in <code>.gitmodules</code>.
Both settings can be overridden on the command line by using the
<code>--[no-]recurse-submodules</code> option to <code>git fetch</code> and <code>git pull</code>.</p>
</dd>
<dt> submodule.&lt;name&gt;.ignore </dt>
<dd>
<p>Defines under what circumstances <code>git status</code> and the diff family show
a submodule as modified. The following values are supported:</p>



<dl>
<dt> all </dt>
<dd>
<p>The submodule will never be considered modified (but will
nonetheless show up in the output of status and commit when it has
been staged).</p>
</dd>
<dt> dirty </dt>
<dd>
<p>All changes to the submodule’s work tree will be ignored, only
committed differences between the <code>HEAD</code> of the submodule and its
recorded state in the superproject are taken into account.</p>
</dd>
<dt> untracked </dt>
<dd>
<p>Only untracked files in submodules will be ignored.
Committed differences and modifications to tracked files will show
up.</p>
</dd>
<dt> none </dt>
<dd>
<p>No modifications to submodules are ignored, all of committed
differences, and modifications to tracked and untracked files are
shown. This is the default option.</p>
</dd>
</dl>


<p>If this option is also present in the submodule’s entry in <code>.git/config</code>
of the superproject, the setting there will override the one found in
<code>.gitmodules</code>.</p>


<p>Both settings can be overridden on the command line by using the
<code>--ignore-submodules</code> option. The <code>git submodule</code> commands are not
affected by this setting.</p>



</dd>
<dt> submodule.&lt;name&gt;.shallow </dt>
<dd>
<p>When set to true, a clone of this submodule will be performed as a
shallow clone (with a history depth of 1) unless the user explicitly
asks for a non-shallow clone.</p>
</dd>
</dl>




<h2>NOTES</h2>


<p>Git does not allow the <code>.gitmodules</code> file within a working tree to be a
symbolic link, and will refuse to check out such a tree entry. This
keeps behavior consistent when the file is accessed from the index or a
tree versus from the filesystem, and helps Git reliably enforce security
checks of the file contents.</p>




<h2>examples</h2>


<p>Consider the following <code>.gitmodules</code> file:</p>



<pre>[submodule "libfoo"]
	path = include/foo
	url = git://foo.com/git/lib.git

[submodule "libbar"]
	path = include/bar
	url = git://bar.com/git/lib.git</pre>



<p>This defines two submodules, <code>libfoo</code> and <code>libbar</code>. These are expected to
be checked out in the paths <code>include/foo</code> and <code>include/bar</code>, and for both
submodules a URL is specified which can be used for cloning the submodules.</p>




<h2>SEE ALSO</h2>


<p><a href="/docs/git-submodule">git-submodule[1]</a>, <a href="/docs/gitsubmodules">gitsubmodules[7]</a>, <a href="/docs/git-config">git-config[1]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">gitrevisions - Specifying revisions and ranges for Git</span></h2>




<h2><br>synopsis</h2>


<p>gitrevisions</p>




<h2>description</h2>


<p>Many Git commands take revision parameters as arguments. Depending on
the command, they denote a specific commit or, for commands which
walk the revision graph (such as <a href="/docs/git-log">git-log[1]</a>), all commits which are
reachable from that commit. For commands that walk the revision graph one can
also specify a range of revisions explicitly.</p>


<p>In addition, some Git commands (such as <a href="/docs/git-show">git-show[1]</a> and
<a href="/docs/git-push">git-push[1]</a>) can also take revision parameters which denote
other objects than commits, e.g. blobs ("files") or trees
("directories of files").</p>




<h2>SPECIFYING REVISIONS</h2>


<p>A revision parameter <em>&lt;rev&gt;</em> typically, but not necessarily, names a
commit object.  It uses what is called an <em>extended SHA-1</em>
syntax.  Here are various ways to spell object names.  The
ones listed near the end of this list name trees and
blobs contained in a commit.</p>


<table><tr>
<td>
Note
</td>
<td>
This document shows the "raw" syntax as seen by git. The shell
and other UIs might require additional quoting to protect special
characters and to avoid word splitting.
</td>
</tr></table>


<dl>
<dt> <em>&lt;sha1&gt;</em>, e.g. <em>dae86e1950b1277e545cee180551750029cfe735</em>, <em>dae86e</em> </dt>
<dd>
<p>The full SHA-1 object name (40-byte hexadecimal string), or
a leading substring that is unique within the repository.
E.g. dae86e1950b1277e545cee180551750029cfe735 and dae86e both
name the same commit object if there is no other object in
your repository whose object name starts with dae86e.</p>
</dd>
<dt> <em>&lt;describeOutput&gt;</em>, e.g. <em>v1.7.4.2-679-g3bee7fb</em> </dt>
<dd>
<p>Output from <code>git describe</code>; i.e. a closest tag, optionally
followed by a dash and a number of commits, followed by a dash, a
<em>g</em>, and an abbreviated object name.</p>
</dd>
<dt> <em>&lt;refname&gt;</em>, e.g. <em>master</em>, <em>heads/master</em>, <em>refs/heads/master</em> </dt>
<dd>
<p>A symbolic ref name.  E.g. <em>master</em> typically means the commit
object referenced by <em>refs/heads/master</em>.  If you
happen to have both <em>heads/master</em> and <em>tags/master</em>, you can
explicitly say <em>heads/master</em> to tell Git which one you mean.
When ambiguous, a <em>&lt;refname&gt;</em> is disambiguated by taking the
first match in the following rules:</p>

<ol>
<li>
<p>If <em>$GIT_DIR/&lt;refname&gt;</em> exists, that is what you mean (this is usually
useful only for <code>HEAD</code>, <code>FETCH_HEAD</code>, <code>ORIG_HEAD</code>, <code>MERGE_HEAD</code>
and <code>CHERRY_PICK_HEAD</code>);</p>
</li>
<li>
<p>otherwise, <em>refs/&lt;refname&gt;</em> if it exists;</p>
</li>
<li>
<p>otherwise, <em>refs/tags/&lt;refname&gt;</em> if it exists;</p>
</li>
<li>
<p>otherwise, <em>refs/heads/&lt;refname&gt;</em> if it exists;</p>
</li>
<li>
<p>otherwise, <em>refs/remotes/&lt;refname&gt;</em> if it exists;</p>
</li>
<li>
<p>otherwise, <em>refs/remotes/&lt;refname&gt;/HEAD</em> if it exists.</p>

<p><code>HEAD</code> names the commit on which you based the changes in the working tree.
<code>FETCH_HEAD</code> records the branch which you fetched from a remote repository
with your last <code>git fetch</code> invocation.
<code>ORIG_HEAD</code> is created by commands that move your <code>HEAD</code> in a drastic
way, to record the position of the <code>HEAD</code> before their operation, so that
you can easily change the tip of the branch back to the state before you ran
them.
<code>MERGE_HEAD</code> records the commit(s) which you are merging into your branch
when you run <code>git merge</code>.
<code>CHERRY_PICK_HEAD</code> records the commit which you are cherry-picking
when you run <code>git cherry-pick</code>.</p>


<p>Note that any of the <em>refs/*</em> cases above may come either from
the <code>$GIT_DIR/refs</code> directory or from the <code>$GIT_DIR/packed-refs</code> file.
While the ref name encoding is unspecified, UTF-8 is preferred as
some output processing may assume ref names in UTF-8.</p>

</li>
</ol>

</dd>
<dt> <em>@</em> </dt>
<dd>
<p><em>@</em> alone is a shortcut for <code>HEAD</code>.</p>
</dd>
<dt> <em>[&lt;refname&gt;]@{&lt;date&gt;}</em>, e.g. <em>master@{yesterday}</em>, <em>HEAD@{5 minutes ago}</em> </dt>
<dd>
<p>A ref followed by the suffix <em>@</em> with a date specification
enclosed in a brace
pair (e.g. <em>{yesterday}</em>, <em>{1 month 2 weeks 3 days 1 hour 1
second ago}</em> or <em>{1979-02-26 18:30:00}</em>) specifies the value
of the ref at a prior point in time.  This suffix may only be
used immediately following a ref name and the ref must have an
existing log (<em>$GIT_DIR/logs/&lt;ref&gt;</em>). Note that this looks up the state
of your <strong>local</strong> ref at a given time; e.g., what was in your local
<em>master</em> branch last week. If you want to look at commits made during
certain times, see <code>--since</code> and <code>--until</code>.</p>
</dd>
<dt> <em>&lt;refname&gt;@{&lt;n&gt;}</em>, e.g. <em>master@{1}</em> </dt>
<dd>
<p>A ref followed by the suffix <em>@</em> with an ordinal specification
enclosed in a brace pair (e.g. <em>{1}</em>, <em>{15}</em>) specifies
the n-th prior value of that ref.  For example <em>master@{1}</em>
is the immediate prior value of <em>master</em> while <em>master@{5}</em>
is the 5th prior value of <em>master</em>. This suffix may only be used
immediately following a ref name and the ref must have an existing
log (<em>$GIT_DIR/logs/&lt;refname&gt;</em>).</p>
</dd>
<dt> <em>@{&lt;n&gt;}</em>, e.g. <em>@{1}</em> </dt>
<dd>
<p>You can use the <em>@</em> construct with an empty ref part to get at a
reflog entry of the current branch. For example, if you are on
branch <em>blabla</em> then <em>@{1}</em> means the same as <em>blabla@{1}</em>.</p>
</dd>
<dt> <em>@{-&lt;n&gt;}</em>, e.g. <em>@{-1}</em> </dt>
<dd>
<p>The construct <em>@{-&lt;n&gt;}</em> means the &lt;n&gt;th branch/commit checked out
before the current one.</p>
</dd>
<dt> <em>[&lt;branchname&gt;]@{upstream}</em>, e.g. <em>master@{upstream}</em>, <em>@{u}</em> </dt>
<dd>
<p>The suffix <em>@{upstream}</em> to a branchname (short form <em>&lt;branchname&gt;@{u}</em>)
refers to the branch that the branch specified by branchname is set to build on
top of (configured with <code>branch.&lt;name&gt;.remote</code> and
<code>branch.&lt;name&gt;.merge</code>).  A missing branchname defaults to the
current one. These suffixes are also accepted when spelled in uppercase, and
they mean the same thing no matter the case.</p>
</dd>
<dt> <em>[&lt;branchname&gt;]@{push}</em>, e.g. <em>master@{push}</em>, <em>@{push}</em> </dt>
<dd>
<p>The suffix <em>@{push}</em> reports the branch "where we would push to" if
<code>git push</code> were run while <code>branchname</code> was checked out (or the current
<code>HEAD</code> if no branchname is specified). Since our push destination is
in a remote repository, of course, we report the local tracking branch
that corresponds to that branch (i.e., something in <code>refs/remotes/</code>).</p>

<p>Here’s an example to make it more clear:</p>



<pre>$ git config push.default current
$ git config remote.pushdefault myfork
$ git switch -c mybranch origin/master

$ git rev-parse --symbolic-full-name @{upstream}
refs/remotes/origin/master

$ git rev-parse --symbolic-full-name @{push}
refs/remotes/myfork/mybranch</pre>



<p>Note in the example that we set up a triangular workflow, where we pull
from one location and push to another. In a non-triangular workflow,
<em>@{push}</em> is the same as <em>@{upstream}</em>, and there is no need for it.</p>


<p>This suffix is also accepted when spelled in uppercase, and means the same
thing no matter the case.</p>

</dd>
<dt> <em>&lt;rev&gt;^[&lt;n&gt;]</em>, e.g. <em>HEAD^, v1.5.1^0</em> </dt>
<dd>
<p>A suffix <em>^</em> to a revision parameter means the first parent of
that commit object.  <em>^&lt;n&gt;</em> means the &lt;n&gt;th parent (i.e.
<em>&lt;rev&gt;^</em>
is equivalent to <em>&lt;rev&gt;^1</em>).  As a special rule,
<em>&lt;rev&gt;^0</em> means the commit itself and is used when <em>&lt;rev&gt;</em> is the
object name of a tag object that refers to a commit object.</p>
</dd>
<dt> <em>&lt;rev&gt;~[&lt;n&gt;]</em>, e.g. <em>HEAD~, master~3</em> </dt>
<dd>
<p>A suffix <em>~</em> to a revision parameter means the first parent of
that commit object.
A suffix <em>~&lt;n&gt;</em> to a revision parameter means the commit
object that is the &lt;n&gt;th generation ancestor of the named
commit object, following only the first parents.  I.e. <em>&lt;rev&gt;~3</em> is
equivalent to <em>&lt;rev&gt;^^^</em> which is equivalent to
<em>&lt;rev&gt;^1^1^1</em>.  See below for an illustration of
the usage of this form.</p>
</dd>
<dt> <em>&lt;rev&gt;^{&lt;type&gt;}</em>, e.g. <em>v0.99.8^{commit}</em> </dt>
<dd>
<p>A suffix <em>^</em> followed by an object type name enclosed in
brace pair means dereference the object at <em>&lt;rev&gt;</em> recursively until
an object of type <em>&lt;type&gt;</em> is found or the object cannot be
dereferenced anymore (in which case, barf).
For example, if <em>&lt;rev&gt;</em> is a commit-ish, <em>&lt;rev&gt;^{commit}</em>
describes the corresponding commit object.
Similarly, if <em>&lt;rev&gt;</em> is a tree-ish, <em>&lt;rev&gt;^{tree}</em>
describes the corresponding tree object.
<em>&lt;rev&gt;^0</em>
is a short-hand for <em>&lt;rev&gt;^{commit}</em>.</p>

<p><em>&lt;rev&gt;^{object}</em> can be used to make sure <em>&lt;rev&gt;</em> names an
object that exists, without requiring <em>&lt;rev&gt;</em> to be a tag, and
without dereferencing <em>&lt;rev&gt;</em>; because a tag is already an object,
it does not have to be dereferenced even once to get to an object.</p>


<p><em>&lt;rev&gt;^{tag}</em> can be used to ensure that <em>&lt;rev&gt;</em> identifies an
existing tag object.</p>

</dd>
<dt> <em>&lt;rev&gt;^{}</em>, e.g. <em>v0.99.8^{}</em> </dt>
<dd>
<p>A suffix <em>^</em> followed by an empty brace pair
means the object could be a tag,
and dereference the tag recursively until a non-tag object is
found.</p>
</dd>
<dt> <em>&lt;rev&gt;^{/&lt;text&gt;}</em>, e.g. <em>HEAD^{/fix nasty bug}</em> </dt>
<dd>
<p>A suffix <em>^</em> to a revision parameter, followed by a brace
pair that contains a text led by a slash,
is the same as the <em>:/fix nasty bug</em> syntax below except that
it returns the youngest matching commit which is reachable from
the <em>&lt;rev&gt;</em> before <em>^</em>.</p>
</dd>
<dt> <em>:/&lt;text&gt;</em>, e.g. <em>:/fix nasty bug</em> </dt>
<dd>
<p>A colon, followed by a slash, followed by a text, names
a commit whose commit message matches the specified regular expression.
This name returns the youngest matching commit which is
reachable from any ref, including HEAD.
The regular expression can match any part of the
commit message. To match messages starting with a string, one can use
e.g. <em>:/^foo</em>. The special sequence <em>:/!</em> is reserved for modifiers to what
is matched. <em>:/!-foo</em> performs a negative match, while <em>:/!!foo</em> matches a
literal <em>!</em> character, followed by <em>foo</em>. Any other sequence beginning with
<em>:/!</em> is reserved for now.
Depending on the given text, the shell’s word splitting rules might
require additional quoting.</p>
</dd>
<dt> <em>&lt;rev&gt;:&lt;path&gt;</em>, e.g. <em>HEAD:README</em>, <em>master:./README</em> </dt>
<dd>
<p>A suffix <em>:</em> followed by a path names the blob or tree
at the given path in the tree-ish object named by the part
before the colon.
A path starting with <em>./</em> or <em>../</em> is relative to the current working directory.
The given path will be converted to be relative to the working tree’s root directory.
This is most useful to address a blob or tree from a commit or tree that has
the same tree structure as the working tree.</p>
</dd>
<dt> <em>:[&lt;n&gt;:]&lt;path&gt;</em>, e.g. <em>:0:README</em>, <em>:README</em> </dt>
<dd>
<p>A colon, optionally followed by a stage number (0 to 3) and a
colon, followed by a path, names a blob object in the
index at the given path. A missing stage number (and the colon
that follows it) names a stage 0 entry. During a merge, stage
1 is the common ancestor, stage 2 is the target branch’s version
(typically the current branch), and stage 3 is the version from
the branch which is being merged.</p>
</dd>
</dl>


<p>Here is an illustration, by Jon Loeliger.  Both commit nodes B
and C are parents of commit node A.  Parent commits are ordered
left-to-right.</p>



<pre>G   H   I   J
 \ /     \ /
  D   E   F
   \  |  / \
    \ | /   |
     \|/    |
      B     C
       \   /
        \ /
         A</pre>




<pre>A =      = A^0
B = A^   = A^1     = A~1
C =      = A^2
D = A^^  = A^1^1   = A~2
E = B^2  = A^^2
F = B^3  = A^^3
G = A^^^ = A^1^1^1 = A~3
H = D^2  = B^^2    = A^^^2  = A~2^2
I = F^   = B^3^    = A^^3^
J = F^2  = B^3^2   = A^^3^2</pre>





<h2>SPECIFYING RANGES</h2>


<p>History traversing commands such as <code>git log</code> operate on a set
of commits, not just a single commit.</p>


<p>For these commands,
specifying a single revision, using the notation described in the
previous section, means the set of commits <code>reachable</code> from the given
commit.</p>


<p>Specifying several revisions means the set of commits reachable from
any of the given commits.</p>


<p>A commit’s reachable set is the commit itself and the commits in
its ancestry chain.</p>


<p>There are several notations to specify a set of connected commits
(called a "revision range"), illustrated below.</p>


<h3>
Commit Exclusions</h3>

<dl>
<dt> <em>^&lt;rev&gt;</em> (caret) Notation </dt>
<dd>
<p>To exclude commits reachable from a commit, a prefix <em>^</em>
notation is used.  E.g. <em>^r1 r2</em> means commits reachable
from <em>r2</em> but exclude the ones reachable from <em>r1</em> (i.e. <em>r1</em> and
its ancestors).</p>
</dd>
</dl>



<h3>
Dotted Range Notations</h3>

<dl>
<dt> The <em>..</em> (two-dot) Range Notation </dt>
<dd>
<p>The <em>^r1 r2</em> set operation appears so often that there is a shorthand
for it.  When you have two commits <em>r1</em> and <em>r2</em> (named according
to the syntax explained in SPECIFYING REVISIONS above), you can ask
for commits that are reachable from r2 excluding those that are reachable
from r1 by <em>^r1 r2</em> and it can be written as <em>r1..r2</em>.</p>
</dd>
<dt> The <em>…<U+200B></em> (three-dot) Symmetric Difference Notation </dt>
<dd>
<p>A similar notation <em>r1...r2</em> is called symmetric difference
of <em>r1</em> and <em>r2</em> and is defined as
<em>r1 r2 --not $(git merge-base --all r1 r2)</em>.
It is the set of commits that are reachable from either one of
<em>r1</em> (left side) or <em>r2</em> (right side) but not from both.</p>
</dd>
</dl>


<p>In these two shorthand notations, you can omit one end and let it default to HEAD.
For example, <em>origin..</em> is a shorthand for <em>origin..HEAD</em> and asks "What
did I do since I forked from the origin branch?"  Similarly, <em>..origin</em>
is a shorthand for <em>HEAD..origin</em> and asks "What did the origin do since
I forked from them?"  Note that <em>..</em> would mean <em>HEAD..HEAD</em> which is an
empty range that is both reachable and unreachable from HEAD.</p>


<p>Commands that are specifically designed to take two distinct ranges
(e.g. "git range-diff R1 R2" to compare two ranges) do exist, but
they are exceptions.  Unless otherwise noted, all "git" commands
that operate on a set of commits work on a single revision range.
In other words, writing two "two-dot range notation" next to each
other, e.g.</p>



<pre>$ git log A..B C..D</pre>



<p>does <strong>not</strong> specify two revision ranges for most commands.  Instead
it will name a single connected set of commits, i.e. those that are
reachable from either B or D but are reachable from neither A or C.
In a linear history like this:</p>



<pre>---A---B---o---o---C---D</pre>



<p>because A and B are reachable from C, the revision range specified
by these two dotted ranges is a single commit D.</p>



<h3>
Other &lt;rev&gt;^ Parent Shorthand Notations</h3>

<p>Three other shorthands exist, particularly useful for merge commits,
for naming a set that is formed by a commit and its parent commits.</p>


<p>The <em>r1^@</em> notation means all parents of <em>r1</em>.</p>


<p>The <em>r1^!</em> notation includes commit <em>r1</em> but excludes all of its parents.
By itself, this notation denotes the single commit <em>r1</em>.</p>


<p>The <em>&lt;rev&gt;^-[&lt;n&gt;]</em> notation includes <em>&lt;rev&gt;</em> but excludes the &lt;n&gt;th
parent (i.e. a shorthand for <em>&lt;rev&gt;^&lt;n&gt;..&lt;rev&gt;</em>), with <em>&lt;n&gt;</em> = 1 if
not given. This is typically useful for merge commits where you
can just pass <em>&lt;commit&gt;^-</em> to get all the commits in the branch
that was merged in merge commit <em>&lt;commit&gt;</em> (including <em>&lt;commit&gt;</em>
itself).</p>


<p>While <em>&lt;rev&gt;^&lt;n&gt;</em> was about specifying a single commit parent, these
three notations also consider its parents. For example you can say
<em>HEAD^2^@</em>, however you cannot say <em>HEAD^@^2</em>.</p>





<h2>Revision Range Summary</h2>


<dl>
<dt> <em>&lt;rev&gt;</em> </dt>
<dd>
<p>Include commits that are reachable from &lt;rev&gt; (i.e. &lt;rev&gt; and its
ancestors).</p>
</dd>
<dt> <em>^&lt;rev&gt;</em> </dt>
<dd>
<p>Exclude commits that are reachable from &lt;rev&gt; (i.e. &lt;rev&gt; and its
ancestors).</p>
</dd>
<dt> <em>&lt;rev1&gt;..&lt;rev2&gt;</em> </dt>
<dd>
<p>Include commits that are reachable from &lt;rev2&gt; but exclude
those that are reachable from &lt;rev1&gt;.  When either &lt;rev1&gt; or
&lt;rev2&gt; is omitted, it defaults to <code>HEAD</code>.</p>
</dd>
<dt> <em>&lt;rev1&gt;...&lt;rev2&gt;</em> </dt>
<dd>
<p>Include commits that are reachable from either &lt;rev1&gt; or
&lt;rev2&gt; but exclude those that are reachable from both.  When
either &lt;rev1&gt; or &lt;rev2&gt; is omitted, it defaults to <code>HEAD</code>.</p>
</dd>
<dt> <em>&lt;rev&gt;^@</em>, e.g. <em>HEAD^@</em> </dt>
<dd>
<p>A suffix <em>^</em> followed by an at sign is the same as listing
all parents of <em>&lt;rev&gt;</em> (meaning, include anything reachable from
its parents, but not the commit itself).</p>
</dd>
<dt> <em>&lt;rev&gt;^!</em>, e.g. <em>HEAD^!</em> </dt>
<dd>
<p>A suffix <em>^</em> followed by an exclamation mark is the same
as giving commit <em>&lt;rev&gt;</em> and then all its parents prefixed with
<em>^</em> to exclude them (and their ancestors).</p>
</dd>
<dt> <em>&lt;rev&gt;^-&lt;n&gt;</em>, e.g. <em>HEAD^-, HEAD^-2</em> </dt>
<dd>
<p>Equivalent to <em>&lt;rev&gt;^&lt;n&gt;..&lt;rev&gt;</em>, with <em>&lt;n&gt;</em> = 1 if not
given.</p>
</dd>
</dl>


<p>Here are a handful of examples using the Loeliger illustration above,
with each step in the notation’s expansion and selection carefully
spelt out:</p>



<pre>   Args   Expanded arguments    Selected commits
   D                            G H D
   D F                          G H I J D F
   ^G D                         H D
   ^D B                         E I J F B
   ^D B C                       E I J F B C
   C                            I J F C
   B..C   = ^B C                C
   B...C  = B ^F C              G H D E B C
   B^-    = B^..B
	  = ^B^1 B              E I J F B
   C^@    = C^1
	  = F                   I J F
   B^@    = B^1 B^2 B^3
	  = D E F               D G H E F I J
   C^!    = C ^C^@
	  = C ^C^1
	  = C ^F                C
   B^!    = B ^B^@
	  = B ^B^1 ^B^2 ^B^3
	  = B ^D ^E ^F          B
   F^! D  = F ^I ^J D           G H D F</pre>





<h2>SEE ALSO</h2>


<p><a href="/docs/git-rev-parse">git-rev-parse[1]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">gitsubmodules - Mounting one repository inside another</span></h2>




<h2><br>synopsis</h2>



<pre>.gitmodules, $GIT_DIR/config</pre>




<pre>git submodule
git &lt;command&gt; --recurse-submodules</pre>





<h2>description</h2>


<p>A submodule is a repository embedded inside another repository.
The submodule has its own history; the repository it is embedded
in is called a superproject.</p>


<p>On the filesystem, a submodule usually (but not always - see FORMS below)
consists of (i) a Git directory located under the <code>$GIT_DIR/modules/</code>
directory of its superproject, (ii) a working directory inside the
superproject’s working directory, and a <code>.git</code> file at the root of
the submodule’s working directory pointing to (i).</p>


<p>Assuming the submodule has a Git directory at <code>$GIT_DIR/modules/foo/</code>
and a working directory at <code>path/to/bar/</code>, the superproject tracks the
submodule via a <code>gitlink</code> entry in the tree at <code>path/to/bar</code> and an entry
in its <code>.gitmodules</code> file (see <a href="/docs/gitmodules">gitmodules[5]</a>) of the form
<code>submodule.foo.path = path/to/bar</code>.</p>


<p>The <code>gitlink</code> entry contains the object name of the commit that the
superproject expects the submodule’s working directory to be at.</p>


<p>The section <code>submodule.foo.*</code> in the <code>.gitmodules</code> file gives additional
hints to Git’s porcelain layer. For example, the <code>submodule.foo.url</code>
setting specifies where to obtain the submodule.</p>


<p>Submodules can be used for at least two different use cases:</p>


<ol>
<li>
<p>Using another project while maintaining independent history.
Submodules allow you to contain the working tree of another project
within your own working tree while keeping the history of both
projects separate. Also, since submodules are fixed to an arbitrary
version, the other project can be independently developed without
affecting the superproject, allowing the superproject project to
fix itself to new versions only when desired.</p>
</li>
<li>
<p>Splitting a (logically single) project into multiple
repositories and tying them back together. This can be used to
overcome current limitations of Git’s implementation to have
finer grained access:</p>

<ul>
<li>
<p>Size of the Git repository:
In its current form Git scales up poorly for large repositories containing
content that is not compressed by delta computation between trees.
For example, you can use submodules to hold large binary assets
and these repositories can be shallowly cloned such that you do not
have a large history locally.</p>
</li>
<li>
<p>Transfer size:
In its current form Git requires the whole working tree present. It
does not allow partial trees to be transferred in fetch or clone.
If the project you work on consists of multiple repositories tied
together as submodules in a superproject, you can avoid fetching the
working trees of the repositories you are not interested in.</p>
</li>
<li>
<p>Access control:
By restricting user access to submodules, this can be used to implement
read/write policies for different users.</p>
</li>
</ul>

</li>
</ol>




<h2>The configuration of submodules</h2>


<p>Submodule operations can be configured using the following mechanisms
(from highest to lowest precedence):</p>


<ul>
<li>
<p>The command line for those commands that support taking submodules
as part of their pathspecs. Most commands have a boolean flag
<code>--recurse-submodules</code> which specify whether to recurse into submodules.
Examples are <code>grep</code> and <code>checkout</code>.
Some commands take enums, such as <code>fetch</code> and <code>push</code>, where you can
specify how submodules are affected.</p>
</li>
<li>
<p>The configuration inside the submodule. This includes <code>$GIT_DIR/config</code>
in the submodule, but also settings in the tree such as a <code>.gitattributes</code>
or <code>.gitignore</code> files that specify behavior of commands inside the
submodule.</p>

<p>For example an effect from the submodule’s <code>.gitignore</code> file
would be observed when you run <code>git status --ignore-submodules=none</code> in
the superproject. This collects information from the submodule’s working
directory by running <code>status</code> in the submodule while paying attention
to the <code>.gitignore</code> file of the submodule.</p>


<p>The submodule’s <code>$GIT_DIR/config</code> file would come into play when running
<code>git push --recurse-submodules=check</code> in the superproject, as this would
check if the submodule has any changes not published to any remote. The
remotes are configured in the submodule as usual in the <code>$GIT_DIR/config</code>
file.</p>

</li>
<li>
<p>The configuration file <code>$GIT_DIR/config</code> in the superproject.
Git only recurses into active submodules (see "ACTIVE SUBMODULES"
section below).</p>

<p>If the submodule is not yet initialized, then the configuration
inside the submodule does not exist yet, so where to
obtain the submodule from is configured here for example.</p>

</li>
<li>
<p>The <code>.gitmodules</code> file inside the superproject. A project usually
uses this file to suggest defaults for the upstream collection
of repositories for the mapping that is required between a
submodule’s name and its path.</p>

<p>This file mainly serves as the mapping between the name and path of submodules
in the superproject, such that the submodule’s Git directory can be
located.</p>


<p>If the submodule has never been initialized, this is the only place
where submodule configuration is found. It serves as the last fallback
to specify where to obtain the submodule from.</p>

</li>
</ul>




<h2>FORMS</h2>


<p>Submodules can take the following forms:</p>


<ul>
<li>
<p>The basic form described in DESCRIPTION with a Git directory,
a working directory, a <code>gitlink</code>, and a <code>.gitmodules</code> entry.</p>
</li>
<li>
<p>"Old-form" submodule: A working directory with an embedded
<code>.git</code> directory, and the tracking <code>gitlink</code> and <code>.gitmodules</code> entry in
the superproject. This is typically found in repositories generated
using older versions of Git.</p>

<p>It is possible to construct these old form repositories manually.</p>


<p>When deinitialized or deleted (see below), the submodule’s Git
directory is automatically moved to <code>$GIT_DIR/modules/&lt;name&gt;/</code>
of the superproject.</p>

</li>
<li>
<p>Deinitialized submodule: A <code>gitlink</code>, and a <code>.gitmodules</code> entry,
but no submodule working directory. The submodule’s Git directory
may be there as after deinitializing the Git directory is kept around.
The directory which is supposed to be the working directory is empty instead.</p>

<p>A submodule can be deinitialized by running <code>git submodule deinit</code>.
Besides emptying the working directory, this command only modifies
the superproject’s <code>$GIT_DIR/config</code> file, so the superproject’s history
is not affected. This can be undone using <code>git submodule init</code>.</p>

</li>
<li>
<p>Deleted submodule: A submodule can be deleted by running
<code>git rm &lt;submodule path&gt; &amp;&amp; git commit</code>. This can be undone
using <code>git revert</code>.</p>

<p>The deletion removes the superproject’s tracking data, which are
both the <code>gitlink</code> entry and the section in the <code>.gitmodules</code> file.
The submodule’s working directory is removed from the file
system, but the Git directory is kept around as it to make it
possible to checkout past commits without requiring fetching
from another repository.</p>


<p>To completely remove a submodule, manually delete
<code>$GIT_DIR/modules/&lt;name&gt;/</code>.</p>

</li>
</ul>




<h2>ACTIVE SUBMODULES</h2>


<p>A submodule is considered active,</p>


<ol>
<li>
<p>if <code>submodule.&lt;name&gt;.active</code> is set to <code>true</code></p>

<p>or</p>

</li>
<li>
<p>if the submodule’s path matches the pathspec in <code>submodule.active</code></p>

<p>or</p>

</li>
<li>
<p>if <code>submodule.&lt;name&gt;.url</code> is set.</p>
</li>
</ol>


<p>and these are evaluated in this order.</p>


<p>For example:</p>



<pre>[submodule "foo"]
  active = false
  url = https://example.org/foo
[submodule "bar"]
  active = true
  url = https://example.org/bar
[submodule "baz"]
  url = https://example.org/baz</pre>



<p>In the above config only the submodule <em>bar</em> and <em>baz</em> are active,
<em>bar</em> due to (1) and <em>baz</em> due to (3). <em>foo</em> is inactive because
(1) takes precedence over (3)</p>


<p>Note that (3) is a historical artefact and will be ignored if the
(1) and (2) specify that the submodule is not active. In other words,
if we have a <code>submodule.&lt;name&gt;.active</code> set to <code>false</code> or if the
submodule’s path is excluded in the pathspec in <code>submodule.active</code>, the
url doesn’t matter whether it is present or not. This is illustrated in
the example that follows.</p>



<pre>[submodule "foo"]
  active = true
  url = https://example.org/foo
[submodule "bar"]
  url = https://example.org/bar
[submodule "baz"]
  url = https://example.org/baz
[submodule "bob"]
  ignore = true
[submodule]
  active = b*
  active = :(exclude) baz</pre>



<p>In here all submodules except <em>baz</em> (foo, bar, bob) are active.
<em>foo</em> due to its own active flag and all the others due to the
submodule active pathspec, which specifies that any submodule
starting with <em>b</em> except <em>baz</em> are also active, regardless of the
presence of the .url field.</p>




<h2>Workflow for a third party library</h2>



<pre># Add a submodule
git submodule add &lt;URL&gt; &lt;path&gt;</pre>




<pre># Occasionally update the submodule to a new version:
git -C &lt;path&gt; checkout &lt;new version&gt;
git add &lt;path&gt;
git commit -m "update submodule to new version"</pre>




<pre># See the list of submodules in a superproject
git submodule status</pre>




<pre># See FORMS on removing submodules</pre>





<h2>Workflow for an artificially split repo</h2>



<pre># Enable recursion for relevant commands, such that
# regular commands recurse into submodules by default
git config --global submodule.recurse true</pre>




<pre># Unlike most other commands below, clone still needs
# its own recurse flag:
git clone --recurse &lt;URL&gt; &lt;directory&gt;
cd &lt;directory&gt;</pre>




<pre># Get to know the code:
git grep foo
git ls-files --recurse-submodules</pre>



<table><tr>
<td>
Note
</td>
<td>
<code>git ls-files</code> also requires its own <code>--recurse-submodules</code> flag.
</td>
</tr></table>



<pre># Get new code
git fetch
git pull --rebase</pre>




<pre># Change worktree
git checkout
git reset</pre>





<h2>Implementation details</h2>


<p>When cloning or pulling a repository containing submodules the submodules
will not be checked out by default; you can instruct <code>clone</code> to recurse
into submodules. The <code>init</code> and <code>update</code> subcommands of <code>git submodule</code>
will maintain submodules checked out and at an appropriate revision in
your working tree. Alternatively you can set <code>submodule.recurse</code> to have
<code>checkout</code> recursing into submodules (note that <code>submodule.recurse</code> also
affects other Git commands, see <a href="/docs/git-config">git-config[1]</a> for a complete list).</p>




<h2>SEE ALSO</h2>


<p><a href="/docs/git-submodule">git-submodule[1]</a>, <a href="/docs/gitmodules">gitmodules[5]</a>.</p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">gittutorial - A tutorial introduction to Git</span></h2>




<h2><br>synopsis</h2>


<pre>git *</pre>




<h2>description</h2>


<p>This tutorial explains how to import a new project into Git, make
changes to it, and share changes with other developers.</p>


<p>If you are instead primarily interested in using Git to fetch a project,
for example, to test the latest version, you may prefer to start with
the first two chapters of <a href="/docs/user-manual">The Git User’s Manual</a>.</p>


<p>First, note that you can get documentation for a command such as
<code>git log --graph</code> with:</p>



<pre>$ man git-log</pre>



<p>or:</p>



<pre>$ git help log</pre>



<p>With the latter, you can use the manual viewer of your choice; see
<a href="/docs/git-help">git-help[1]</a> for more information.</p>


<p>It is a good idea to introduce yourself to Git with your name and
public email address before doing any operation.  The easiest
way to do so is:</p>



<pre>$ git config --global user.name "Your Name Comes Here"
$ git config --global user.email you@yourdomain.example.com</pre>





<h2>Importing a new project</h2>


<p>Assume you have a tarball project.tar.gz with your initial work.  You
can place it under Git revision control as follows.</p>



<pre>$ tar xzf project.tar.gz
$ cd project
$ git init</pre>



<p>Git will reply</p>



<pre>Initialized empty Git repository in .git/</pre>



<p>You’ve now initialized the working directory—<U+200B>you may notice a new
directory created, named ".git".</p>


<p>Next, tell Git to take a snapshot of the contents of all files under the
current directory (note the <em>.</em>), with <em>git add</em>:</p>



<pre>$ git add .</pre>



<p>This snapshot is now stored in a temporary staging area which Git calls
the "index".  You can permanently store the contents of the index in the
repository with <em>git commit</em>:</p>



<pre>$ git commit</pre>



<p>This will prompt you for a commit message.  You’ve now stored the first
version of your project in Git.</p>




<h2>Making changes</h2>


<p>Modify some files, then add their updated contents to the index:</p>



<pre>$ git add file1 file2 file3</pre>



<p>You are now ready to commit.  You can see what is about to be committed
using <em>git diff</em> with the --cached option:</p>



<pre>$ git diff --cached</pre>



<p>(Without --cached, <em>git diff</em> will show you any changes that
you’ve made but not yet added to the index.)  You can also get a brief
summary of the situation with <em>git status</em>:</p>



<pre>$ git status
On branch master
Changes to be committed:
Your branch is up to date with 'origin/master'.
  (use "git restore --staged &lt;file&gt;..." to unstage)

	modified:   file1
	modified:   file2
	modified:   file3</pre>



<p>If you need to make any further adjustments, do so now, and then add any
newly modified content to the index.  Finally, commit your changes with:</p>



<pre>$ git commit</pre>



<p>This will again prompt you for a message describing the change, and then
record a new version of the project.</p>


<p>Alternatively, instead of running <em>git add</em> beforehand, you can use</p>



<pre>$ git commit -a</pre>



<p>which will automatically notice any modified (but not new) files, add
them to the index, and commit, all in one step.</p>


<p>A note on commit messages: Though not required, it’s a good idea to
begin the commit message with a single short (less than 50 character)
line summarizing the change, followed by a blank line and then a more
thorough description. The text up to the first blank line in a commit
message is treated as the commit title, and that title is used
throughout Git.  For example, <a href="/docs/git-format-patch">git-format-patch[1]</a> turns a
commit into email, and it uses the title on the Subject line and the
rest of the commit in the body.</p>




<h2>Git tracks content not files</h2>


<p>Many revision control systems provide an <code>add</code> command that tells the
system to start tracking changes to a new file.  Git’s <code>add</code> command
does something simpler and more powerful: <em>git add</em> is used both for new
and newly modified files, and in both cases it takes a snapshot of the
given files and stages that content in the index, ready for inclusion in
the next commit.</p>




<h2>Viewing project history</h2>


<p>At any point you can view the history of your changes using</p>



<pre>$ git log</pre>



<p>If you also want to see complete diffs at each step, use</p>



<pre>$ git log -p</pre>



<p>Often the overview of the change is useful to get a feel of
each step</p>



<pre>$ git log --stat --summary</pre>





<h2>Managing branches</h2>


<p>A single Git repository can maintain multiple branches of
development.  To create a new branch named "experimental", use</p>



<pre>$ git branch experimental</pre>



<p>If you now run</p>



<pre>$ git branch</pre>



<p>you’ll get a list of all existing branches:</p>



<pre>  experimental
* master</pre>



<p>The "experimental" branch is the one you just created, and the
"master" branch is a default branch that was created for you
automatically.  The asterisk marks the branch you are currently on;
type</p>



<pre>$ git switch experimental</pre>



<p>to switch to the experimental branch.  Now edit a file, commit the
change, and switch back to the master branch:</p>



<pre>(edit file)
$ git commit -a
$ git switch master</pre>



<p>Check that the change you made is no longer visible, since it was
made on the experimental branch and you’re back on the master branch.</p>


<p>You can make a different change on the master branch:</p>



<pre>(edit file)
$ git commit -a</pre>



<p>at this point the two branches have diverged, with different changes
made in each.  To merge the changes made in experimental into master, run</p>



<pre>$ git merge experimental</pre>



<p>If the changes don’t conflict, you’re done.  If there are conflicts,
markers will be left in the problematic files showing the conflict;</p>



<pre>$ git diff</pre>



<p>will show this.  Once you’ve edited the files to resolve the
conflicts,</p>



<pre>$ git commit -a</pre>



<p>will commit the result of the merge. Finally,</p>



<pre>$ gitk</pre>



<p>will show a nice graphical representation of the resulting history.</p>


<p>At this point you could delete the experimental branch with</p>



<pre>$ git branch -d experimental</pre>



<p>This command ensures that the changes in the experimental branch are
already in the current branch.</p>


<p>If you develop on a branch crazy-idea, then regret it, you can always
delete the branch with</p>



<pre>$ git branch -D crazy-idea</pre>



<p>Branches are cheap and easy, so this is a good way to try something
out.</p>




<h2>Using Git for collaboration</h2>


<p>Suppose that Alice has started a new project with a Git repository in
/home/alice/project, and that Bob, who has a home directory on the
same machine, wants to contribute.</p>


<p>Bob begins with:</p>



<pre>bob$ git clone /home/alice/project myrepo</pre>



<p>This creates a new directory "myrepo" containing a clone of Alice’s
repository.  The clone is on an equal footing with the original
project, possessing its own copy of the original project’s history.</p>


<p>Bob then makes some changes and commits them:</p>



<pre>(edit files)
bob$ git commit -a
(repeat as necessary)</pre>



<p>When he’s ready, he tells Alice to pull changes from the repository
at /home/bob/myrepo.  She does this with:</p>



<pre>alice$ cd /home/alice/project
alice$ git pull /home/bob/myrepo master</pre>



<p>This merges the changes from Bob’s "master" branch into Alice’s
current branch.  If Alice has made her own changes in the meantime,
then she may need to manually fix any conflicts.</p>


<p>The "pull" command thus performs two operations: it fetches changes
from a remote branch, then merges them into the current branch.</p>


<p>Note that in general, Alice would want her local changes committed before
initiating this "pull".  If Bob’s work conflicts with what Alice did since
their histories forked, Alice will use her working tree and the index to
resolve conflicts, and existing local changes will interfere with the
conflict resolution process (Git will still perform the fetch but will
refuse to merge<U+2009>—<U+2009>Alice will have to get rid of her local changes in
some way and pull again when this happens).</p>


<p>Alice can peek at what Bob did without merging first, using the "fetch"
command; this allows Alice to inspect what Bob did, using a special
symbol "FETCH_HEAD", in order to determine if he has anything worth
pulling, like this:</p>



<pre>alice$ git fetch /home/bob/myrepo master
alice$ git log -p HEAD..FETCH_HEAD</pre>



<p>This operation is safe even if Alice has uncommitted local changes.
The range notation "HEAD..FETCH_HEAD" means "show everything that is reachable
from the FETCH_HEAD but exclude anything that is reachable from HEAD".
Alice already knows everything that leads to her current state (HEAD),
and reviews what Bob has in his state (FETCH_HEAD) that she has not
seen with this command.</p>


<p>If Alice wants to visualize what Bob did since their histories forked
she can issue the following command:</p>



<pre>$ gitk HEAD..FETCH_HEAD</pre>



<p>This uses the same two-dot range notation we saw earlier with <em>git log</em>.</p>


<p>Alice may want to view what both of them did since they forked.
She can use three-dot form instead of the two-dot form:</p>



<pre>$ gitk HEAD...FETCH_HEAD</pre>



<p>This means "show everything that is reachable from either one, but
exclude anything that is reachable from both of them".</p>


<p>Please note that these range notation can be used with both gitk
and "git log".</p>


<p>After inspecting what Bob did, if there is nothing urgent, Alice may
decide to continue working without pulling from Bob.  If Bob’s history
does have something Alice would immediately need, Alice may choose to
stash her work-in-progress first, do a "pull", and then finally unstash
her work-in-progress on top of the resulting history.</p>


<p>When you are working in a small closely knit group, it is not
unusual to interact with the same repository over and over
again.  By defining <em>remote</em> repository shorthand, you can make
it easier:</p>



<pre>alice$ git remote add bob /home/bob/myrepo</pre>



<p>With this, Alice can perform the first part of the "pull" operation
alone using the <em>git fetch</em> command without merging them with her own
branch, using:</p>



<pre>alice$ git fetch bob</pre>



<p>Unlike the longhand form, when Alice fetches from Bob using a
remote repository shorthand set up with <em>git remote</em>, what was
fetched is stored in a remote-tracking branch, in this case
<code>bob/master</code>.  So after this:</p>



<pre>alice$ git log -p master..bob/master</pre>



<p>shows a list of all the changes that Bob made since he branched from
Alice’s master branch.</p>


<p>After examining those changes, Alice
could merge the changes into her master branch:</p>



<pre>alice$ git merge bob/master</pre>



<p>This <code>merge</code> can also be done by <em>pulling from her own remote-tracking
branch</em>, like this:</p>



<pre>alice$ git pull . remotes/bob/master</pre>



<p>Note that git pull always merges into the current branch,
regardless of what else is given on the command line.</p>


<p>Later, Bob can update his repo with Alice’s latest changes using</p>



<pre>bob$ git pull</pre>



<p>Note that he doesn’t need to give the path to Alice’s repository;
when Bob cloned Alice’s repository, Git stored the location of her
repository in the repository configuration, and that location is
used for pulls:</p>



<pre>bob$ git config --get remote.origin.url
/home/alice/project</pre>



<p>(The complete configuration created by <em>git clone</em> is visible using
<code>git config -l</code>, and the <a href="/docs/git-config">git-config[1]</a> man page
explains the meaning of each option.)</p>


<p>Git also keeps a pristine copy of Alice’s master branch under the
name "origin/master":</p>



<pre>bob$ git branch -r
  origin/master</pre>



<p>If Bob later decides to work from a different host, he can still
perform clones and pulls using the ssh protocol:</p>



<pre>bob$ git clone alice.org:/home/alice/project myrepo</pre>



<p>Alternatively, Git has a native protocol, or can use http;
see <a href="/docs/git-pull">git-pull[1]</a> for details.</p>


<p>Git can also be used in a CVS-like mode, with a central repository
that various users push changes to; see <a href="/docs/git-push">git-push[1]</a> and
<a href="/docs/gitcvs-migration">gitcvs-migration[7]</a>.</p>




<h2>Exploring history</h2>


<p>Git history is represented as a series of interrelated commits.  We
have already seen that the <em>git log</em> command can list those commits.
Note that first line of each git log entry also gives a name for the
commit:</p>



<pre>$ git log
commit c82a22c39cbc32576f64f5c6b3f24b99ea8149c7
Author: Junio C Hamano &lt;junkio@cox.net&gt;
Date:   Tue May 16 17:18:22 2006 -0700

    merge-base: Clarify the comments on post processing.</pre>



<p>We can give this name to <em>git show</em> to see the details about this
commit.</p>



<pre>$ git show c82a22c39cbc32576f64f5c6b3f24b99ea8149c7</pre>



<p>But there are other ways to refer to commits.  You can use any initial
part of the name that is long enough to uniquely identify the commit:</p>



<pre>$ git show c82a22c39c	# the first few characters of the name are
			# usually enough
$ git show HEAD		# the tip of the current branch
$ git show experimental	# the tip of the "experimental" branch</pre>



<p>Every commit usually has one "parent" commit
which points to the previous state of the project:</p>



<pre>$ git show HEAD^  # to see the parent of HEAD
$ git show HEAD^^ # to see the grandparent of HEAD
$ git show HEAD~4 # to see the great-great grandparent of HEAD</pre>



<p>Note that merge commits may have more than one parent:</p>



<pre>$ git show HEAD^1 # show the first parent of HEAD (same as HEAD^)
$ git show HEAD^2 # show the second parent of HEAD</pre>



<p>You can also give commits names of your own; after running</p>



<pre>$ git tag v2.5 1b2e1d63ff</pre>



<p>you can refer to 1b2e1d63ff by the name "v2.5".  If you intend to
share this name with other people (for example, to identify a release
version), you should create a "tag" object, and perhaps sign it; see
<a href="/docs/git-tag">git-tag[1]</a> for details.</p>


<p>Any Git command that needs to know a commit can take any of these
names.  For example:</p>



<pre>$ git diff v2.5 HEAD	 # compare the current HEAD to v2.5
$ git branch stable v2.5 # start a new branch named "stable" based
			 # at v2.5
$ git reset --hard HEAD^ # reset your current branch and working
			 # directory to its state at HEAD^</pre>



<p>Be careful with that last command: in addition to losing any changes
in the working directory, it will also remove all later commits from
this branch.  If this branch is the only branch containing those
commits, they will be lost.  Also, don’t use <em>git reset</em> on a
publicly-visible branch that other developers pull from, as it will
force needless merges on other developers to clean up the history.
If you need to undo changes that you have pushed, use <em>git revert</em>
instead.</p>


<p>The <em>git grep</em> command can search for strings in any version of your
project, so</p>



<pre>$ git grep "hello" v2.5</pre>



<p>searches for all occurrences of "hello" in v2.5.</p>


<p>If you leave out the commit name, <em>git grep</em> will search any of the
files it manages in your current directory.  So</p>



<pre>$ git grep "hello"</pre>



<p>is a quick way to search just the files that are tracked by Git.</p>


<p>Many Git commands also take sets of commits, which can be specified
in a number of ways.  Here are some examples with <em>git log</em>:</p>



<pre>$ git log v2.5..v2.6            # commits between v2.5 and v2.6
$ git log v2.5..                # commits since v2.5
$ git log --since="2 weeks ago" # commits from the last 2 weeks
$ git log v2.5.. Makefile       # commits since v2.5 which modify
				# Makefile</pre>



<p>You can also give <em>git log</em> a "range" of commits where the first is not
necessarily an ancestor of the second; for example, if the tips of
the branches "stable" and "master" diverged from a common
commit some time ago, then</p>



<pre>$ git log stable..master</pre>



<p>will list commits made in the master branch but not in the
stable branch, while</p>



<pre>$ git log master..stable</pre>



<p>will show the list of commits made on the stable branch but not
the master branch.</p>


<p>The <em>git log</em> command has a weakness: it must present commits in a
list.  When the history has lines of development that diverged and
then merged back together, the order in which <em>git log</em> presents
those commits is meaningless.</p>


<p>Most projects with multiple contributors (such as the Linux kernel,
or Git itself) have frequent merges, and <em>gitk</em> does a better job of
visualizing their history.  For example,</p>



<pre>$ gitk --since="2 weeks ago" drivers/</pre>



<p>allows you to browse any commits from the last 2 weeks of commits
that modified files under the "drivers" directory.  (Note: you can
adjust gitk’s fonts by holding down the control key while pressing
"-" or "+".)</p>


<p>Finally, most commands that take filenames will optionally allow you
to precede any filename by a commit, to specify a particular version
of the file:</p>



<pre>$ git diff v2.5:Makefile HEAD:Makefile.in</pre>



<p>You can also use <em>git show</em> to see any such file:</p>



<pre>$ git show v2.5:Makefile</pre>





<h2>Next Steps</h2>


<p>This tutorial should be enough to perform basic distributed revision
control for your projects.  However, to fully understand the depth
and power of Git you need to understand two simple ideas on which it
is based:</p>


<ul>
<li>
<p>The object database is the rather elegant system used to
store the history of your project—<U+200B>files, directories, and
commits.</p>
</li>
<li>
<p>The index file is a cache of the state of a directory tree,
used to create commits, check out working directories, and
hold the various trees involved in a merge.</p>
</li>
</ul>


<p>Part two of this tutorial explains the object
database, the index file, and a few other odds and ends that you’ll
need to make the most of Git. You can find it at <a href="/docs/gittutorial-2">gittutorial-2[7]</a>.</p>


<p>If you don’t want to continue with that right away, a few other
digressions that may be interesting at this point are:</p>


<ul>
<li>
<p><a href="/docs/git-format-patch">git-format-patch[1]</a>, <a href="/docs/git-am">git-am[1]</a>: These convert
series of git commits into emailed patches, and vice versa,
useful for projects such as the Linux kernel which rely heavily
on emailed patches.</p>
</li>
<li>
<p><a href="/docs/git-bisect">git-bisect[1]</a>: When there is a regression in your
project, one way to track down the bug is by searching through
the history to find the exact commit that’s to blame.  Git bisect
can help you perform a binary search for that commit.  It is
smart enough to perform a close-to-optimal search even in the
case of complex non-linear history with lots of merged branches.</p>
</li>
<li>
<p><a href="/docs/gitworkflows">gitworkflows[7]</a>: Gives an overview of recommended
workflows.</p>
</li>
<li>
<p><a href="/docs/giteveryday">giteveryday[7]</a>: Everyday Git with 20 Commands Or So.</p>
</li>
<li>
<p><a href="/docs/gitcvs-migration">gitcvs-migration[7]</a>: Git for CVS users.</p>
</li>
</ul>




<h2>SEE ALSO</h2>


<p><a href="/docs/gittutorial-2">gittutorial-2[7]</a>,
<a href="/docs/gitcvs-migration">gitcvs-migration[7]</a>,
<a href="/docs/gitcore-tutorial">gitcore-tutorial[7]</a>,
<a href="/docs/gitglossary">gitglossary[7]</a>,
<a href="/docs/git-help">git-help[1]</a>,
<a href="/docs/gitworkflows">gitworkflows[7]</a>,
<a href="/docs/giteveryday">giteveryday[7]</a>,
<a href="/docs/user-manual">The Git User’s Manual</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">gitworkflows - An overview of recommended workflows with Git</span></h2>




<h2><br>synopsis</h2>


<pre>git *</pre>




<h2>description</h2>


<p>This document attempts to write down and motivate some of the workflow
elements used for <code>git.git</code> itself.  Many ideas apply in general,
though the full workflow is rarely required for smaller projects with
fewer people involved.</p>


<p>We formulate a set of <em>rules</em> for quick reference, while the prose
tries to motivate each of them.  Do not always take them literally;
you should value good reasons for your actions higher than manpages
such as this one.</p>




<h2>SEPARATE CHANGES</h2>


<p>As a general rule, you should try to split your changes into small
logical steps, and commit each of them.  They should be consistent,
working independently of any later commits, pass the test suite, etc.
This makes the review process much easier, and the history much more
useful for later inspection and analysis, for example with
<a href="/docs/git-blame">git-blame[1]</a> and <a href="/docs/git-bisect">git-bisect[1]</a>.</p>


<p>To achieve this, try to split your work into small steps from the very
beginning. It is always easier to squash a few commits together than
to split one big commit into several.  Don’t be afraid of making too
small or imperfect steps along the way. You can always go back later
and edit the commits with <code>git rebase --interactive</code> before you
publish them.  You can use <code>git stash push --keep-index</code> to run the
test suite independent of other uncommitted changes; see the EXAMPLES
section of <a href="/docs/git-stash">git-stash[1]</a>.</p>




<h2>MANAGING BRANCHES</h2>


<p>There are two main tools that can be used to include changes from one
branch on another: <a href="/docs/git-merge">git-merge[1]</a> and
<a href="/docs/git-cherry-pick">git-cherry-pick[1]</a>.</p>


<p>Merges have many advantages, so we try to solve as many problems as
possible with merges alone.  Cherry-picking is still occasionally
useful; see "Merging upwards" below for an example.</p>


<p>Most importantly, merging works at the branch level, while
cherry-picking works at the commit level.  This means that a merge can
carry over the changes from 1, 10, or 1000 commits with equal ease,
which in turn means the workflow scales much better to a large number
of contributors (and contributions).  Merges are also easier to
understand because a merge commit is a "promise" that all changes from
all its parents are now included.</p>


<p>There is a tradeoff of course: merges require a more careful branch
management.  The following subsections discuss the important points.</p>


<h3>
Graduation</h3>

<p>As a given feature goes from experimental to stable, it also
"graduates" between the corresponding branches of the software.
<code>git.git</code> uses the following <em>integration branches</em>:</p>


<ul>
<li>
<p><em>maint</em> tracks the commits that should go into the next "maintenance
release", i.e., update of the last released stable version;</p>
</li>
<li>
<p><em>master</em> tracks the commits that should go into the next release;</p>
</li>
<li>
<p><em>next</em> is intended as a testing branch for topics being tested for
stability for master.</p>
</li>
</ul>


<p>There is a fourth official branch that is used slightly differently:</p>


<ul>
<li>
<p><em>seen</em> (patches seen by the maintainer) is an integration branch for
things that are not quite ready for inclusion yet (see "Integration
Branches" below).</p>
</li>
</ul>


<p>Each of the four branches is usually a direct descendant of the one
above it.</p>


<p>Conceptually, the feature enters at an unstable branch (usually <em>next</em>
or <em>seen</em>), and "graduates" to <em>master</em> for the next release once it is
considered stable enough.</p>



<h3>
Merging upwards</h3>

<p>The "downwards graduation" discussed above cannot be done by actually
merging downwards, however, since that would merge <em>all</em> changes on
the unstable branch into the stable one.  Hence the following:</p>


Rule: Merge upwards


<p>Always commit your fixes to the oldest supported branch that requires
them.  Then (periodically) merge the integration branches upwards into each
other.</p>




<p>This gives a very controlled flow of fixes.  If you notice that you
have applied a fix to e.g. <em>master</em> that is also required in <em>maint</em>,
you will need to cherry-pick it (using <a href="/docs/git-cherry-pick">git-cherry-pick[1]</a>)
downwards.  This will happen a few times and is nothing to worry about
unless you do it very frequently.</p>



<h3>
Topic branches</h3>

<p>Any nontrivial feature will require several patches to implement, and
may get extra bugfixes or improvements during its lifetime.</p>


<p>Committing everything directly on the integration branches leads to many
problems: Bad commits cannot be undone, so they must be reverted one
by one, which creates confusing histories and further error potential
when you forget to revert part of a group of changes.  Working in
parallel mixes up the changes, creating further confusion.</p>


<p>Use of "topic branches" solves these problems.  The name is pretty
self explanatory, with a caveat that comes from the "merge upwards"
rule above:</p>


Rule: Topic branches


<p>Make a side branch for every topic (feature, bugfix, …<U+200B>). Fork it off
at the oldest integration branch that you will eventually want to merge it
into.</p>




<p>Many things can then be done very naturally:</p>


<ul>
<li>
<p>To get the feature/bugfix into an integration branch, simply merge
it.  If the topic has evolved further in the meantime, merge again.
(Note that you do not necessarily have to merge it to the oldest
integration branch first.  For example, you can first merge a bugfix
to <em>next</em>, give it some testing time, and merge to <em>maint</em> when you
know it is stable.)</p>
</li>
<li>
<p>If you find you need new features from the branch <em>other</em> to continue
working on your topic, merge <em>other</em> to <em>topic</em>.  (However, do not
do this "just habitually", see below.)</p>
</li>
<li>
<p>If you find you forked off the wrong branch and want to move it
"back in time", use <a href="/docs/git-rebase">git-rebase[1]</a>.</p>
</li>
</ul>


<p>Note that the last point clashes with the other two: a topic that has
been merged elsewhere should not be rebased.  See the section on
RECOVERING FROM UPSTREAM REBASE in <a href="/docs/git-rebase">git-rebase[1]</a>.</p>


<p>We should point out that "habitually" (regularly for no real reason)
merging an integration branch into your topics<U+2009>—<U+2009>and by extension,
merging anything upstream into anything downstream on a regular basis<U+2009>—<U+2009>is frowned upon:</p>


Rule: Merge to downstream only at well-defined points


<p>Do not merge to downstream except with a good reason: upstream API
changes affect your branch; your branch no longer merges to upstream
cleanly; etc.</p>




<p>Otherwise, the topic that was merged to suddenly contains more than a
single (well-separated) change.  The many resulting small merges will
greatly clutter up history.  Anyone who later investigates the history
of a file will have to find out whether that merge affected the topic
in development.  An upstream might even inadvertently be merged into a
"more stable" branch.  And so on.</p>



<h3>
Throw-away integration</h3>

<p>If you followed the last paragraph, you will now have many small topic
branches, and occasionally wonder how they interact.  Perhaps the
result of merging them does not even work?  But on the other hand, we
want to avoid merging them anywhere "stable" because such merges
cannot easily be undone.</p>


<p>The solution, of course, is to make a merge that we can undo: merge
into a throw-away branch.</p>


Rule: Throw-away integration branches


<p>To test the interaction of several topics, merge them into a
throw-away branch.  You must never base any work on such a branch!</p>




<p>If you make it (very) clear that this branch is going to be deleted
right after the testing, you can even publish this branch, for example
to give the testers a chance to work with it, or other developers a
chance to see if their in-progress work will be compatible.  <code>git.git</code>
has such an official throw-away integration branch called <em>seen</em>.</p>



<h3>
Branch management for a release</h3>

<p>Assuming you are using the merge approach discussed above, when you
are releasing your project you will need to do some additional branch
management work.</p>


<p>A feature release is created from the <em>master</em> branch, since <em>master</em>
tracks the commits that should go into the next feature release.</p>


<p>The <em>master</em> branch is supposed to be a superset of <em>maint</em>. If this
condition does not hold, then <em>maint</em> contains some commits that
are not included on <em>master</em>. The fixes represented by those commits
will therefore not be included in your feature release.</p>


<p>To verify that <em>master</em> is indeed a superset of <em>maint</em>, use git log:</p>


Recipe: Verify <em>master</em> is a superset of <em>maint</em>



<p><code>git log master..maint</code></p>




<p>This command should not list any commits.  Otherwise, check out
<em>master</em> and merge <em>maint</em> into it.</p>


<p>Now you can proceed with the creation of the feature release. Apply a
tag to the tip of <em>master</em> indicating the release version:</p>


Recipe: Release tagging


<p><code>git tag -s -m "Git X.Y.Z" vX.Y.Z master</code></p>




<p>You need to push the new tag to a public Git server (see
"DISTRIBUTED WORKFLOWS" below). This makes the tag available to
others tracking your project. The push could also trigger a
post-update hook to perform release-related items such as building
release tarballs and preformatted documentation pages.</p>


<p>Similarly, for a maintenance release, <em>maint</em> is tracking the commits
to be released. Therefore, in the steps above simply tag and push
<em>maint</em> rather than <em>master</em>.</p>



<h3>
Maintenance branch management after a feature release</h3>

<p>After a feature release, you need to manage your maintenance branches.</p>


<p>First, if you wish to continue to release maintenance fixes for the
feature release made before the recent one, then you must create
another branch to track commits for that previous release.</p>


<p>To do this, the current maintenance branch is copied to another branch
named with the previous release version number (e.g. maint-X.Y.(Z-1)
where X.Y.Z is the current release).</p>


Recipe: Copy maint


<p><code>git branch maint-X.Y.(Z-1) maint</code></p>




<p>The <em>maint</em> branch should now be fast-forwarded to the newly released
code so that maintenance fixes can be tracked for the current release:</p>


Recipe: Update maint to new release


<ul>
<li>
<p><code>git checkout maint</code></p>
</li>
<li>
<p><code>git merge --ff-only master</code></p>
</li>
</ul>




<p>If the merge fails because it is not a fast-forward, then it is
possible some fixes on <em>maint</em> were missed in the feature release.
This will not happen if the content of the branches was verified as
described in the previous section.</p>



<h3>
Branch management for next and seen after a feature release</h3>

<p>After a feature release, the integration branch <em>next</em> may optionally be
rewound and rebuilt from the tip of <em>master</em> using the surviving
topics on <em>next</em>:</p>


Recipe: Rewind and rebuild next


<ul>
<li>
<p><code>git switch -C next master</code></p>
</li>
<li>
<p><code>git merge ai/topic_in_next1</code></p>
</li>
<li>
<p><code>git merge ai/topic_in_next2</code></p>
</li>
<li>
<p>…<U+200B></p>
</li>
</ul>




<p>The advantage of doing this is that the history of <em>next</em> will be
clean. For example, some topics merged into <em>next</em> may have initially
looked promising, but were later found to be undesirable or premature.
In such a case, the topic is reverted out of <em>next</em> but the fact
remains in the history that it was once merged and reverted. By
recreating <em>next</em>, you give another incarnation of such topics a clean
slate to retry, and a feature release is a good point in history to do
so.</p>


<p>If you do this, then you should make a public announcement indicating
that <em>next</em> was rewound and rebuilt.</p>


<p>The same rewind and rebuild process may be followed for <em>seen</em>. A public
announcement is not necessary since <em>seen</em> is a throw-away branch, as
described above.</p>





<h2>DISTRIBUTED WORKFLOWS</h2>


<p>After the last section, you should know how to manage topics.  In
general, you will not be the only person working on the project, so
you will have to share your work.</p>


<p>Roughly speaking, there are two important workflows: merge and patch.
The important difference is that the merge workflow can propagate full
history, including merges, while patches cannot.  Both workflows can
be used in parallel: in <code>git.git</code>, only subsystem maintainers use
the merge workflow, while everyone else sends patches.</p>


<p>Note that the maintainer(s) may impose restrictions, such as
"Signed-off-by" requirements, that all commits/patches submitted for
inclusion must adhere to.  Consult your project’s documentation for
more information.</p>


<h3>
Merge workflow</h3>

<p>The merge workflow works by copying branches between upstream and
downstream.  Upstream can merge contributions into the official
history; downstream base their work on the official history.</p>


<p>There are three main tools that can be used for this:</p>


<ul>
<li>
<p><a href="/docs/git-push">git-push[1]</a> copies your branches to a remote repository,
usually to one that can be read by all involved parties;</p>
</li>
<li>
<p><a href="/docs/git-fetch">git-fetch[1]</a> that copies remote branches to your repository;
and</p>
</li>
<li>
<p><a href="/docs/git-pull">git-pull[1]</a> that does fetch and merge in one go.</p>
</li>
</ul>


<p>Note the last point.  Do <em>not</em> use <em>git pull</em> unless you actually want
to merge the remote branch.</p>


<p>Getting changes out is easy:</p>


Recipe: Push/pull: Publishing branches/topics


<p><code>git push &lt;remote&gt; &lt;branch&gt;</code> and tell everyone where they can fetch
from.</p>




<p>You will still have to tell people by other means, such as mail.  (Git
provides the <a href="/docs/git-request-pull">git-request-pull[1]</a> to send preformatted pull
requests to upstream maintainers to simplify this task.)</p>


<p>If you just want to get the newest copies of the integration branches,
staying up to date is easy too:</p>


Recipe: Push/pull: Staying up to date


<p>Use <code>git fetch &lt;remote&gt;</code> or <code>git remote update</code> to stay up to date.</p>




<p>Then simply fork your topic branches from the stable remotes as
explained earlier.</p>


<p>If you are a maintainer and would like to merge other people’s topic
branches to the integration branches, they will typically send a
request to do so by mail.  Such a request looks like</p>



<pre>Please pull from
    &lt;URL&gt; &lt;branch&gt;</pre>



<p>In that case, <em>git pull</em> can do the fetch and merge in one go, as
follows.</p>


Recipe: Push/pull: Merging remote topics


<p><code>git pull &lt;URL&gt; &lt;branch&gt;</code></p>




<p>Occasionally, the maintainer may get merge conflicts when they try to
pull changes from downstream.  In this case, they can ask downstream to
do the merge and resolve the conflicts themselves (perhaps they will
know better how to resolve them).  It is one of the rare cases where
downstream <em>should</em> merge from upstream.</p>



<h3>
Patch workflow</h3>

<p>If you are a contributor that sends changes upstream in the form of
emails, you should use topic branches as usual (see above).  Then use
<a href="/docs/git-format-patch">git-format-patch[1]</a> to generate the corresponding emails
(highly recommended over manually formatting them because it makes the
maintainer’s life easier).</p>


Recipe: format-patch/am: Publishing branches/topics


<ul>
<li>
<p><code>git format-patch -M upstream..topic</code> to turn them into preformatted
patch files</p>
</li>
<li>
<p><code>git send-email --to=&lt;recipient&gt; &lt;patches&gt;</code></p>
</li>
</ul>




<p>See the <a href="/docs/git-format-patch">git-format-patch[1]</a> and <a href="/docs/git-send-email">git-send-email[1]</a>
manpages for further usage notes.</p>


<p>If the maintainer tells you that your patch no longer applies to the
current upstream, you will have to rebase your topic (you cannot use a
merge because you cannot format-patch merges):</p>


Recipe: format-patch/am: Keeping topics up to date


<p><code>git pull --rebase &lt;URL&gt; &lt;branch&gt;</code></p>




<p>You can then fix the conflicts during the rebase.  Presumably you have
not published your topic other than by mail, so rebasing it is not a
problem.</p>


<p>If you receive such a patch series (as maintainer, or perhaps as a
reader of the mailing list it was sent to), save the mails to files,
create a new topic branch and use <em>git am</em> to import the commits:</p>


Recipe: format-patch/am: Importing patches


<p><code>git am &lt; patch</code></p>




<p>One feature worth pointing out is the three-way merge, which can help
if you get conflicts: <code>git am -3</code> will use index information contained
in patches to figure out the merge base.  See <a href="/docs/git-am">git-am[1]</a> for
other options.</p>





<h2>SEE ALSO</h2>


<p><a href="/docs/gittutorial">gittutorial[7]</a>,
<a href="/docs/git-push">git-push[1]</a>,
<a href="/docs/git-pull">git-pull[1]</a>,
<a href="/docs/git-merge">git-merge[1]</a>,
<a href="/docs/git-rebase">git-rebase[1]</a>,
<a href="/docs/git-format-patch">git-format-patch[1]</a>,
<a href="/docs/git-send-email">git-send-email[1]</a>,
<a href="/docs/git-am">git-am[1]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git - the stupid content tracker</span></h2>




<h2><br>synopsis</h2>


<pre><em>git</em> [--version] [--help] [-C &lt;path&gt;] [-c &lt;name&gt;=&lt;value&gt;]
    [--exec-path[=&lt;path&gt;]] [--html-path] [--man-path] [--info-path]
    [-p|--paginate|-P|--no-pager] [--no-replace-objects] [--bare]
    [--git-dir=&lt;path&gt;] [--work-tree=&lt;path&gt;] [--namespace=&lt;name&gt;]
    [--super-prefix=&lt;path&gt;] [--config-env=&lt;name&gt;=&lt;envvar&gt;]
    &lt;command&gt; [&lt;args&gt;]</pre>




<h2>description</h2>


<p>Git is a fast, scalable, distributed revision control system with an
unusually rich command set that provides both high-level operations
and full access to internals.</p>


<p>See <a href="/docs/gittutorial">gittutorial[7]</a> to get started, then see
<a href="/docs/giteveryday">giteveryday[7]</a> for a useful minimum set of
commands.  The <a href="/docs/user-manual">Git User’s Manual</a> has a more
in-depth introduction.</p>


<p>After you mastered the basic concepts, you can come back to this
page to learn what commands Git offers.  You can learn more about
individual Git commands with "git help command".  <a href="/docs/gitcli">gitcli[7]</a>
manual page gives you an overview of the command-line command syntax.</p>


<p>A formatted and hyperlinked copy of the latest Git documentation
can be viewed at <a href="https://git.github.io/htmldocs/git.html">https://git.github.io/htmldocs/git.html</a>
or <a href="https://git-scm.com/docs">https://git-scm.com/docs</a>.</p>




<h2>options</h2>


<dl>
<dt> --version </dt>
<dd>
<p>Prints the Git suite version that the <em>git</em> program came from.</p>

<p>This option is internally converted to <code>git version ...</code> and accepts
the same options as the <a href="/docs/git-version">git-version[1]</a> command. If <code>--help</code> is
also given, it takes precedence over <code>--version</code>.</p>

</dd>
<dt> --help </dt>
<dd>
<p>Prints the synopsis and a list of the most commonly used
commands. If the option <code>--all</code> or <code>-a</code> is given then all
available commands are printed. If a Git command is named this
option will bring up the manual page for that command.</p>

<p>Other options are available to control how the manual page is
displayed. See <a href="/docs/git-help">git-help[1]</a> for more information,
because <code>git --help ...</code> is converted internally into <code>git
help ...</code>.</p>

</dd>
<dt> -C &lt;path&gt; </dt>
<dd>
<p>Run as if git was started in <em>&lt;path&gt;</em> instead of the current working
directory.  When multiple <code>-C</code> options are given, each subsequent
non-absolute <code>-C &lt;path&gt;</code> is interpreted relative to the preceding <code>-C
&lt;path&gt;</code>.  If <em>&lt;path&gt;</em> is present but empty, e.g. <code>-C ""</code>, then the
current working directory is left unchanged.</p>

<p>This option affects options that expect path name like <code>--git-dir</code> and
<code>--work-tree</code> in that their interpretations of the path names would be
made relative to the working directory caused by the <code>-C</code> option. For
example the following invocations are equivalent:</p>



<pre>git --git-dir=a.git --work-tree=b -C c status
git --git-dir=c/a.git --work-tree=c/b status</pre>


</dd>
<dt> -c &lt;name&gt;=&lt;value&gt; </dt>
<dd>
<p>Pass a configuration parameter to the command. The value
given will override values from configuration files.
The &lt;name&gt; is expected in the same format as listed by
<em>git config</em> (subkeys separated by dots).</p>

<p>Note that omitting the <code>=</code> in <code>git -c foo.bar ...</code> is allowed and sets
<code>foo.bar</code> to the boolean true value (just like <code>[foo]bar</code> would in a
config file). Including the equals but with an empty value (like <code>git -c
foo.bar= ...</code>) sets <code>foo.bar</code> to the empty string which <code>git config
--type=bool</code> will convert to <code>false</code>.</p>

</dd>
<dt> --config-env=&lt;name&gt;=&lt;envvar&gt; </dt>
<dd>
<p>Like <code>-c &lt;name&gt;=&lt;value&gt;</code>, give configuration variable
<em>&lt;name&gt;</em> a value, where &lt;envvar&gt; is the name of an
environment variable from which to retrieve the value. Unlike
<code>-c</code> there is no shortcut for directly setting the value to an
empty string, instead the environment variable itself must be
set to the empty string.  It is an error if the <code>&lt;envvar&gt;</code> does not exist
in the environment. <code>&lt;envvar&gt;</code> may not contain an equals sign
to avoid ambiguity with <code>&lt;name&gt;</code> containing one.</p>

<p>This is useful for cases where you want to pass transitory
configuration options to git, but are doing so on OS’s where
other processes might be able to read your cmdline
(e.g. <code>/proc/self/cmdline</code>), but not your environ
(e.g. <code>/proc/self/environ</code>). That behavior is the default on
Linux, but may not be on your system.</p>


<p>Note that this might add security for variables such as
<code>http.extraHeader</code> where the sensitive information is part of
the value, but not e.g. <code>url.&lt;base&gt;.insteadOf</code> where the
sensitive information can be part of the key.</p>

</dd>
<dt> --exec-path[=&lt;path&gt;] </dt>
<dd>
<p>Path to wherever your core Git programs are installed.
This can also be controlled by setting the GIT_EXEC_PATH
environment variable. If no path is given, <em>git</em> will print
the current setting and then exit.</p>
</dd>
<dt> --html-path </dt>
<dd>
<p>Print the path, without trailing slash, where Git’s HTML
documentation is installed and exit.</p>
</dd>
<dt> --man-path </dt>
<dd>
<p>Print the manpath (see <code>man(1)</code>) for the man pages for
this version of Git and exit.</p>
</dd>
<dt> --info-path </dt>
<dd>
<p>Print the path where the Info files documenting this
version of Git are installed and exit.</p>
</dd>
<dt> -p </dt>
<dt> --paginate </dt>
<dd>
<p>Pipe all output into <em>less</em> (or if set, $PAGER) if standard
output is a terminal.  This overrides the <code>pager.&lt;cmd&gt;</code>
configuration options (see the "Configuration Mechanism" section
below).</p>
</dd>
<dt> -P </dt>
<dt> --no-pager </dt>
<dd>
<p>Do not pipe Git output into a pager.</p>
</dd>
<dt> --git-dir=&lt;path&gt; </dt>
<dd>
<p>Set the path to the repository (".git" directory). This can also be
controlled by setting the <code>GIT_DIR</code> environment variable. It can be
an absolute path or relative path to current working directory.</p>

<p>Specifying the location of the ".git" directory using this
option (or <code>GIT_DIR</code> environment variable) turns off the
repository discovery that tries to find a directory with
".git" subdirectory (which is how the repository and the
top-level of the working tree are discovered), and tells Git
that you are at the top level of the working tree.  If you
are not at the top-level directory of the working tree, you
should tell Git where the top-level of the working tree is,
with the <code>--work-tree=&lt;path&gt;</code> option (or <code>GIT_WORK_TREE</code>
environment variable)</p>


<p>If you just want to run git as if it was started in <code>&lt;path&gt;</code> then use
<code>git -C &lt;path&gt;</code>.</p>

</dd>
<dt> --work-tree=&lt;path&gt; </dt>
<dd>
<p>Set the path to the working tree. It can be an absolute path
or a path relative to the current working directory.
This can also be controlled by setting the GIT_WORK_TREE
environment variable and the core.worktree configuration
variable (see core.worktree in <a href="/docs/git-config">git-config[1]</a> for a
more detailed discussion).</p>
</dd>
<dt> --namespace=&lt;path&gt; </dt>
<dd>
<p>Set the Git namespace.  See <a href="/docs/gitnamespaces">gitnamespaces[7]</a> for more
details.  Equivalent to setting the <code>GIT_NAMESPACE</code> environment
variable.</p>
</dd>
<dt> --super-prefix=&lt;path&gt; </dt>
<dd>
<p>Currently for internal use only.  Set a prefix which gives a path from
above a repository down to its root.  One use is to give submodules
context about the superproject that invoked it.</p>
</dd>
<dt> --bare </dt>
<dd>
<p>Treat the repository as a bare repository.  If GIT_DIR
environment is not set, it is set to the current working
directory.</p>
</dd>
<dt> --no-replace-objects </dt>
<dd>
<p>Do not use replacement refs to replace Git objects. See
<a href="/docs/git-replace">git-replace[1]</a> for more information.</p>
</dd>
<dt> --literal-pathspecs </dt>
<dd>
<p>Treat pathspecs literally (i.e. no globbing, no pathspec magic).
This is equivalent to setting the <code>GIT_LITERAL_PATHSPECS</code> environment
variable to <code>1</code>.</p>
</dd>
<dt> --glob-pathspecs </dt>
<dd>
<p>Add "glob" magic to all pathspec. This is equivalent to setting
the <code>GIT_GLOB_PATHSPECS</code> environment variable to <code>1</code>. Disabling
globbing on individual pathspecs can be done using pathspec
magic ":(literal)"</p>
</dd>
<dt> --noglob-pathspecs </dt>
<dd>
<p>Add "literal" magic to all pathspec. This is equivalent to setting
the <code>GIT_NOGLOB_PATHSPECS</code> environment variable to <code>1</code>. Enabling
globbing on individual pathspecs can be done using pathspec
magic ":(glob)"</p>
</dd>
<dt> --icase-pathspecs </dt>
<dd>
<p>Add "icase" magic to all pathspec. This is equivalent to setting
the <code>GIT_ICASE_PATHSPECS</code> environment variable to <code>1</code>.</p>
</dd>
<dt> --no-optional-locks </dt>
<dd>
<p>Do not perform optional operations that require locks. This is
equivalent to setting the <code>GIT_OPTIONAL_LOCKS</code> to <code>0</code>.</p>
</dd>
<dt> --list-cmds=group[,group…<U+200B>] </dt>
<dd>
<p>List commands by group. This is an internal/experimental
option and may change or be removed in the future. Supported
groups are: builtins, parseopt (builtin commands that use
parse-options), main (all commands in libexec directory),
others (all other commands in <code>$PATH</code> that have git- prefix),
list-&lt;category&gt; (see categories in command-list.txt),
nohelpers (exclude helper commands), alias and config
(retrieve command list from config variable completion.commands)</p>
</dd>
</dl>




<h2>git commands</h2>


<p>We divide Git into high level ("porcelain") commands and low level
("plumbing") commands.</p>




<h2>High-level commands (porcelain)</h2>


<p>We separate the porcelain commands into the main commands and some
ancillary user utilities.</p>


<h3>
Main porcelain commands</h3>

<dl>
<dt> <a href="/docs/git-add">git-add[1]</a> </dt>
<dd>
<p>Add file contents to the index</p>
</dd>
<dt> <a href="/docs/git-am">git-am[1]</a> </dt>
<dd>
<p>Apply a series of patches from a mailbox</p>
</dd>
<dt> <a href="/docs/git-archive">git-archive[1]</a> </dt>
<dd>
<p>Create an archive of files from a named tree</p>
</dd>
<dt> <a href="/docs/git-bisect">git-bisect[1]</a> </dt>
<dd>
<p>Use binary search to find the commit that introduced a bug</p>
</dd>
<dt> <a href="/docs/git-branch">git-branch[1]</a> </dt>
<dd>
<p>List, create, or delete branches</p>
</dd>
<dt> <a href="/docs/git-bundle">git-bundle[1]</a> </dt>
<dd>
<p>Move objects and refs by archive</p>
</dd>
<dt> <a href="/docs/git-checkout">git-checkout[1]</a> </dt>
<dd>
<p>Switch branches or restore working tree files</p>
</dd>
<dt> <a href="/docs/git-cherry-pick">git-cherry-pick[1]</a> </dt>
<dd>
<p>Apply the changes introduced by some existing commits</p>
</dd>
<dt> <a href="/docs/git-citool">git-citool[1]</a> </dt>
<dd>
<p>Graphical alternative to git-commit</p>
</dd>
<dt> <a href="/docs/git-clean">git-clean[1]</a> </dt>
<dd>
<p>Remove untracked files from the working tree</p>
</dd>
<dt> <a href="/docs/git-clone">git-clone[1]</a> </dt>
<dd>
<p>Clone a repository into a new directory</p>
</dd>
<dt> <a href="/docs/git-commit">git-commit[1]</a> </dt>
<dd>
<p>Record changes to the repository</p>
</dd>
<dt> <a href="/docs/git-describe">git-describe[1]</a> </dt>
<dd>
<p>Give an object a human readable name based on an available ref</p>
</dd>
<dt> <a href="/docs/git-diff">git-diff[1]</a> </dt>
<dd>
<p>Show changes between commits, commit and working tree, etc</p>
</dd>
<dt> <a href="/docs/git-fetch">git-fetch[1]</a> </dt>
<dd>
<p>Download objects and refs from another repository</p>
</dd>
<dt> <a href="/docs/git-format-patch">git-format-patch[1]</a> </dt>
<dd>
<p>Prepare patches for e-mail submission</p>
</dd>
<dt> <a href="/docs/git-gc">git-gc[1]</a> </dt>
<dd>
<p>Cleanup unnecessary files and optimize the local repository</p>
</dd>
<dt> <a href="/docs/git-grep">git-grep[1]</a> </dt>
<dd>
<p>Print lines matching a pattern</p>
</dd>
<dt> <a href="/docs/git-gui">git-gui[1]</a> </dt>
<dd>
<p>A portable graphical interface to Git</p>
</dd>
<dt> <a href="/docs/git-init">git-init[1]</a> </dt>
<dd>
<p>Create an empty Git repository or reinitialize an existing one</p>
</dd>
<dt> <a href="/docs/git-log">git-log[1]</a> </dt>
<dd>
<p>Show commit logs</p>
</dd>
<dt> <a href="/docs/git-maintenance">git-maintenance[1]</a> </dt>
<dd>
<p>Run tasks to optimize Git repository data</p>
</dd>
<dt> <a href="/docs/git-merge">git-merge[1]</a> </dt>
<dd>
<p>Join two or more development histories together</p>
</dd>
<dt> <a href="/docs/git-mv">git-mv[1]</a> </dt>
<dd>
<p>Move or rename a file, a directory, or a symlink</p>
</dd>
<dt> <a href="/docs/git-notes">git-notes[1]</a> </dt>
<dd>
<p>Add or inspect object notes</p>
</dd>
<dt> <a href="/docs/git-pull">git-pull[1]</a> </dt>
<dd>
<p>Fetch from and integrate with another repository or a local branch</p>
</dd>
<dt> <a href="/docs/git-push">git-push[1]</a> </dt>
<dd>
<p>Update remote refs along with associated objects</p>
</dd>
<dt> <a href="/docs/git-range-diff">git-range-diff[1]</a> </dt>
<dd>
<p>Compare two commit ranges (e.g. two versions of a branch)</p>
</dd>
<dt> <a href="/docs/git-rebase">git-rebase[1]</a> </dt>
<dd>
<p>Reapply commits on top of another base tip</p>
</dd>
<dt> <a href="/docs/git-reset">git-reset[1]</a> </dt>
<dd>
<p>Reset current HEAD to the specified state</p>
</dd>
<dt> <a href="/docs/git-restore">git-restore[1]</a> </dt>
<dd>
<p>Restore working tree files</p>
</dd>
<dt> <a href="/docs/git-revert">git-revert[1]</a> </dt>
<dd>
<p>Revert some existing commits</p>
</dd>
<dt> <a href="/docs/git-rm">git-rm[1]</a> </dt>
<dd>
<p>Remove files from the working tree and from the index</p>
</dd>
<dt> <a href="/docs/git-shortlog">git-shortlog[1]</a> </dt>
<dd>
<p>Summarize <em>git log</em> output</p>
</dd>
<dt> <a href="/docs/git-show">git-show[1]</a> </dt>
<dd>
<p>Show various types of objects</p>
</dd>
<dt> <a href="/docs/git-sparse-checkout">git-sparse-checkout[1]</a> </dt>
<dd>
<p>Initialize and modify the sparse-checkout</p>
</dd>
<dt> <a href="/docs/git-stash">git-stash[1]</a> </dt>
<dd>
<p>Stash the changes in a dirty working directory away</p>
</dd>
<dt> <a href="/docs/git-status">git-status[1]</a> </dt>
<dd>
<p>Show the working tree status</p>
</dd>
<dt> <a href="/docs/git-submodule">git-submodule[1]</a> </dt>
<dd>
<p>Initialize, update or inspect submodules</p>
</dd>
<dt> <a href="/docs/git-switch">git-switch[1]</a> </dt>
<dd>
<p>Switch branches</p>
</dd>
<dt> <a href="/docs/git-tag">git-tag[1]</a> </dt>
<dd>
<p>Create, list, delete or verify a tag object signed with GPG</p>
</dd>
<dt> <a href="/docs/git-worktree">git-worktree[1]</a> </dt>
<dd>
<p>Manage multiple working trees</p>
</dd>
<dt> <a href="/docs/gitk">gitk[1]</a> </dt>
<dd>
<p>The Git repository browser</p>
</dd>
</dl>



<h3>
Ancillary Commands</h3>

<p>Manipulators:</p>


<dl>
<dt> <a href="/docs/git-config">git-config[1]</a> </dt>
<dd>
<p>Get and set repository or global options</p>
</dd>
<dt> <a href="/docs/git-fast-export">git-fast-export[1]</a> </dt>
<dd>
<p>Git data exporter</p>
</dd>
<dt> <a href="/docs/git-fast-import">git-fast-import[1]</a> </dt>
<dd>
<p>Backend for fast Git data importers</p>
</dd>
<dt> <a href="/docs/git-filter-branch">git-filter-branch[1]</a> </dt>
<dd>
<p>Rewrite branches</p>
</dd>
<dt> <a href="/docs/git-mergetool">git-mergetool[1]</a> </dt>
<dd>
<p>Run merge conflict resolution tools to resolve merge conflicts</p>
</dd>
<dt> <a href="/docs/git-pack-refs">git-pack-refs[1]</a> </dt>
<dd>
<p>Pack heads and tags for efficient repository access</p>
</dd>
<dt> <a href="/docs/git-prune">git-prune[1]</a> </dt>
<dd>
<p>Prune all unreachable objects from the object database</p>
</dd>
<dt> <a href="/docs/git-reflog">git-reflog[1]</a> </dt>
<dd>
<p>Manage reflog information</p>
</dd>
<dt> <a href="/docs/git-remote">git-remote[1]</a> </dt>
<dd>
<p>Manage set of tracked repositories</p>
</dd>
<dt> <a href="/docs/git-repack">git-repack[1]</a> </dt>
<dd>
<p>Pack unpacked objects in a repository</p>
</dd>
<dt> <a href="/docs/git-replace">git-replace[1]</a> </dt>
<dd>
<p>Create, list, delete refs to replace objects</p>
</dd>
</dl>


<p>Interrogators:</p>


<dl>
<dt> <a href="/docs/git-annotate">git-annotate[1]</a> </dt>
<dd>
<p>Annotate file lines with commit information</p>
</dd>
<dt> <a href="/docs/git-blame">git-blame[1]</a> </dt>
<dd>
<p>Show what revision and author last modified each line of a file</p>
</dd>
<dt> <a href="/docs/git-bugreport">git-bugreport[1]</a> </dt>
<dd>
<p>Collect information for user to file a bug report</p>
</dd>
<dt> <a href="/docs/git-count-objects">git-count-objects[1]</a> </dt>
<dd>
<p>Count unpacked number of objects and their disk consumption</p>
</dd>
<dt> <a href="/docs/git-difftool">git-difftool[1]</a> </dt>
<dd>
<p>Show changes using common diff tools</p>
</dd>
<dt> <a href="/docs/git-fsck">git-fsck[1]</a> </dt>
<dd>
<p>Verifies the connectivity and validity of the objects in the database</p>
</dd>
<dt> <a href="/docs/git-help">git-help[1]</a> </dt>
<dd>
<p>Display help information about Git</p>
</dd>
<dt> <a href="/docs/git-instaweb">git-instaweb[1]</a> </dt>
<dd>
<p>Instantly browse your working repository in gitweb</p>
</dd>
<dt> <a href="/docs/git-merge-tree">git-merge-tree[1]</a> </dt>
<dd>
<p>Show three-way merge without touching index</p>
</dd>
<dt> <a href="/docs/git-rerere">git-rerere[1]</a> </dt>
<dd>
<p>Reuse recorded resolution of conflicted merges</p>
</dd>
<dt> <a href="/docs/git-show-branch">git-show-branch[1]</a> </dt>
<dd>
<p>Show branches and their commits</p>
</dd>
<dt> <a href="/docs/git-verify-commit">git-verify-commit[1]</a> </dt>
<dd>
<p>Check the GPG signature of commits</p>
</dd>
<dt> <a href="/docs/git-verify-tag">git-verify-tag[1]</a> </dt>
<dd>
<p>Check the GPG signature of tags</p>
</dd>
<dt> <a href="/docs/git-whatchanged">git-whatchanged[1]</a> </dt>
<dd>
<p>Show logs with difference each commit introduces</p>
</dd>
<dt> <a href="/docs/gitweb">gitweb[1]</a> </dt>
<dd>
<p>Git web interface (web frontend to Git repositories)</p>
</dd>
</dl>



<h3>
Interacting with Others</h3>

<p>These commands are to interact with foreign SCM and with other
people via patch over e-mail.</p>


<dl>
<dt> <a href="/docs/git-archimport">git-archimport[1]</a> </dt>
<dd>
<p>Import a GNU Arch repository into Git</p>
</dd>
<dt> <a href="/docs/git-cvsexportcommit">git-cvsexportcommit[1]</a> </dt>
<dd>
<p>Export a single commit to a CVS checkout</p>
</dd>
<dt> <a href="/docs/git-cvsimport">git-cvsimport[1]</a> </dt>
<dd>
<p>Salvage your data out of another SCM people love to hate</p>
</dd>
<dt> <a href="/docs/git-cvsserver">git-cvsserver[1]</a> </dt>
<dd>
<p>A CVS server emulator for Git</p>
</dd>
<dt> <a href="/docs/git-imap-send">git-imap-send[1]</a> </dt>
<dd>
<p>Send a collection of patches from stdin to an IMAP folder</p>
</dd>
<dt> <a href="/docs/git-p4">git-p4[1]</a> </dt>
<dd>
<p>Import from and submit to Perforce repositories</p>
</dd>
<dt> <a href="/docs/git-quiltimport">git-quiltimport[1]</a> </dt>
<dd>
<p>Applies a quilt patchset onto the current branch</p>
</dd>
<dt> <a href="/docs/git-request-pull">git-request-pull[1]</a> </dt>
<dd>
<p>Generates a summary of pending changes</p>
</dd>
<dt> <a href="/docs/git-send-email">git-send-email[1]</a> </dt>
<dd>
<p>Send a collection of patches as emails</p>
</dd>
<dt> <a href="/docs/git-svn">git-svn[1]</a> </dt>
<dd>
<p>Bidirectional operation between a Subversion repository and Git</p>
</dd>
</dl>



<h3>
Reset, restore and revert</h3>

<p>There are three commands with similar names: <code>git reset</code>,
<code>git restore</code> and <code>git revert</code>.</p>


<ul>
<li>
<p><a href="/docs/git-revert">git-revert[1]</a> is about making a new commit that reverts the
changes made by other commits.</p>
</li>
<li>
<p><a href="/docs/git-restore">git-restore[1]</a> is about restoring files in the working tree
from either the index or another commit. This command does not
update your branch. The command can also be used to restore files in
the index from another commit.</p>
</li>
<li>
<p><a href="/docs/git-reset">git-reset[1]</a> is about updating your branch, moving the tip
in order to add or remove commits from the branch. This operation
changes the commit history.</p>

<p><code>git reset</code> can also be used to restore the index, overlapping with
<code>git restore</code>.</p>

</li>
</ul>





<h2>Low-level commands (plumbing)</h2>


<p>Although Git includes its
own porcelain layer, its low-level commands are sufficient to support
development of alternative porcelains.  Developers of such porcelains
might start by reading about <a href="/docs/git-update-index">git-update-index[1]</a> and
<a href="/docs/git-read-tree">git-read-tree[1]</a>.</p>


<p>The interface (input, output, set of options and the semantics)
to these low-level commands are meant to be a lot more stable
than Porcelain level commands, because these commands are
primarily for scripted use.  The interface to Porcelain commands
on the other hand are subject to change in order to improve the
end user experience.</p>


<p>The following description divides
the low-level commands into commands that manipulate objects (in
the repository, index, and working tree), commands that interrogate and
compare objects, and commands that move objects and references between
repositories.</p>


<h3>
Manipulation commands</h3>

<dl>
<dt> <a href="/docs/git-apply">git-apply[1]</a> </dt>
<dd>
<p>Apply a patch to files and/or to the index</p>
</dd>
<dt> <a href="/docs/git-checkout-index">git-checkout-index[1]</a> </dt>
<dd>
<p>Copy files from the index to the working tree</p>
</dd>
<dt> <a href="/docs/git-commit-graph">git-commit-graph[1]</a> </dt>
<dd>
<p>Write and verify Git commit-graph files</p>
</dd>
<dt> <a href="/docs/git-commit-tree">git-commit-tree[1]</a> </dt>
<dd>
<p>Create a new commit object</p>
</dd>
<dt> <a href="/docs/git-hash-object">git-hash-object[1]</a> </dt>
<dd>
<p>Compute object ID and optionally creates a blob from a file</p>
</dd>
<dt> <a href="/docs/git-index-pack">git-index-pack[1]</a> </dt>
<dd>
<p>Build pack index file for an existing packed archive</p>
</dd>
<dt> <a href="/docs/git-merge-file">git-merge-file[1]</a> </dt>
<dd>
<p>Run a three-way file merge</p>
</dd>
<dt> <a href="/docs/git-merge-index">git-merge-index[1]</a> </dt>
<dd>
<p>Run a merge for files needing merging</p>
</dd>
<dt> <a href="/docs/git-mktag">git-mktag[1]</a> </dt>
<dd>
<p>Creates a tag object with extra validation</p>
</dd>
<dt> <a href="/docs/git-mktree">git-mktree[1]</a> </dt>
<dd>
<p>Build a tree-object from ls-tree formatted text</p>
</dd>
<dt> <a href="/docs/git-multi-pack-index">git-multi-pack-index[1]</a> </dt>
<dd>
<p>Write and verify multi-pack-indexes</p>
</dd>
<dt> <a href="/docs/git-pack-objects">git-pack-objects[1]</a> </dt>
<dd>
<p>Create a packed archive of objects</p>
</dd>
<dt> <a href="/docs/git-prune-packed">git-prune-packed[1]</a> </dt>
<dd>
<p>Remove extra objects that are already in pack files</p>
</dd>
<dt> <a href="/docs/git-read-tree">git-read-tree[1]</a> </dt>
<dd>
<p>Reads tree information into the index</p>
</dd>
<dt> <a href="/docs/git-symbolic-ref">git-symbolic-ref[1]</a> </dt>
<dd>
<p>Read, modify and delete symbolic refs</p>
</dd>
<dt> <a href="/docs/git-unpack-objects">git-unpack-objects[1]</a> </dt>
<dd>
<p>Unpack objects from a packed archive</p>
</dd>
<dt> <a href="/docs/git-update-index">git-update-index[1]</a> </dt>
<dd>
<p>Register file contents in the working tree to the index</p>
</dd>
<dt> <a href="/docs/git-update-ref">git-update-ref[1]</a> </dt>
<dd>
<p>Update the object name stored in a ref safely</p>
</dd>
<dt> <a href="/docs/git-write-tree">git-write-tree[1]</a> </dt>
<dd>
<p>Create a tree object from the current index</p>
</dd>
</dl>



<h3>
Interrogation commands</h3>

<dl>
<dt> <a href="/docs/git-cat-file">git-cat-file[1]</a> </dt>
<dd>
<p>Provide content or type and size information for repository objects</p>
</dd>
<dt> <a href="/docs/git-cherry">git-cherry[1]</a> </dt>
<dd>
<p>Find commits yet to be applied to upstream</p>
</dd>
<dt> <a href="/docs/git-diff-files">git-diff-files[1]</a> </dt>
<dd>
<p>Compares files in the working tree and the index</p>
</dd>
<dt> <a href="/docs/git-diff-index">git-diff-index[1]</a> </dt>
<dd>
<p>Compare a tree to the working tree or index</p>
</dd>
<dt> <a href="/docs/git-diff-tree">git-diff-tree[1]</a> </dt>
<dd>
<p>Compares the content and mode of blobs found via two tree objects</p>
</dd>
<dt> <a href="/docs/git-for-each-ref">git-for-each-ref[1]</a> </dt>
<dd>
<p>Output information on each ref</p>
</dd>
<dt> <a href="/docs/git-for-each-repo">git-for-each-repo[1]</a> </dt>
<dd>
<p>Run a Git command on a list of repositories</p>
</dd>
<dt> <a href="/docs/git-get-tar-commit-id">git-get-tar-commit-id[1]</a> </dt>
<dd>
<p>Extract commit ID from an archive created using git-archive</p>
</dd>
<dt> <a href="/docs/git-ls-files">git-ls-files[1]</a> </dt>
<dd>
<p>Show information about files in the index and the working tree</p>
</dd>
<dt> <a href="/docs/git-ls-remote">git-ls-remote[1]</a> </dt>
<dd>
<p>List references in a remote repository</p>
</dd>
<dt> <a href="/docs/git-ls-tree">git-ls-tree[1]</a> </dt>
<dd>
<p>List the contents of a tree object</p>
</dd>
<dt> <a href="/docs/git-merge-base">git-merge-base[1]</a> </dt>
<dd>
<p>Find as good common ancestors as possible for a merge</p>
</dd>
<dt> <a href="/docs/git-name-rev">git-name-rev[1]</a> </dt>
<dd>
<p>Find symbolic names for given revs</p>
</dd>
<dt> <a href="/docs/git-pack-redundant">git-pack-redundant[1]</a> </dt>
<dd>
<p>Find redundant pack files</p>
</dd>
<dt> <a href="/docs/git-rev-list">git-rev-list[1]</a> </dt>
<dd>
<p>Lists commit objects in reverse chronological order</p>
</dd>
<dt> <a href="/docs/git-rev-parse">git-rev-parse[1]</a> </dt>
<dd>
<p>Pick out and massage parameters</p>
</dd>
<dt> <a href="/docs/git-show-index">git-show-index[1]</a> </dt>
<dd>
<p>Show packed archive index</p>
</dd>
<dt> <a href="/docs/git-show-ref">git-show-ref[1]</a> </dt>
<dd>
<p>List references in a local repository</p>
</dd>
<dt> <a href="/docs/git-unpack-file">git-unpack-file[1]</a> </dt>
<dd>
<p>Creates a temporary file with a blob’s contents</p>
</dd>
<dt> <a href="/docs/git-var">git-var[1]</a> </dt>
<dd>
<p>Show a Git logical variable</p>
</dd>
<dt> <a href="/docs/git-verify-pack">git-verify-pack[1]</a> </dt>
<dd>
<p>Validate packed Git archive files</p>
</dd>
</dl>


<p>In general, the interrogate commands do not touch the files in
the working tree.</p>



<h3>
Syncing repositories</h3>

<dl>
<dt> <a href="/docs/git-daemon">git-daemon[1]</a> </dt>
<dd>
<p>A really simple server for Git repositories</p>
</dd>
<dt> <a href="/docs/git-fetch-pack">git-fetch-pack[1]</a> </dt>
<dd>
<p>Receive missing objects from another repository</p>
</dd>
<dt> <a href="/docs/git-http-backend">git-http-backend[1]</a> </dt>
<dd>
<p>Server side implementation of Git over HTTP</p>
</dd>
<dt> <a href="/docs/git-send-pack">git-send-pack[1]</a> </dt>
<dd>
<p>Push objects over Git protocol to another repository</p>
</dd>
<dt> <a href="/docs/git-update-server-info">git-update-server-info[1]</a> </dt>
<dd>
<p>Update auxiliary info file to help dumb servers</p>
</dd>
</dl>


<p>The following are helper commands used by the above; end users
typically do not use them directly.</p>


<dl>
<dt> <a href="/docs/git-http-fetch">git-http-fetch[1]</a> </dt>
<dd>
<p>Download from a remote Git repository via HTTP</p>
</dd>
<dt> <a href="/docs/git-http-push">git-http-push[1]</a> </dt>
<dd>
<p>Push objects over HTTP/DAV to another repository</p>
</dd>
<dt> <a href="/docs/git-receive-pack">git-receive-pack[1]</a> </dt>
<dd>
<p>Receive what is pushed into the repository</p>
</dd>
<dt> <a href="/docs/git-shell">git-shell[1]</a> </dt>
<dd>
<p>Restricted login shell for Git-only SSH access</p>
</dd>
<dt> <a href="/docs/git-upload-archive">git-upload-archive[1]</a> </dt>
<dd>
<p>Send archive back to git-archive</p>
</dd>
<dt> <a href="/docs/git-upload-pack">git-upload-pack[1]</a> </dt>
<dd>
<p>Send objects packed back to git-fetch-pack</p>
</dd>
</dl>



<h3>
Internal helper commands</h3>

<p>These are internal helper commands used by other commands; end
users typically do not use them directly.</p>


<dl>
<dt> <a href="/docs/git-check-attr">git-check-attr[1]</a> </dt>
<dd>
<p>Display gitattributes information</p>
</dd>
<dt> <a href="/docs/git-check-ignore">git-check-ignore[1]</a> </dt>
<dd>
<p>Debug gitignore / exclude files</p>
</dd>
<dt> <a href="/docs/git-check-mailmap">git-check-mailmap[1]</a> </dt>
<dd>
<p>Show canonical names and email addresses of contacts</p>
</dd>
<dt> <a href="/docs/git-check-ref-format">git-check-ref-format[1]</a> </dt>
<dd>
<p>Ensures that a reference name is well formed</p>
</dd>
<dt> <a href="/docs/git-column">git-column[1]</a> </dt>
<dd>
<p>Display data in columns</p>
</dd>
<dt> <a href="/docs/git-credential">git-credential[1]</a> </dt>
<dd>
<p>Retrieve and store user credentials</p>
</dd>
<dt> <a href="/docs/git-credential-cache">git-credential-cache[1]</a> </dt>
<dd>
<p>Helper to temporarily store passwords in memory</p>
</dd>
<dt> <a href="/docs/git-credential-store">git-credential-store[1]</a> </dt>
<dd>
<p>Helper to store credentials on disk</p>
</dd>
<dt> <a href="/docs/git-fmt-merge-msg">git-fmt-merge-msg[1]</a> </dt>
<dd>
<p>Produce a merge commit message</p>
</dd>
<dt> <a href="/docs/git-interpret-trailers">git-interpret-trailers[1]</a> </dt>
<dd>
<p>Add or parse structured information in commit messages</p>
</dd>
<dt> <a href="/docs/git-mailinfo">git-mailinfo[1]</a> </dt>
<dd>
<p>Extracts patch and authorship from a single e-mail message</p>
</dd>
<dt> <a href="/docs/git-mailsplit">git-mailsplit[1]</a> </dt>
<dd>
<p>Simple UNIX mbox splitter program</p>
</dd>
<dt> <a href="/docs/git-merge-one-file">git-merge-one-file[1]</a> </dt>
<dd>
<p>The standard helper program to use with git-merge-index</p>
</dd>
<dt> <a href="/docs/git-patch-id">git-patch-id[1]</a> </dt>
<dd>
<p>Compute unique ID for a patch</p>
</dd>
<dt> <a href="/docs/git-sh-i18n">git-sh-i18n[1]</a> </dt>
<dd>
<p>Git’s i18n setup code for shell scripts</p>
</dd>
<dt> <a href="/docs/git-sh-setup">git-sh-setup[1]</a> </dt>
<dd>
<p>Common Git shell script setup code</p>
</dd>
<dt> <a href="/docs/git-stripspace">git-stripspace[1]</a> </dt>
<dd>
<p>Remove unnecessary whitespace</p>
</dd>
</dl>





<h2>Guides</h2>


<p>The following documentation pages are guides about Git concepts.</p>


<dl>
<dt> <a href="/docs/gitattributes">gitattributes[5]</a> </dt>
<dd>
<p>Defining attributes per path</p>
</dd>
<dt> <a href="/docs/gitcli">gitcli[7]</a> </dt>
<dd>
<p>Git command-line interface and conventions</p>
</dd>
<dt> <a href="/docs/gitcore-tutorial">gitcore-tutorial[7]</a> </dt>
<dd>
<p>A Git core tutorial for developers</p>
</dd>
<dt> <a href="/docs/gitcredentials">gitcredentials[7]</a> </dt>
<dd>
<p>Providing usernames and passwords to Git</p>
</dd>
<dt> <a href="/docs/gitcvs-migration">gitcvs-migration[7]</a> </dt>
<dd>
<p>Git for CVS users</p>
</dd>
<dt> <a href="/docs/gitdiffcore">gitdiffcore[7]</a> </dt>
<dd>
<p>Tweaking diff output</p>
</dd>
<dt> <a href="/docs/giteveryday">giteveryday[7]</a> </dt>
<dd>
<p>A useful minimum set of commands for Everyday Git</p>
</dd>
<dt> <a href="/docs/gitfaq">gitfaq[7]</a> </dt>
<dd>
<p>Frequently asked questions about using Git</p>
</dd>
<dt> <a href="/docs/gitglossary">gitglossary[7]</a> </dt>
<dd>
<p>A Git Glossary</p>
</dd>
<dt> <a href="/docs/githooks">githooks[5]</a> </dt>
<dd>
<p>Hooks used by Git</p>
</dd>
<dt> <a href="/docs/gitignore">gitignore[5]</a> </dt>
<dd>
<p>Specifies intentionally untracked files to ignore</p>
</dd>
<dt> <a href="/docs/gitmailmap">gitmailmap[5]</a> </dt>
<dd>
<p>Map author/committer names and/or E-Mail addresses</p>
</dd>
<dt> <a href="/docs/gitmodules">gitmodules[5]</a> </dt>
<dd>
<p>Defining submodule properties</p>
</dd>
<dt> <a href="/docs/gitnamespaces">gitnamespaces[7]</a> </dt>
<dd>
<p>Git namespaces</p>
</dd>
<dt> <a href="/docs/gitremote-helpers">gitremote-helpers[7]</a> </dt>
<dd>
<p>Helper programs to interact with remote repositories</p>
</dd>
<dt> <a href="/docs/gitrepository-layout">gitrepository-layout[5]</a> </dt>
<dd>
<p>Git Repository Layout</p>
</dd>
<dt> <a href="/docs/gitrevisions">gitrevisions[7]</a> </dt>
<dd>
<p>Specifying revisions and ranges for Git</p>
</dd>
<dt> <a href="/docs/gitsubmodules">gitsubmodules[7]</a> </dt>
<dd>
<p>Mounting one repository inside another</p>
</dd>
<dt> <a href="/docs/gittutorial">gittutorial[7]</a> </dt>
<dd>
<p>A tutorial introduction to Git</p>
</dd>
<dt> <a href="/docs/gittutorial-2">gittutorial-2[7]</a> </dt>
<dd>
<p>A tutorial introduction to Git: part two</p>
</dd>
<dt> <a href="/docs/gitworkflows">gitworkflows[7]</a> </dt>
<dd>
<p>An overview of recommended workflows with Git</p>
</dd>
</dl>




<h2>Configuration Mechanism</h2>


<p>Git uses a simple text format to store customizations that are per
repository and are per user.  Such a configuration file may look
like this:</p>



<pre>#
# A '#' or ';' character indicates a comment.
#

; core variables
[core]
	; Don't trust file modes
	filemode = false

; user identity
[user]
	name = "Junio C Hamano"
	email = "gitster@pobox.com"</pre>



<p>Various commands read from the configuration file and adjust
their operation accordingly.  See <a href="/docs/git-config">git-config[1]</a> for a
list and more details about the configuration mechanism.</p>




<h2>Identifier Terminology</h2>


<dl>
<dt> &lt;object&gt; </dt>
<dd>
<p>Indicates the object name for any type of object.</p>
</dd>
<dt> &lt;blob&gt; </dt>
<dd>
<p>Indicates a blob object name.</p>
</dd>
<dt> &lt;tree&gt; </dt>
<dd>
<p>Indicates a tree object name.</p>
</dd>
<dt> &lt;commit&gt; </dt>
<dd>
<p>Indicates a commit object name.</p>
</dd>
<dt> &lt;tree-ish&gt; </dt>
<dd>
<p>Indicates a tree, commit or tag object name.  A
command that takes a &lt;tree-ish&gt; argument ultimately wants to
operate on a &lt;tree&gt; object but automatically dereferences
&lt;commit&gt; and &lt;tag&gt; objects that point at a &lt;tree&gt;.</p>
</dd>
<dt> &lt;commit-ish&gt; </dt>
<dd>
<p>Indicates a commit or tag object name.  A
command that takes a &lt;commit-ish&gt; argument ultimately wants to
operate on a &lt;commit&gt; object but automatically dereferences
&lt;tag&gt; objects that point at a &lt;commit&gt;.</p>
</dd>
<dt> &lt;type&gt; </dt>
<dd>
<p>Indicates that an object type is required.
Currently one of: <code>blob</code>, <code>tree</code>, <code>commit</code>, or <code>tag</code>.</p>
</dd>
<dt> &lt;file&gt; </dt>
<dd>
<p>Indicates a filename - almost always relative to the
root of the tree structure <code>GIT_INDEX_FILE</code> describes.</p>
</dd>
</dl>




<h2>Symbolic Identifiers</h2>


<p>Any Git command accepting any &lt;object&gt; can also use the following
symbolic notation:</p>


<dl>
<dt> HEAD </dt>
<dd>
<p>indicates the head of the current branch.</p>
</dd>
<dt> &lt;tag&gt; </dt>
<dd>
<p>a valid tag <em>name</em>
(i.e. a <code>refs/tags/&lt;tag&gt;</code> reference).</p>
</dd>
<dt> &lt;head&gt; </dt>
<dd>
<p>a valid head <em>name</em>
(i.e. a <code>refs/heads/&lt;head&gt;</code> reference).</p>
</dd>
</dl>


<p>For a more complete list of ways to spell object names, see
"SPECIFYING REVISIONS" section in <a href="/docs/gitrevisions">gitrevisions[7]</a>.</p>




<h2>File/Directory Structure</h2>


<p>Please see the <a href="/docs/gitrepository-layout">gitrepository-layout[5]</a> document.</p>


<p>Read <a href="/docs/githooks">githooks[5]</a> for more details about each hook.</p>


<p>Higher level SCMs may provide and manage additional information in the
<code>$GIT_DIR</code>.</p>




<h2>Terminology</h2>


<p>Please see <a href="/docs/gitglossary">gitglossary[7]</a>.</p>




<h2>Environment Variables</h2>


<p>Various Git commands use the following environment variables:</p>


<h3>
The Git Repository</h3>

<p>These environment variables apply to <em>all</em> core Git commands. Nb: it
is worth noting that they may be used/overridden by SCMS sitting above
Git so take care if using a foreign front-end.</p>


<dl>
<dt> <code>GIT_INDEX_FILE</code> </dt>
<dd>
<p>This environment allows the specification of an alternate
index file. If not specified, the default of <code>$GIT_DIR/index</code>
is used.</p>
</dd>
<dt> <code>GIT_INDEX_VERSION</code> </dt>
<dd>
<p>This environment variable allows the specification of an index
version for new repositories.  It won’t affect existing index
files.  By default index file version 2 or 3 is used. See
<a href="/docs/git-update-index">git-update-index[1]</a> for more information.</p>
</dd>
<dt> <code>GIT_OBJECT_DIRECTORY</code> </dt>
<dd>
<p>If the object storage directory is specified via this
environment variable then the sha1 directories are created
underneath - otherwise the default <code>$GIT_DIR/objects</code>
directory is used.</p>
</dd>
<dt> <code>GIT_ALTERNATE_OBJECT_DIRECTORIES</code> </dt>
<dd>
<p>Due to the immutable nature of Git objects, old objects can be
archived into shared, read-only directories. This variable
specifies a ":" separated (on Windows ";" separated) list
of Git object directories which can be used to search for Git
objects. New objects will not be written to these directories.</p>

<p>Entries that begin with <code>"</code> (double-quote) will be interpreted
as C-style quoted paths, removing leading and trailing
double-quotes and respecting backslash escapes. E.g., the value
<code>"path-with-\"-and-:-in-it":vanilla-path</code> has two paths:
<code>path-with-"-and-:-in-it</code> and <code>vanilla-path</code>.</p>

</dd>
<dt> <code>GIT_DIR</code> </dt>
<dd>
<p>If the <code>GIT_DIR</code> environment variable is set then it
specifies a path to use instead of the default <code>.git</code>
for the base of the repository.
The <code>--git-dir</code> command-line option also sets this value.</p>
</dd>
<dt> <code>GIT_WORK_TREE</code> </dt>
<dd>
<p>Set the path to the root of the working tree.
This can also be controlled by the <code>--work-tree</code> command-line
option and the core.worktree configuration variable.</p>
</dd>
<dt> <code>GIT_NAMESPACE</code> </dt>
<dd>
<p>Set the Git namespace; see <a href="/docs/gitnamespaces">gitnamespaces[7]</a> for details.
The <code>--namespace</code> command-line option also sets this value.</p>
</dd>
<dt> <code>GIT_CEILING_DIRECTORIES</code> </dt>
<dd>
<p>This should be a colon-separated list of absolute paths.  If
set, it is a list of directories that Git should not chdir up
into while looking for a repository directory (useful for
excluding slow-loading network directories).  It will not
exclude the current working directory or a GIT_DIR set on the
command line or in the environment.  Normally, Git has to read
the entries in this list and resolve any symlink that
might be present in order to compare them with the current
directory.  However, if even this access is slow, you
can add an empty entry to the list to tell Git that the
subsequent entries are not symlinks and needn’t be resolved;
e.g.,
<code>GIT_CEILING_DIRECTORIES=/maybe/symlink::/very/slow/non/symlink</code>.</p>
</dd>
<dt> <code>GIT_DISCOVERY_ACROSS_FILESYSTEM</code> </dt>
<dd>
<p>When run in a directory that does not have ".git" repository
directory, Git tries to find such a directory in the parent
directories to find the top of the working tree, but by default it
does not cross filesystem boundaries.  This environment variable
can be set to true to tell Git not to stop at filesystem
boundaries.  Like <code>GIT_CEILING_DIRECTORIES</code>, this will not affect
an explicit repository directory set via <code>GIT_DIR</code> or on the
command line.</p>
</dd>
<dt> <code>GIT_COMMON_DIR</code> </dt>
<dd>
<p>If this variable is set to a path, non-worktree files that are
normally in $GIT_DIR will be taken from this path
instead. Worktree-specific files such as HEAD or index are
taken from $GIT_DIR. See <a href="/docs/gitrepository-layout">gitrepository-layout[5]</a> and
<a href="/docs/git-worktree">git-worktree[1]</a> for
details. This variable has lower precedence than other path
variables such as GIT_INDEX_FILE, GIT_OBJECT_DIRECTORY…<U+200B></p>
</dd>
<dt> <code>GIT_DEFAULT_HASH</code> </dt>
<dd>
<p>If this variable is set, the default hash algorithm for new
repositories will be set to this value. This value is currently
ignored when cloning; the setting of the remote repository
is used instead. The default is "sha1". THIS VARIABLE IS
EXPERIMENTAL! See <code>--object-format</code> in <a href="/docs/git-init">git-init[1]</a>.</p>
</dd>
</dl>



<h3>
Git Commits</h3>

<dl>
<dt> <code>GIT_AUTHOR_NAME</code> </dt>
<dd>
<p>The human-readable name used in the author identity when creating commit or
tag objects, or when writing reflogs. Overrides the <code>user.name</code> and
<code>author.name</code> configuration settings.</p>
</dd>
<dt> <code>GIT_AUTHOR_EMAIL</code> </dt>
<dd>
<p>The email address used in the author identity when creating commit or
tag objects, or when writing reflogs. Overrides the <code>user.email</code> and
<code>author.email</code> configuration settings.</p>
</dd>
<dt> <code>GIT_AUTHOR_DATE</code> </dt>
<dd>
<p>The date used for the author identity when creating commit or tag objects, or
when writing reflogs. See <a href="/docs/git-commit">git-commit[1]</a> for valid formats.</p>
</dd>
<dt> <code>GIT_COMMITTER_NAME</code> </dt>
<dd>
<p>The human-readable name used in the committer identity when creating commit or
tag objects, or when writing reflogs. Overrides the <code>user.name</code> and
<code>committer.name</code> configuration settings.</p>
</dd>
<dt> <code>GIT_COMMITTER_EMAIL</code> </dt>
<dd>
<p>The email address used in the author identity when creating commit or
tag objects, or when writing reflogs. Overrides the <code>user.email</code> and
<code>committer.email</code> configuration settings.</p>
</dd>
<dt> <code>GIT_COMMITTER_DATE</code> </dt>
<dd>
<p>The date used for the committer identity when creating commit or tag objects, or
when writing reflogs. See <a href="/docs/git-commit">git-commit[1]</a> for valid formats.</p>
</dd>
<dt> <code>EMAIL</code> </dt>
<dd>
<p>The email address used in the author and committer identities if no other
relevant environment variable or configuration setting has been set.</p>
</dd>
</dl>



<h3>
Git Diffs</h3>

<dl>
<dt> <code>GIT_DIFF_OPTS</code> </dt>
<dd>
<p>Only valid setting is "--unified=??" or "-u??" to set the
number of context lines shown when a unified diff is created.
This takes precedence over any "-U" or "--unified" option
value passed on the Git diff command line.</p>
</dd>
<dt> <code>GIT_EXTERNAL_DIFF</code> </dt>
<dd>
<p>When the environment variable <code>GIT_EXTERNAL_DIFF</code> is set, the
program named by it is called to generate diffs, and Git
does not use its builtin diff machinery.
For a path that is added, removed, or modified,
<code>GIT_EXTERNAL_DIFF</code> is called with 7 parameters:</p>


<pre>path old-file old-hex old-mode new-file new-hex new-mode</pre>



<p>where:</p>

</dd>
<dt> &lt;old|new&gt;-file </dt>
<dd>
<p>are files GIT_EXTERNAL_DIFF can use to read the
contents of &lt;old|new&gt;,</p>
</dd>
<dt> &lt;old|new&gt;-hex </dt>
<dd>
<p>are the 40-hexdigit SHA-1 hashes,</p>
</dd>
<dt> &lt;old|new&gt;-mode </dt>
<dd>
<p>are the octal representation of the file modes.</p>

<p>The file parameters can point at the user’s working file
(e.g. <code>new-file</code> in "git-diff-files"), <code>/dev/null</code> (e.g. <code>old-file</code>
when a new file is added), or a temporary file (e.g. <code>old-file</code> in the
index).  <code>GIT_EXTERNAL_DIFF</code> should not worry about unlinking the
temporary file --- it is removed when <code>GIT_EXTERNAL_DIFF</code> exits.</p>


<p>For a path that is unmerged, <code>GIT_EXTERNAL_DIFF</code> is called with 1
parameter, &lt;path&gt;.</p>


<p>For each path <code>GIT_EXTERNAL_DIFF</code> is called, two environment variables,
<code>GIT_DIFF_PATH_COUNTER</code> and <code>GIT_DIFF_PATH_TOTAL</code> are set.</p>

</dd>
<dt> <code>GIT_DIFF_PATH_COUNTER</code> </dt>
<dd>
<p>A 1-based counter incremented by one for every path.</p>
</dd>
<dt> <code>GIT_DIFF_PATH_TOTAL</code> </dt>
<dd>
<p>The total number of paths.</p>
</dd>
</dl>



<h3>
other</h3>

<dl>
<dt> <code>GIT_MERGE_VERBOSITY</code> </dt>
<dd>
<p>A number controlling the amount of output shown by
the recursive merge strategy.  Overrides merge.verbosity.
See <a href="/docs/git-merge">git-merge[1]</a></p>
</dd>
<dt> <code>GIT_PAGER</code> </dt>
<dd>
<p>This environment variable overrides <code>$PAGER</code>. If it is set
to an empty string or to the value "cat", Git will not launch
a pager.  See also the <code>core.pager</code> option in
<a href="/docs/git-config">git-config[1]</a>.</p>
</dd>
<dt> <code>GIT_PROGRESS_DELAY</code> </dt>
<dd>
<p>A number controlling how many seconds to delay before showing
optional progress indicators. Defaults to 2.</p>
</dd>
<dt> <code>GIT_EDITOR</code> </dt>
<dd>
<p>This environment variable overrides <code>$EDITOR</code> and <code>$VISUAL</code>.
It is used by several Git commands when, on interactive mode,
an editor is to be launched. See also <a href="/docs/git-var">git-var[1]</a>
and the <code>core.editor</code> option in <a href="/docs/git-config">git-config[1]</a>.</p>
</dd>
<dt> <code>GIT_SEQUENCE_EDITOR</code> </dt>
<dd>
<p>This environment variable overrides the configured Git editor
when editing the todo list of an interactive rebase. See also
<a href="/docs/git-rebase">git-rebase[1]</a> and the <code>sequence.editor</code> option in
<a href="/docs/git-config">git-config[1]</a>.</p>
</dd>
<dt> <code>GIT_SSH</code> </dt>
<dt> <code>GIT_SSH_COMMAND</code> </dt>
<dd>
<p>If either of these environment variables is set then <em>git fetch</em>
and <em>git push</em> will use the specified command instead of <em>ssh</em>
when they need to connect to a remote system.
The command-line parameters passed to the configured command are
determined by the ssh variant.  See <code>ssh.variant</code> option in
<a href="/docs/git-config">git-config[1]</a> for details.</p>

<p><code>$GIT_SSH_COMMAND</code> takes precedence over <code>$GIT_SSH</code>, and is interpreted
by the shell, which allows additional arguments to be included.
<code>$GIT_SSH</code> on the other hand must be just the path to a program
(which can be a wrapper shell script, if additional arguments are
needed).</p>


<p>Usually it is easier to configure any desired options through your
personal <code>.ssh/config</code> file.  Please consult your ssh documentation
for further details.</p>

</dd>
<dt> <code>GIT_SSH_VARIANT</code> </dt>
<dd>
<p>If this environment variable is set, it overrides Git’s autodetection
whether <code>GIT_SSH</code>/<code>GIT_SSH_COMMAND</code>/<code>core.sshCommand</code> refer to OpenSSH,
plink or tortoiseplink. This variable overrides the config setting
<code>ssh.variant</code> that serves the same purpose.</p>
</dd>
<dt> <code>GIT_ASKPASS</code> </dt>
<dd>
<p>If this environment variable is set, then Git commands which need to
acquire passwords or passphrases (e.g. for HTTP or IMAP authentication)
will call this program with a suitable prompt as command-line argument
and read the password from its STDOUT. See also the <code>core.askPass</code>
option in <a href="/docs/git-config">git-config[1]</a>.</p>
</dd>
<dt> <code>GIT_TERMINAL_PROMPT</code> </dt>
<dd>
<p>If this environment variable is set to <code>0</code>, git will not prompt
on the terminal (e.g., when asking for HTTP authentication).</p>
</dd>
<dt> <code>GIT_CONFIG_GLOBAL</code> </dt>
<dt> <code>GIT_CONFIG_SYSTEM</code> </dt>
<dd>
<p>Take the configuration from the given files instead from global or
system-level configuration files. If <code>GIT_CONFIG_SYSTEM</code> is set, the
system config file defined at build time (usually <code>/etc/gitconfig</code>)
will not be read. Likewise, if <code>GIT_CONFIG_GLOBAL</code> is set, neither
<code>$HOME/.gitconfig</code> nor <code>$XDG_CONFIG_HOME/git/config</code> will be read. Can
be set to <code>/dev/null</code> to skip reading configuration files of the
respective level.</p>
</dd>
<dt> <code>GIT_CONFIG_NOSYSTEM</code> </dt>
<dd>
<p>Whether to skip reading settings from the system-wide
<code>$(prefix)/etc/gitconfig</code> file.  This environment variable can
be used along with <code>$HOME</code> and <code>$XDG_CONFIG_HOME</code> to create a
predictable environment for a picky script, or you can set it
temporarily to avoid using a buggy <code>/etc/gitconfig</code> file while
waiting for someone with sufficient permissions to fix it.</p>
</dd>
<dt> <code>GIT_FLUSH</code> </dt>
<dd>
<p>If this environment variable is set to "1", then commands such
as <em>git blame</em> (in incremental mode), <em>git rev-list</em>, <em>git log</em>,
<em>git check-attr</em> and <em>git check-ignore</em> will
force a flush of the output stream after each record have been
flushed. If this
variable is set to "0", the output of these commands will be done
using completely buffered I/O.   If this environment variable is
not set, Git will choose buffered or record-oriented flushing
based on whether stdout appears to be redirected to a file or not.</p>
</dd>
<dt> <code>GIT_TRACE</code> </dt>
<dd>
<p>Enables general trace messages, e.g. alias expansion, built-in
command execution and external command execution.</p>

<p>If this variable is set to "1", "2" or "true" (comparison
is case insensitive), trace messages will be printed to
stderr.</p>


<p>If the variable is set to an integer value greater than 2
and lower than 10 (strictly) then Git will interpret this
value as an open file descriptor and will try to write the
trace messages into this file descriptor.</p>


<p>Alternatively, if the variable is set to an absolute path
(starting with a <em>/</em> character), Git will interpret this
as a file path and will try to append the trace messages
to it.</p>


<p>Unsetting the variable, or setting it to empty, "0" or
"false" (case insensitive) disables trace messages.</p>

</dd>
<dt> <code>GIT_TRACE_FSMONITOR</code> </dt>
<dd>
<p>Enables trace messages for the filesystem monitor extension.
See <code>GIT_TRACE</code> for available trace output options.</p>
</dd>
<dt> <code>GIT_TRACE_PACK_ACCESS</code> </dt>
<dd>
<p>Enables trace messages for all accesses to any packs. For each
access, the pack file name and an offset in the pack is
recorded. This may be helpful for troubleshooting some
pack-related performance problems.
See <code>GIT_TRACE</code> for available trace output options.</p>
</dd>
<dt> <code>GIT_TRACE_PACKET</code> </dt>
<dd>
<p>Enables trace messages for all packets coming in or out of a
given program. This can help with debugging object negotiation
or other protocol issues. Tracing is turned off at a packet
starting with "PACK" (but see <code>GIT_TRACE_PACKFILE</code> below).
See <code>GIT_TRACE</code> for available trace output options.</p>
</dd>
<dt> <code>GIT_TRACE_PACKFILE</code> </dt>
<dd>
<p>Enables tracing of packfiles sent or received by a
given program. Unlike other trace output, this trace is
verbatim: no headers, and no quoting of binary data. You almost
certainly want to direct into a file (e.g.,
<code>GIT_TRACE_PACKFILE=/tmp/my.pack</code>) rather than displaying it on
the terminal or mixing it with other trace output.</p>

<p>Note that this is currently only implemented for the client side
of clones and fetches.</p>

</dd>
<dt> <code>GIT_TRACE_PERFORMANCE</code> </dt>
<dd>
<p>Enables performance related trace messages, e.g. total execution
time of each Git command.
See <code>GIT_TRACE</code> for available trace output options.</p>
</dd>
<dt> <code>GIT_TRACE_REFS</code> </dt>
<dd>
<p>Enables trace messages for operations on the ref database.
See <code>GIT_TRACE</code> for available trace output options.</p>
</dd>
<dt> <code>GIT_TRACE_SETUP</code> </dt>
<dd>
<p>Enables trace messages printing the .git, working tree and current
working directory after Git has completed its setup phase.
See <code>GIT_TRACE</code> for available trace output options.</p>
</dd>
<dt> <code>GIT_TRACE_SHALLOW</code> </dt>
<dd>
<p>Enables trace messages that can help debugging fetching /
cloning of shallow repositories.
See <code>GIT_TRACE</code> for available trace output options.</p>
</dd>
<dt> <code>GIT_TRACE_CURL</code> </dt>
<dd>
<p>Enables a curl full trace dump of all incoming and outgoing data,
including descriptive information, of the git transport protocol.
This is similar to doing curl <code>--trace-ascii</code> on the command line.
See <code>GIT_TRACE</code> for available trace output options.</p>
</dd>
<dt> <code>GIT_TRACE_CURL_NO_DATA</code> </dt>
<dd>
<p>When a curl trace is enabled (see <code>GIT_TRACE_CURL</code> above), do not dump
data (that is, only dump info lines and headers).</p>
</dd>
<dt> <code>GIT_TRACE2</code> </dt>
<dd>
<p>Enables more detailed trace messages from the "trace2" library.
Output from <code>GIT_TRACE2</code> is a simple text-based format for human
readability.</p>

<p>If this variable is set to "1", "2" or "true" (comparison
is case insensitive), trace messages will be printed to
stderr.</p>


<p>If the variable is set to an integer value greater than 2
and lower than 10 (strictly) then Git will interpret this
value as an open file descriptor and will try to write the
trace messages into this file descriptor.</p>


<p>Alternatively, if the variable is set to an absolute path
(starting with a <em>/</em> character), Git will interpret this
as a file path and will try to append the trace messages
to it.  If the path already exists and is a directory, the
trace messages will be written to files (one per process)
in that directory, named according to the last component
of the SID and an optional counter (to avoid filename
collisions).</p>


<p>In addition, if the variable is set to
<code>af_unix:[&lt;socket_type&gt;:]&lt;absolute-pathname&gt;</code>, Git will try
to open the path as a Unix Domain Socket.  The socket type
can be either <code>stream</code> or <code>dgram</code>.</p>


<p>Unsetting the variable, or setting it to empty, "0" or
"false" (case insensitive) disables trace messages.</p>


<p>See <a href="/docs/api-trace2">Trace2 documentation</a>
for full details.</p>

</dd>
<dt> <code>GIT_TRACE2_EVENT</code> </dt>
<dd>
<p>This setting writes a JSON-based format that is suited for machine
interpretation.
See <code>GIT_TRACE2</code> for available trace output options and
<a href="/docs/api-trace2">Trace2 documentation</a> for full details.</p>
</dd>
<dt> <code>GIT_TRACE2_PERF</code> </dt>
<dd>
<p>In addition to the text-based messages available in <code>GIT_TRACE2</code>, this
setting writes a column-based format for understanding nesting
regions.
See <code>GIT_TRACE2</code> for available trace output options and
<a href="/docs/api-trace2">Trace2 documentation</a> for full details.</p>
</dd>
<dt> <code>GIT_TRACE_REDACT</code> </dt>
<dd>
<p>By default, when tracing is activated, Git redacts the values of
cookies, the "Authorization:" header, the "Proxy-Authorization:"
header and packfile URIs. Set this variable to <code>0</code> to prevent this
redaction.</p>
</dd>
<dt> <code>GIT_LITERAL_PATHSPECS</code> </dt>
<dd>
<p>Setting this variable to <code>1</code> will cause Git to treat all
pathspecs literally, rather than as glob patterns. For example,
running <code>GIT_LITERAL_PATHSPECS=1 git log -- '*.c'</code> will search
for commits that touch the path <code>*.c</code>, not any paths that the
glob <code>*.c</code> matches. You might want this if you are feeding
literal paths to Git (e.g., paths previously given to you by
<code>git ls-tree</code>, <code>--raw</code> diff output, etc).</p>
</dd>
<dt> <code>GIT_GLOB_PATHSPECS</code> </dt>
<dd>
<p>Setting this variable to <code>1</code> will cause Git to treat all
pathspecs as glob patterns (aka "glob" magic).</p>
</dd>
<dt> <code>GIT_NOGLOB_PATHSPECS</code> </dt>
<dd>
<p>Setting this variable to <code>1</code> will cause Git to treat all
pathspecs as literal (aka "literal" magic).</p>
</dd>
<dt> <code>GIT_ICASE_PATHSPECS</code> </dt>
<dd>
<p>Setting this variable to <code>1</code> will cause Git to treat all
pathspecs as case-insensitive.</p>
</dd>
<dt> <code>GIT_REFLOG_ACTION</code> </dt>
<dd>
<p>When a ref is updated, reflog entries are created to keep
track of the reason why the ref was updated (which is
typically the name of the high-level command that updated
the ref), in addition to the old and new values of the ref.
A scripted Porcelain command can use set_reflog_action
helper function in <code>git-sh-setup</code> to set its name to this
variable when it is invoked as the top level command by the
end user, to be recorded in the body of the reflog.</p>
</dd>
<dt> <code>GIT_REF_PARANOIA</code> </dt>
<dd>
<p>If set to <code>0</code>, ignore broken or badly named refs when iterating
over lists of refs. Normally Git will try to include any such
refs, which may cause some operations to fail. This is usually
preferable, as potentially destructive operations (e.g.,
<a href="/docs/git-prune">git-prune[1]</a>) are better off aborting rather than
ignoring broken refs (and thus considering the history they
point to as not worth saving). The default value is <code>1</code> (i.e.,
be paranoid about detecting and aborting all operations). You
should not normally need to set this to <code>0</code>, but it may be
useful when trying to salvage data from a corrupted repository.</p>
</dd>
<dt> <code>GIT_ALLOW_PROTOCOL</code> </dt>
<dd>
<p>If set to a colon-separated list of protocols, behave as if
<code>protocol.allow</code> is set to <code>never</code>, and each of the listed
protocols has <code>protocol.&lt;name&gt;.allow</code> set to <code>always</code>
(overriding any existing configuration). In other words, any
protocol not mentioned will be disallowed (i.e., this is a
whitelist, not a blacklist). See the description of
<code>protocol.allow</code> in <a href="/docs/git-config">git-config[1]</a> for more details.</p>
</dd>
<dt> <code>GIT_PROTOCOL_FROM_USER</code> </dt>
<dd>
<p>Set to 0 to prevent protocols used by fetch/push/clone which are
configured to the <code>user</code> state.  This is useful to restrict recursive
submodule initialization from an untrusted repository or for programs
which feed potentially-untrusted URLS to git commands.  See
<a href="/docs/git-config">git-config[1]</a> for more details.</p>
</dd>
<dt> <code>GIT_PROTOCOL</code> </dt>
<dd>
<p>For internal use only.  Used in handshaking the wire protocol.
Contains a colon <em>:</em> separated list of keys with optional values
<em>key[=value]</em>.  Presence of unknown keys and values must be
ignored.</p>

<p>Note that servers may need to be configured to allow this variable to
pass over some transports. It will be propagated automatically when
accessing local repositories (i.e., <code>file://</code> or a filesystem path), as
well as over the <code>git://</code> protocol. For git-over-http, it should work
automatically in most configurations, but see the discussion in
<a href="/docs/git-http-backend">git-http-backend[1]</a>. For git-over-ssh, the ssh server may need
to be configured to allow clients to pass this variable (e.g., by using
<code>AcceptEnv GIT_PROTOCOL</code> with OpenSSH).</p>


<p>This configuration is optional. If the variable is not propagated, then
clients will fall back to the original "v0" protocol (but may miss out
on some performance improvements or features). This variable currently
only affects clones and fetches; it is not yet used for pushes (but may
be in the future).</p>

</dd>
<dt> <code>GIT_OPTIONAL_LOCKS</code> </dt>
<dd>
<p>If set to <code>0</code>, Git will complete any requested operation without
performing any optional sub-operations that require taking a lock.
For example, this will prevent <code>git status</code> from refreshing the
index as a side effect. This is useful for processes running in
the background which do not want to cause lock contention with
other operations on the repository.  Defaults to <code>1</code>.</p>
</dd>
<dt> <code>GIT_REDIRECT_STDIN</code> </dt>
<dt> <code>GIT_REDIRECT_STDOUT</code> </dt>
<dt> <code>GIT_REDIRECT_STDERR</code> </dt>
<dd>
<p>Windows-only: allow redirecting the standard input/output/error
handles to paths specified by the environment variables. This is
particularly useful in multi-threaded applications where the
canonical way to pass standard handles via <code>CreateProcess()</code> is
not an option because it would require the handles to be marked
inheritable (and consequently <strong>every</strong> spawned process would
inherit them, possibly blocking regular Git operations). The
primary intended use case is to use named pipes for communication
(e.g. <code>\\.\pipe\my-git-stdin-123</code>).</p>

<p>Two special values are supported: <code>off</code> will simply close the
corresponding standard handle, and if <code>GIT_REDIRECT_STDERR</code> is
<code>2&gt;&amp;1</code>, standard error will be redirected to the same handle as
standard output.</p>

</dd>
<dt> <code>GIT_PRINT_SHA1_ELLIPSIS</code> (deprecated) </dt>
<dd>
<p>If set to <code>yes</code>, print an ellipsis following an
(abbreviated) SHA-1 value.  This affects indications of
detached HEADs (<a href="/docs/git-checkout">git-checkout[1]</a>) and the raw
diff output (<a href="/docs/git-diff">git-diff[1]</a>).  Printing an
ellipsis in the cases mentioned is no longer considered
adequate and support for it is likely to be removed in the
foreseeable future (along with the variable).</p>
</dd>
</dl>





<h2>Discussion
</h2>


<p>More detail on the following is available from the
<a href="/docs/user-manual#git-concepts">Git concepts chapter of the
user-manual</a> and <a href="/docs/gitcore-tutorial">gitcore-tutorial[7]</a>.</p>


<p>A Git project normally consists of a working directory with a ".git"
subdirectory at the top level.  The .git directory contains, among other
things, a compressed object database representing the complete history
of the project, an "index" file which links that history to the current
contents of the working tree, and named pointers into that history such
as tags and branch heads.</p>


<p>The object database contains objects of three main types: blobs, which
hold file data; trees, which point to blobs and other trees to build up
directory hierarchies; and commits, which each reference a single tree
and some number of parent commits.</p>


<p>The commit, equivalent to what other systems call a "changeset" or
"version", represents a step in the project’s history, and each parent
represents an immediately preceding step.  Commits with more than one
parent represent merges of independent lines of development.</p>


<p>All objects are named by the SHA-1 hash of their contents, normally
written as a string of 40 hex digits.  Such names are globally unique.
The entire history leading up to a commit can be vouched for by signing
just that commit.  A fourth object type, the tag, is provided for this
purpose.</p>


<p>When first created, objects are stored in individual files, but for
efficiency may later be compressed together into "pack files".</p>


<p>Named pointers called refs mark interesting points in history.  A ref
may contain the SHA-1 name of an object or the name of another ref.  Refs
with names beginning <code>ref/head/</code> contain the SHA-1 name of the most
recent commit (or "head") of a branch under development.  SHA-1 names of
tags of interest are stored under <code>ref/tags/</code>.  A special ref named
<code>HEAD</code> contains the name of the currently checked-out branch.</p>


<p>The index file is initialized with a list of all paths and, for each
path, a blob object and a set of attributes.  The blob object represents
the contents of the file as of the head of the current branch.  The
attributes (last modified time, size, etc.) are taken from the
corresponding file in the working tree.  Subsequent changes to the
working tree can be found by comparing these attributes.  The index may
be updated with new content, and new commits may be created from the
content stored in the index.</p>


<p>The index is also capable of storing multiple entries (called "stages")
for a given pathname.  These stages are used to hold the various
unmerged version of a file when a merge is in progress.</p>




<h2>FURTHER DOCUMENTATION</h2>


<p>See the references in the "description" section to get started
using Git.  The following is probably more detail than necessary
for a first-time user.</p>


<p>The <a href="/docs/user-manual#git-concepts">Git concepts chapter of the
user-manual</a> and <a href="/docs/gitcore-tutorial">gitcore-tutorial[7]</a> both provide
introductions to the underlying Git architecture.</p>


<p>See <a href="/docs/gitworkflows">gitworkflows[7]</a> for an overview of recommended workflows.</p>


<p>See also the <a href="/docs/howto-index">howto</a> documents for some useful
examples.</p>


<p>The internals are documented in the
<a href="/docs/api-index">Git API documentation</a>.</p>


<p>Users migrating from CVS may also want to
read <a href="/docs/gitcvs-migration">gitcvs-migration[7]</a>.</p>




<h2>Authors</h2>


<p>Git was started by Linus Torvalds, and is currently maintained by Junio
C Hamano. Numerous contributions have come from the Git mailing list
&lt;<a href="mailto:git@vger.kernel.org">git@vger.kernel.org</a>&gt;.  <a href="http://www.openhub.net/p/git/contributors/summary">http://www.openhub.net/p/git/contributors/summary</a>
gives you a more complete list of contributors.</p>


<p>If you have a clone of git.git itself, the
output of <a href="/docs/git-shortlog">git-shortlog[1]</a> and <a href="/docs/git-blame">git-blame[1]</a> can show you
the authors for specific parts of the project.</p>




<h2>Reporting Bugs</h2>


<p>Report bugs to the Git mailing list &lt;<a href="mailto:git@vger.kernel.org">git@vger.kernel.org</a>&gt; where the
development and maintenance is primarily done.  You do not have to be
subscribed to the list to send a message there.  See the list archive
at <a href="https://lore.kernel.org/git">https://lore.kernel.org/git</a> for previous bug reports and other
discussions.</p>


<p>Issues which are security relevant should be disclosed privately to
the Git Security mailing list &lt;<a href="mailto:git-security@googlegroups.com">git-security@googlegroups.com</a>&gt;.</p>




<h2>SEE ALSO</h2>


<p><a href="/docs/gittutorial">gittutorial[7]</a>, <a href="/docs/gittutorial-2">gittutorial-2[7]</a>,
<a href="/docs/giteveryday">giteveryday[7]</a>, <a href="/docs/gitcvs-migration">gitcvs-migration[7]</a>,
<a href="/docs/gitglossary">gitglossary[7]</a>, <a href="/docs/gitcore-tutorial">gitcore-tutorial[7]</a>,
<a href="/docs/gitcli">gitcli[7]</a>, <a href="/docs/user-manual">The Git User’s Manual</a>,
<a href="/docs/gitworkflows">gitworkflows[7]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-clean - Remove untracked files from the working tree</span></h2>




<h2><br>synopsis</h2>


<pre><em>git clean</em> [-d] [-f] [-i] [-n] [-q] [-e &lt;pattern&gt;] [-x | -X] [--] &lt;path&gt;…<U+200B></pre>




<h2>description</h2>


<p>Cleans the working tree by recursively removing files that are not
under version control, starting from the current directory.</p>


<p>Normally, only files unknown to Git are removed, but if the <code>-x</code>
option is specified, ignored files are also removed. This can, for
example, be useful to remove all build products.</p>


<p>If any optional <code>&lt;path&gt;...</code> arguments are given, only those paths
are affected.</p>




<h2>options</h2>


<dl>
<dt> -d </dt>
<dd>
<p>Normally, when no &lt;path&gt; is specified, git clean will not
recurse into untracked directories to avoid removing too much.
Specify -d to have it recurse into such directories as well.
If any paths are specified, -d is irrelevant; all untracked
files matching the specified paths (with exceptions for nested
git directories mentioned under <code>--force</code>) will be removed.</p>
</dd>
<dt> -f </dt>
<dt> --force </dt>
<dd>
<p>If the Git configuration variable clean.requireForce is not set
to false, <em>git clean</em> will refuse to delete files or directories
unless given -f or -i.  Git will refuse to modify untracked
nested git repositories (directories with a .git subdirectory)
unless a second -f is given.</p>
</dd>
<dt> -i </dt>
<dt> --interactive </dt>
<dd>
<p>Show what would be done and clean files interactively. See
“Interactive mode” for details.</p>
</dd>
<dt> -n </dt>
<dt> --dry-run </dt>
<dd>
<p>Don’t actually remove anything, just show what would be done.</p>
</dd>
<dt> -q </dt>
<dt> --quiet </dt>
<dd>
<p>Be quiet, only report errors, but not the files that are
successfully removed.</p>
</dd>
<dt> -e &lt;pattern&gt; </dt>
<dt> --exclude=&lt;pattern&gt; </dt>
<dd>
<p>Use the given exclude pattern in addition to the standard ignore rules
(see <a href="/docs/gitignore">gitignore[5]</a>).</p>
</dd>
<dt> -x </dt>
<dd>
<p>Don’t use the standard ignore rules (see <a href="/docs/gitignore">gitignore[5]</a>), but
still use the ignore rules given with <code>-e</code> options from the command
line.  This allows removing all untracked
files, including build products.  This can be used (possibly in
conjunction with <em>git restore</em> or <em>git reset</em>) to create a pristine
working directory to test a clean build.</p>
</dd>
<dt> -X </dt>
<dd>
<p>Remove only files ignored by Git.  This may be useful to rebuild
everything from scratch, but keep manually created files.</p>
</dd>
</dl>




<h2>Interactive mode</h2>


<p>When the command enters the interactive mode, it shows the
files and directories to be cleaned, and goes into its
interactive command loop.</p>


<p>The command loop shows the list of subcommands available, and
gives a prompt "What now&gt; ".  In general, when the prompt ends
with a single <em>&gt;</em>, you can pick only one of the choices given
and type return, like this:</p>



<pre>    *** Commands ***
	1: clean                2: filter by pattern    3: select by numbers
	4: ask each             5: quit                 6: help
    What now&gt; 1</pre>



<p>You also could say <code>c</code> or <code>clean</code> above as long as the choice is unique.</p>


<p>The main command loop has 6 subcommands.</p>


<dl>
<dt> clean </dt>
<dd>
<p>Start cleaning files and directories, and then quit.</p>
</dd>
<dt> filter by pattern </dt>
<dd>
<p>This shows the files and directories to be deleted and issues an
"Input ignore patterns&gt;&gt;" prompt. You can input space-separated
patterns to exclude files and directories from deletion.
E.g. "*.c *.h" will excludes files end with ".c" and ".h" from
deletion. When you are satisfied with the filtered result, press
ENTER (empty) back to the main menu.</p>
</dd>
<dt> select by numbers </dt>
<dd>
<p>This shows the files and directories to be deleted and issues an
"Select items to delete&gt;&gt;" prompt. When the prompt ends with double
<em>&gt;&gt;</em> like this, you can make more than one selection, concatenated
with whitespace or comma.  Also you can say ranges.  E.g. "2-5 7,9"
to choose 2,3,4,5,7,9 from the list.  If the second number in a
range is omitted, all remaining items are selected.  E.g. "7-" to
choose 7,8,9 from the list.  You can say <em>*</em> to choose everything.
Also when you are satisfied with the filtered result, press ENTER
(empty) back to the main menu.</p>
</dd>
<dt> ask each </dt>
<dd>
<p>This will start to clean, and you must confirm one by one in order
to delete items. Please note that this action is not as efficient
as the above two actions.</p>
</dd>
<dt> quit </dt>
<dd>
<p>This lets you quit without do cleaning.</p>
</dd>
<dt> help </dt>
<dd>
<p>Show brief usage of interactive git-clean.</p>
</dd>
</dl>




<h2>SEE ALSO</h2>


<p><a href="/docs/gitignore">gitignore[5]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-gc - Cleanup unnecessary files and optimize the local repository</span></h2>




<h2><br>synopsis</h2>


<pre><em>git gc</em> [--aggressive] [--auto] [--quiet] [--prune=&lt;date&gt; | --no-prune] [--force] [--keep-largest-pack]</pre>




<h2>description</h2>


<p>Runs a number of housekeeping tasks within the current repository,
such as compressing file revisions (to reduce disk space and increase
performance), removing unreachable objects which may have been
created from prior invocations of <em>git add</em>, packing refs, pruning
reflog, rerere metadata or stale working trees. May also update ancillary
indexes such as the commit-graph.</p>


<p>When common porcelain operations that create objects are run, they
will check whether the repository has grown substantially since the
last maintenance, and if so run <code>git gc</code> automatically. See <code>gc.auto</code>
below for how to disable this behavior.</p>


<p>Running <code>git gc</code> manually should only be needed when adding objects to
a repository without regularly running such porcelain commands, to do
a one-off repository optimization, or e.g. to clean up a suboptimal
mass-import. See the "PACKFILE OPTIMIZATION" section in
<a href="/docs/git-fast-import">git-fast-import[1]</a> for more details on the import case.</p>




<h2>options</h2>


<dl>
<dt> --aggressive </dt>
<dd>
<p>Usually <em>git gc</em> runs very quickly while providing good disk
space utilization and performance.  This option will cause
<em>git gc</em> to more aggressively optimize the repository at the expense
of taking much more time.  The effects of this optimization are
mostly persistent. See the "AGGRESSIVE" section below for details.</p>
</dd>
<dt> --auto </dt>
<dd>
<p>With this option, <em>git gc</em> checks whether any housekeeping is
required; if not, it exits without performing any work.</p>

<p>See the <code>gc.auto</code> option in the "CONFIGURATION" section below for how
this heuristic works.</p>


<p>Once housekeeping is triggered by exceeding the limits of
configuration options such as <code>gc.auto</code> and <code>gc.autoPackLimit</code>, all
other housekeeping tasks (e.g. rerere, working trees, reflog…<U+200B>) will
be performed as well.</p>

</dd>
<dt> --prune=&lt;date&gt; </dt>
<dd>
<p>Prune loose objects older than date (default is 2 weeks ago,
overridable by the config variable <code>gc.pruneExpire</code>).
--prune=now prunes loose objects regardless of their age and
increases the risk of corruption if another process is writing to
the repository concurrently; see "NOTES" below. --prune is on by
default.</p>
</dd>
<dt> --no-prune </dt>
<dd>
<p>Do not prune any loose objects.</p>
</dd>
<dt> --quiet </dt>
<dd>
<p>Suppress all progress reports.</p>
</dd>
<dt> --force </dt>
<dd>
<p>Force <code>git gc</code> to run even if there may be another <code>git gc</code>
instance running on this repository.</p>
</dd>
<dt> --keep-largest-pack </dt>
<dd>
<p>All packs except the largest pack and those marked with a
<code>.keep</code> files are consolidated into a single pack. When this
option is used, <code>gc.bigPackThreshold</code> is ignored.</p>
</dd>
</dl>




<h2>AGGRESSIVE</h2>


<p>When the <code>--aggressive</code> option is supplied, <a href="/docs/git-repack">git-repack[1]</a> will
be invoked with the <code>-f</code> flag, which in turn will pass
<code>--no-reuse-delta</code> to <a href="/docs/git-pack-objects">git-pack-objects[1]</a>. This will throw
away any existing deltas and re-compute them, at the expense of
spending much more time on the repacking.</p>


<p>The effects of this are mostly persistent, e.g. when packs and loose
objects are coalesced into one another pack the existing deltas in
that pack might get re-used, but there are also various cases where we
might pick a sub-optimal delta from a newer pack instead.</p>


<p>Furthermore, supplying <code>--aggressive</code> will tweak the <code>--depth</code> and
<code>--window</code> options passed to <a href="/docs/git-repack">git-repack[1]</a>. See the
<code>gc.aggressiveDepth</code> and <code>gc.aggressiveWindow</code> settings below. By
using a larger window size we’re more likely to find more optimal
deltas.</p>


<p>It’s probably not worth it to use this option on a given repository
without running tailored performance benchmarks on it. It takes a lot
more time, and the resulting space/delta optimization may or may not
be worth it. Not using this at all is the right trade-off for most
users and their repositories.</p>




<h2>CONFIGURATION</h2>


<p>The below documentation is the same as what’s found in
<a href="/docs/git-config">git-config[1]</a>:</p>


<dl>
<dt> gc.aggressiveDepth </dt>
<dd>
<p>The depth parameter used in the delta compression
algorithm used by <em>git gc --aggressive</em>.  This defaults
to 50, which is the default for the <code>--depth</code> option when
<code>--aggressive</code> isn’t in use.</p>

<p>See the documentation for the <code>--depth</code> option in
<a href="/docs/git-repack">git-repack[1]</a> for more details.</p>

</dd>
<dt> gc.aggressiveWindow </dt>
<dd>
<p>The window size parameter used in the delta compression
algorithm used by <em>git gc --aggressive</em>.  This defaults
to 250, which is a much more aggressive window size than
the default <code>--window</code> of 10.</p>

<p>See the documentation for the <code>--window</code> option in
<a href="/docs/git-repack">git-repack[1]</a> for more details.</p>

</dd>
<dt> gc.auto </dt>
<dd>
<p>When there are approximately more than this many loose
objects in the repository, <code>git gc --auto</code> will pack them.
Some Porcelain commands use this command to perform a
light-weight garbage collection from time to time.  The
default value is 6700.</p>

<p>Setting this to 0 disables not only automatic packing based on the
number of loose objects, but any other heuristic <code>git gc --auto</code> will
otherwise use to determine if there’s work to do, such as
<code>gc.autoPackLimit</code>.</p>

</dd>
<dt> gc.autoPackLimit </dt>
<dd>
<p>When there are more than this many packs that are not
marked with <code>*.keep</code> file in the repository, <code>git gc
--auto</code> consolidates them into one larger pack.  The
default value is 50.  Setting this to 0 disables it.
Setting <code>gc.auto</code> to 0 will also disable this.</p>

<p>See the <code>gc.bigPackThreshold</code> configuration variable below. When in
use, it’ll affect how the auto pack limit works.</p>

</dd>
<dt> gc.autoDetach </dt>
<dd>
<p>Make <code>git gc --auto</code> return immediately and run in background
if the system supports it. Default is true.</p>
</dd>
<dt> gc.bigPackThreshold </dt>
<dd>
<p>If non-zero, all packs larger than this limit are kept when
<code>git gc</code> is run. This is very similar to <code>--keep-largest-pack</code>
except that all packs that meet the threshold are kept, not
just the largest pack. Defaults to zero. Common unit suffixes of
<em>k</em>, <em>m</em>, or <em>g</em> are supported.</p>

<p>Note that if the number of kept packs is more than gc.autoPackLimit,
this configuration variable is ignored, all packs except the base pack
will be repacked. After this the number of packs should go below
gc.autoPackLimit and gc.bigPackThreshold should be respected again.</p>


<p>If the amount of memory estimated for <code>git repack</code> to run smoothly is
not available and <code>gc.bigPackThreshold</code> is not set, the largest pack
will also be excluded (this is the equivalent of running <code>git gc</code> with
<code>--keep-largest-pack</code>).</p>

</dd>
<dt> gc.writeCommitGraph </dt>
<dd>
<p>If true, then gc will rewrite the commit-graph file when
<a href="/docs/git-gc">git-gc[1]</a> is run. When using <code>git gc --auto</code>
the commit-graph will be updated if housekeeping is
required. Default is true. See <a href="/docs/git-commit-graph">git-commit-graph[1]</a>
for details.</p>
</dd>
<dt> gc.logExpiry </dt>
<dd>
<p>If the file gc.log exists, then <code>git gc --auto</code> will print
its content and exit with status zero instead of running
unless that file is more than <em>gc.logExpiry</em> old.  Default is
"1.day".  See <code>gc.pruneExpire</code> for more ways to specify its
value.</p>
</dd>
<dt> gc.packRefs </dt>
<dd>
<p>Running <code>git pack-refs</code> in a repository renders it
unclonable by Git versions prior to 1.5.1.2 over dumb
transports such as HTTP.  This variable determines whether
<em>git gc</em> runs <code>git pack-refs</code>. This can be set to <code>notbare</code>
to enable it within all non-bare repos or it can be set to a
boolean value.  The default is <code>true</code>.</p>
</dd>
<dt> gc.pruneExpire </dt>
<dd>
<p>When <em>git gc</em> is run, it will call <em>prune --expire 2.weeks.ago</em>.
Override the grace period with this config variable.  The value
"now" may be used to disable this grace period and always prune
unreachable objects immediately, or "never" may be used to
suppress pruning.  This feature helps prevent corruption when
<em>git gc</em> runs concurrently with another process writing to the
repository; see the "NOTES" section of <a href="/docs/git-gc">git-gc[1]</a>.</p>
</dd>
<dt> gc.worktreePruneExpire </dt>
<dd>
<p>When <em>git gc</em> is run, it calls
<em>git worktree prune --expire 3.months.ago</em>.
This config variable can be used to set a different grace
period. The value "now" may be used to disable the grace
period and prune <code>$GIT_DIR/worktrees</code> immediately, or "never"
may be used to suppress pruning.</p>
</dd>
<dt> gc.reflogExpire </dt>
<dt> gc.&lt;pattern&gt;.reflogExpire </dt>
<dd>
<p><em>git reflog expire</em> removes reflog entries older than
this time; defaults to 90 days. The value "now" expires all
entries immediately, and "never" suppresses expiration
altogether. With "&lt;pattern&gt;" (e.g.
"refs/stash") in the middle the setting applies only to
the refs that match the &lt;pattern&gt;.</p>
</dd>
<dt> gc.reflogExpireUnreachable </dt>
<dt> gc.&lt;pattern&gt;.reflogExpireUnreachable </dt>
<dd>
<p><em>git reflog expire</em> removes reflog entries older than
this time and are not reachable from the current tip;
defaults to 30 days. The value "now" expires all entries
immediately, and "never" suppresses expiration altogether.
With "&lt;pattern&gt;" (e.g. "refs/stash")
in the middle, the setting applies only to the refs that
match the &lt;pattern&gt;.</p>

<p>These types of entries are generally created as a result of using <code>git
commit --amend</code> or <code>git rebase</code> and are the commits prior to the amend
or rebase occurring.  Since these changes are not part of the current
project most users will want to expire them sooner, which is why the
default is more aggressive than <code>gc.reflogExpire</code>.</p>

</dd>
<dt> gc.rerereResolved </dt>
<dd>
<p>Records of conflicted merge you resolved earlier are
kept for this many days when <em>git rerere gc</em> is run.
You can also use more human-readable "1.month.ago", etc.
The default is 60 days.  See <a href="/docs/git-rerere">git-rerere[1]</a>.</p>
</dd>
<dt> gc.rerereUnresolved </dt>
<dd>
<p>Records of conflicted merge you have not resolved are
kept for this many days when <em>git rerere gc</em> is run.
You can also use more human-readable "1.month.ago", etc.
The default is 15 days.  See <a href="/docs/git-rerere">git-rerere[1]</a>.</p>
</dd>
</dl>




<h2>NOTES</h2>


<p><em>git gc</em> tries very hard not to delete objects that are referenced
anywhere in your repository. In particular, it will keep not only
objects referenced by your current set of branches and tags, but also
objects referenced by the index, remote-tracking branches, reflogs
(which may reference commits in branches that were later amended or
rewound), and anything else in the refs/* namespace. Note that a note
(of the kind created by <em>git notes</em>) attached to an object does not
contribute in keeping the object alive. If you are expecting some
objects to be deleted and they aren’t, check all of those locations
and decide whether it makes sense in your case to remove those
references.</p>


<p>On the other hand, when <em>git gc</em> runs concurrently with another process,
there is a risk of it deleting an object that the other process is using
but hasn’t created a reference to. This may just cause the other process
to fail or may corrupt the repository if the other process later adds a
reference to the deleted object. Git has two features that significantly
mitigate this problem:</p>


<ol>
<li>
<p>Any object with modification time newer than the <code>--prune</code> date is kept,
along with everything reachable from it.</p>
</li>
<li>
<p>Most operations that add an object to the database update the
modification time of the object if it is already present so that #1
applies.</p>
</li>
</ol>


<p>However, these features fall short of a complete solution, so users who
run commands concurrently have to live with some risk of corruption (which
seems to be low in practice).</p>




<h2>HOOKS</h2>


<p>The <em>git gc --auto</em> command will run the <em>pre-auto-gc</em> hook.  See
<a href="/docs/githooks">githooks[5]</a> for more information.</p>




<h2>SEE ALSO</h2>


<p><a href="/docs/git-prune">git-prune[1]</a>
<a href="/docs/git-reflog">git-reflog[1]</a>
<a href="/docs/git-repack">git-repack[1]</a>
<a href="/docs/git-rerere">git-rerere[1]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-fsck - Verifies the connectivity and validity of the objects in the database</span></h2>




<h2><br>synopsis</h2>


<pre><em>git fsck</em> [--tags] [--root] [--unreachable] [--cache] [--no-reflogs]
	 [--[no-]full] [--strict] [--verbose] [--lost-found]
	 [--[no-]dangling] [--[no-]progress] [--connectivity-only]
	 [--[no-]name-objects] [&lt;object&gt;…<U+200B>]</pre>




<h2>description</h2>


<p>Verifies the connectivity and validity of the objects in the database.</p>




<h2>options</h2>


<dl>
<dt> &lt;object&gt; </dt>
<dd>
<p>An object to treat as the head of an unreachability trace.</p>

<p>If no objects are given, <em>git fsck</em> defaults to using the
index file, all SHA-1 references in <code>refs</code> namespace, and all reflogs
(unless --no-reflogs is given) as heads.</p>

</dd>
<dt> --unreachable </dt>
<dd>
<p>Print out objects that exist but that aren’t reachable from any
of the reference nodes.</p>
</dd>
<dt> --[no-]dangling </dt>
<dd>
<p>Print objects that exist but that are never <em>directly</em> used (default).
<code>--no-dangling</code> can be used to omit this information from the output.</p>
</dd>
<dt> --root </dt>
<dd>
<p>Report root nodes.</p>
</dd>
<dt> --tags </dt>
<dd>
<p>Report tags.</p>
</dd>
<dt> --cache </dt>
<dd>
<p>Consider any object recorded in the index also as a head node for
an unreachability trace.</p>
</dd>
<dt> --no-reflogs </dt>
<dd>
<p>Do not consider commits that are referenced only by an
entry in a reflog to be reachable.  This option is meant
only to search for commits that used to be in a ref, but
now aren’t, but are still in that corresponding reflog.</p>
</dd>
<dt> --full </dt>
<dd>
<p>Check not just objects in GIT_OBJECT_DIRECTORY
($GIT_DIR/objects), but also the ones found in alternate
object pools listed in GIT_ALTERNATE_OBJECT_DIRECTORIES
or $GIT_DIR/objects/info/alternates,
and in packed Git archives found in $GIT_DIR/objects/pack
and corresponding pack subdirectories in alternate
object pools.  This is now default; you can turn it off
with --no-full.</p>
</dd>
<dt> --connectivity-only </dt>
<dd>
<p>Check only the connectivity of reachable objects, making sure
that any objects referenced by a reachable tag, commit, or tree
is present. This speeds up the operation by avoiding reading
blobs entirely (though it does still check that referenced blobs
exist). This will detect corruption in commits and trees, but
not do any semantic checks (e.g., for format errors). Corruption
in blob objects will not be detected at all.</p>

<p>Unreachable tags, commits, and trees will also be accessed to find the
tips of dangling segments of history. Use <code>--no-dangling</code> if you don’t
care about this output and want to speed it up further.</p>

</dd>
<dt> --strict </dt>
<dd>
<p>Enable more strict checking, namely to catch a file mode
recorded with g+w bit set, which was created by older
versions of Git.  Existing repositories, including the
Linux kernel, Git itself, and sparse repository have old
objects that triggers this check, but it is recommended
to check new projects with this flag.</p>
</dd>
<dt> --verbose </dt>
<dd>
<p>Be chatty.</p>
</dd>
<dt> --lost-found </dt>
<dd>
<p>Write dangling objects into .git/lost-found/commit/ or
.git/lost-found/other/, depending on type.  If the object is
a blob, the contents are written into the file, rather than
its object name.</p>
</dd>
<dt> --name-objects </dt>
<dd>
<p>When displaying names of reachable objects, in addition to the
SHA-1 also display a name that describes <strong>how</strong> they are reachable,
compatible with <a href="/docs/git-rev-parse">git-rev-parse[1]</a>, e.g.
<code>HEAD@{1234567890}~25^2:src/</code>.</p>
</dd>
<dt> --[no-]progress </dt>
<dd>
<p>Progress status is reported on the standard error stream by
default when it is attached to a terminal, unless
--no-progress or --verbose is specified. --progress forces
progress status even if the standard error stream is not
directed to a terminal.</p>
</dd>
</dl>




<h2>CONFIGURATION</h2>


<dl>
<dt> fsck.&lt;msg-id&gt; </dt>
<dd>
<p>During fsck git may find issues with legacy data which
wouldn’t be generated by current versions of git, and which
wouldn’t be sent over the wire if <code>transfer.fsckObjects</code> was
set. This feature is intended to support working with legacy
repositories containing such data.</p>

<p>Setting <code>fsck.&lt;msg-id&gt;</code> will be picked up by <a href="/docs/git-fsck">git-fsck[1]</a>, but
to accept pushes of such data set <code>receive.fsck.&lt;msg-id&gt;</code> instead, or
to clone or fetch it set <code>fetch.fsck.&lt;msg-id&gt;</code>.</p>


<p>The rest of the documentation discusses <code>fsck.*</code> for brevity, but the
same applies for the corresponding <code>receive.fsck.*</code> and
<code>fetch.&lt;msg-id&gt;.*</code>. variables.</p>


<p>Unlike variables like <code>color.ui</code> and <code>core.editor</code> the
<code>receive.fsck.&lt;msg-id&gt;</code> and <code>fetch.fsck.&lt;msg-id&gt;</code> variables will not
fall back on the <code>fsck.&lt;msg-id&gt;</code> configuration if they aren’t set. To
uniformly configure the same fsck settings in different circumstances
all three of them they must all set to the same values.</p>


<p>When <code>fsck.&lt;msg-id&gt;</code> is set, errors can be switched to warnings and
vice versa by configuring the <code>fsck.&lt;msg-id&gt;</code> setting where the
<code>&lt;msg-id&gt;</code> is the fsck message ID and the value is one of <code>error</code>,
<code>warn</code> or <code>ignore</code>. For convenience, fsck prefixes the error/warning
with the message ID, e.g. "missingEmail: invalid author/committer
line - missing email" means that setting <code>fsck.missingEmail = ignore</code>
will hide that issue.</p>


<p>In general, it is better to enumerate existing objects with problems
with <code>fsck.skipList</code>, instead of listing the kind of breakages these
problematic objects share to be ignored, as doing the latter will
allow new instances of the same breakages go unnoticed.</p>


<p>Setting an unknown <code>fsck.&lt;msg-id&gt;</code> value will cause fsck to die, but
doing the same for <code>receive.fsck.&lt;msg-id&gt;</code> and <code>fetch.fsck.&lt;msg-id&gt;</code>
will only cause git to warn.</p>

</dd>
<dt> fsck.skipList </dt>
<dd>
<p>The path to a list of object names (i.e. one unabbreviated SHA-1 per
line) that are known to be broken in a non-fatal way and should
be ignored. On versions of Git 2.20 and later comments (<em>#</em>), empty
lines, and any leading and trailing whitespace is ignored. Everything
but a SHA-1 per line will error out on older versions.</p>

<p>This feature is useful when an established project should be accepted
despite early commits containing errors that can be safely ignored
such as invalid committer email addresses.  Note: corrupt objects
cannot be skipped with this setting.</p>


<p>Like <code>fsck.&lt;msg-id&gt;</code> this variable has corresponding
<code>receive.fsck.skipList</code> and <code>fetch.fsck.skipList</code> variants.</p>


<p>Unlike variables like <code>color.ui</code> and <code>core.editor</code> the
<code>receive.fsck.skipList</code> and <code>fetch.fsck.skipList</code> variables will not
fall back on the <code>fsck.skipList</code> configuration if they aren’t set. To
uniformly configure the same fsck settings in different circumstances
all three of them they must all set to the same values.</p>


<p>Older versions of Git (before 2.20) documented that the object names
list should be sorted. This was never a requirement, the object names
could appear in any order, but when reading the list we tracked whether
the list was sorted for the purposes of an internal binary search
implementation, which could save itself some work with an already sorted
list. Unless you had a humongous list there was no reason to go out of
your way to pre-sort the list. After Git version 2.20 a hash implementation
is used instead, so there’s now no reason to pre-sort the list.</p>

</dd>
</dl>




<h2>DISCUSSION</h2>


<p>git-fsck tests SHA-1 and general object sanity, and it does full tracking
of the resulting reachability and everything else. It prints out any
corruption it finds (missing or bad objects), and if you use the
<code>--unreachable</code> flag it will also print out objects that exist but that
aren’t reachable from any of the specified head nodes (or the default
set, as mentioned above).</p>


<p>Any corrupt objects you will have to find in backups or other archives
(i.e., you can just remove them and do an <em>rsync</em> with some other site in
the hopes that somebody else has the object you have corrupted).</p>


<p>If core.commitGraph is true, the commit-graph file will also be inspected
using <em>git commit-graph verify</em>. See <a href="/docs/git-commit-graph">git-commit-graph[1]</a>.</p>




<h2>Extracted Diagnostics</h2>


<dl>
<dt> unreachable &lt;type&gt; &lt;object&gt; </dt>
<dd>
<p>The &lt;type&gt; object &lt;object&gt;, isn’t actually referred to directly
or indirectly in any of the trees or commits seen. This can
mean that there’s another root node that you’re not specifying
or that the tree is corrupt. If you haven’t missed a root node
then you might as well delete unreachable nodes since they
can’t be used.</p>
</dd>
<dt> missing &lt;type&gt; &lt;object&gt; </dt>
<dd>
<p>The &lt;type&gt; object &lt;object&gt;, is referred to but isn’t present in
the database.</p>
</dd>
<dt> dangling &lt;type&gt; &lt;object&gt; </dt>
<dd>
<p>The &lt;type&gt; object &lt;object&gt;, is present in the database but never
<em>directly</em> used. A dangling commit could be a root node.</p>
</dd>
<dt> hash mismatch &lt;object&gt; </dt>
<dd>
<p>The database has an object whose hash doesn’t match the
object database value.
This indicates a serious data integrity problem.</p>
</dd>
</dl>




<h2>Environment Variables</h2>


<dl>
<dt> GIT_OBJECT_DIRECTORY </dt>
<dd>
<p>used to specify the object database root (usually $GIT_DIR/objects)</p>
</dd>
<dt> GIT_INDEX_FILE </dt>
<dd>
<p>used to specify the index file of the index</p>
</dd>
<dt> GIT_ALTERNATE_OBJECT_DIRECTORIES </dt>
<dd>
<p>used to specify additional object database roots (usually unset)</p>
</dd>
</dl>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-reflog - Manage reflog information</span></h2>




<h2><br>synopsis</h2>


<pre><em>git reflog</em> &lt;subcommand&gt; &lt;options&gt;</pre>




<h2>description</h2>


<p>The command takes various subcommands, and different options
depending on the subcommand:</p>


<pre><em>git reflog</em> [<em>show</em>] [&lt;log-options&gt;] [&lt;ref&gt;]
<em>git reflog expire</em> [--expire=&lt;time&gt;] [--expire-unreachable=&lt;time&gt;]
	[--rewrite] [--updateref] [--stale-fix]
	[--dry-run | -n] [--verbose] [--all [--single-worktree] | &lt;refs&gt;…<U+200B>]
<em>git reflog delete</em> [--rewrite] [--updateref]
	[--dry-run | -n] [--verbose] &lt;ref&gt;@\{&lt;specifier&gt;\}…<U+200B>
<em>git reflog exists</em> &lt;ref&gt;</pre>


<p>Reference logs, or "reflogs", record when the tips of branches and
other references were updated in the local repository. Reflogs are
useful in various Git commands, to specify the old value of a
reference. For example, <code>HEAD@{2}</code> means "where HEAD used to be two
moves ago", <code>master@{one.week.ago}</code> means "where master used to point
to one week ago in this local repository", and so on. See
<a href="/docs/gitrevisions">gitrevisions[7]</a> for more details.</p>


<p>This command manages the information recorded in the reflogs.</p>


<p>The "show" subcommand (which is also the default, in the absence of
any subcommands) shows the log of the reference provided in the
command-line (or <code>HEAD</code>, by default). The reflog covers all recent
actions, and in addition the <code>HEAD</code> reflog records branch switching.
<code>git reflog show</code> is an alias for <code>git log -g --abbrev-commit
--pretty=oneline</code>; see <a href="/docs/git-log">git-log[1]</a> for more information.</p>


<p>The "expire" subcommand prunes older reflog entries. Entries older
than <code>expire</code> time, or entries older than <code>expire-unreachable</code> time
and not reachable from the current tip, are removed from the reflog.
This is typically not used directly by end users<U+2009>—<U+2009>instead, see
<a href="/docs/git-gc">git-gc[1]</a>.</p>


<p>The "delete" subcommand deletes single entries from the reflog. Its
argument must be an <em>exact</em> entry (e.g. "<code>git reflog delete
master@{2}</code>"). This subcommand is also typically not used directly by
end users.</p>


<p>The "exists" subcommand checks whether a ref has a reflog.  It exits
with zero status if the reflog exists, and non-zero status if it does
not.</p>




<h2>options</h2>


<h3>
Options for <code>show</code>
</h3>

<p><code>git reflog show</code> accepts any of the options accepted by <code>git log</code>.</p>



<h3>
Options for <code>expire</code>
</h3>

<dl>
<dt> --all </dt>
<dd>
<p>Process the reflogs of all references.</p>
</dd>
<dt> --single-worktree </dt>
<dd>
<p>By default when <code>--all</code> is specified, reflogs from all working
trees are processed. This option limits the processing to reflogs
from the current working tree only.</p>
</dd>
<dt> --expire=&lt;time&gt; </dt>
<dd>
<p>Prune entries older than the specified time. If this option is
not specified, the expiration time is taken from the
configuration setting <code>gc.reflogExpire</code>, which in turn
defaults to 90 days. <code>--expire=all</code> prunes entries regardless
of their age; <code>--expire=never</code> turns off pruning of reachable
entries (but see <code>--expire-unreachable</code>).</p>
</dd>
<dt> --expire-unreachable=&lt;time&gt; </dt>
<dd>
<p>Prune entries older than <code>&lt;time&gt;</code> that are not reachable from
the current tip of the branch. If this option is not
specified, the expiration time is taken from the configuration
setting <code>gc.reflogExpireUnreachable</code>, which in turn defaults
to 30 days. <code>--expire-unreachable=all</code> prunes unreachable
entries regardless of their age; <code>--expire-unreachable=never</code>
turns off early pruning of unreachable entries (but see
<code>--expire</code>).</p>
</dd>
<dt> --updateref </dt>
<dd>
<p>Update the reference to the value of the top reflog entry (i.e.
&lt;ref&gt;@{0}) if the previous top entry was pruned.  (This
option is ignored for symbolic references.)</p>
</dd>
<dt> --rewrite </dt>
<dd>
<p>If a reflog entry’s predecessor is pruned, adjust its "old"
SHA-1 to be equal to the "new" SHA-1 field of the entry that
now precedes it.</p>
</dd>
<dt> --stale-fix </dt>
<dd>
<p>Prune any reflog entries that point to "broken commits". A
broken commit is a commit that is not reachable from any of
the reference tips and that refers, directly or indirectly, to
a missing commit, tree, or blob object.</p>

<p>This computation involves traversing all the reachable objects, i.e. it
has the same cost as <em>git prune</em>.  It is primarily intended to fix
corruption caused by garbage collecting using older versions of Git,
which didn’t protect objects referred to by reflogs.</p>

</dd>
<dt> -n </dt>
<dt> --dry-run </dt>
<dd>
<p>Do not actually prune any entries; just show what would have
been pruned.</p>
</dd>
<dt> --verbose </dt>
<dd>
<p>Print extra information on screen.</p>
</dd>
</dl>



<h3>
Options for <code>delete</code>
</h3>

<p><code>git reflog delete</code> accepts options <code>--updateref</code>, <code>--rewrite</code>, <code>-n</code>,
<code>--dry-run</code>, and <code>--verbose</code>, with the same meanings as when they are
used with <code>expire</code>.</p>





<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-filter-branch - Rewrite branches</span></h2>




<h2><br>synopsis</h2>


<pre><em>git filter-branch</em> [--setup &lt;command&gt;] [--subdirectory-filter &lt;directory&gt;]
	[--env-filter &lt;command&gt;] [--tree-filter &lt;command&gt;]
	[--index-filter &lt;command&gt;] [--parent-filter &lt;command&gt;]
	[--msg-filter &lt;command&gt;] [--commit-filter &lt;command&gt;]
	[--tag-name-filter &lt;command&gt;] [--prune-empty]
	[--original &lt;namespace&gt;] [-d &lt;directory&gt;] [-f | --force]
	[--state-branch &lt;branch&gt;] [--] [&lt;rev-list options&gt;…<U+200B>]</pre>




<h2>WARNING</h2>


<p><em>git filter-branch</em> has a plethora of pitfalls that can produce non-obvious
manglings of the intended history rewrite (and can leave you with little
time to investigate such problems since it has such abysmal performance).
These safety and performance issues cannot be backward compatibly fixed and
as such, its use is not recommended.  Please use an alternative history
filtering tool such as <a href="https://github.com/newren/git-filter-repo/">git
filter-repo</a>.  If you still need to use <em>git filter-branch</em>, please
carefully read <a href="#SAFETY">SAFETY</a> (and <a href="#PERFORMANCE">PERFORMANCE</a>) to learn about the land
mines of filter-branch, and then vigilantly avoid as many of the hazards
listed there as reasonably possible.</p>




<h2>description</h2>


<p>Lets you rewrite Git revision history by rewriting the branches mentioned
in the &lt;rev-list options&gt;, applying custom filters on each revision.
Those filters can modify each tree (e.g. removing a file or running
a perl rewrite on all files) or information about each commit.
Otherwise, all information (including original commit times or merge
information) will be preserved.</p>


<p>The command will only rewrite the <em>positive</em> refs mentioned in the
command line (e.g. if you pass <em>a..b</em>, only <em>b</em> will be rewritten).
If you specify no filters, the commits will be recommitted without any
changes, which would normally have no effect.  Nevertheless, this may be
useful in the future for compensating for some Git bugs or such,
therefore such a usage is permitted.</p>


<p><strong>NOTE</strong>: This command honors <code>.git/info/grafts</code> file and refs in
the <code>refs/replace/</code> namespace.
If you have any grafts or replacement refs defined, running this command
will make them permanent.</p>


<p><strong>WARNING</strong>! The rewritten history will have different object names for all
the objects and will not converge with the original branch.  You will not
be able to easily push and distribute the rewritten branch on top of the
original branch.  Please do not use this command if you do not know the
full implications, and avoid using it anyway, if a simple single commit
would suffice to fix your problem.  (See the "RECOVERING FROM UPSTREAM
REBASE" section in <a href="/docs/git-rebase">git-rebase[1]</a> for further information about
rewriting published history.)</p>


<p>Always verify that the rewritten version is correct: The original refs,
if different from the rewritten ones, will be stored in the namespace
<em>refs/original/</em>.</p>


<p>Note that since this operation is very I/O expensive, it might
be a good idea to redirect the temporary directory off-disk with the
<code>-d</code> option, e.g. on tmpfs.  Reportedly the speedup is very noticeable.</p>


<h3>
Filters</h3>

<p>The filters are applied in the order as listed below.  The &lt;command&gt;
argument is always evaluated in the shell context using the <em>eval</em> command
(with the notable exception of the commit filter, for technical reasons).
Prior to that, the <code>$GIT_COMMIT</code> environment variable will be set to contain
the id of the commit being rewritten.  Also, GIT_AUTHOR_NAME,
GIT_AUTHOR_EMAIL, GIT_AUTHOR_DATE, GIT_COMMITTER_NAME, GIT_COMMITTER_EMAIL,
and GIT_COMMITTER_DATE are taken from the current commit and exported to
the environment, in order to affect the author and committer identities of
the replacement commit created by <a href="/docs/git-commit-tree">git-commit-tree[1]</a> after the
filters have run.</p>


<p>If any evaluation of &lt;command&gt; returns a non-zero exit status, the whole
operation will be aborted.</p>


<p>A <em>map</em> function is available that takes an "original sha1 id" argument
and outputs a "rewritten sha1 id" if the commit has been already
rewritten, and "original sha1 id" otherwise; the <em>map</em> function can
return several ids on separate lines if your commit filter emitted
multiple commits.</p>





<h2>options</h2>


<dl>
<dt> --setup &lt;command&gt; </dt>
<dd>
<p>This is not a real filter executed for each commit but a one
time setup just before the loop. Therefore no commit-specific
variables are defined yet.  Functions or variables defined here
can be used or modified in the following filter steps except
the commit filter, for technical reasons.</p>
</dd>
<dt> --subdirectory-filter &lt;directory&gt; </dt>
<dd>
<p>Only look at the history which touches the given subdirectory.
The result will contain that directory (and only that) as its
project root. Implies <a href="#Remap_to_ancestor">Remap to ancestor</a>.</p>
</dd>
<dt> --env-filter &lt;command&gt; </dt>
<dd>
<p>This filter may be used if you only need to modify the environment
in which the commit will be performed.  Specifically, you might
want to rewrite the author/committer name/email/time environment
variables (see <a href="/docs/git-commit-tree">git-commit-tree[1]</a> for details).</p>
</dd>
<dt> --tree-filter &lt;command&gt; </dt>
<dd>
<p>This is the filter for rewriting the tree and its contents.
The argument is evaluated in shell with the working
directory set to the root of the checked out tree.  The new tree
is then used as-is (new files are auto-added, disappeared files
are auto-removed - neither .gitignore files nor any other ignore
rules <strong>HAVE ANY EFFECT</strong>!).</p>
</dd>
<dt> --index-filter &lt;command&gt; </dt>
<dd>
<p>This is the filter for rewriting the index.  It is similar to the
tree filter but does not check out the tree, which makes it much
faster.  Frequently used with <code>git rm --cached
--ignore-unmatch ...</code>, see EXAMPLES below.  For hairy
cases, see <a href="/docs/git-update-index">git-update-index[1]</a>.</p>
</dd>
<dt> --parent-filter &lt;command&gt; </dt>
<dd>
<p>This is the filter for rewriting the commit’s parent list.
It will receive the parent string on stdin and shall output
the new parent string on stdout.  The parent string is in
the format described in <a href="/docs/git-commit-tree">git-commit-tree[1]</a>: empty for
the initial commit, "-p parent" for a normal commit and
"-p parent1 -p parent2 -p parent3 …<U+200B>" for a merge commit.</p>
</dd>
<dt> --msg-filter &lt;command&gt; </dt>
<dd>
<p>This is the filter for rewriting the commit messages.
The argument is evaluated in the shell with the original
commit message on standard input; its standard output is
used as the new commit message.</p>
</dd>
<dt> --commit-filter &lt;command&gt; </dt>
<dd>
<p>This is the filter for performing the commit.
If this filter is specified, it will be called instead of the
<em>git commit-tree</em> command, with arguments of the form
"&lt;TREE_ID&gt; [(-p &lt;PARENT_COMMIT_ID&gt;)…<U+200B>]" and the log message on
stdin.  The commit id is expected on stdout.</p>

<p>As a special extension, the commit filter may emit multiple
commit ids; in that case, the rewritten children of the original commit will
have all of them as parents.</p>


<p>You can use the <em>map</em> convenience function in this filter, and other
convenience functions, too.  For example, calling <em>skip_commit "$@"</em>
will leave out the current commit (but not its changes! If you want
that, use <em>git rebase</em> instead).</p>


<p>You can also use the <code>git_commit_non_empty_tree "$@"</code> instead of
<code>git commit-tree "$@"</code> if you don’t wish to keep commits with a single parent
and that makes no change to the tree.</p>

</dd>
<dt> --tag-name-filter &lt;command&gt; </dt>
<dd>
<p>This is the filter for rewriting tag names. When passed,
it will be called for every tag ref that points to a rewritten
object (or to a tag object which points to a rewritten object).
The original tag name is passed via standard input, and the new
tag name is expected on standard output.</p>

<p>The original tags are not deleted, but can be overwritten;
use "--tag-name-filter cat" to simply update the tags.  In this
case, be very careful and make sure you have the old tags
backed up in case the conversion has run afoul.</p>


<p>Nearly proper rewriting of tag objects is supported. If the tag has
a message attached, a new tag object will be created with the same message,
author, and timestamp. If the tag has a signature attached, the
signature will be stripped. It is by definition impossible to preserve
signatures. The reason this is "nearly" proper, is because ideally if
the tag did not change (points to the same object, has the same name, etc.)
it should retain any signature. That is not the case, signatures will always
be removed, buyer beware. There is also no support for changing the
author or timestamp (or the tag message for that matter). Tags which point
to other tags will be rewritten to point to the underlying commit.</p>

</dd>
<dt> --prune-empty </dt>
<dd>
<p>Some filters will generate empty commits that leave the tree untouched.
This option instructs git-filter-branch to remove such commits if they
have exactly one or zero non-pruned parents; merge commits will
therefore remain intact.  This option cannot be used together with
<code>--commit-filter</code>, though the same effect can be achieved by using the
provided <code>git_commit_non_empty_tree</code> function in a commit filter.</p>
</dd>
<dt> --original &lt;namespace&gt; </dt>
<dd>
<p>Use this option to set the namespace where the original commits
will be stored. The default value is <em>refs/original</em>.</p>
</dd>
<dt> -d &lt;directory&gt; </dt>
<dd>
<p>Use this option to set the path to the temporary directory used for
rewriting.  When applying a tree filter, the command needs to
temporarily check out the tree to some directory, which may consume
considerable space in case of large projects.  By default it
does this in the <code>.git-rewrite/</code> directory but you can override
that choice by this parameter.</p>
</dd>
<dt> -f </dt>
<dt> --force </dt>
<dd>
<p><em>git filter-branch</em> refuses to start with an existing temporary
directory or when there are already refs starting with
<em>refs/original/</em>, unless forced.</p>
</dd>
<dt> --state-branch &lt;branch&gt; </dt>
<dd>
<p>This option will cause the mapping from old to new objects to
be loaded from named branch upon startup and saved as a new
commit to that branch upon exit, enabling incremental of large
trees. If <em>&lt;branch&gt;</em> does not exist it will be created.</p>
</dd>
<dt> &lt;rev-list options&gt;…<U+200B> </dt>
<dd>
<p>Arguments for <em>git rev-list</em>.  All positive refs included by
these options are rewritten.  You may also specify options
such as <code>--all</code>, but you must use <code>--</code> to separate them from
the <em>git filter-branch</em> options. Implies <a href="#Remap_to_ancestor">Remap to ancestor</a>.</p>
</dd>
</dl>


<h3>
Remap to ancestor</h3>

<p>By using <a href="/docs/git-rev-list">git-rev-list[1]</a> arguments, e.g., path limiters, you can limit the
set of revisions which get rewritten. However, positive refs on the command
line are distinguished: we don’t let them be excluded by such limiters. For
this purpose, they are instead rewritten to point at the nearest ancestor that
was not excluded.</p>





<h2>EXIT STATUS</h2>


<p>On success, the exit status is <code>0</code>.  If the filter can’t find any commits to
rewrite, the exit status is <code>2</code>.  On any other error, the exit status may be
any other non-zero value.</p>




<h2>examples</h2>


<p>Suppose you want to remove a file (containing confidential information
or copyright violation) from all commits:</p>



<pre>git filter-branch --tree-filter 'rm filename' HEAD</pre>



<p>However, if the file is absent from the tree of some commit,
a simple <code>rm filename</code> will fail for that tree and commit.
Thus you may instead want to use <code>rm -f filename</code> as the script.</p>


<p>Using <code>--index-filter</code> with <em>git rm</em> yields a significantly faster
version.  Like with using <code>rm filename</code>, <code>git rm --cached filename</code>
will fail if the file is absent from the tree of a commit.  If you
want to "completely forget" a file, it does not matter when it entered
history, so we also add <code>--ignore-unmatch</code>:</p>



<pre>git filter-branch --index-filter 'git rm --cached --ignore-unmatch filename' HEAD</pre>



<p>Now, you will get the rewritten history saved in HEAD.</p>


<p>To rewrite the repository to look as if <code>foodir/</code> had been its project
root, and discard all other history:</p>



<pre>git filter-branch --subdirectory-filter foodir -- --all</pre>



<p>Thus you can, e.g., turn a library subdirectory into a repository of
its own.  Note the <code>--</code> that separates <em>filter-branch</em> options from
revision options, and the <code>--all</code> to rewrite all branches and tags.</p>


<p>To set a commit (which typically is at the tip of another
history) to be the parent of the current initial commit, in
order to paste the other history behind the current history:</p>



<pre>git filter-branch --parent-filter 'sed "s/^\$/-p &lt;graft-id&gt;/"' HEAD</pre>



<p>(if the parent string is empty - which happens when we are dealing with
the initial commit - add graftcommit as a parent).  Note that this assumes
history with a single root (that is, no merge without common ancestors
happened).  If this is not the case, use:</p>



<pre>git filter-branch --parent-filter \
	'test $GIT_COMMIT = &lt;commit-id&gt; &amp;&amp; echo "-p &lt;graft-id&gt;" || cat' HEAD</pre>



<p>or even simpler:</p>



<pre>git replace --graft $commit-id $graft-id
git filter-branch $graft-id..HEAD</pre>



<p>To remove commits authored by "Darl McBribe" from the history:</p>



<pre>git filter-branch --commit-filter '
	if [ "$GIT_AUTHOR_NAME" = "Darl McBribe" ];
	then
		skip_commit "$@";
	else
		git commit-tree "$@";
	fi' HEAD</pre>



<p>The function <em>skip_commit</em> is defined as follows:</p>



<pre>skip_commit()
{
	shift;
	while [ -n "$1" ];
	do
		shift;
		map "$1";
		shift;
	done;
}</pre>



<p>The shift magic first throws away the tree id and then the -p
parameters.  Note that this handles merges properly! In case Darl
committed a merge between P1 and P2, it will be propagated properly
and all children of the merge will become merge commits with P1,P2
as their parents instead of the merge commit.</p>


<p><strong>NOTE</strong> the changes introduced by the commits, and which are not reverted
by subsequent commits, will still be in the rewritten branch. If you want
to throw out <em>changes</em> together with the commits, you should use the
interactive mode of <em>git rebase</em>.</p>


<p>You can rewrite the commit log messages using <code>--msg-filter</code>.  For
example, <em>git svn-id</em> strings in a repository created by <em>git svn</em> can
be removed this way:</p>



<pre>git filter-branch --msg-filter '
	sed -e "/^git-svn-id:/d"
'</pre>



<p>If you need to add <em>Acked-by</em> lines to, say, the last 10 commits (none
of which is a merge), use this command:</p>



<pre>git filter-branch --msg-filter '
	cat &amp;&amp;
	echo "Acked-by: Bugs Bunny &lt;bunny@bugzilla.org&gt;"
' HEAD~10..HEAD</pre>



<p>The <code>--env-filter</code> option can be used to modify committer and/or author
identity.  For example, if you found out that your commits have the wrong
identity due to a misconfigured user.email, you can make a correction,
before publishing the project, like this:</p>



<pre>git filter-branch --env-filter '
	if test "$GIT_AUTHOR_EMAIL" = "root@localhost"
	then
		GIT_AUTHOR_EMAIL=john@example.com
	fi
	if test "$GIT_COMMITTER_EMAIL" = "root@localhost"
	then
		GIT_COMMITTER_EMAIL=john@example.com
	fi
' -- --all</pre>



<p>To restrict rewriting to only part of the history, specify a revision
range in addition to the new branch name.  The new branch name will
point to the top-most revision that a <em>git rev-list</em> of this range
will print.</p>


<p>Consider this history:</p>



<pre>     D--E--F--G--H
    /     /
A--B-----C</pre>



<p>To rewrite only commits D,E,F,G,H, but leave A, B and C alone, use:</p>



<pre>git filter-branch ... C..H</pre>



<p>To rewrite commits E,F,G,H, use one of these:</p>



<pre>git filter-branch ... C..H --not D
git filter-branch ... D..H --not C</pre>



<p>To move the whole tree into a subdirectory, or remove it from there:</p>



<pre>git filter-branch --index-filter \
	'git ls-files -s | sed "s-\t\"*-&amp;newsubdir/-" |
		GIT_INDEX_FILE=$GIT_INDEX_FILE.new \
			git update-index --index-info &amp;&amp;
	 mv "$GIT_INDEX_FILE.new" "$GIT_INDEX_FILE"' HEAD</pre>





<h2>CHECKLIST FOR SHRINKING A REPOSITORY</h2>


<p>git-filter-branch can be used to get rid of a subset of files,
usually with some combination of <code>--index-filter</code> and
<code>--subdirectory-filter</code>.  People expect the resulting repository to
be smaller than the original, but you need a few more steps to
actually make it smaller, because Git tries hard not to lose your
objects until you tell it to.  First make sure that:</p>


<ul>
<li>
<p>You really removed all variants of a filename, if a blob was moved
over its lifetime.  <code>git log --name-only --follow --all -- filename</code>
can help you find renames.</p>
</li>
<li>
<p>You really filtered all refs: use <code>--tag-name-filter cat -- --all</code>
when calling git-filter-branch.</p>
</li>
</ul>


<p>Then there are two ways to get a smaller repository.  A safer way is
to clone, that keeps your original intact.</p>


<ul>
<li>
<p>Clone it with <code>git clone file:///path/to/repo</code>.  The clone
will not have the removed objects.  See <a href="/docs/git-clone">git-clone[1]</a>.  (Note
that cloning with a plain path just hardlinks everything!)</p>
</li>
</ul>


<p>If you really don’t want to clone it, for whatever reasons, check the
following points instead (in this order).  This is a very destructive
approach, so <strong>make a backup</strong> or go back to cloning it.  You have been
warned.</p>


<ul>
<li>
<p>Remove the original refs backed up by git-filter-branch: say <code>git
for-each-ref --format="%(refname)" refs/original/ | xargs -n 1 git
update-ref -d</code>.</p>
</li>
<li>
<p>Expire all reflogs with <code>git reflog expire --expire=now --all</code>.</p>
</li>
<li>
<p>Garbage collect all unreferenced objects with <code>git gc --prune=now</code>
(or if your git-gc is not new enough to support arguments to
<code>--prune</code>, use <code>git repack -ad; git prune</code> instead).</p>
</li>
</ul>




<h2>PERFORMANCE</h2>


<p>The performance of git-filter-branch is glacially slow; its design makes it
impossible for a backward-compatible implementation to ever be fast:</p>


<ul>
<li>
<p>In editing files, git-filter-branch by design checks out each and
every commit as it existed in the original repo.  If your repo has
<code>10^5</code> files and <code>10^5</code> commits, but each commit only modifies five
files, then git-filter-branch will make you do <code>10^10</code> modifications,
despite only having (at most) <code>5*10^5</code> unique blobs.</p>
</li>
<li>
<p>If you try and cheat and try to make git-filter-branch only work on
files modified in a commit, then two things happen</p>

<ul>
<li>
<p>you run into problems with deletions whenever the user is simply
trying to rename files (because attempting to delete files that
don’t exist looks like a no-op; it takes some chicanery to remap
deletes across file renames when the renames happen via arbitrary
user-provided shell)</p>
</li>
<li>
<p>even if you succeed at the map-deletes-for-renames chicanery, you
still technically violate backward compatibility because users
are allowed to filter files in ways that depend upon topology of
commits instead of filtering solely based on file contents or
names (though this has not been observed in the wild).</p>
</li>
</ul>

</li>
<li>
<p>Even if you don’t need to edit files but only want to e.g. rename or
remove some and thus can avoid checking out each file (i.e. you can
use --index-filter), you still are passing shell snippets for your
filters.  This means that for every commit, you have to have a
prepared git repo where those filters can be run.  That’s a
significant setup.</p>
</li>
<li>
<p>Further, several additional files are created or updated per commit
by git-filter-branch.  Some of these are for supporting the
convenience functions provided by git-filter-branch (such as map()),
while others are for keeping track of internal state (but could have
also been accessed by user filters; one of git-filter-branch’s
regression tests does so).  This essentially amounts to using the
filesystem as an IPC mechanism between git-filter-branch and the
user-provided filters.  Disks tend to be a slow IPC mechanism, and
writing these files also effectively represents a forced
synchronization point between separate processes that we hit with
every commit.</p>
</li>
<li>
<p>The user-provided shell commands will likely involve a pipeline of
commands, resulting in the creation of many processes per commit.
Creating and running another process takes a widely varying amount
of time between operating systems, but on any platform it is very
slow relative to invoking a function.</p>
</li>
<li>
<p>git-filter-branch itself is written in shell, which is kind of slow.
This is the one performance issue that could be backward-compatibly
fixed, but compared to the above problems that are intrinsic to the
design of git-filter-branch, the language of the tool itself is a
relatively minor issue.</p>

<ul>
<li>
<p>Side note: Unfortunately, people tend to fixate on the
written-in-shell aspect and periodically ask if git-filter-branch
could be rewritten in another language to fix the performance
issues.  Not only does that ignore the bigger intrinsic problems
with the design, it’d help less than you’d expect: if
git-filter-branch itself were not shell, then the convenience
functions (map(), skip_commit(), etc) and the <code>--setup</code> argument
could no longer be executed once at the beginning of the program
but would instead need to be prepended to every user filter (and
thus re-executed with every commit).</p>
</li>
</ul>

</li>
</ul>


<p>The <a href="https://github.com/newren/git-filter-repo/">git filter-repo</a> tool is
an alternative to git-filter-branch which does not suffer from these
performance problems or the safety problems (mentioned below). For those
with existing tooling which relies upon git-filter-branch, <em>git
filter-repo</em> also provides
<a href="https://github.com/newren/git-filter-repo/blob/master/contrib/filter-repo-demos/filter-lamely">filter-lamely</a>,
a drop-in git-filter-branch replacement (with a few caveats).  While
filter-lamely suffers from all the same safety issues as
git-filter-branch, it at least ameliorates the performance issues a
little.</p>




<h2>SAFETY</h2>


<p>git-filter-branch is riddled with gotchas resulting in various ways to
easily corrupt repos or end up with a mess worse than what you started
with:</p>


<ul>
<li>
<p>Someone can have a set of "working and tested filters" which they
document or provide to a coworker, who then runs them on a different
OS where the same commands are not working/tested (some examples in
the git-filter-branch manpage are also affected by this).
BSD vs. GNU userland differences can really bite.  If lucky, error
messages are spewed.  But just as likely, the commands either don’t
do the filtering requested, or silently corrupt by making some
unwanted change.  The unwanted change may only affect a few commits,
so it’s not necessarily obvious either.  (The fact that problems
won’t necessarily be obvious means they are likely to go unnoticed
until the rewritten history is in use for quite a while, at which
point it’s really hard to justify another flag-day for another
rewrite.)</p>
</li>
<li>
<p>Filenames with spaces are often mishandled by shell snippets since
they cause problems for shell pipelines.  Not everyone is familiar
with find -print0, xargs -0, git-ls-files -z, etc.  Even people who
are familiar with these may assume such flags are not relevant
because someone else renamed any such files in their repo back
before the person doing the filtering joined the project.  And
often, even those familiar with handling arguments with spaces may
not do so just because they aren’t in the mindset of thinking about
everything that could possibly go wrong.</p>
</li>
<li>
<p>Non-ascii filenames can be silently removed despite being in a
desired directory.  Keeping only wanted paths is often done using
pipelines like <code>git ls-files | grep -v ^WANTED_DIR/ | xargs git rm</code>.
ls-files will only quote filenames if needed, so folks may not
notice that one of the files didn’t match the regex (at least not
until it’s much too late).  Yes, someone who knows about
core.quotePath can avoid this (unless they have other special
characters like \t, \n, or "), and people who use ls-files -z with
something other than grep can avoid this, but that doesn’t mean they
will.</p>
</li>
<li>
<p>Similarly, when moving files around, one can find that filenames
with non-ascii or special characters end up in a different
directory, one that includes a double quote character.  (This is
technically the same issue as above with quoting, but perhaps an
interesting different way that it can and has manifested as a
problem.)</p>
</li>
<li>
<p>It’s far too easy to accidentally mix up old and new history.  It’s
still possible with any tool, but git-filter-branch almost
invites it.  If lucky, the only downside is users getting frustrated
that they don’t know how to shrink their repo and remove the old
stuff.  If unlucky, they merge old and new history and end up with
multiple "copies" of each commit, some of which have unwanted or
sensitive files and others which don’t.  This comes about in
multiple different ways:</p>

<ul>
<li>
<p>the default to only doing a partial history rewrite (<em>--all</em> is not
the default and few examples show it)</p>
</li>
<li>
<p>the fact that there’s no automatic post-run cleanup</p>
</li>
<li>
<p>the fact that --tag-name-filter (when used to rename tags) doesn’t
remove the old tags but just adds new ones with the new name</p>
</li>
<li>
<p>the fact that little educational information is provided to inform
users of the ramifications of a rewrite and how to avoid mixing old
and new history.  For example, this man page discusses how users
need to understand that they need to rebase their changes for all
their branches on top of new history (or delete and reclone), but
that’s only one of multiple concerns to consider.  See the
"DISCUSSION" section of the git filter-repo manual page for more
details.</p>
</li>
</ul>

</li>
<li>
<p>Annotated tags can be accidentally converted to lightweight tags,
due to either of two issues:</p>

<ul>
<li>
<p>Someone can do a history rewrite, realize they messed up, restore
from the backups in refs/original/, and then redo their
git-filter-branch command.  (The backup in refs/original/ is not a
real backup; it dereferences tags first.)</p>
</li>
<li>
<p>Running git-filter-branch with either --tags or --all in your
&lt;rev-list options&gt;.  In order to retain annotated tags as
annotated, you must use --tag-name-filter (and must not have
restored from refs/original/ in a previously botched rewrite).</p>
</li>
</ul>

</li>
<li>
<p>Any commit messages that specify an encoding will become corrupted
by the rewrite; git-filter-branch ignores the encoding, takes the
original bytes, and feeds it to commit-tree without telling it the
proper encoding.  (This happens whether or not --msg-filter is
used.)</p>
</li>
<li>
<p>Commit messages (even if they are all UTF-8) by default become
corrupted due to not being updated<U+2009>—<U+2009>any references to other commit
hashes in commit messages will now refer to no-longer-extant
commits.</p>
</li>
<li>
<p>There are no facilities for helping users find what unwanted crud
they should delete, which means they are much more likely to have
incomplete or partial cleanups that sometimes result in confusion
and people wasting time trying to understand.  (For example, folks
tend to just look for big files to delete instead of big directories
or extensions, and once they do so, then sometime later folks using
the new repository who are going through history will notice a build
artifact directory that has some files but not others, or a cache of
dependencies (node_modules or similar) which couldn’t have ever been
functional since it’s missing some files.)</p>
</li>
<li>
<p>If --prune-empty isn’t specified, then the filtering process can
create hoards of confusing empty commits</p>
</li>
<li>
<p>If --prune-empty is specified, then intentionally placed empty
commits from before the filtering operation are also pruned instead
of just pruning commits that became empty due to filtering rules.</p>
</li>
<li>
<p>If --prune-empty is specified, sometimes empty commits are missed
and left around anyway (a somewhat rare bug, but it happens…<U+200B>)</p>
</li>
<li>
<p>A minor issue, but users who have a goal to update all names and
emails in a repository may be led to --env-filter which will only
update authors and committers, missing taggers.</p>
</li>
<li>
<p>If the user provides a --tag-name-filter that maps multiple tags to
the same name, no warning or error is provided; git-filter-branch
simply overwrites each tag in some undocumented pre-defined order
resulting in only one tag at the end.  (A git-filter-branch
regression test requires this surprising behavior.)</p>
</li>
</ul>


<p>Also, the poor performance of git-filter-branch often leads to safety
issues:</p>


<ul>
<li>
<p>Coming up with the correct shell snippet to do the filtering you
want is sometimes difficult unless you’re just doing a trivial
modification such as deleting a couple files.  Unfortunately, people
often learn if the snippet is right or wrong by trying it out, but
the rightness or wrongness can vary depending on special
circumstances (spaces in filenames, non-ascii filenames, funny
author names or emails, invalid timezones, presence of grafts or
replace objects, etc.), meaning they may have to wait a long time,
hit an error, then restart.  The performance of git-filter-branch is
so bad that this cycle is painful, reducing the time available to
carefully re-check (to say nothing about what it does to the
patience of the person doing the rewrite even if they do technically
have more time available).  This problem is extra compounded because
errors from broken filters may not be shown for a long time and/or
get lost in a sea of output.  Even worse, broken filters often just
result in silent incorrect rewrites.</p>
</li>
<li>
<p>To top it all off, even when users finally find working commands,
they naturally want to share them.  But they may be unaware that
their repo didn’t have some special cases that someone else’s does.
So, when someone else with a different repository runs the same
commands, they get hit by the problems above.  Or, the user just
runs commands that really were vetted for special cases, but they
run it on a different OS where it doesn’t work, as noted above.</p>
</li>
</ul>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-instaweb - Instantly browse your working repository in gitweb</span></h2>




<h2><br>synopsis</h2>


<pre><em>git instaweb</em> [--local] [--httpd=&lt;httpd&gt;] [--port=&lt;port&gt;]
               [--browser=&lt;browser&gt;]
<em>git instaweb</em> [--start] [--stop] [--restart]</pre>




<h2>description</h2>


<p>A simple script to set up <code>gitweb</code> and a web server for browsing the local
repository.</p>




<h2>options</h2>


<dl>
<dt> -l </dt>
<dt> --local </dt>
<dd>
<p>Only bind the web server to the local IP (127.0.0.1).</p>
</dd>
<dt> -d </dt>
<dt> --httpd </dt>
<dd>
<p>The HTTP daemon command-line that will be executed.
Command-line options may be specified here, and the
configuration file will be added at the end of the command-line.
Currently apache2, lighttpd, mongoose, plackup, python and
webrick are supported.
(Default: lighttpd)</p>
</dd>
<dt> -m </dt>
<dt> --module-path </dt>
<dd>
<p>The module path (only needed if httpd is Apache).
(Default: /usr/lib/apache2/modules)</p>
</dd>
<dt> -p </dt>
<dt> --port </dt>
<dd>
<p>The port number to bind the httpd to.  (Default: 1234)</p>
</dd>
<dt> -b </dt>
<dt> --browser </dt>
<dd>
<p>The web browser that should be used to view the gitweb
page. This will be passed to the <em>git web--browse</em> helper
script along with the URL of the gitweb instance. See
<a href="/docs/git-web--browse">git-web--browse[1]</a> for more information about this. If
the script fails, the URL will be printed to stdout.</p>
</dd>
<dt> start </dt>
<dt> --start </dt>
<dd>
<p>Start the httpd instance and exit.  Regenerate configuration files
as necessary for spawning a new instance.</p>
</dd>
<dt> stop </dt>
<dt> --stop </dt>
<dd>
<p>Stop the httpd instance and exit.  This does not generate
any of the configuration files for spawning a new instance,
nor does it close the browser.</p>
</dd>
<dt> restart </dt>
<dt> --restart </dt>
<dd>
<p>Restart the httpd instance and exit.  Regenerate configuration files
as necessary for spawning a new instance.</p>
</dd>
</dl>




<h2>CONFIGURATION</h2>


<p>You may specify configuration in your .git/config</p>



<pre>[instaweb]
	local = true
	httpd = apache2 -f
	port = 4321
	browser = konqueror
	modulePath = /usr/lib/apache2/modules</pre>



<p>If the configuration variable <code>instaweb.browser</code> is not set,
<code>web.browser</code> will be used instead if it is defined. See
<a href="/docs/git-web--browse">git-web--browse[1]</a> for more information about this.</p>




<h2>SEE ALSO</h2>


<p><a href="/docs/gitweb">gitweb[1]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-archive - Create an archive of files from a named tree</span></h2>




<h2><br>synopsis</h2>


<pre><em>git archive</em> [--format=&lt;fmt&gt;] [--list] [--prefix=&lt;prefix&gt;/] [&lt;extra&gt;]
	      [-o &lt;file&gt; | --output=&lt;file&gt;] [--worktree-attributes]
	      [--remote=&lt;repo&gt; [--exec=&lt;git-upload-archive&gt;]] &lt;tree-ish&gt;
	      [&lt;path&gt;…<U+200B>]</pre>




<h2>description</h2>


<p>Creates an archive of the specified format containing the tree
structure for the named tree, and writes it out to the standard
output.  If &lt;prefix&gt; is specified it is
prepended to the filenames in the archive.</p>


<p><em>git archive</em> behaves differently when given a tree ID versus when
given a commit ID or tag ID.  In the first case the current time is
used as the modification time of each file in the archive.  In the latter
case the commit time as recorded in the referenced commit object is
used instead.  Additionally the commit ID is stored in a global
extended pax header if the tar format is used; it can be extracted
using <em>git get-tar-commit-id</em>. In ZIP files it is stored as a file
comment.</p>




<h2>options</h2>


<dl>
<dt> --format=&lt;fmt&gt; </dt>
<dd>
<p>Format of the resulting archive: <em>tar</em> or <em>zip</em>. If this option
is not given, and the output file is specified, the format is
inferred from the filename if possible (e.g. writing to "foo.zip"
makes the output to be in the zip format). Otherwise the output
format is <code>tar</code>.</p>
</dd>
<dt> -l </dt>
<dt> --list </dt>
<dd>
<p>Show all available formats.</p>
</dd>
<dt> -v </dt>
<dt> --verbose </dt>
<dd>
<p>Report progress to stderr.</p>
</dd>
<dt> --prefix=&lt;prefix&gt;/ </dt>
<dd>
<p>Prepend &lt;prefix&gt;/ to each filename in the archive.</p>
</dd>
<dt> -o &lt;file&gt; </dt>
<dt> --output=&lt;file&gt; </dt>
<dd>
<p>Write the archive to &lt;file&gt; instead of stdout.</p>
</dd>
<dt> --add-file=&lt;file&gt; </dt>
<dd>
<p>Add a non-tracked file to the archive.  Can be repeated to add
multiple files.  The path of the file in the archive is built
by concatenating the value for <code>--prefix</code> (if any) and the
basename of &lt;file&gt;.</p>
</dd>
<dt> --worktree-attributes </dt>
<dd>
<p>Look for attributes in .gitattributes files in the working tree
as well (see <a href="#ATTRIBUTES">ATTRIBUTES</a>).</p>
</dd>
<dt> &lt;extra&gt; </dt>
<dd>
<p>This can be any options that the archiver backend understands.
See next section.</p>
</dd>
<dt> --remote=&lt;repo&gt; </dt>
<dd>
<p>Instead of making a tar archive from the local repository,
retrieve a tar archive from a remote repository. Note that the
remote repository may place restrictions on which sha1
expressions may be allowed in <code>&lt;tree-ish&gt;</code>. See
<a href="/docs/git-upload-archive">git-upload-archive[1]</a> for details.</p>
</dd>
<dt> --exec=&lt;git-upload-archive&gt; </dt>
<dd>
<p>Used with --remote to specify the path to the
<em>git-upload-archive</em> on the remote side.</p>
</dd>
<dt> &lt;tree-ish&gt; </dt>
<dd>
<p>The tree or commit to produce an archive for.</p>
</dd>
<dt> &lt;path&gt; </dt>
<dd>
<p>Without an optional path parameter, all files and subdirectories
of the current working directory are included in the archive.
If one or more paths are specified, only these are included.</p>
</dd>
</dl>




<h2>BACKEND EXTRA OPTIONS</h2>


<h3>
zip</h3>

<dl>
<dt> -&lt;digit&gt; </dt>
<dd>
<p>Specify compression level.  Larger values allow the command
to spend more time to compress to smaller size.  Supported
values are from <code>-0</code> (store-only) to <code>-9</code> (best ratio).
Default is <code>-6</code> if not given.</p>
</dd>
</dl>



<h3>
tar</h3>

<dl>
<dt> -&lt;number&gt; </dt>
<dd>
<p>Specify compression level. The value will be passed to the
compression command configured in <code>tar.&lt;format&gt;.command</code>. See
manual page of the configured command for the list of supported
levels and the default level if this option isn’t specified.</p>
</dd>
</dl>





<h2>CONFIGURATION</h2>


<dl>
<dt> tar.umask </dt>
<dd>
<p>This variable can be used to restrict the permission bits of
tar archive entries.  The default is 0002, which turns off the
world write bit.  The special value "user" indicates that the
archiving user’s umask will be used instead.  See umask(2) for
details.  If <code>--remote</code> is used then only the configuration of
the remote repository takes effect.</p>
</dd>
<dt> tar.&lt;format&gt;.command </dt>
<dd>
<p>This variable specifies a shell command through which the tar
output generated by <code>git archive</code> should be piped. The command
is executed using the shell with the generated tar file on its
standard input, and should produce the final output on its
standard output. Any compression-level options will be passed
to the command (e.g., "-9"). An output file with the same
extension as <code>&lt;format&gt;</code> will be use this format if no other
format is given.</p>

<p>The "tar.gz" and "tgz" formats are defined automatically and default to
<code>gzip -cn</code>. You may override them with custom commands.</p>

</dd>
<dt> tar.&lt;format&gt;.remote </dt>
<dd>
<p>If true, enable <code>&lt;format&gt;</code> for use by remote clients via
<a href="/docs/git-upload-archive">git-upload-archive[1]</a>. Defaults to false for
user-defined formats, but true for the "tar.gz" and "tgz"
formats.</p>
</dd>
</dl>




<h2>ATTRIBUTES</h2>


<dl>
<dt> export-ignore </dt>
<dd>
<p>Files and directories with the attribute export-ignore won’t be
added to archive files.  See <a href="/docs/gitattributes">gitattributes[5]</a> for details.</p>
</dd>
<dt> export-subst </dt>
<dd>
<p>If the attribute export-subst is set for a file then Git will
expand several placeholders when adding this file to an archive.
See <a href="/docs/gitattributes">gitattributes[5]</a> for details.</p>
</dd>
</dl>


<p>Note that attributes are by default taken from the <code>.gitattributes</code> files
in the tree that is being archived.  If you want to tweak the way the
output is generated after the fact (e.g. you committed without adding an
appropriate export-ignore in its <code>.gitattributes</code>), adjust the checked out
<code>.gitattributes</code> file as necessary and use <code>--worktree-attributes</code>
option.  Alternatively you can keep necessary attributes that should apply
while archiving any tree in your <code>$GIT_DIR/info/attributes</code> file.</p>




<h2>examples</h2>


<dl>
<dt> <code>git archive --format=tar --prefix=junk/ HEAD | (cd /var/tmp/ &amp;&amp; tar xf -)</code> </dt>
<dd>
<p>Create a tar archive that contains the contents of the
latest commit on the current branch, and extract it in the
<code>/var/tmp/junk</code> directory.</p>
</dd>
<dt> <code>git archive --format=tar --prefix=git-1.4.0/ v1.4.0 | gzip &gt;git-1.4.0.tar.gz</code> </dt>
<dd>
<p>Create a compressed tarball for v1.4.0 release.</p>
</dd>
<dt> <code>git archive --format=tar.gz --prefix=git-1.4.0/ v1.4.0 &gt;git-1.4.0.tar.gz</code> </dt>
<dd>
<p>Same as above, but using the builtin tar.gz handling.</p>
</dd>
<dt> <code>git archive --prefix=git-1.4.0/ -o git-1.4.0.tar.gz v1.4.0</code> </dt>
<dd>
<p>Same as above, but the format is inferred from the output file.</p>
</dd>
<dt> <code>git archive --format=tar --prefix=git-1.4.0/ v1.4.0^{tree} | gzip &gt;git-1.4.0.tar.gz</code> </dt>
<dd>
<p>Create a compressed tarball for v1.4.0 release, but without a
global extended pax header.</p>
</dd>
<dt> <code>git archive --format=zip --prefix=git-docs/ HEAD:Documentation/ &gt; git-1.4.0-docs.zip</code> </dt>
<dd>
<p>Put everything in the current head’s Documentation/ directory
into <em>git-1.4.0-docs.zip</em>, with the prefix <em>git-docs/</em>.</p>
</dd>
<dt> <code>git archive -o latest.zip HEAD</code> </dt>
<dd>
<p>Create a Zip archive that contains the contents of the latest
commit on the current branch. Note that the output format is
inferred by the extension of the output file.</p>
</dd>
<dt> <code>git config tar.tar.xz.command "xz -c"</code> </dt>
<dd>
<p>Configure a "tar.xz" format for making LZMA-compressed tarfiles.
You can use it specifying <code>--format=tar.xz</code>, or by creating an
output file like <code>-o foo.tar.xz</code>.</p>
</dd>
</dl>




<h2>SEE ALSO</h2>


<p><a href="/docs/gitattributes">gitattributes[5]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-bundle - Move objects and refs by archive</span></h2>




<h2><br>synopsis</h2>


<pre><em>git bundle</em> create [-q | --quiet | --progress | --all-progress] [--all-progress-implied]
		    [--version=&lt;version&gt;] &lt;file&gt; &lt;git-rev-list-args&gt;
<em>git bundle</em> verify [-q | --quiet] &lt;file&gt;
<em>git bundle</em> list-heads &lt;file&gt; [&lt;refname&gt;…<U+200B>]
<em>git bundle</em> unbundle [--progress] &lt;file&gt; [&lt;refname&gt;…<U+200B>]</pre>




<h2>description</h2>


<p>Create, unpack, and manipulate "bundle" files. Bundles are used for
the "offline" transfer of Git objects without an active "server"
sitting on the other side of the network connection.</p>


<p>They can be used to create both incremental and full backups of a
repository, and to relay the state of the references in one repository
to another.</p>


<p>Git commands that fetch or otherwise "read" via protocols such as
<code>ssh://</code> and <code>https://</code> can also operate on bundle files. It is
possible <a href="/docs/git-clone">git-clone[1]</a> a new repository from a bundle, to use
<a href="/docs/git-fetch">git-fetch[1]</a> to fetch from one, and to list the references
contained within it with <a href="/docs/git-ls-remote">git-ls-remote[1]</a>. There’s no
corresponding "write" support, i.e.a <em>git push</em> into a bundle is not
supported.</p>


<p>See the "EXAMPLES" section below for examples of how to use bundles.</p>




<h2>BUNDLE FORMAT</h2>


<p>Bundles are <code>.pack</code> files (see <a href="/docs/git-pack-objects">git-pack-objects[1]</a>) with a
header indicating what references are contained within the bundle.</p>


<p>Like the the packed archive format itself bundles can either be
self-contained, or be created using exclusions.
See the "OBJECT PREREQUISITES" section below.</p>


<p>Bundles created using revision exclusions are "thin packs" created
using the <code>--thin</code> option to <a href="/docs/git-pack-objects">git-pack-objects[1]</a>, and
unbundled using the <code>--fix-thin</code> option to <a href="/docs/git-index-pack">git-index-pack[1]</a>.</p>


<p>There is no option to create a "thick pack" when using revision
exclusions, and users should not be concerned about the difference. By
using "thin packs", bundles created using exclusions are smaller in
size. That they’re "thin" under the hood is merely noted here as a
curiosity, and as a reference to other documentation.</p>


<p>See <a href="/docs/bundle-format">the <code>bundle-format</code>
documentation</a> for more details and the discussion of "thin pack" in
<a href="/docs/pack-format">the pack format documentation</a> for
further details.</p>




<h2>options</h2>


<dl>
<dt> create [options] &lt;file&gt; &lt;git-rev-list-args&gt; </dt>
<dd>
<p>Used to create a bundle named <em>file</em>.  This requires the
<em>&lt;git-rev-list-args&gt;</em> arguments to define the bundle contents.
<em>options</em> contains the options specific to the <em>git bundle create</em>
subcommand.</p>
</dd>
<dt> verify &lt;file&gt; </dt>
<dd>
<p>Used to check that a bundle file is valid and will apply
cleanly to the current repository.  This includes checks on the
bundle format itself as well as checking that the prerequisite
commits exist and are fully linked in the current repository.
<em>git bundle</em> prints a list of missing commits, if any, and exits
with a non-zero status.</p>
</dd>
<dt> list-heads &lt;file&gt; </dt>
<dd>
<p>Lists the references defined in the bundle.  If followed by a
list of references, only references matching those given are
printed out.</p>
</dd>
<dt> unbundle &lt;file&gt; </dt>
<dd>
<p>Passes the objects in the bundle to <em>git index-pack</em>
for storage in the repository, then prints the names of all
defined references. If a list of references is given, only
references matching those in the list are printed. This command is
really plumbing, intended to be called only by <em>git fetch</em>.</p>
</dd>
<dt> &lt;git-rev-list-args&gt; </dt>
<dd>
<p>A list of arguments, acceptable to <em>git rev-parse</em> and
<em>git rev-list</em> (and containing a named ref, see SPECIFYING REFERENCES
below), that specifies the specific objects and references
to transport.  For example, <code>master~10..master</code> causes the
current master reference to be packaged along with all objects
added since its 10th ancestor commit.  There is no explicit
limit to the number of references and objects that may be
packaged.</p>
</dd>
<dt> [&lt;refname&gt;…<U+200B>] </dt>
<dd>
<p>A list of references used to limit the references reported as
available. This is principally of use to <em>git fetch</em>, which
expects to receive only those references asked for and not
necessarily everything in the pack (in this case, <em>git bundle</em> acts
like <em>git fetch-pack</em>).</p>
</dd>
<dt> --progress </dt>
<dd>
<p>Progress status is reported on the standard error stream
by default when it is attached to a terminal, unless -q
is specified. This flag forces progress status even if
the standard error stream is not directed to a terminal.</p>
</dd>
<dt> --all-progress </dt>
<dd>
<p>When --stdout is specified then progress report is
displayed during the object count and compression phases
but inhibited during the write-out phase. The reason is
that in some cases the output stream is directly linked
to another command which may wish to display progress
status of its own as it processes incoming pack data.
This flag is like --progress except that it forces progress
report for the write-out phase as well even if --stdout is
used.</p>
</dd>
<dt> --all-progress-implied </dt>
<dd>
<p>This is used to imply --all-progress whenever progress display
is activated.  Unlike --all-progress this flag doesn’t actually
force any progress display by itself.</p>
</dd>
<dt> --version=&lt;version&gt; </dt>
<dd>
<p>Specify the bundle version.  Version 2 is the older format and can only be
used with SHA-1 repositories; the newer version 3 contains capabilities that
permit extensions. The default is the oldest supported format, based on the
hash algorithm in use.</p>
</dd>
<dt> -q </dt>
<dt> --quiet </dt>
<dd>
<p>This flag makes the command not to report its progress
on the standard error stream.</p>
</dd>
</dl>




<h2>SPECIFYING REFERENCES</h2>


<p>Revisions must be accompanied by reference names to be packaged in a
bundle.</p>


<p>More than one reference may be packaged, and more than one set of prerequisite objects can
be specified.  The objects packaged are those not contained in the
union of the prerequisites.</p>


<p>The <em>git bundle create</em> command resolves the reference names for you
using the same rules as <code>git rev-parse --abbrev-ref=loose</code>. Each
prerequisite can be specified explicitly (e.g. <code>^master~10</code>), or implicitly
(e.g. <code>master~10..master</code>, <code>--since=10.days.ago master</code>).</p>


<p>All of these simple cases are OK (assuming we have a "master" and
"next" branch):</p>



<pre>$ git bundle create master.bundle master
$ echo master | git bundle create master.bundle --stdin
$ git bundle create master-and-next.bundle master next
$ (echo master; echo next) | git bundle create master-and-next.bundle --stdin</pre>



<p>And so are these (and the same but omitted <code>--stdin</code> examples):</p>



<pre>$ git bundle create recent-master.bundle master~10..master
$ git bundle create recent-updates.bundle master~10..master next~5..next</pre>



<p>A revision name or a range whose right-hand-side cannot be resolved to
a reference is not accepted:</p>



<pre>$ git bundle create HEAD.bundle $(git rev-parse HEAD)
fatal: Refusing to create empty bundle.
$ git bundle create master-yesterday.bundle master~10..master~5
fatal: Refusing to create empty bundle.</pre>





<h2>OBJECT PREREQUISITES</h2>


<p>When creating bundles it is possible to create a self-contained bundle
that can be unbundled in a repository with no common history, as well
as providing negative revisions to exclude objects needed in the
earlier parts of the history.</p>


<p>Feeding a revision such as <code>new</code> to <code>git bundle create</code> will create a
bundle file that contains all the objects reachable from the revision
<code>new</code>. That bundle can be unbundled in any repository to obtain a full
history that leads to the revision <code>new</code>:</p>



<pre>$ git bundle create full.bundle new</pre>



<p>A revision range such as <code>old..new</code> will produce a bundle file that
will require the revision <code>old</code> (and any objects reachable from it)
to exist for the bundle to be "unbundle"-able:</p>



<pre>$ git bundle create full.bundle old..new</pre>



<p>A self-contained bundle without any prerequisites can be extracted
into anywhere, even into an empty repository, or be cloned from
(i.e., <code>new</code>, but not <code>old..new</code>).</p>


<p>It is okay to err on the side of caution, causing the bundle file
to contain objects already in the destination, as these are ignored
when unpacking at the destination.</p>


<p>If you want to match <code>git clone --mirror</code>, which would include your
refs such as <code>refs/remotes/*</code>, use <code>--all</code>.
If you want to provide the same set of refs that a clone directly
from the source repository would get, use <code>--branches --tags</code> for
the <code>&lt;git-rev-list-args&gt;</code>.</p>


<p>The <em>git bundle verify</em> command can be used to check whether your
recipient repository has the required prerequisite commits for a
bundle.</p>




<h2>examples</h2>


<p>Assume you want to transfer the history from a repository R1 on machine A
to another repository R2 on machine B.
For whatever reason, direct connection between A and B is not allowed,
but we can move data from A to B via some mechanism (CD, email, etc.).
We want to update R2 with development made on the branch master in R1.</p>


<p>To bootstrap the process, you can first create a bundle that does not have
any prerequisites. You can use a tag to remember up to what commit you last
processed, in order to make it easy to later update the other repository
with an incremental bundle:</p>



<pre>machineA$ cd R1
machineA$ git bundle create file.bundle master
machineA$ git tag -f lastR2bundle master</pre>



<p>Then you transfer file.bundle to the target machine B. Because this
bundle does not require any existing object to be extracted, you can
create a new repository on machine B by cloning from it:</p>



<pre>machineB$ git clone -b master /home/me/tmp/file.bundle R2</pre>



<p>This will define a remote called "origin" in the resulting repository that
lets you fetch and pull from the bundle. The $GIT_DIR/config file in R2 will
have an entry like this:</p>



<pre>[remote "origin"]
    url = /home/me/tmp/file.bundle
    fetch = refs/heads/*:refs/remotes/origin/*</pre>



<p>To update the resulting mine.git repository, you can fetch or pull after
replacing the bundle stored at /home/me/tmp/file.bundle with incremental
updates.</p>


<p>After working some more in the original repository, you can create an
incremental bundle to update the other repository:</p>



<pre>machineA$ cd R1
machineA$ git bundle create file.bundle lastR2bundle..master
machineA$ git tag -f lastR2bundle master</pre>



<p>You then transfer the bundle to the other machine to replace
/home/me/tmp/file.bundle, and pull from it.</p>



<pre>machineB$ cd R2
machineB$ git pull</pre>



<p>If you know up to what commit the intended recipient repository should
have the necessary objects, you can use that knowledge to specify the
prerequisites, giving a cut-off point to limit the revisions and objects that go
in the resulting bundle. The previous example used the lastR2bundle tag
for this purpose, but you can use any other options that you would give to
the <a href="/docs/git-log">git-log[1]</a> command. Here are more examples:</p>


<p>You can use a tag that is present in both:</p>



<pre>$ git bundle create mybundle v1.0.0..master</pre>



<p>You can use a prerequisite based on time:</p>



<pre>$ git bundle create mybundle --since=10.days master</pre>



<p>You can use the number of commits:</p>



<pre>$ git bundle create mybundle -10 master</pre>



<p>You can run <code>git-bundle verify</code> to see if you can extract from a bundle
that was created with a prerequisite:</p>



<pre>$ git bundle verify mybundle</pre>



<p>This will list what commits you must have in order to extract from the
bundle and will error out if you do not have them.</p>


<p>A bundle from a recipient repository’s point of view is just like a
regular repository which it fetches or pulls from. You can, for example, map
references when fetching:</p>



<pre>$ git fetch mybundle master:localRef</pre>



<p>You can also see what references it offers:</p>



<pre>$ git ls-remote mybundle</pre>





<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-cat-file - Provide content or type and size information for repository objects</span></h2>




<h2><br>synopsis</h2>


<pre><em>git cat-file</em> (-t [--allow-unknown-type]| -s [--allow-unknown-type]| -e | -p | &lt;type&gt; | --textconv | --filters ) [--path=&lt;path&gt;] &lt;object&gt;
<em>git cat-file</em> (--batch[=&lt;format&gt;] | --batch-check[=&lt;format&gt;]) [ --textconv | --filters ] [--follow-symlinks]</pre>




<h2>description</h2>


<p>In its first form, the command provides the content or the type of an object in
the repository. The type is required unless <code>-t</code> or <code>-p</code> is used to find the
object type, or <code>-s</code> is used to find the object size, or <code>--textconv</code> or
<code>--filters</code> is used (which imply type "blob").</p>


<p>In the second form, a list of objects (separated by linefeeds) is provided on
stdin, and the SHA-1, type, and size of each object is printed on stdout. The
output format can be overridden using the optional <code>&lt;format&gt;</code> argument. If
either <code>--textconv</code> or <code>--filters</code> was specified, the input is expected to
list the object names followed by the path name, separated by a single
whitespace, so that the appropriate drivers can be determined.</p>




<h2>options</h2>


<dl>
<dt> &lt;object&gt; </dt>
<dd>
<p>The name of the object to show.
For a more complete list of ways to spell object names, see
the "SPECIFYING REVISIONS" section in <a href="/docs/gitrevisions">gitrevisions[7]</a>.</p>
</dd>
<dt> -t </dt>
<dd>
<p>Instead of the content, show the object type identified by
<code>&lt;object&gt;</code>.</p>
</dd>
<dt> -s </dt>
<dd>
<p>Instead of the content, show the object size identified by
<code>&lt;object&gt;</code>.</p>
</dd>
<dt> -e </dt>
<dd>
<p>Exit with zero status if <code>&lt;object&gt;</code> exists and is a valid
object. If <code>&lt;object&gt;</code> is of an invalid format exit with non-zero and
emits an error on stderr.</p>
</dd>
<dt> -p </dt>
<dd>
<p>Pretty-print the contents of <code>&lt;object&gt;</code> based on its type.</p>
</dd>
<dt> &lt;type&gt; </dt>
<dd>
<p>Typically this matches the real type of <code>&lt;object&gt;</code> but asking
for a type that can trivially be dereferenced from the given
<code>&lt;object&gt;</code> is also permitted.  An example is to ask for a
"tree" with <code>&lt;object&gt;</code> being a commit object that contains it,
or to ask for a "blob" with <code>&lt;object&gt;</code> being a tag object that
points at it.</p>
</dd>
<dt> --textconv </dt>
<dd>
<p>Show the content as transformed by a textconv filter. In this case,
<code>&lt;object&gt;</code> has to be of the form <code>&lt;tree-ish&gt;:&lt;path&gt;</code>, or <code>:&lt;path&gt;</code> in
order to apply the filter to the content recorded in the index at
<code>&lt;path&gt;</code>.</p>
</dd>
<dt> --filters </dt>
<dd>
<p>Show the content as converted by the filters configured in
the current working tree for the given <code>&lt;path&gt;</code> (i.e. smudge filters,
end-of-line conversion, etc). In this case, <code>&lt;object&gt;</code> has to be of
the form <code>&lt;tree-ish&gt;:&lt;path&gt;</code>, or <code>:&lt;path&gt;</code>.</p>
</dd>
<dt> --path=&lt;path&gt; </dt>
<dd>
<p>For use with <code>--textconv</code> or <code>--filters</code>, to allow specifying an object
name and a path separately, e.g. when it is difficult to figure out
the revision from which the blob came.</p>
</dd>
<dt> --batch </dt>
<dt> --batch=&lt;format&gt; </dt>
<dd>
<p>Print object information and contents for each object provided
on stdin.  May not be combined with any other options or arguments
except <code>--textconv</code> or <code>--filters</code>, in which case the input lines
also need to specify the path, separated by whitespace.  See the
section <code>BATCH OUTPUT</code> below for details.</p>
</dd>
<dt> --batch-check </dt>
<dt> --batch-check=&lt;format&gt; </dt>
<dd>
<p>Print object information for each object provided on stdin.  May
not be combined with any other options or arguments except
<code>--textconv</code> or <code>--filters</code>, in which case the input lines also
need to specify the path, separated by whitespace.  See the
section <code>BATCH OUTPUT</code> below for details.</p>
</dd>
<dt> --batch-all-objects </dt>
<dd>
<p>Instead of reading a list of objects on stdin, perform the
requested batch operation on all objects in the repository and
any alternate object stores (not just reachable objects).
Requires <code>--batch</code> or <code>--batch-check</code> be specified. By default,
the objects are visited in order sorted by their hashes; see
also <code>--unordered</code> below. Objects are presented as-is, without
respecting the "replace" mechanism of <a href="/docs/git-replace">git-replace[1]</a>.</p>
</dd>
<dt> --buffer </dt>
<dd>
<p>Normally batch output is flushed after each object is output, so
that a process can interactively read and write from
<code>cat-file</code>. With this option, the output uses normal stdio
buffering; this is much more efficient when invoking
<code>--batch-check</code> on a large number of objects.</p>
</dd>
<dt> --unordered </dt>
<dd>
<p>When <code>--batch-all-objects</code> is in use, visit objects in an
order which may be more efficient for accessing the object
contents than hash order. The exact details of the order are
unspecified, but if you do not require a specific order, this
should generally result in faster output, especially with
<code>--batch</code>.  Note that <code>cat-file</code> will still show each object
only once, even if it is stored multiple times in the
repository.</p>
</dd>
<dt> --allow-unknown-type </dt>
<dd>
<p>Allow <code>-s</code> or <code>-t</code> to query broken/corrupt objects of unknown type.</p>
</dd>
<dt> --follow-symlinks </dt>
<dd>
<p>With <code>--batch</code> or <code>--batch-check</code>, follow symlinks inside the
repository when requesting objects with extended SHA-1
expressions of the form tree-ish:path-in-tree.  Instead of
providing output about the link itself, provide output about
the linked-to object.  If a symlink points outside the
tree-ish (e.g. a link to <code>/foo</code> or a root-level link to <code>../foo</code>),
the portion of the link which is outside the tree will be
printed.</p>

<p>This option does not (currently) work correctly when an object in the
index is specified (e.g. <code>:link</code> instead of <code>HEAD:link</code>) rather than
one in the tree.</p>


<p>This option cannot (currently) be used unless <code>--batch</code> or
<code>--batch-check</code> is used.</p>


<p>For example, consider a git repository containing:</p>





<pre>f: a file containing "hello\n"
link: a symlink to f
dir/link: a symlink to ../f
plink: a symlink to ../f
alink: a symlink to /etc/passwd</pre>





<p>For a regular file <code>f</code>, <code>echo HEAD:f | git cat-file --batch</code> would print</p>





<pre>ce013625030ba8dba906f756967f9e9ca394464a blob 6</pre>





<p>And <code>echo HEAD:link | git cat-file --batch --follow-symlinks</code> would
print the same thing, as would <code>HEAD:dir/link</code>, as they both point at
<code>HEAD:f</code>.</p>


<p>Without <code>--follow-symlinks</code>, these would print data about the symlink
itself.  In the case of <code>HEAD:link</code>, you would see</p>





<pre>4d1ae35ba2c8ec712fa2a379db44ad639ca277bd blob 1</pre>





<p>Both <code>plink</code> and <code>alink</code> point outside the tree, so they would
respectively print:</p>





<pre>symlink 4
../f</pre>




<pre>symlink 11
/etc/passwd</pre>




</dd>
</dl>




<h2>OUTPUT</h2>


<p>If <code>-t</code> is specified, one of the <code>&lt;type&gt;</code>.</p>


<p>If <code>-s</code> is specified, the size of the <code>&lt;object&gt;</code> in bytes.</p>


<p>If <code>-e</code> is specified, no output, unless the <code>&lt;object&gt;</code> is malformed.</p>


<p>If <code>-p</code> is specified, the contents of <code>&lt;object&gt;</code> are pretty-printed.</p>


<p>If <code>&lt;type&gt;</code> is specified, the raw (though uncompressed) contents of the <code>&lt;object&gt;</code>
will be returned.</p>




<h2>BATCH OUTPUT</h2>


<p>If <code>--batch</code> or <code>--batch-check</code> is given, <code>cat-file</code> will read objects
from stdin, one per line, and print information about them. By default,
the whole line is considered as an object, as if it were fed to
<a href="/docs/git-rev-parse">git-rev-parse[1]</a>.</p>


<p>You can specify the information shown for each object by using a custom
<code>&lt;format&gt;</code>. The <code>&lt;format&gt;</code> is copied literally to stdout for each
object, with placeholders of the form <code>%(atom)</code> expanded, followed by a
newline. The available atoms are:</p>


<dl>
<dt> <code>objectname</code> </dt>
<dd>
<p>The full hex representation of the object name.</p>
</dd>
<dt> <code>objecttype</code> </dt>
<dd>
<p>The type of the object (the same as <code>cat-file -t</code> reports).</p>
</dd>
<dt> <code>objectsize</code> </dt>
<dd>
<p>The size, in bytes, of the object (the same as <code>cat-file -s</code>
reports).</p>
</dd>
<dt> <code>objectsize:disk</code> </dt>
<dd>
<p>The size, in bytes, that the object takes up on disk. See the
note about on-disk sizes in the <code>CAVEATS</code> section below.</p>
</dd>
<dt> <code>deltabase</code> </dt>
<dd>
<p>If the object is stored as a delta on-disk, this expands to the
full hex representation of the delta base object name.
Otherwise, expands to the null OID (all zeroes). See <code>CAVEATS</code>
below.</p>
</dd>
<dt> <code>rest</code> </dt>
<dd>
<p>If this atom is used in the output string, input lines are split
at the first whitespace boundary. All characters before that
whitespace are considered to be the object name; characters
after that first run of whitespace (i.e., the "rest" of the
line) are output in place of the <code>%(rest)</code> atom.</p>
</dd>
</dl>


<p>If no format is specified, the default format is <code>%(objectname)
%(objecttype) %(objectsize)</code>.</p>


<p>If <code>--batch</code> is specified, the object information is followed by the
object contents (consisting of <code>%(objectsize)</code> bytes), followed by a
newline.</p>


<p>For example, <code>--batch</code> without a custom format would produce:</p>



<pre>&lt;oid&gt; SP &lt;type&gt; SP &lt;size&gt; LF
&lt;contents&gt; LF</pre>



<p>Whereas <code>--batch-check='%(objectname) %(objecttype)'</code> would produce:</p>



<pre>&lt;oid&gt; SP &lt;type&gt; LF</pre>



<p>If a name is specified on stdin that cannot be resolved to an object in
the repository, then <code>cat-file</code> will ignore any custom format and print:</p>



<pre>&lt;object&gt; SP missing LF</pre>



<p>If a name is specified that might refer to more than one object (an ambiguous short sha), then <code>cat-file</code> will ignore any custom format and print:</p>



<pre>&lt;object&gt; SP ambiguous LF</pre>



<p>If <code>--follow-symlinks</code> is used, and a symlink in the repository points
outside the repository, then <code>cat-file</code> will ignore any custom format
and print:</p>



<pre>symlink SP &lt;size&gt; LF
&lt;symlink&gt; LF</pre>



<p>The symlink will either be absolute (beginning with a <code>/</code>), or relative
to the tree root.  For instance, if dir/link points to <code>../../foo</code>, then
<code>&lt;symlink&gt;</code> will be <code>../foo</code>.  <code>&lt;size&gt;</code> is the size of the symlink in bytes.</p>


<p>If <code>--follow-symlinks</code> is used, the following error messages will be
displayed:</p>



<pre>&lt;object&gt; SP missing LF</pre>



<p>is printed when the initial symlink requested does not exist.</p>



<pre>dangling SP &lt;size&gt; LF
&lt;object&gt; LF</pre>



<p>is printed when the initial symlink exists, but something that
it (transitive-of) points to does not.</p>



<pre>loop SP &lt;size&gt; LF
&lt;object&gt; LF</pre>



<p>is printed for symlink loops (or any symlinks that
require more than 40 link resolutions to resolve).</p>



<pre>notdir SP &lt;size&gt; LF
&lt;object&gt; LF</pre>



<p>is printed when, during symlink resolution, a file is used as a
directory name.</p>




<h2>CAVEATS</h2>


<p>Note that the sizes of objects on disk are reported accurately, but care
should be taken in drawing conclusions about which refs or objects are
responsible for disk usage. The size of a packed non-delta object may be
much larger than the size of objects which delta against it, but the
choice of which object is the base and which is the delta is arbitrary
and is subject to change during a repack.</p>


<p>Note also that multiple copies of an object may be present in the object
database; in this case, it is undefined which copy’s size or delta base
will be reported.</p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-check-ignore - Debug gitignore / exclude files</span></h2>




<h2><br>synopsis</h2>


<pre><em>git check-ignore</em> [&lt;options&gt;] &lt;pathname&gt;…<U+200B>
<em>git check-ignore</em> [&lt;options&gt;] --stdin</pre>




<h2>description</h2>


<p>For each pathname given via the command-line or from a file via
<code>--stdin</code>, check whether the file is excluded by .gitignore (or other
input files to the exclude mechanism) and output the path if it is
excluded.</p>


<p>By default, tracked files are not shown at all since they are not
subject to exclude rules; but see ‘--no-index’.</p>




<h2>options</h2>


<dl>
<dt> -q, --quiet </dt>
<dd>
<p>Don’t output anything, just set exit status.  This is only
valid with a single pathname.</p>
</dd>
<dt> -v, --verbose </dt>
<dd>
<p>Instead of printing the paths that are excluded, for each path
that matches an exclude pattern, print the exclude pattern
together with the path.  (Matching an exclude pattern usually
means the path is excluded, but if the pattern begins with <em>!</em>
then it is a negated pattern and matching it means the path is
NOT excluded.)</p>

<p>For precedence rules within and between exclude sources, see
<a href="/docs/gitignore">gitignore[5]</a>.</p>

</dd>
<dt> --stdin </dt>
<dd>
<p>Read pathnames from the standard input, one per line,
instead of from the command-line.</p>
</dd>
<dt> -z </dt>
<dd>
<p>The output format is modified to be machine-parsable (see
below).  If <code>--stdin</code> is also given, input paths are separated
with a NUL character instead of a linefeed character.</p>
</dd>
<dt> -n, --non-matching </dt>
<dd>
<p>Show given paths which don’t match any pattern.	 This only
makes sense when <code>--verbose</code> is enabled, otherwise it would
not be possible to distinguish between paths which match a
pattern and those which don’t.</p>
</dd>
<dt> --no-index </dt>
<dd>
<p>Don’t look in the index when undertaking the checks. This can
be used to debug why a path became tracked by e.g. <code>git add .</code>
and was not ignored by the rules as expected by the user or when
developing patterns including negation to match a path previously
added with <code>git add -f</code>.</p>
</dd>
</dl>




<h2>OUTPUT</h2>


<p>By default, any of the given pathnames which match an ignore pattern
will be output, one per line.  If no pattern matches a given path,
nothing will be output for that path; this means that path will not be
ignored.</p>


<p>If <code>--verbose</code> is specified, the output is a series of lines of the form:</p>


<p>&lt;source&gt; &lt;COLON&gt; &lt;linenum&gt; &lt;COLON&gt; &lt;pattern&gt; &lt;HT&gt; &lt;pathname&gt;</p>


<p>&lt;pathname&gt; is the path of a file being queried, &lt;pattern&gt; is the
matching pattern, &lt;source&gt; is the pattern’s source file, and &lt;linenum&gt;
is the line number of the pattern within that source.  If the pattern
contained a <code>!</code> prefix or <code>/</code> suffix, it will be preserved in the
output.  &lt;source&gt; will be an absolute path when referring to the file
configured by <code>core.excludesFile</code>, or relative to the repository root
when referring to <code>.git/info/exclude</code> or a per-directory exclude file.</p>


<p>If <code>-z</code> is specified, the pathnames in the output are delimited by the
null character; if <code>--verbose</code> is also specified then null characters
are also used instead of colons and hard tabs:</p>


<p>&lt;source&gt; &lt;NULL&gt; &lt;linenum&gt; &lt;NULL&gt; &lt;pattern&gt; &lt;NULL&gt; &lt;pathname&gt; &lt;NULL&gt;</p>


<p>If <code>-n</code> or <code>--non-matching</code> are specified, non-matching pathnames will
also be output, in which case all fields in each output record except
for &lt;pathname&gt; will be empty.  This can be useful when running
non-interactively, so that files can be incrementally streamed to
STDIN of a long-running check-ignore process, and for each of these
files, STDOUT will indicate whether that file matched a pattern or
not.  (Without this option, it would be impossible to tell whether the
absence of output for a given file meant that it didn’t match any
pattern, or that the output hadn’t been generated yet.)</p>


<p>Buffering happens as documented under the <code>GIT_FLUSH</code> option in
<a href="/docs/git">git[1]</a>.  The caller is responsible for avoiding deadlocks
caused by overfilling an input buffer or reading from an empty output
buffer.</p>




<h2>EXIT STATUS</h2>


<dl>
<dt> 0 </dt>
<dd>
<p>One or more of the provided paths is ignored.</p>
</dd>
<dt> 1 </dt>
<dd>
<p>None of the provided paths are ignored.</p>
</dd>
<dt> 128 </dt>
<dd>
<p>A fatal error was encountered.</p>
</dd>
</dl>




<h2>SEE ALSO</h2>


<p><a href="/docs/gitignore">gitignore[5]</a>
<a href="/docs/git-config">git-config[1]</a>
<a href="/docs/git-ls-files">git-ls-files[1]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-checkout-index - Copy files from the index to the working tree</span></h2>




<h2><br>synopsis</h2>


<pre><em>git checkout-index</em> [-u] [-q] [-a] [-f] [-n] [--prefix=&lt;string&gt;]
		   [--stage=&lt;number&gt;|all]
		   [--temp]
		   [-z] [--stdin]
		   [--] [&lt;file&gt;…<U+200B>]</pre>




<h2>description</h2>


<p>Will copy all files listed from the index to the working directory
(not overwriting existing files).</p>




<h2>options</h2>


<dl>
<dt> -u </dt>
<dt> --index </dt>
<dd>
<p>update stat information for the checked out entries in
the index file.</p>
</dd>
<dt> -q </dt>
<dt> --quiet </dt>
<dd>
<p>be quiet if files exist or are not in the index</p>
</dd>
<dt> -f </dt>
<dt> --force </dt>
<dd>
<p>forces overwrite of existing files</p>
</dd>
<dt> -a </dt>
<dt> --all </dt>
<dd>
<p>checks out all files in the index.  Cannot be used
together with explicit filenames.</p>
</dd>
<dt> -n </dt>
<dt> --no-create </dt>
<dd>
<p>Don’t checkout new files, only refresh files already checked
out.</p>
</dd>
<dt> --prefix=&lt;string&gt; </dt>
<dd>
<p>When creating files, prepend &lt;string&gt; (usually a directory
including a trailing /)</p>
</dd>
<dt> --stage=&lt;number&gt;|all </dt>
<dd>
<p>Instead of checking out unmerged entries, copy out the
files from named stage.  &lt;number&gt; must be between 1 and 3.
Note: --stage=all automatically implies --temp.</p>
</dd>
<dt> --temp </dt>
<dd>
<p>Instead of copying the files to the working directory
write the content to temporary files.  The temporary name
associations will be written to stdout.</p>
</dd>
<dt> --stdin </dt>
<dd>
<p>Instead of taking list of paths from the command line,
read list of paths from the standard input.  Paths are
separated by LF (i.e. one path per line) by default.</p>
</dd>
<dt> -z </dt>
<dd>
<p>Only meaningful with <code>--stdin</code>; paths are separated with
NUL character instead of LF.</p>
</dd>
<dt> -- </dt>
<dd>
<p>Do not interpret any more arguments as options.</p>
</dd>
</dl>


<p>The order of the flags used to matter, but not anymore.</p>


<p>Just doing <code>git checkout-index</code> does nothing. You probably meant
<code>git checkout-index -a</code>. And if you want to force it, you want
<code>git checkout-index -f -a</code>.</p>


<p>Intuitiveness is not the goal here. Repeatability is. The reason for
the "no arguments means no work" behavior is that from scripts you are
supposed to be able to do:</p>



<pre>$ find . -name '*.h' -print0 | xargs -0 git checkout-index -f --</pre>



<p>which will force all existing <code>*.h</code> files to be replaced with their
cached copies. If an empty command line implied "all", then this would
force-refresh everything in the index, which was not the point.  But
since <em>git checkout-index</em> accepts --stdin it would be faster to use:</p>



<pre>$ find . -name '*.h' -print0 | git checkout-index -f -z --stdin</pre>



<p>The <code>--</code> is just a good idea when you know the rest will be filenames;
it will prevent problems with a filename of, for example,  <code>-a</code>.
Using <code>--</code> is probably a good policy in scripts.</p>




<h2>Using --temp or --stage=all</h2>


<p>When <code>--temp</code> is used (or implied by <code>--stage=all</code>)
<em>git checkout-index</em> will create a temporary file for each index
entry being checked out.  The index will not be updated with stat
information.  These options can be useful if the caller needs all
stages of all unmerged entries so that the unmerged files can be
processed by an external merge tool.</p>


<p>A listing will be written to stdout providing the association of
temporary file names to tracked path names.  The listing format
has two variations:</p>


<ol>
<li>
<p>tempname TAB path RS</p>

<p>The first format is what gets used when <code>--stage</code> is omitted or
is not <code>--stage=all</code>. The field tempname is the temporary file
name holding the file content and path is the tracked path name in
the index.  Only the requested entries are output.</p>

</li>
<li>
<p>stage1temp SP stage2temp SP stage3tmp TAB path RS</p>

<p>The second format is what gets used when <code>--stage=all</code>.  The three
stage temporary fields (stage1temp, stage2temp, stage3temp) list the
name of the temporary file if there is a stage entry in the index
or <code>.</code> if there is no stage entry.  Paths which only have a stage 0
entry will always be omitted from the output.</p>

</li>
</ol>


<p>In both formats RS (the record separator) is newline by default
but will be the null byte if -z was passed on the command line.
The temporary file names are always safe strings; they will never
contain directory separators or whitespace characters.  The path
field is always relative to the current directory and the temporary
file names are always relative to the top level directory.</p>


<p>If the object being copied out to a temporary file is a symbolic
link the content of the link will be written to a normal file.  It is
up to the end-user or the Porcelain to make use of this information.</p>




<h2>examples</h2>


<dl>
<dt> To update and refresh only the files already checked out </dt>
<dd>


<pre>$ git checkout-index -n -f -a &amp;&amp; git update-index --ignore-missing --refresh</pre>


</dd>
<dt> Using <em>git checkout-index</em> to "export an entire tree" </dt>
<dd>
<p>The prefix ability basically makes it trivial to use
<em>git checkout-index</em> as an "export as tree" function.
Just read the desired tree into the index, and do:</p>


<pre>$ git checkout-index --prefix=git-export-dir/ -a</pre>



<p><code>git checkout-index</code> will "export" the index into the specified
directory.</p>


<p>The final "/" is important. The exported name is literally just
prefixed with the specified string.  Contrast this with the
following example.</p>

</dd>
<dt> Export files with a prefix </dt>
<dd>


<pre>$ git checkout-index --prefix=.merged- Makefile</pre>



<p>This will check out the currently cached copy of <code>Makefile</code>
into the file <code>.merged-Makefile</code>.</p>

</dd>
</dl>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-commit-tree - Create a new commit object</span></h2>




<h2><br>synopsis</h2>


<pre><em>git commit-tree</em> &lt;tree&gt; [(-p &lt;parent&gt;)…<U+200B>]
<em>git commit-tree</em> [(-p &lt;parent&gt;)…<U+200B>] [-S[&lt;keyid&gt;]] [(-m &lt;message&gt;)…<U+200B>]
		  [(-F &lt;file&gt;)…<U+200B>] &lt;tree&gt;</pre>




<h2>description</h2>


<p>This is usually not what an end user wants to run directly.  See
<a href="/docs/git-commit">git-commit[1]</a> instead.</p>


<p>Creates a new commit object based on the provided tree object and
emits the new commit object id on stdout. The log message is read
from the standard input, unless <code>-m</code> or <code>-F</code> options are given.</p>


<p>The <code>-m</code> and <code>-F</code> options can be given any number of times, in any
order. The commit log message will be composed in the order in which
the options are given.</p>


<p>A commit object may have any number of parents. With exactly one
parent, it is an ordinary commit. Having more than one parent makes
the commit a merge between several lines of history. Initial (root)
commits have no parents.</p>


<p>While a tree represents a particular directory state of a working
directory, a commit represents that state in "time", and explains how
to get there.</p>


<p>Normally a commit would identify a new "HEAD" state, and while Git
doesn’t care where you save the note about that state, in practice we
tend to just write the result to the file that is pointed at by
<code>.git/HEAD</code>, so that we can always see what the last committed
state was.</p>




<h2>options</h2>


<dl>
<dt> &lt;tree&gt; </dt>
<dd>
<p>An existing tree object.</p>
</dd>
<dt> -p &lt;parent&gt; </dt>
<dd>
<p>Each <code>-p</code> indicates the id of a parent commit object.</p>
</dd>
<dt> -m &lt;message&gt; </dt>
<dd>
<p>A paragraph in the commit log message. This can be given more than
once and each &lt;message&gt; becomes its own paragraph.</p>
</dd>
<dt> -F &lt;file&gt; </dt>
<dd>
<p>Read the commit log message from the given file. Use <code>-</code> to read
from the standard input. This can be given more than once and the
content of each file becomes its own paragraph.</p>
</dd>
<dt> -S[&lt;keyid&gt;] </dt>
<dt> --gpg-sign[=&lt;keyid&gt;] </dt>
<dt> --no-gpg-sign </dt>
<dd>
<p>GPG-sign commits. The <code>keyid</code> argument is optional and
defaults to the committer identity; if specified, it must be
stuck to the option without a space. <code>--no-gpg-sign</code> is useful to
countermand a <code>--gpg-sign</code> option given earlier on the command line.</p>
</dd>
</dl>




<h2>Commit Information</h2>


<p>A commit encapsulates:</p>


<ul>
<li>
<p>all parent object ids</p>
</li>
<li>
<p>author name, email and date</p>
</li>
<li>
<p>committer name and email and the commit time.</p>
</li>
</ul>


<p>A commit comment is read from stdin. If a changelog
entry is not provided via "&lt;" redirection, <em>git commit-tree</em> will just wait
for one to be entered and terminated with ^D.</p>




<h2>DATE FORMATS</h2>


<p>The <code>GIT_AUTHOR_DATE</code> and <code>GIT_COMMITTER_DATE</code> environment variables
support the following date formats:</p>


<dl>
<dt> Git internal format </dt>
<dd>
<p>It is <code>&lt;unix-timestamp&gt; &lt;time-zone-offset&gt;</code>, where
<code>&lt;unix-timestamp&gt;</code> is the number of seconds since the UNIX epoch.
<code>&lt;time-zone-offset&gt;</code> is a positive or negative offset from UTC.
For example CET (which is 1 hour ahead of UTC) is <code>+0100</code>.</p>
</dd>
<dt> RFC 2822 </dt>
<dd>
<p>The standard email format as described by RFC 2822, for example
<code>Thu, 07 Apr 2005 22:13:13 +0200</code>.</p>
</dd>
<dt> ISO 8601 </dt>
<dd>
<p>Time and date specified by the ISO 8601 standard, for example
<code>2005-04-07T22:13:13</code>. The parser accepts a space instead of the
<code>T</code> character as well. Fractional parts of a second will be ignored,
for example <code>2005-04-07T22:13:13.019</code> will be treated as
<code>2005-04-07T22:13:13</code>.</p>

<table><tr>
<td>
Note
</td>
<td>
In addition, the date part is accepted in the following formats:
<code>YYYY.MM.DD</code>, <code>MM/DD/YYYY</code> and <code>DD.MM.YYYY</code>.
</td>
</tr></table>

</dd>
</dl>




<h2>Discussion</h2>


<p>Git is to some extent character encoding agnostic.</p>


<ul>
<li>
<p>The contents of the blob objects are uninterpreted sequences
of bytes.  There is no encoding translation at the core
level.</p>
</li>
<li>
<p>Path names are encoded in UTF-8 normalization form C. This
applies to tree objects, the index file, ref names, as well as
path names in command line arguments, environment variables
and config files (<code>.git/config</code> (see <a href="/docs/git-config">git-config[1]</a>),
<a href="/docs/gitignore">gitignore[5]</a>, <a href="/docs/gitattributes">gitattributes[5]</a> and
<a href="/docs/gitmodules">gitmodules[5]</a>).</p>

<p>Note that Git at the core level treats path names simply as
sequences of non-NUL bytes, there are no path name encoding
conversions (except on Mac and Windows). Therefore, using
non-ASCII path names will mostly work even on platforms and file
systems that use legacy extended ASCII encodings. However,
repositories created on such systems will not work properly on
UTF-8-based systems (e.g. Linux, Mac, Windows) and vice versa.
Additionally, many Git-based tools simply assume path names to
be UTF-8 and will fail to display other encodings correctly.</p>

</li>
<li>
<p>Commit log messages are typically encoded in UTF-8, but other
extended ASCII encodings are also supported. This includes
ISO-8859-x, CP125x and many others, but <em>not</em> UTF-16/32,
EBCDIC and CJK multi-byte encodings (GBK, Shift-JIS, Big5,
EUC-x, CP9xx etc.).</p>
</li>
</ul>


<p>Although we encourage that the commit log messages are encoded
in UTF-8, both the core and Git Porcelain are designed not to
force UTF-8 on projects.  If all participants of a particular
project find it more convenient to use legacy encodings, Git
does not forbid it.  However, there are a few things to keep in
mind.</p>


<ol>
<li>
<p><em>git commit</em> and <em>git commit-tree</em> issues
a warning if the commit log message given to it does not look
like a valid UTF-8 string, unless you explicitly say your
project uses a legacy encoding.  The way to say this is to
have <code>i18n.commitEncoding</code> in <code>.git/config</code> file, like this:</p>


<pre>[i18n]
	commitEncoding = ISO-8859-1</pre>



<p>Commit objects created with the above setting record the value
of <code>i18n.commitEncoding</code> in its <code>encoding</code> header.  This is to
help other people who look at them later.  Lack of this header
implies that the commit log message is encoded in UTF-8.</p>

</li>
<li>
<p><em>git log</em>, <em>git show</em>, <em>git blame</em> and friends look at the
<code>encoding</code> header of a commit object, and try to re-code the
log message into UTF-8 unless otherwise specified.  You can
specify the desired output encoding with
<code>i18n.logOutputEncoding</code> in <code>.git/config</code> file, like this:</p>


<pre>[i18n]
	logOutputEncoding = ISO-8859-1</pre>



<p>If you do not have this configuration variable, the value of
<code>i18n.commitEncoding</code> is used instead.</p>

</li>
</ol>


<p>Note that we deliberately chose not to re-code the commit log
message when a commit is made to force UTF-8 at the commit
object level, because re-coding to UTF-8 is not necessarily a
reversible operation.</p>




<h2>FILES</h2>


<p>/etc/mailname</p>




<h2>SEE ALSO</h2>


<p><a href="/docs/git-write-tree">git-write-tree[1]</a>
<a href="/docs/git-commit">git-commit[1]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-count-objects - Count unpacked number of objects and their disk consumption</span></h2>




<h2><br>synopsis</h2>


<pre><em>git count-objects</em> [-v] [-H | --human-readable]</pre>




<h2>description</h2>


<p>This counts the number of unpacked object files and disk space consumed by
them, to help you decide when it is a good time to repack.</p>




<h2>options</h2>


<dl>
<dt> -v </dt>
<dt> --verbose </dt>
<dd>
<p>Report in more detail:</p>

<p>count: the number of loose objects</p>


<p>size: disk space consumed by loose objects, in KiB (unless -H is specified)</p>


<p>in-pack: the number of in-pack objects</p>


<p>size-pack: disk space consumed by the packs, in KiB (unless -H is specified)</p>


<p>prune-packable: the number of loose objects that are also present in
the packs. These objects could be pruned using <code>git prune-packed</code>.</p>


<p>garbage: the number of files in object database that are neither valid loose
objects nor valid packs</p>


<p>size-garbage: disk space consumed by garbage files, in KiB (unless -H is
specified)</p>


<p>alternate: absolute path of alternate object databases; may appear
multiple times, one line per path. Note that if the path contains
non-printable characters, it may be surrounded by double-quotes and
contain C-style backslashed escape sequences.</p>

</dd>
<dt> -H </dt>
<dt> --human-readable </dt>
<dd>
<p>Print sizes in human readable format</p>
</dd>
</dl>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-diff-index - Compare a tree to the working tree or index</span></h2>




<h2><br>synopsis</h2>


<pre><em>git diff-index</em> [-m] [--cached] [--merge-base] [&lt;common-diff-options&gt;] &lt;tree-ish&gt; [&lt;path&gt;…<U+200B>]</pre>




<h2>description</h2>


<p>Compares the content and mode of the blobs found in a tree object
with the corresponding tracked files in the working tree, or with the
corresponding paths in the index.  When &lt;path&gt; arguments are present,
compares only paths matching those patterns.  Otherwise all tracked
files are compared.</p>




<h2>options</h2>


<dl>
<dt> -p </dt>
<dt> -u </dt>
<dt> --patch </dt>
<dd>
<p>Generate patch (see section on generating patches).</p>
</dd>
<dt> -s </dt>
<dt> --no-patch </dt>
<dd>
<p>Suppress diff output. Useful for commands like <code>git show</code> that
show the patch by default, or to cancel the effect of <code>--patch</code>.</p>
</dd>
<dt> -U&lt;n&gt; </dt>
<dt> --unified=&lt;n&gt; </dt>
<dd>
<p>Generate diffs with &lt;n&gt; lines of context instead of
the usual three.
Implies <code>--patch</code>.</p>
</dd>
<dt> --output=&lt;file&gt; </dt>
<dd>
<p>Output to a specific file instead of stdout.</p>
</dd>
<dt> --output-indicator-new=&lt;char&gt; </dt>
<dt> --output-indicator-old=&lt;char&gt; </dt>
<dt> --output-indicator-context=&lt;char&gt; </dt>
<dd>
<p>Specify the character used to indicate new, old or context
lines in the generated patch. Normally they are <em>+</em>, <em>-</em> and
' ' respectively.</p>
</dd>
<dt> --raw </dt>
<dd>
<p>Generate the diff in raw format.
This is the default.</p>
</dd>
<dt> --patch-with-raw </dt>
<dd>
<p>Synonym for <code>-p --raw</code>.</p>
</dd>
<dt> --indent-heuristic </dt>
<dd>
<p>Enable the heuristic that shifts diff hunk boundaries to make patches
easier to read. This is the default.</p>
</dd>
<dt> --no-indent-heuristic </dt>
<dd>
<p>Disable the indent heuristic.</p>
</dd>
<dt> --minimal </dt>
<dd>
<p>Spend extra time to make sure the smallest possible
diff is produced.</p>
</dd>
<dt> --patience </dt>
<dd>
<p>Generate a diff using the "patience diff" algorithm.</p>
</dd>
<dt> --histogram </dt>
<dd>
<p>Generate a diff using the "histogram diff" algorithm.</p>
</dd>
<dt> --anchored=&lt;text&gt; </dt>
<dd>
<p>Generate a diff using the "anchored diff" algorithm.</p>

<p>This option may be specified more than once.</p>


<p>If a line exists in both the source and destination, exists only once,
and starts with this text, this algorithm attempts to prevent it from
appearing as a deletion or addition in the output. It uses the "patience
diff" algorithm internally.</p>

</dd>
<dt> --diff-algorithm={patience|minimal|histogram|myers} </dt>
<dd>
<p>Choose a diff algorithm. The variants are as follows:</p>



<dl>
<dt> <code>default</code>, <code>myers</code> </dt>
<dd>
<p>The basic greedy diff algorithm. Currently, this is the default.</p>
</dd>
<dt> <code>minimal</code> </dt>
<dd>
<p>Spend extra time to make sure the smallest possible diff is
produced.</p>
</dd>
<dt> <code>patience</code> </dt>
<dd>
<p>Use "patience diff" algorithm when generating patches.</p>
</dd>
<dt> <code>histogram</code> </dt>
<dd>
<p>This algorithm extends the patience algorithm to "support
low-occurrence common elements".</p>
</dd>
</dl>




<p>For instance, if you configured the <code>diff.algorithm</code> variable to a
non-default value and want to use the default one, then you
have to use <code>--diff-algorithm=default</code> option.</p>

</dd>
<dt> --stat[=&lt;width&gt;[,&lt;name-width&gt;[,&lt;count&gt;]]] </dt>
<dd>
<p>Generate a diffstat. By default, as much space as necessary
will be used for the filename part, and the rest for the graph
part. Maximum width defaults to terminal width, or 80 columns
if not connected to a terminal, and can be overridden by
<code>&lt;width&gt;</code>. The width of the filename part can be limited by
giving another width <code>&lt;name-width&gt;</code> after a comma. The width
of the graph part can be limited by using
<code>--stat-graph-width=&lt;width&gt;</code> (affects all commands generating
a stat graph) or by setting <code>diff.statGraphWidth=&lt;width&gt;</code>
(does not affect <code>git format-patch</code>).
By giving a third parameter <code>&lt;count&gt;</code>, you can limit the
output to the first <code>&lt;count&gt;</code> lines, followed by <code>...</code> if
there are more.</p>

<p>These parameters can also be set individually with <code>--stat-width=&lt;width&gt;</code>,
<code>--stat-name-width=&lt;name-width&gt;</code> and <code>--stat-count=&lt;count&gt;</code>.</p>

</dd>
<dt> --compact-summary </dt>
<dd>
<p>Output a condensed summary of extended header information such
as file creations or deletions ("new" or "gone", optionally "+l"
if it’s a symlink) and mode changes ("+x" or "-x" for adding
or removing executable bit respectively) in diffstat. The
information is put between the filename part and the graph
part. Implies <code>--stat</code>.</p>
</dd>
<dt> --numstat </dt>
<dd>
<p>Similar to <code>--stat</code>, but shows number of added and
deleted lines in decimal notation and pathname without
abbreviation, to make it more machine friendly.  For
binary files, outputs two <code>-</code> instead of saying
<code>0 0</code>.</p>
</dd>
<dt> --shortstat </dt>
<dd>
<p>Output only the last line of the <code>--stat</code> format containing total
number of modified files, as well as number of added and deleted
lines.</p>
</dd>
<dt> -X[&lt;param1,param2,…<U+200B>&gt;] </dt>
<dt> --dirstat[=&lt;param1,param2,…<U+200B>&gt;] </dt>
<dd>
<p>Output the distribution of relative amount of changes for each
sub-directory. The behavior of <code>--dirstat</code> can be customized by
passing it a comma separated list of parameters.
The defaults are controlled by the <code>diff.dirstat</code> configuration
variable (see <a href="/docs/git-config">git-config[1]</a>).
The following parameters are available:</p>



<dl>
<dt> <code>changes</code> </dt>
<dd>
<p>Compute the dirstat numbers by counting the lines that have been
removed from the source, or added to the destination. This ignores
the amount of pure code movements within a file.  In other words,
rearranging lines in a file is not counted as much as other changes.
This is the default behavior when no parameter is given.</p>
</dd>
<dt> <code>lines</code> </dt>
<dd>
<p>Compute the dirstat numbers by doing the regular line-based diff
analysis, and summing the removed/added line counts. (For binary
files, count 64-byte chunks instead, since binary files have no
natural concept of lines). This is a more expensive <code>--dirstat</code>
behavior than the <code>changes</code> behavior, but it does count rearranged
lines within a file as much as other changes. The resulting output
is consistent with what you get from the other <code>--*stat</code> options.</p>
</dd>
<dt> <code>files</code> </dt>
<dd>
<p>Compute the dirstat numbers by counting the number of files changed.
Each changed file counts equally in the dirstat analysis. This is
the computationally cheapest <code>--dirstat</code> behavior, since it does
not have to look at the file contents at all.</p>
</dd>
<dt> <code>cumulative</code> </dt>
<dd>
<p>Count changes in a child directory for the parent directory as well.
Note that when using <code>cumulative</code>, the sum of the percentages
reported may exceed 100%. The default (non-cumulative) behavior can
be specified with the <code>noncumulative</code> parameter.</p>
</dd>
<dt> &lt;limit&gt; </dt>
<dd>
<p>An integer parameter specifies a cut-off percent (3% by default).
Directories contributing less than this percentage of the changes
are not shown in the output.</p>
</dd>
</dl>




<p>Example: The following will count changed files, while ignoring
directories with less than 10% of the total amount of changed files,
and accumulating child directory counts in the parent directories:
<code>--dirstat=files,10,cumulative</code>.</p>

</dd>
<dt> --cumulative </dt>
<dd>
<p>Synonym for --dirstat=cumulative</p>
</dd>
<dt> --dirstat-by-file[=&lt;param1,param2&gt;…<U+200B>] </dt>
<dd>
<p>Synonym for --dirstat=files,param1,param2…<U+200B></p>
</dd>
<dt> --summary </dt>
<dd>
<p>Output a condensed summary of extended header information
such as creations, renames and mode changes.</p>
</dd>
<dt> --patch-with-stat </dt>
<dd>
<p>Synonym for <code>-p --stat</code>.</p>
</dd>
<dt> -z </dt>
<dd>
<p>When <code>--raw</code>, <code>--numstat</code>, <code>--name-only</code> or <code>--name-status</code> has been
given, do not munge pathnames and use NULs as output field terminators.</p>

<p>Without this option, pathnames with "unusual" characters are quoted as
explained for the configuration variable <code>core.quotePath</code> (see
<a href="/docs/git-config">git-config[1]</a>).</p>

</dd>
<dt> --name-only </dt>
<dd>
<p>Show only names of changed files. The file names are often encoded in UTF-8.
For more information see the discussion about encoding in the <a href="/docs/git-log">git-log[1]</a>
manual page.</p>
</dd>
<dt> --name-status </dt>
<dd>
<p>Show only names and status of changed files. See the description
of the <code>--diff-filter</code> option on what the status letters mean.
Just like <code>--name-only</code> the file names are often encoded in UTF-8.</p>
</dd>
<dt> --submodule[=&lt;format&gt;] </dt>
<dd>
<p>Specify how differences in submodules are shown.  When specifying
<code>--submodule=short</code> the <em>short</em> format is used.  This format just
shows the names of the commits at the beginning and end of the range.
When <code>--submodule</code> or <code>--submodule=log</code> is specified, the <em>log</em>
format is used.  This format lists the commits in the range like
<a href="/docs/git-submodule">git-submodule[1]</a> <code>summary</code> does.  When <code>--submodule=diff</code>
is specified, the <em>diff</em> format is used.  This format shows an
inline diff of the changes in the submodule contents between the
commit range.  Defaults to <code>diff.submodule</code> or the <em>short</em> format
if the config option is unset.</p>
</dd>
<dt> --color[=&lt;when&gt;] </dt>
<dd>
<p>Show colored diff.
<code>--color</code> (i.e. without <em>=&lt;when&gt;</em>) is the same as <code>--color=always</code>.
<em>&lt;when&gt;</em> can be one of <code>always</code>, <code>never</code>, or <code>auto</code>.</p>
</dd>
<dt> --no-color </dt>
<dd>
<p>Turn off colored diff.
It is the same as <code>--color=never</code>.</p>
</dd>
<dt> --color-moved[=&lt;mode&gt;] </dt>
<dd>
<p>Moved lines of code are colored differently.
The &lt;mode&gt; defaults to <em>no</em> if the option is not given
and to <em>zebra</em> if the option with no mode is given.
The mode must be one of:</p>



<dl>
<dt> no </dt>
<dd>
<p>Moved lines are not highlighted.</p>
</dd>
<dt> default </dt>
<dd>
<p>Is a synonym for <code>zebra</code>. This may change to a more sensible mode
in the future.</p>
</dd>
<dt> plain </dt>
<dd>
<p>Any line that is added in one location and was removed
in another location will be colored with <em>color.diff.newMoved</em>.
Similarly <em>color.diff.oldMoved</em> will be used for removed lines
that are added somewhere else in the diff. This mode picks up any
moved line, but it is not very useful in a review to determine
if a block of code was moved without permutation.</p>
</dd>
<dt> blocks </dt>
<dd>
<p>Blocks of moved text of at least 20 alphanumeric characters
are detected greedily. The detected blocks are
painted using either the <em>color.diff.{old,new}Moved</em> color.
Adjacent blocks cannot be told apart.</p>
</dd>
<dt> zebra </dt>
<dd>
<p>Blocks of moved text are detected as in <em>blocks</em> mode. The blocks
are painted using either the <em>color.diff.{old,new}Moved</em> color or
<em>color.diff.{old,new}MovedAlternative</em>. The change between
the two colors indicates that a new block was detected.</p>
</dd>
<dt> dimmed-zebra </dt>
<dd>
<p>Similar to <em>zebra</em>, but additional dimming of uninteresting parts
of moved code is performed. The bordering lines of two adjacent
blocks are considered interesting, the rest is uninteresting.
<code>dimmed_zebra</code> is a deprecated synonym.</p>
</dd>
</dl>



</dd>
<dt> --no-color-moved </dt>
<dd>
<p>Turn off move detection. This can be used to override configuration
settings. It is the same as <code>--color-moved=no</code>.</p>
</dd>
<dt> --color-moved-ws=&lt;modes&gt; </dt>
<dd>
<p>This configures how whitespace is ignored when performing the
move detection for <code>--color-moved</code>.
These modes can be given as a comma separated list:</p>



<dl>
<dt> no </dt>
<dd>
<p>Do not ignore whitespace when performing move detection.</p>
</dd>
<dt> ignore-space-at-eol </dt>
<dd>
<p>Ignore changes in whitespace at EOL.</p>
</dd>
<dt> ignore-space-change </dt>
<dd>
<p>Ignore changes in amount of whitespace.  This ignores whitespace
at line end, and considers all other sequences of one or
more whitespace characters to be equivalent.</p>
</dd>
<dt> ignore-all-space </dt>
<dd>
<p>Ignore whitespace when comparing lines. This ignores differences
even if one line has whitespace where the other line has none.</p>
</dd>
<dt> allow-indentation-change </dt>
<dd>
<p>Initially ignore any whitespace in the move detection, then
group the moved code blocks only into a block if the change in
whitespace is the same per line. This is incompatible with the
other modes.</p>
</dd>
</dl>



</dd>
<dt> --no-color-moved-ws </dt>
<dd>
<p>Do not ignore whitespace when performing move detection. This can be
used to override configuration settings. It is the same as
<code>--color-moved-ws=no</code>.</p>
</dd>
<dt> --word-diff[=&lt;mode&gt;] </dt>
<dd>
<p>Show a word diff, using the &lt;mode&gt; to delimit changed words.
By default, words are delimited by whitespace; see
<code>--word-diff-regex</code> below.  The &lt;mode&gt; defaults to <em>plain</em>, and
must be one of:</p>



<dl>
<dt> color </dt>
<dd>
<p>Highlight changed words using only colors.  Implies <code>--color</code>.</p>
</dd>
<dt> plain </dt>
<dd>
<p>Show words as <code>[-removed-]</code> and <code>{+added+}</code>.  Makes no
attempts to escape the delimiters if they appear in the input,
so the output may be ambiguous.</p>
</dd>
<dt> porcelain </dt>
<dd>
<p>Use a special line-based format intended for script
consumption.  Added/removed/unchanged runs are printed in the
usual unified diff format, starting with a <code>+</code>/<code>-</code>/` `
character at the beginning of the line and extending to the
end of the line.  Newlines in the input are represented by a
tilde <code>~</code> on a line of its own.</p>
</dd>
<dt> none </dt>
<dd>
<p>Disable word diff again.</p>
</dd>
</dl>




<p>Note that despite the name of the first mode, color is used to
highlight the changed parts in all modes if enabled.</p>

</dd>
<dt> --word-diff-regex=&lt;regex&gt; </dt>
<dd>
<p>Use &lt;regex&gt; to decide what a word is, instead of considering
runs of non-whitespace to be a word.  Also implies
<code>--word-diff</code> unless it was already enabled.</p>

<p>Every non-overlapping match of the
&lt;regex&gt; is considered a word.  Anything between these matches is
considered whitespace and ignored(!) for the purposes of finding
differences.  You may want to append <code>|[^[:space:]]</code> to your regular
expression to make sure that it matches all non-whitespace characters.
A match that contains a newline is silently truncated(!) at the
newline.</p>


<p>For example, <code>--word-diff-regex=.</code> will treat each character as a word
and, correspondingly, show differences character by character.</p>


<p>The regex can also be set via a diff driver or configuration option, see
<a href="/docs/gitattributes">gitattributes[5]</a> or <a href="/docs/git-config">git-config[1]</a>.  Giving it explicitly
overrides any diff driver or configuration setting.  Diff drivers
override configuration settings.</p>

</dd>
<dt> --color-words[=&lt;regex&gt;] </dt>
<dd>
<p>Equivalent to <code>--word-diff=color</code> plus (if a regex was
specified) <code>--word-diff-regex=&lt;regex&gt;</code>.</p>
</dd>
<dt> --no-renames </dt>
<dd>
<p>Turn off rename detection, even when the configuration
file gives the default to do so.</p>
</dd>
<dt> --[no-]rename-empty </dt>
<dd>
<p>Whether to use empty blobs as rename source.</p>
</dd>
<dt> --check </dt>
<dd>
<p>Warn if changes introduce conflict markers or whitespace errors.
What are considered whitespace errors is controlled by <code>core.whitespace</code>
configuration.  By default, trailing whitespaces (including
lines that consist solely of whitespaces) and a space character
that is immediately followed by a tab character inside the
initial indent of the line are considered whitespace errors.
Exits with non-zero status if problems are found. Not compatible
with --exit-code.</p>
</dd>
<dt> --ws-error-highlight=&lt;kind&gt; </dt>
<dd>
<p>Highlight whitespace errors in the <code>context</code>, <code>old</code> or <code>new</code>
lines of the diff.  Multiple values are separated by comma,
<code>none</code> resets previous values, <code>default</code> reset the list to
<code>new</code> and <code>all</code> is a shorthand for <code>old,new,context</code>.  When
this option is not given, and the configuration variable
<code>diff.wsErrorHighlight</code> is not set, only whitespace errors in
<code>new</code> lines are highlighted. The whitespace errors are colored
with <code>color.diff.whitespace</code>.</p>
</dd>
<dt> --full-index </dt>
<dd>
<p>Instead of the first handful of characters, show the full
pre- and post-image blob object names on the "index"
line when generating patch format output.</p>
</dd>
<dt> --binary </dt>
<dd>
<p>In addition to <code>--full-index</code>, output a binary diff that
can be applied with <code>git-apply</code>.
Implies <code>--patch</code>.</p>
</dd>
<dt> --abbrev[=&lt;n&gt;] </dt>
<dd>
<p>Instead of showing the full 40-byte hexadecimal object
name in diff-raw format output and diff-tree header
lines, show the shortest prefix that is at least <em>&lt;n&gt;</em>
hexdigits long that uniquely refers the object.
In diff-patch output format, <code>--full-index</code> takes higher
precedence, i.e. if <code>--full-index</code> is specified, full blob
names will be shown regardless of <code>--abbrev</code>.
Non default number of digits can be specified with <code>--abbrev=&lt;n&gt;</code>.</p>
</dd>
<dt> -B[&lt;n&gt;][/&lt;m&gt;] </dt>
<dt> --break-rewrites[=[&lt;n&gt;][/&lt;m&gt;]] </dt>
<dd>
<p>Break complete rewrite changes into pairs of delete and
create. This serves two purposes:</p>

<p>It affects the way a change that amounts to a total rewrite of a file
not as a series of deletion and insertion mixed together with a very
few lines that happen to match textually as the context, but as a
single deletion of everything old followed by a single insertion of
everything new, and the number <code>m</code> controls this aspect of the -B
option (defaults to 60%). <code>-B/70%</code> specifies that less than 30% of the
original should remain in the result for Git to consider it a total
rewrite (i.e. otherwise the resulting patch will be a series of
deletion and insertion mixed together with context lines).</p>


<p>When used with -M, a totally-rewritten file is also considered as the
source of a rename (usually -M only considers a file that disappeared
as the source of a rename), and the number <code>n</code> controls this aspect of
the -B option (defaults to 50%). <code>-B20%</code> specifies that a change with
addition and deletion compared to 20% or more of the file’s size are
eligible for being picked up as a possible source of a rename to
another file.</p>

</dd>
<dt> -M[&lt;n&gt;] </dt>
<dt> --find-renames[=&lt;n&gt;] </dt>
<dd>
<p>Detect renames.
If <code>n</code> is specified, it is a threshold on the similarity
index (i.e. amount of addition/deletions compared to the
file’s size). For example, <code>-M90%</code> means Git should consider a
delete/add pair to be a rename if more than 90% of the file
hasn’t changed.  Without a <code>%</code> sign, the number is to be read as
a fraction, with a decimal point before it.  I.e., <code>-M5</code> becomes
0.5, and is thus the same as <code>-M50%</code>.  Similarly, <code>-M05</code> is
the same as <code>-M5%</code>.  To limit detection to exact renames, use
<code>-M100%</code>.  The default similarity index is 50%.</p>
</dd>
<dt> -C[&lt;n&gt;] </dt>
<dt> --find-copies[=&lt;n&gt;] </dt>
<dd>
<p>Detect copies as well as renames.  See also <code>--find-copies-harder</code>.
If <code>n</code> is specified, it has the same meaning as for <code>-M&lt;n&gt;</code>.</p>
</dd>
<dt> --find-copies-harder </dt>
<dd>
<p>For performance reasons, by default, <code>-C</code> option finds copies only
if the original file of the copy was modified in the same
changeset.  This flag makes the command
inspect unmodified files as candidates for the source of
copy.  This is a very expensive operation for large
projects, so use it with caution.  Giving more than one
<code>-C</code> option has the same effect.</p>
</dd>
<dt> -D </dt>
<dt> --irreversible-delete </dt>
<dd>
<p>Omit the preimage for deletes, i.e. print only the header but not
the diff between the preimage and <code>/dev/null</code>. The resulting patch
is not meant to be applied with <code>patch</code> or <code>git apply</code>; this is
solely for people who want to just concentrate on reviewing the
text after the change. In addition, the output obviously lacks
enough information to apply such a patch in reverse, even manually,
hence the name of the option.</p>

<p>When used together with <code>-B</code>, omit also the preimage in the deletion part
of a delete/create pair.</p>

</dd>
<dt> -l&lt;num&gt; </dt>
<dd>
<p>The <code>-M</code> and <code>-C</code> options involve some preliminary steps that
can detect subsets of renames/copies cheaply, followed by an
exhaustive fallback portion that compares all remaining
unpaired destinations to all relevant sources.  (For renames,
only remaining unpaired sources are relevant; for copies, all
original sources are relevant.)  For N sources and
destinations, this exhaustive check is O(N^2).  This option
prevents the exhaustive portion of rename/copy detection from
running if the number of source/destination files involved
exceeds the specified number.  Defaults to diff.renameLimit.
Note that a value of 0 is treated as unlimited.</p>
</dd>
<dt> --diff-filter=[(A|C|D|M|R|T|U|X|B)…<U+200B>[*]] </dt>
<dd>
<p>Select only files that are Added (<code>A</code>), Copied (<code>C</code>),
Deleted (<code>D</code>), Modified (<code>M</code>), Renamed (<code>R</code>), have their
type (i.e. regular file, symlink, submodule, …<U+200B>) changed (<code>T</code>),
are Unmerged (<code>U</code>), are
Unknown (<code>X</code>), or have had their pairing Broken (<code>B</code>).
Any combination of the filter characters (including none) can be used.
When <code>*</code> (All-or-none) is added to the combination, all
paths are selected if there is any file that matches
other criteria in the comparison; if there is no file
that matches other criteria, nothing is selected.</p>

<p>Also, these upper-case letters can be downcased to exclude.  E.g.
<code>--diff-filter=ad</code> excludes added and deleted paths.</p>


<p>Note that not all diffs can feature all types. For instance, diffs
from the index to the working tree can never have Added entries
(because the set of paths included in the diff is limited by what is in
the index).  Similarly, copied and renamed entries cannot appear if
detection for those types is disabled.</p>

</dd>
<dt> -S&lt;string&gt; </dt>
<dd>
<p>Look for differences that change the number of occurrences of
the specified string (i.e. addition/deletion) in a file.
Intended for the scripter’s use.</p>

<p>It is useful when you’re looking for an exact block of code (like a
struct), and want to know the history of that block since it first
came into being: use the feature iteratively to feed the interesting
block in the preimage back into <code>-S</code>, and keep going until you get the
very first version of the block.</p>


<p>Binary files are searched as well.</p>

</dd>
<dt> -G&lt;regex&gt; </dt>
<dd>
<p>Look for differences whose patch text contains added/removed
lines that match &lt;regex&gt;.</p>

<p>To illustrate the difference between <code>-S&lt;regex&gt; --pickaxe-regex</code> and
<code>-G&lt;regex&gt;</code>, consider a commit with the following diff in the same
file:</p>



<pre>+    return frotz(nitfol, two-&gt;ptr, 1, 0);
...
-    hit = frotz(nitfol, mf2.ptr, 1, 0);</pre>



<p>While <code>git log -G"frotz\(nitfol"</code> will show this commit, <code>git log
-S"frotz\(nitfol" --pickaxe-regex</code> will not (because the number of
occurrences of that string did not change).</p>


<p>Unless <code>--text</code> is supplied patches of binary files without a textconv
filter will be ignored.</p>


<p>See the <em>pickaxe</em> entry in <a href="/docs/gitdiffcore">gitdiffcore[7]</a> for more
information.</p>

</dd>
<dt> --find-object=&lt;object-id&gt; </dt>
<dd>
<p>Look for differences that change the number of occurrences of
the specified object. Similar to <code>-S</code>, just the argument is different
in that it doesn’t search for a specific string but for a specific
object id.</p>

<p>The object can be a blob or a submodule commit. It implies the <code>-t</code> option in
<code>git-log</code> to also find trees.</p>

</dd>
<dt> --pickaxe-all </dt>
<dd>
<p>When <code>-S</code> or <code>-G</code> finds a change, show all the changes in that
changeset, not just the files that contain the change
in &lt;string&gt;.</p>
</dd>
<dt> --pickaxe-regex </dt>
<dd>
<p>Treat the &lt;string&gt; given to <code>-S</code> as an extended POSIX regular
expression to match.</p>
</dd>
<dt> -O&lt;orderfile&gt; </dt>
<dd>
<p>Control the order in which files appear in the output.
This overrides the <code>diff.orderFile</code> configuration variable
(see <a href="/docs/git-config">git-config[1]</a>).  To cancel <code>diff.orderFile</code>,
use <code>-O/dev/null</code>.</p>

<p>The output order is determined by the order of glob patterns in
&lt;orderfile&gt;.
All files with pathnames that match the first pattern are output
first, all files with pathnames that match the second pattern (but not
the first) are output next, and so on.
All files with pathnames that do not match any pattern are output
last, as if there was an implicit match-all pattern at the end of the
file.
If multiple pathnames have the same rank (they match the same pattern
but no earlier patterns), their output order relative to each other is
the normal order.</p>


<p>&lt;orderfile&gt; is parsed as follows:</p>




<ul>
<li>
<p>Blank lines are ignored, so they can be used as separators for
readability.</p>
</li>
<li>
<p>Lines starting with a hash ("<code>#</code>") are ignored, so they can be used
for comments.  Add a backslash ("<code>\</code>") to the beginning of the
pattern if it starts with a hash.</p>
</li>
<li>
<p>Each other line contains a single pattern.</p>
</li>
</ul>




<p>Patterns have the same syntax and semantics as patterns used for
fnmatch(3) without the FNM_PATHNAME flag, except a pathname also
matches a pattern if removing any number of the final pathname
components matches the pattern.  For example, the pattern "<code>foo*bar</code>"
matches "<code>fooasdfbar</code>" and "<code>foo/bar/baz/asdf</code>" but not "<code>foobarx</code>".</p>

</dd>
<dt> --skip-to=&lt;file&gt; </dt>
<dt> --rotate-to=&lt;file&gt; </dt>
<dd>
<p>Discard the files before the named &lt;file&gt; from the output
(i.e. <em>skip to</em>), or move them to the end of the output
(i.e. <em>rotate to</em>).  These were invented primarily for use
of the <code>git difftool</code> command, and may not be very useful
otherwise.</p>
</dd>
<dt> -R </dt>
<dd>
<p>Swap two inputs; that is, show differences from index or
on-disk file to tree contents.</p>
</dd>
<dt> --relative[=&lt;path&gt;] </dt>
<dt> --no-relative </dt>
<dd>
<p>When run from a subdirectory of the project, it can be
told to exclude changes outside the directory and show
pathnames relative to it with this option.  When you are
not in a subdirectory (e.g. in a bare repository), you
can name which subdirectory to make the output relative
to by giving a &lt;path&gt; as an argument.
<code>--no-relative</code> can be used to countermand both <code>diff.relative</code> config
option and previous <code>--relative</code>.</p>
</dd>
<dt> -a </dt>
<dt> --text </dt>
<dd>
<p>Treat all files as text.</p>
</dd>
<dt> --ignore-cr-at-eol </dt>
<dd>
<p>Ignore carriage-return at the end of line when doing a comparison.</p>
</dd>
<dt> --ignore-space-at-eol </dt>
<dd>
<p>Ignore changes in whitespace at EOL.</p>
</dd>
<dt> -b </dt>
<dt> --ignore-space-change </dt>
<dd>
<p>Ignore changes in amount of whitespace.  This ignores whitespace
at line end, and considers all other sequences of one or
more whitespace characters to be equivalent.</p>
</dd>
<dt> -w </dt>
<dt> --ignore-all-space </dt>
<dd>
<p>Ignore whitespace when comparing lines.  This ignores
differences even if one line has whitespace where the other
line has none.</p>
</dd>
<dt> --ignore-blank-lines </dt>
<dd>
<p>Ignore changes whose lines are all blank.</p>
</dd>
<dt> -I&lt;regex&gt; </dt>
<dt> --ignore-matching-lines=&lt;regex&gt; </dt>
<dd>
<p>Ignore changes whose all lines match &lt;regex&gt;.  This option may
be specified more than once.</p>
</dd>
<dt> --inter-hunk-context=&lt;lines&gt; </dt>
<dd>
<p>Show the context between diff hunks, up to the specified number
of lines, thereby fusing hunks that are close to each other.
Defaults to <code>diff.interHunkContext</code> or 0 if the config option
is unset.</p>
</dd>
<dt> -W </dt>
<dt> --function-context </dt>
<dd>
<p>Show whole function as context lines for each change.
The function names are determined in the same way as
<code>git diff</code> works out patch hunk headers (see <em>Defining a
custom hunk-header</em> in <a href="/docs/gitattributes">gitattributes[5]</a>).</p>
</dd>
<dt> --exit-code </dt>
<dd>
<p>Make the program exit with codes similar to diff(1).
That is, it exits with 1 if there were differences and
0 means no differences.</p>
</dd>
<dt> --quiet </dt>
<dd>
<p>Disable all output of the program. Implies <code>--exit-code</code>.</p>
</dd>
<dt> --ext-diff </dt>
<dd>
<p>Allow an external diff helper to be executed. If you set an
external diff driver with <a href="/docs/gitattributes">gitattributes[5]</a>, you need
to use this option with <a href="/docs/git-log">git-log[1]</a> and friends.</p>
</dd>
<dt> --no-ext-diff </dt>
<dd>
<p>Disallow external diff drivers.</p>
</dd>
<dt> --textconv </dt>
<dt> --no-textconv </dt>
<dd>
<p>Allow (or disallow) external text conversion filters to be run
when comparing binary files. See <a href="/docs/gitattributes">gitattributes[5]</a> for
details. Because textconv filters are typically a one-way
conversion, the resulting diff is suitable for human
consumption, but cannot be applied. For this reason, textconv
filters are enabled by default only for <a href="/docs/git-diff">git-diff[1]</a> and
<a href="/docs/git-log">git-log[1]</a>, but not for <a href="/docs/git-format-patch">git-format-patch[1]</a> or
diff plumbing commands.</p>
</dd>
<dt> --ignore-submodules[=&lt;when&gt;] </dt>
<dd>
<p>Ignore changes to submodules in the diff generation. &lt;when&gt; can be
either "none", "untracked", "dirty" or "all", which is the default.
Using "none" will consider the submodule modified when it either contains
untracked or modified files or its HEAD differs from the commit recorded
in the superproject and can be used to override any settings of the
<em>ignore</em> option in <a href="/docs/git-config">git-config[1]</a> or <a href="/docs/gitmodules">gitmodules[5]</a>. When
"untracked" is used submodules are not considered dirty when they only
contain untracked content (but they are still scanned for modified
content). Using "dirty" ignores all changes to the work tree of submodules,
only changes to the commits stored in the superproject are shown (this was
the behavior until 1.7.0). Using "all" hides all changes to submodules.</p>
</dd>
<dt> --src-prefix=&lt;prefix&gt; </dt>
<dd>
<p>Show the given source prefix instead of "a/".</p>
</dd>
<dt> --dst-prefix=&lt;prefix&gt; </dt>
<dd>
<p>Show the given destination prefix instead of "b/".</p>
</dd>
<dt> --no-prefix </dt>
<dd>
<p>Do not show any source or destination prefix.</p>
</dd>
<dt> --line-prefix=&lt;prefix&gt; </dt>
<dd>
<p>Prepend an additional prefix to every line of output.</p>
</dd>
<dt> --ita-invisible-in-index </dt>
<dd>
<p>By default entries added by "git add -N" appear as an existing
empty file in "git diff" and a new file in "git diff --cached".
This option makes the entry appear as a new file in "git diff"
and non-existent in "git diff --cached". This option could be
reverted with <code>--ita-visible-in-index</code>. Both options are
experimental and could be removed in future.</p>
</dd>
</dl>


<p>For more detailed explanation on these common options, see also
<a href="/docs/gitdiffcore">gitdiffcore[7]</a>.</p>


<dl>
<dt> &lt;tree-ish&gt; </dt>
<dd>
<p>The id of a tree object to diff against.</p>
</dd>
<dt> --cached </dt>
<dd>
<p>Do not consider the on-disk file at all.</p>
</dd>
<dt> --merge-base </dt>
<dd>
<p>Instead of comparing &lt;tree-ish&gt; directly, use the merge base
between &lt;tree-ish&gt; and HEAD instead.  &lt;tree-ish&gt; must be a
commit.</p>
</dd>
<dt> -m </dt>
<dd>
<p>By default, files recorded in the index but not checked
out are reported as deleted.  This flag makes
<em>git diff-index</em> say that all non-checked-out files are up
to date.</p>
</dd>
</dl>




<h2>Raw output format</h2>


<p>The raw output format from "git-diff-index", "git-diff-tree",
"git-diff-files" and "git diff --raw" are very similar.</p>


<p>These commands all compare two sets of things; what is
compared differs:</p>


<dl>
<dt> git-diff-index &lt;tree-ish&gt; </dt>
<dd>
<p>compares the &lt;tree-ish&gt; and the files on the filesystem.</p>
</dd>
<dt> git-diff-index --cached &lt;tree-ish&gt; </dt>
<dd>
<p>compares the &lt;tree-ish&gt; and the index.</p>
</dd>
<dt> git-diff-tree [-r] &lt;tree-ish-1&gt; &lt;tree-ish-2&gt; [&lt;pattern&gt;…<U+200B>] </dt>
<dd>
<p>compares the trees named by the two arguments.</p>
</dd>
<dt> git-diff-files [&lt;pattern&gt;…<U+200B>] </dt>
<dd>
<p>compares the index and the files on the filesystem.</p>
</dd>
</dl>


<p>The "git-diff-tree" command begins its output by printing the hash of
what is being compared. After that, all the commands print one output
line per changed file.</p>


<p>An output line is formatted this way:</p>



<pre>in-place edit  :100644 100644 bcd1234 0123456 M file0
copy-edit      :100644 100644 abcd123 1234567 C68 file1 file2
rename-edit    :100644 100644 abcd123 1234567 R86 file1 file3
create         :000000 100644 0000000 1234567 A file4
delete         :100644 000000 1234567 0000000 D file5
unmerged       :000000 000000 0000000 0000000 U file6</pre>



<p>That is, from the left to the right:</p>


<ol>
<li>
<p>a colon.</p>
</li>
<li>
<p>mode for "src"; 000000 if creation or unmerged.</p>
</li>
<li>
<p>a space.</p>
</li>
<li>
<p>mode for "dst"; 000000 if deletion or unmerged.</p>
</li>
<li>
<p>a space.</p>
</li>
<li>
<p>sha1 for "src"; 0{40} if creation or unmerged.</p>
</li>
<li>
<p>a space.</p>
</li>
<li>
<p>sha1 for "dst"; 0{40} if creation, unmerged or "look at work tree".</p>
</li>
<li>
<p>a space.</p>
</li>
<li>
<p>status, followed by optional "score" number.</p>
</li>
<li>
<p>a tab or a NUL when <code>-z</code> option is used.</p>
</li>
<li>
<p>path for "src"</p>
</li>
<li>
<p>a tab or a NUL when <code>-z</code> option is used; only exists for C or R.</p>
</li>
<li>
<p>path for "dst"; only exists for C or R.</p>
</li>
<li>
<p>an LF or a NUL when <code>-z</code> option is used, to terminate the record.</p>
</li>
</ol>


<p>Possible status letters are:</p>


<ul>
<li>
<p>A: addition of a file</p>
</li>
<li>
<p>C: copy of a file into a new one</p>
</li>
<li>
<p>D: deletion of a file</p>
</li>
<li>
<p>M: modification of the contents or mode of a file</p>
</li>
<li>
<p>R: renaming of a file</p>
</li>
<li>
<p>T: change in the type of the file (regular file, symbolic link or submodule)</p>
</li>
<li>
<p>U: file is unmerged (you must complete the merge before it can
be committed)</p>
</li>
<li>
<p>X: "unknown" change type (most probably a bug, please report it)</p>
</li>
</ul>


<p>Status letters C and R are always followed by a score (denoting the
percentage of similarity between the source and target of the move or
copy).  Status letter M may be followed by a score (denoting the
percentage of dissimilarity) for file rewrites.</p>


<p>&lt;sha1&gt; is shown as all 0’s if a file is new on the filesystem
and it is out of sync with the index.</p>


<p>Example:</p>



<pre>:100644 100644 5be4a4a 0000000 M file.c</pre>



<p>Without the <code>-z</code> option, pathnames with "unusual" characters are
quoted as explained for the configuration variable <code>core.quotePath</code>
(see <a href="/docs/git-config">git-config[1]</a>).  Using <code>-z</code> the filename is output
verbatim and the line is terminated by a NUL byte.</p>




<h2>diff format for merges</h2>


<p>"git-diff-tree", "git-diff-files" and "git-diff --raw"
can take <code>-c</code> or <code>--cc</code> option
to generate diff output also for merge commits.  The output differs
from the format described above in the following way:</p>


<ol>
<li>
<p>there is a colon for each parent</p>
</li>
<li>
<p>there are more "src" modes and "src" sha1</p>
</li>
<li>
<p>status is concatenated status characters for each parent</p>
</li>
<li>
<p>no optional "score" number</p>
</li>
<li>
<p>tab-separated pathname(s) of the file</p>
</li>
</ol>


<p>For <code>-c</code> and <code>--cc</code>, only the destination or final path is shown even
if the file was renamed on any side of history.  With
<code>--combined-all-paths</code>, the name of the path in each parent is shown
followed by the name of the path in the merge commit.</p>


<p>Examples for <code>-c</code> and <code>--cc</code> without <code>--combined-all-paths</code>:</p>



<pre>::100644 100644 100644 fabadb8 cc95eb0 4866510 MM	desc.c
::100755 100755 100755 52b7a2d 6d1ac04 d2ac7d7 RM	bar.sh
::100644 100644 100644 e07d6c5 9042e82 ee91881 RR	phooey.c</pre>



<p>Examples when <code>--combined-all-paths</code> added to either <code>-c</code> or <code>--cc</code>:</p>



<pre>::100644 100644 100644 fabadb8 cc95eb0 4866510 MM	desc.c	desc.c	desc.c
::100755 100755 100755 52b7a2d 6d1ac04 d2ac7d7 RM	foo.sh	bar.sh	bar.sh
::100644 100644 100644 e07d6c5 9042e82 ee91881 RR	fooey.c	fuey.c	phooey.c</pre>



<p>Note that <em>combined diff</em> lists only files which were modified from
all parents.</p>




<h2>Generating patch text with -p</h2>


<p>Running
<a href="/docs/git-diff">git-diff[1]</a>,
<a href="/docs/git-log">git-log[1]</a>,
<a href="/docs/git-show">git-show[1]</a>,
<a href="/docs/git-diff-index">git-diff-index[1]</a>,
<a href="/docs/git-diff-tree">git-diff-tree[1]</a>, or
<a href="/docs/git-diff-files">git-diff-files[1]</a>
with the <code>-p</code> option produces patch text.
You can customize the creation of patch text via the
<code>GIT_EXTERNAL_DIFF</code> and the <code>GIT_DIFF_OPTS</code> environment variables
(see <a href="/docs/git">git[1]</a>), and the <code>diff</code> attribute (see <a href="/docs/gitattributes">gitattributes[5]</a>).</p>


<p>What the -p option produces is slightly different from the traditional
diff format:</p>


<ol>
<li>
<p>It is preceded with a "git diff" header that looks like this:</p>


<pre>diff --git a/file1 b/file2</pre>



<p>The <code>a/</code> and <code>b/</code> filenames are the same unless rename/copy is
involved.  Especially, even for a creation or a deletion,
<code>/dev/null</code> is <em>not</em> used in place of the <code>a/</code> or <code>b/</code> filenames.</p>


<p>When rename/copy is involved, <code>file1</code> and <code>file2</code> show the
name of the source file of the rename/copy and the name of
the file that rename/copy produces, respectively.</p>

</li>
<li>
<p>It is followed by one or more extended header lines:</p>


<pre>old mode &lt;mode&gt;
new mode &lt;mode&gt;
deleted file mode &lt;mode&gt;
new file mode &lt;mode&gt;
copy from &lt;path&gt;
copy to &lt;path&gt;
rename from &lt;path&gt;
rename to &lt;path&gt;
similarity index &lt;number&gt;
dissimilarity index &lt;number&gt;
index &lt;hash&gt;..&lt;hash&gt; &lt;mode&gt;</pre>



<p>File modes are printed as 6-digit octal numbers including the file type
and file permission bits.</p>


<p>Path names in extended headers do not include the <code>a/</code> and <code>b/</code> prefixes.</p>


<p>The similarity index is the percentage of unchanged lines, and
the dissimilarity index is the percentage of changed lines.  It
is a rounded down integer, followed by a percent sign.  The
similarity index value of 100% is thus reserved for two equal
files, while 100% dissimilarity means that no line from the old
file made it into the new one.</p>


<p>The index line includes the blob object names before and after the change.
The &lt;mode&gt; is included if the file mode does not change; otherwise,
separate lines indicate the old and the new mode.</p>

</li>
<li>
<p>Pathnames with "unusual" characters are quoted as explained for
the configuration variable <code>core.quotePath</code> (see
<a href="/docs/git-config">git-config[1]</a>).</p>
</li>
<li>
<p>All the <code>file1</code> files in the output refer to files before the
commit, and all the <code>file2</code> files refer to files after the commit.
It is incorrect to apply each change to each file sequentially.  For
example, this patch will swap a and b:</p>


<pre>diff --git a/a b/b
rename from a
rename to b
diff --git a/b b/a
rename from b
rename to a</pre>


</li>
<li>
<p>Hunk headers mention the name of the function to which the hunk
applies.  See "Defining a custom hunk-header" in
<a href="/docs/gitattributes">gitattributes[5]</a> for details of how to tailor to this to
specific languages.</p>
</li>
</ol>




<h2>Combined diff format</h2>


<p>Any diff-generating command can take the <code>-c</code> or <code>--cc</code> option to
produce a <em>combined diff</em> when showing a merge. This is the default
format when showing merges with <a href="/docs/git-diff">git-diff[1]</a> or
<a href="/docs/git-show">git-show[1]</a>. Note also that you can give suitable
<code>--diff-merges</code> option to any of these commands to force generation of
diffs in specific format.</p>


<p>A "combined diff" format looks like this:</p>



<pre>diff --combined describe.c
index fabadb8,cc95eb0..4866510
--- a/describe.c
+++ b/describe.c
@@@ -98,20 -98,12 +98,20 @@@
	return (a_date &gt; b_date) ? -1 : (a_date == b_date) ? 0 : 1;
  }

- static void describe(char *arg)
 -static void describe(struct commit *cmit, int last_one)
++static void describe(char *arg, int last_one)
  {
 +	unsigned char sha1[20];
 +	struct commit *cmit;
	struct commit_list *list;
	static int initialized = 0;
	struct commit_name *n;

 +	if (get_sha1(arg, sha1) &lt; 0)
 +		usage(describe_usage);
 +	cmit = lookup_commit_reference(sha1);
 +	if (!cmit)
 +		usage(describe_usage);
 +
	if (!initialized) {
		initialized = 1;
		for_each_ref(get_name);</pre>



<ol>
<li>
<p>It is preceded with a "git diff" header, that looks like
this (when the <code>-c</code> option is used):</p>


<pre>diff --combined file</pre>



<p>or like this (when the <code>--cc</code> option is used):</p>



<pre>diff --cc file</pre>


</li>
<li>
<p>It is followed by one or more extended header lines
(this example shows a merge with two parents):</p>


<pre>index &lt;hash&gt;,&lt;hash&gt;..&lt;hash&gt;
mode &lt;mode&gt;,&lt;mode&gt;..&lt;mode&gt;
new file mode &lt;mode&gt;
deleted file mode &lt;mode&gt;,&lt;mode&gt;</pre>



<p>The <code>mode &lt;mode&gt;,&lt;mode&gt;..&lt;mode&gt;</code> line appears only if at least one of
the &lt;mode&gt; is different from the rest. Extended headers with
information about detected contents movement (renames and
copying detection) are designed to work with diff of two
&lt;tree-ish&gt; and are not used by combined diff format.</p>

</li>
<li>
<p>It is followed by two-line from-file/to-file header</p>


<pre>--- a/file
+++ b/file</pre>



<p>Similar to two-line header for traditional <em>unified</em> diff
format, <code>/dev/null</code> is used to signal created or deleted
files.</p>


<p>However, if the --combined-all-paths option is provided, instead of a
two-line from-file/to-file you get a N+1 line from-file/to-file header,
where N is the number of parents in the merge commit</p>



<pre>--- a/file
--- a/file
--- a/file
+++ b/file</pre>



<p>This extended format can be useful if rename or copy detection is
active, to allow you to see the original name of the file in different
parents.</p>

</li>
<li>
<p>Chunk header format is modified to prevent people from
accidentally feeding it to <code>patch -p1</code>. Combined diff format
was created for review of merge commit changes, and was not
meant to be applied. The change is similar to the change in the
extended <em>index</em> header:</p>


<pre>@@@ &lt;from-file-range&gt; &lt;from-file-range&gt; &lt;to-file-range&gt; @@@</pre>



<p>There are (number of parents + 1) <code>@</code> characters in the chunk
header for combined diff format.</p>

</li>
</ol>


<p>Unlike the traditional <em>unified</em> diff format, which shows two
files A and B with a single column that has <code>-</code> (minus<U+2009>—<U+2009>appears in A but removed in B), <code>+</code> (plus<U+2009>—<U+2009>missing in A but
added to B), or <code>" "</code> (space<U+2009>—<U+2009>unchanged) prefix, this format
compares two or more files file1, file2,…<U+200B> with one file X, and
shows how X differs from each of fileN.  One column for each of
fileN is prepended to the output line to note how X’s line is
different from it.</p>


<p>A <code>-</code> character in the column N means that the line appears in
fileN but it does not appear in the result.  A <code>+</code> character
in the column N means that the line appears in the result,
and fileN does not have that line (in other words, the line was
added, from the point of view of that parent).</p>


<p>In the above example output, the function signature was changed
from both files (hence two <code>-</code> removals from both file1 and
file2, plus <code>++</code> to mean one line that was added does not appear
in either file1 or file2).  Also eight other lines are the same
from file1 but do not appear in file2 (hence prefixed with <code>+</code>).</p>


<p>When shown by <code>git diff-tree -c</code>, it compares the parents of a
merge commit with the merge result (i.e. file1..fileN are the
parents).  When shown by <code>git diff-files -c</code>, it compares the
two unresolved merge parents with the working tree file
(i.e. file1 is stage 2 aka "our version", file2 is stage 3 aka
"their version").</p>




<h2>other diff formats</h2>


<p>The <code>--summary</code> option describes newly added, deleted, renamed and
copied files.  The <code>--stat</code> option adds diffstat(1) graph to the
output.  These options can be combined with other options, such as
<code>-p</code>, and are meant for human consumption.</p>


<p>When showing a change that involves a rename or a copy, <code>--stat</code> output
formats the pathnames compactly by combining common prefix and suffix of
the pathnames.  For example, a change that moves <code>arch/i386/Makefile</code> to
<code>arch/x86/Makefile</code> while modifying 4 lines will be shown like this:</p>



<pre>arch/{i386 =&gt; x86}/Makefile    |   4 +--</pre>



<p>The <code>--numstat</code> option gives the diffstat(1) information but is designed
for easier machine consumption.  An entry in <code>--numstat</code> output looks
like this:</p>



<pre>1	2	README
3	1	arch/{i386 =&gt; x86}/Makefile</pre>



<p>That is, from left to right:</p>


<ol>
<li>
<p>the number of added lines;</p>
</li>
<li>
<p>a tab;</p>
</li>
<li>
<p>the number of deleted lines;</p>
</li>
<li>
<p>a tab;</p>
</li>
<li>
<p>pathname (possibly with rename/copy information);</p>
</li>
<li>
<p>a newline.</p>
</li>
</ol>


<p>When <code>-z</code> output option is in effect, the output is formatted this way:</p>



<pre>1	2	README NUL
3	1	NUL arch/i386/Makefile NUL arch/x86/Makefile NUL</pre>



<p>That is:</p>


<ol>
<li>
<p>the number of added lines;</p>
</li>
<li>
<p>a tab;</p>
</li>
<li>
<p>the number of deleted lines;</p>
</li>
<li>
<p>a tab;</p>
</li>
<li>
<p>a NUL (only exists if renamed/copied);</p>
</li>
<li>
<p>pathname in preimage;</p>
</li>
<li>
<p>a NUL (only exists if renamed/copied);</p>
</li>
<li>
<p>pathname in postimage (only exists if renamed/copied);</p>
</li>
<li>
<p>a NUL.</p>
</li>
</ol>


<p>The extra <code>NUL</code> before the preimage path in renamed case is to allow
scripts that read the output to tell if the current record being read is
a single-path record or a rename/copy record without reading ahead.
After reading added and deleted lines, reading up to <code>NUL</code> would yield
the pathname, but if that is <code>NUL</code>, the record will show two paths.</p>




<h2>OPERATING MODES</h2>


<p>You can choose whether you want to trust the index file entirely
(using the <code>--cached</code> flag) or ask the diff logic to show any files
that don’t match the stat state as being "tentatively changed".  Both
of these operations are very useful indeed.</p>




<h2>CACHED MODE</h2>


<p>If <code>--cached</code> is specified, it allows you to ask:</p>



<pre>show me the differences between HEAD and the current index
contents (the ones I'd write using 'git write-tree')</pre>



<p>For example, let’s say that you have worked on your working directory, updated
some files in the index and are ready to commit. You want to see exactly
<strong>what</strong> you are going to commit, without having to write a new tree
object and compare it that way, and to do that, you just do</p>



<pre>git diff-index --cached HEAD</pre>



<p>Example: let’s say I had renamed <code>commit.c</code> to <code>git-commit.c</code>, and I had
done an <code>update-index</code> to make that effective in the index file.
<code>git diff-files</code> wouldn’t show anything at all, since the index file
matches my working directory. But doing a <em>git diff-index</em> does:</p>



<pre>torvalds@ppc970:~/git&gt; git diff-index --cached HEAD
-100644 blob    4161aecc6700a2eb579e842af0b7f22b98443f74        commit.c
+100644 blob    4161aecc6700a2eb579e842af0b7f22b98443f74        git-commit.c</pre>



<p>You can see easily that the above is a rename.</p>


<p>In fact, <code>git diff-index --cached</code> <strong>should</strong> always be entirely equivalent to
actually doing a <em>git write-tree</em> and comparing that. Except this one is much
nicer for the case where you just want to check where you are.</p>


<p>So doing a <code>git diff-index --cached</code> is basically very useful when you are
asking yourself "what have I already marked for being committed, and
what’s the difference to a previous tree".</p>




<h2>NON-CACHED MODE</h2>


<p>The "non-cached" mode takes a different approach, and is potentially
the more useful of the two in that what it does can’t be emulated with
a <em>git write-tree</em> + <em>git diff-tree</em>. Thus that’s the default mode.
The non-cached version asks the question:</p>



<pre>show me the differences between HEAD and the currently checked out
tree - index contents _and_ files that aren't up to date</pre>



<p>which is obviously a very useful question too, since that tells you what
you <strong>could</strong> commit. Again, the output matches the <em>git diff-tree -r</em>
output to a tee, but with a twist.</p>


<p>The twist is that if some file doesn’t match the index, we don’t have
a backing store thing for it, and we use the magic "all-zero" sha1 to
show that. So let’s say that you have edited <code>kernel/sched.c</code>, but
have not actually done a <em>git update-index</em> on it yet - there is no
"object" associated with the new state, and you get:</p>



<pre>torvalds@ppc970:~/v2.6/linux&gt; git diff-index --abbrev HEAD
:100644 100664 7476bb... 000000...      kernel/sched.c</pre>



<p>i.e., it shows that the tree has changed, and that <code>kernel/sched.c</code> is
not up to date and may contain new stuff. The all-zero sha1 means that to
get the real diff, you need to look at the object in the working directory
directly rather than do an object-to-object diff.</p>


<table><tr>
<td>
Note
</td>
<td>
As with other commands of this type, <em>git diff-index</em> does not
actually look at the contents of the file at all. So maybe
<code>kernel/sched.c</code> hasn’t actually changed, and it’s just that you
touched it. In either case, it’s a note that you need to
<em>git update-index</em> it to make the index be in sync.
</td>
</tr></table>


<table><tr>
<td>
Note
</td>
<td>
You can have a mixture of files show up as "has been updated"
and "is still dirty in the working directory" together. You can always
tell which file is in which state, since the "has been updated" ones
show a valid sha1, and the "not in sync with the index" ones will
always have the special all-zero sha1.
</td>
</tr></table>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-for-each-ref - Output information on each ref</span></h2>




<h2><br>synopsis</h2>


<pre><em>git for-each-ref</em> [--count=&lt;count&gt;] [--shell|--perl|--python|--tcl]
		   [(--sort=&lt;key&gt;)…<U+200B>] [--format=&lt;format&gt;] [&lt;pattern&gt;…<U+200B>]
		   [--points-at=&lt;object&gt;]
		   [--merged[=&lt;object&gt;]] [--no-merged[=&lt;object&gt;]]
		   [--contains[=&lt;object&gt;]] [--no-contains[=&lt;object&gt;]]</pre>




<h2>description</h2>


<p>Iterate over all refs that match <code>&lt;pattern&gt;</code> and show them
according to the given <code>&lt;format&gt;</code>, after sorting them according
to the given set of <code>&lt;key&gt;</code>.  If <code>&lt;count&gt;</code> is given, stop after
showing that many refs.  The interpolated values in <code>&lt;format&gt;</code>
can optionally be quoted as string literals in the specified
host language allowing their direct evaluation in that language.</p>




<h2>options</h2>


<dl>
<dt> &lt;pattern&gt;…<U+200B> </dt>
<dd>
<p>If one or more patterns are given, only refs are shown that
match against at least one pattern, either using fnmatch(3) or
literally, in the latter case matching completely or from the
beginning up to a slash.</p>
</dd>
<dt> --count=&lt;count&gt; </dt>
<dd>
<p>By default the command shows all refs that match
<code>&lt;pattern&gt;</code>.  This option makes it stop after showing
that many refs.</p>
</dd>
<dt> --sort=&lt;key&gt; </dt>
<dd>
<p>A field name to sort on.  Prefix <code>-</code> to sort in
descending order of the value.  When unspecified,
<code>refname</code> is used.  You may use the --sort=&lt;key&gt; option
multiple times, in which case the last key becomes the primary
key.</p>
</dd>
<dt> --format=&lt;format&gt; </dt>
<dd>
<p>A string that interpolates <code>%(fieldname)</code> from a ref being shown
and the object it points at.  If <code>fieldname</code>
is prefixed with an asterisk (<code>*</code>) and the ref points
at a tag object, use the value for the field in the object
which the tag object refers to (instead of the field in the tag object).
When unspecified, <code>&lt;format&gt;</code> defaults to
<code>%(objectname) SPC %(objecttype) TAB %(refname)</code>.
It also interpolates <code>%%</code> to <code>%</code>, and <code>%xx</code> where <code>xx</code>
are hex digits interpolates to character with hex code
<code>xx</code>; for example <code>%00</code> interpolates to <code>\0</code> (NUL),
<code>%09</code> to <code>\t</code> (TAB) and <code>%0a</code> to <code>\n</code> (LF).</p>
</dd>
<dt> --color[=&lt;when&gt;] </dt>
<dd>
<p>Respect any colors specified in the <code>--format</code> option. The
<code>&lt;when&gt;</code> field must be one of <code>always</code>, <code>never</code>, or <code>auto</code> (if
<code>&lt;when&gt;</code> is absent, behave as if <code>always</code> was given).</p>
</dd>
<dt> --shell </dt>
<dt> --perl </dt>
<dt> --python </dt>
<dt> --tcl </dt>
<dd>
<p>If given, strings that substitute <code>%(fieldname)</code>
placeholders are quoted as string literals suitable for
the specified host language.  This is meant to produce
a scriptlet that can directly be `eval`ed.</p>
</dd>
<dt> --points-at=&lt;object&gt; </dt>
<dd>
<p>Only list refs which points at the given object.</p>
</dd>
<dt> --merged[=&lt;object&gt;] </dt>
<dd>
<p>Only list refs whose tips are reachable from the
specified commit (HEAD if not specified).</p>
</dd>
<dt> --no-merged[=&lt;object&gt;] </dt>
<dd>
<p>Only list refs whose tips are not reachable from the
specified commit (HEAD if not specified).</p>
</dd>
<dt> --contains[=&lt;object&gt;] </dt>
<dd>
<p>Only list refs which contain the specified commit (HEAD if not
specified).</p>
</dd>
<dt> --no-contains[=&lt;object&gt;] </dt>
<dd>
<p>Only list refs which don’t contain the specified commit (HEAD
if not specified).</p>
</dd>
<dt> --ignore-case </dt>
<dd>
<p>Sorting and filtering refs are case insensitive.</p>
</dd>
</dl>




<h2>FIELD NAMES</h2>


<p>Various values from structured fields in referenced objects can
be used to interpolate into the resulting output, or as sort
keys.</p>


<p>For all objects, the following names can be used:</p>


<dl>
<dt> refname </dt>
<dd>
<p>The name of the ref (the part after $GIT_DIR/).
For a non-ambiguous short name of the ref append <code>:short</code>.
The option core.warnAmbiguousRefs is used to select the strict
abbreviation mode. If <code>lstrip=&lt;N&gt;</code> (<code>rstrip=&lt;N&gt;</code>) is appended, strips <code>&lt;N&gt;</code>
slash-separated path components from the front (back) of the refname
(e.g. <code>%(refname:lstrip=2)</code> turns <code>refs/tags/foo</code> into <code>foo</code> and
<code>%(refname:rstrip=2)</code> turns <code>refs/tags/foo</code> into <code>refs</code>).
If <code>&lt;N&gt;</code> is a negative number, strip as many path components as
necessary from the specified end to leave <code>-&lt;N&gt;</code> path components
(e.g. <code>%(refname:lstrip=-2)</code> turns
<code>refs/tags/foo</code> into <code>tags/foo</code> and <code>%(refname:rstrip=-1)</code>
turns <code>refs/tags/foo</code> into <code>refs</code>). When the ref does not have
enough components, the result becomes an empty string if
stripping with positive &lt;N&gt;, or it becomes the full refname if
stripping with negative &lt;N&gt;.  Neither is an error.</p>

<p><code>strip</code> can be used as a synonym to <code>lstrip</code>.</p>

</dd>
<dt> objecttype </dt>
<dd>
<p>The type of the object (<code>blob</code>, <code>tree</code>, <code>commit</code>, <code>tag</code>).</p>
</dd>
<dt> objectsize </dt>
<dd>
<p>The size of the object (the same as <em>git cat-file -s</em> reports).
Append <code>:disk</code> to get the size, in bytes, that the object takes up on
disk. See the note about on-disk sizes in the <code>CAVEATS</code> section below.</p>
</dd>
<dt> objectname </dt>
<dd>
<p>The object name (aka SHA-1).
For a non-ambiguous abbreviation of the object name append <code>:short</code>.
For an abbreviation of the object name with desired length append
<code>:short=&lt;length&gt;</code>, where the minimum length is MINIMUM_ABBREV. The
length may be exceeded to ensure unique object names.</p>
</dd>
<dt> deltabase </dt>
<dd>
<p>This expands to the object name of the delta base for the
given object, if it is stored as a delta.  Otherwise it
expands to the null object name (all zeroes).</p>
</dd>
<dt> upstream </dt>
<dd>
<p>The name of a local ref which can be considered “upstream”
from the displayed ref. Respects <code>:short</code>, <code>:lstrip</code> and
<code>:rstrip</code> in the same way as <code>refname</code> above.  Additionally
respects <code>:track</code> to show "[ahead N, behind M]" and
<code>:trackshort</code> to show the terse version: "&gt;" (ahead), "&lt;"
(behind), "&lt;&gt;" (ahead and behind), or "=" (in sync). <code>:track</code>
also prints "[gone]" whenever unknown upstream ref is
encountered. Append <code>:track,nobracket</code> to show tracking
information without brackets (i.e "ahead N, behind M").</p>

<p>For any remote-tracking branch <code>%(upstream)</code>, <code>%(upstream:remotename)</code>
and <code>%(upstream:remoteref)</code> refer to the name of the remote and the
name of the tracked remote ref, respectively. In other words, the
remote-tracking branch can be updated explicitly and individually by
using the refspec <code>%(upstream:remoteref):%(upstream)</code> to fetch from
<code>%(upstream:remotename)</code>.</p>


<p>Has no effect if the ref does not have tracking information associated
with it.  All the options apart from <code>nobracket</code> are mutually exclusive,
but if used together the last option is selected.</p>

</dd>
<dt> push </dt>
<dd>
<p>The name of a local ref which represents the <code>@{push}</code>
location for the displayed ref. Respects <code>:short</code>, <code>:lstrip</code>,
<code>:rstrip</code>, <code>:track</code>, <code>:trackshort</code>, <code>:remotename</code>, and <code>:remoteref</code>
options as <code>upstream</code> does. Produces an empty string if no <code>@{push}</code>
ref is configured.</p>
</dd>
<dt> HEAD </dt>
<dd>
<p><em>*</em> if HEAD matches current ref (the checked out branch), ' '
otherwise.</p>
</dd>
<dt> color </dt>
<dd>
<p>Change output color. Followed by <code>:&lt;colorname&gt;</code>, where color
names are described under Values in the "CONFIGURATION FILE"
section of <a href="/docs/git-config">git-config[1]</a>.  For example,
<code>%(color:bold red)</code>.</p>
</dd>
<dt> align </dt>
<dd>
<p>Left-, middle-, or right-align the content between
%(align:…<U+200B>) and %(end). The "align:" is followed by
<code>width=&lt;width&gt;</code> and <code>position=&lt;position&gt;</code> in any order
separated by a comma, where the <code>&lt;position&gt;</code> is either left,
right or middle, default being left and <code>&lt;width&gt;</code> is the total
length of the content with alignment. For brevity, the
"width=" and/or "position=" prefixes may be omitted, and bare
&lt;width&gt; and &lt;position&gt; used instead.  For instance,
<code>%(align:&lt;width&gt;,&lt;position&gt;)</code>. If the contents length is more
than the width then no alignment is performed. If used with
<code>--quote</code> everything in between %(align:…<U+200B>) and %(end) is
quoted, but if nested then only the topmost level performs
quoting.</p>
</dd>
<dt> if </dt>
<dd>
<p>Used as %(if)…<U+200B>%(then)…<U+200B>%(end) or
%(if)…<U+200B>%(then)…<U+200B>%(else)…<U+200B>%(end).  If there is an atom with
value or string literal after the %(if) then everything after
the %(then) is printed, else if the %(else) atom is used, then
everything after %(else) is printed. We ignore space when
evaluating the string before %(then), this is useful when we
use the %(HEAD) atom which prints either "*" or " " and we
want to apply the <em>if</em> condition only on the <em>HEAD</em> ref.
Append ":equals=&lt;string&gt;" or ":notequals=&lt;string&gt;" to compare
the value between the %(if:…<U+200B>) and %(then) atoms with the
given string.</p>
</dd>
<dt> symref </dt>
<dd>
<p>The ref which the given symbolic ref refers to. If not a
symbolic ref, nothing is printed. Respects the <code>:short</code>,
<code>:lstrip</code> and <code>:rstrip</code> options in the same way as <code>refname</code>
above.</p>
</dd>
<dt> worktreepath </dt>
<dd>
<p>The absolute path to the worktree in which the ref is checked
out, if it is checked out in any linked worktree. Empty string
otherwise.</p>
</dd>
</dl>


<p>In addition to the above, for commit and tag objects, the header
field names (<code>tree</code>, <code>parent</code>, <code>object</code>, <code>type</code>, and <code>tag</code>) can
be used to specify the value in the header field.
Fields <code>tree</code> and <code>parent</code> can also be used with modifier <code>:short</code> and
<code>:short=&lt;length&gt;</code> just like <code>objectname</code>.</p>


<p>For commit and tag objects, the special <code>creatordate</code> and <code>creator</code>
fields will correspond to the appropriate date or name-email-date tuple
from the <code>committer</code> or <code>tagger</code> fields depending on the object type.
These are intended for working on a mix of annotated and lightweight tags.</p>


<p>Fields that have name-email-date tuple as its value (<code>author</code>,
<code>committer</code>, and <code>tagger</code>) can be suffixed with <code>name</code>, <code>email</code>,
and <code>date</code> to extract the named component.  For email fields (<code>authoremail</code>,
<code>committeremail</code> and <code>taggeremail</code>), <code>:trim</code> can be appended to get the email
without angle brackets, and <code>:localpart</code> to get the part before the <code>@</code> symbol
out of the trimmed email.</p>


<p>The raw data in an object is <code>raw</code>.</p>


<dl>
<dt> raw:size </dt>
<dd>
<p>The raw data size of the object.</p>
</dd>
</dl>


<p>Note that <code>--format=%(raw)</code> can not be used with <code>--python</code>, <code>--shell</code>, <code>--tcl</code>,
because such language may not support arbitrary binary data in their string
variable type.</p>


<p>The message in a commit or a tag object is <code>contents</code>, from which
<code>contents:&lt;part&gt;</code> can be used to extract various parts out of:</p>


<dl>
<dt> contents:size </dt>
<dd>
<p>The size in bytes of the commit or tag message.</p>
</dd>
<dt> contents:subject </dt>
<dd>
<p>The first paragraph of the message, which typically is a
single line, is taken as the "subject" of the commit or the
tag message.
Instead of <code>contents:subject</code>, field <code>subject</code> can also be used to
obtain same results. <code>:sanitize</code> can be appended to <code>subject</code> for
subject line suitable for filename.</p>
</dd>
<dt> contents:body </dt>
<dd>
<p>The remainder of the commit or the tag message that follows
the "subject".</p>
</dd>
<dt> contents:signature </dt>
<dd>
<p>The optional GPG signature of the tag.</p>
</dd>
<dt> contents:lines=N </dt>
<dd>
<p>The first <code>N</code> lines of the message.</p>
</dd>
</dl>


<p>Additionally, the trailers as interpreted by <a href="/docs/git-interpret-trailers">git-interpret-trailers[1]</a>
are obtained as <code>trailers[:options]</code> (or by using the historical alias
<code>contents:trailers[:options]</code>). For valid [:option] values see <code>trailers</code>
section of <a href="/docs/git-log">git-log[1]</a>.</p>


<p>For sorting purposes, fields with numeric values sort in numeric order
(<code>objectsize</code>, <code>authordate</code>, <code>committerdate</code>, <code>creatordate</code>, <code>taggerdate</code>).
All other fields are used to sort in their byte-value order.</p>


<p>There is also an option to sort by versions, this can be done by using
the fieldname <code>version:refname</code> or its alias <code>v:refname</code>.</p>


<p>In any case, a field name that refers to a field inapplicable to
the object referred by the ref does not cause an error.  It
returns an empty string instead.</p>


<p>As a special case for the date-type fields, you may specify a format for
the date by adding <code>:</code> followed by date format name (see the
values the <code>--date</code> option to <a href="/docs/git-rev-list">git-rev-list[1]</a> takes).</p>


<p>Some atoms like %(align) and %(if) always require a matching %(end).
We call them "opening atoms" and sometimes denote them as %($open).</p>


<p>When a scripting language specific quoting is in effect, everything
between a top-level opening atom and its matching %(end) is evaluated
according to the semantics of the opening atom and only its result
from the top-level is quoted.</p>




<h2>examples</h2>


<p>An example directly producing formatted text.  Show the most recent
3 tagged commits:</p>



<pre>#!/bin/sh

git for-each-ref --count=3 --sort='-*authordate' \
--format='From: %(*authorname) %(*authoremail)
Subject: %(*subject)
Date: %(*authordate)
Ref: %(*refname)

%(*body)
' 'refs/tags'</pre>



<p>A simple example showing the use of shell eval on the output,
demonstrating the use of --shell.  List the prefixes of all heads:</p>



<pre>#!/bin/sh

git for-each-ref --shell --format="ref=%(refname)" refs/heads | \
while read entry
do
	eval "$entry"
	echo `dirname $ref`
done</pre>



<p>A bit more elaborate report on tags, demonstrating that the format
may be an entire script:</p>



<pre>#!/bin/sh

fmt='
	r=%(refname)
	t=%(*objecttype)
	T=${r#refs/tags/}

	o=%(*objectname)
	n=%(*authorname)
	e=%(*authoremail)
	s=%(*subject)
	d=%(*authordate)
	b=%(*body)

	kind=Tag
	if test "z$t" = z
	then
		# could be a lightweight tag
		t=%(objecttype)
		kind="Lightweight tag"
		o=%(objectname)
		n=%(authorname)
		e=%(authoremail)
		s=%(subject)
		d=%(authordate)
		b=%(body)
	fi
	echo "$kind $T points at a $t object $o"
	if test "z$t" = zcommit
	then
		echo "The commit was authored by $n $e
at $d, and titled

    $s

Its message reads as:
"
		echo "$b" | sed -e "s/^/    /"
		echo
	fi
'

eval=`git for-each-ref --shell --format="$fmt" \
	--sort='*objecttype' \
	--sort=-taggerdate \
	refs/tags`
eval "$eval"</pre>



<p>An example to show the usage of %(if)…<U+200B>%(then)…<U+200B>%(else)…<U+200B>%(end).
This prefixes the current branch with a star.</p>



<pre>git for-each-ref --format="%(if)%(HEAD)%(then)* %(else)  %(end)%(refname:short)" refs/heads/</pre>



<p>An example to show the usage of %(if)…<U+200B>%(then)…<U+200B>%(end).
This prints the authorname, if present.</p>



<pre>git for-each-ref --format="%(refname)%(if)%(authorname)%(then) Authored by: %(authorname)%(end)"</pre>





<h2>CAVEATS</h2>


<p>Note that the sizes of objects on disk are reported accurately, but care
should be taken in drawing conclusions about which refs or objects are
responsible for disk usage. The size of a packed non-delta object may be
much larger than the size of objects which delta against it, but the
choice of which object is the base and which is the delta is arbitrary
and is subject to change during a repack.</p>


<p>Note also that multiple copies of an object may be present in the object
database; in this case, it is undefined which copy’s size or delta base
will be reported.</p>




<h2>NOTES</h2>


<p>When combining multiple <code>--contains</code> and <code>--no-contains</code> filters, only
references that contain at least one of the <code>--contains</code> commits and
contain none of the <code>--no-contains</code> commits are shown.</p>


<p>When combining multiple <code>--merged</code> and <code>--no-merged</code> filters, only
references that are reachable from at least one of the <code>--merged</code>
commits and from none of the <code>--no-merged</code> commits are shown.</p>




<h2>SEE ALSO</h2>


<p><a href="/docs/git-show-ref">git-show-ref[1]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-hash-object - Compute object ID and optionally creates a blob from a file</span></h2>




<h2><br>synopsis</h2>


<pre><em>git hash-object</em> [-t &lt;type&gt;] [-w] [--path=&lt;file&gt;|--no-filters] [--stdin [--literally]] [--] &lt;file&gt;…<U+200B>
<em>git hash-object</em> [-t &lt;type&gt;] [-w] --stdin-paths [--no-filters]</pre>




<h2>description</h2>


<p>Computes the object ID value for an object with specified type
with the contents of the named file (which can be outside of the
work tree), and optionally writes the resulting object into the
object database.  Reports its object ID to its standard output.
When &lt;type&gt; is not specified, it defaults to "blob".</p>




<h2>options</h2>


<dl>
<dt> -t &lt;type&gt; </dt>
<dd>
<p>Specify the type (default: "blob").</p>
</dd>
<dt> -w </dt>
<dd>
<p>Actually write the object into the object database.</p>
</dd>
<dt> --stdin </dt>
<dd>
<p>Read the object from standard input instead of from a file.</p>
</dd>
<dt> --stdin-paths </dt>
<dd>
<p>Read file names from the standard input, one per line, instead
of from the command-line.</p>
</dd>
<dt> --path </dt>
<dd>
<p>Hash object as it were located at the given path. The location of
file does not directly influence on the hash value, but path is
used to determine what Git filters should be applied to the object
before it can be placed to the object database, and, as result of
applying filters, the actual blob put into the object database may
differ from the given file. This option is mainly useful for hashing
temporary files located outside of the working directory or files
read from stdin.</p>
</dd>
<dt> --no-filters </dt>
<dd>
<p>Hash the contents as is, ignoring any input filter that would
have been chosen by the attributes mechanism, including the end-of-line
conversion. If the file is read from standard input then this
is always implied, unless the <code>--path</code> option is given.</p>
</dd>
<dt> --literally </dt>
<dd>
<p>Allow <code>--stdin</code> to hash any garbage into a loose object which might not
otherwise pass standard object parsing or git-fsck checks. Useful for
stress-testing Git itself or reproducing characteristics of corrupt or
bogus objects encountered in the wild.</p>
</dd>
</dl>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-ls-files - Show information about files in the index and the working tree</span></h2>




<h2><br>synopsis</h2>


<pre><em>git ls-files</em> [-z] [-t] [-v] [-f]
		[-c|--cached] [-d|--deleted] [-o|--others] [-i|--|ignored]
		[-s|--stage] [-u|--unmerged] [-k|--|killed] [-m|--modified]
		[--directory [--no-empty-directory]] [--eol]
		[--deduplicate]
		[-x &lt;pattern&gt;|--exclude=&lt;pattern&gt;]
		[-X &lt;file&gt;|--exclude-from=&lt;file&gt;]
		[--exclude-per-directory=&lt;file&gt;]
		[--exclude-standard]
		[--error-unmatch] [--with-tree=&lt;tree-ish&gt;]
		[--full-name] [--recurse-submodules]
		[--abbrev[=&lt;n&gt;]] [--] [&lt;file&gt;…<U+200B>]</pre>




<h2>description</h2>


<p>This merges the file listing in the index with the actual working
directory list, and shows different combinations of the two.</p>


<p>One or more of the options below may be used to determine the files
shown:</p>




<h2>options</h2>


<dl>
<dt> -c </dt>
<dt> --cached </dt>
<dd>
<p>Show cached files in the output (default)</p>
</dd>
<dt> -d </dt>
<dt> --deleted </dt>
<dd>
<p>Show deleted files in the output</p>
</dd>
<dt> -m </dt>
<dt> --modified </dt>
<dd>
<p>Show modified files in the output</p>
</dd>
<dt> -o </dt>
<dt> --others </dt>
<dd>
<p>Show other (i.e. untracked) files in the output</p>
</dd>
<dt> -i </dt>
<dt> --ignored </dt>
<dd>
<p>Show only ignored files in the output. When showing files in the
index, print only those matched by an exclude pattern. When
showing "other" files, show only those matched by an exclude
pattern. Standard ignore rules are not automatically activated,
therefore at least one of the <code>--exclude*</code> options is required.</p>
</dd>
<dt> -s </dt>
<dt> --stage </dt>
<dd>
<p>Show staged contents' mode bits, object name and stage number in the output.</p>
</dd>
<dt> --directory </dt>
<dd>
<p>If a whole directory is classified as "other", show just its
name (with a trailing slash) and not its whole contents.</p>
</dd>
<dt> --no-empty-directory </dt>
<dd>
<p>Do not list empty directories. Has no effect without --directory.</p>
</dd>
<dt> -u </dt>
<dt> --unmerged </dt>
<dd>
<p>Show unmerged files in the output (forces --stage)</p>
</dd>
<dt> -k </dt>
<dt> --killed </dt>
<dd>
<p>Show files on the filesystem that need to be removed due
to file/directory conflicts for checkout-index to
succeed.</p>
</dd>
<dt> -z </dt>
<dd>
<p>\0 line termination on output and do not quote filenames.
See OUTPUT below for more information.</p>
</dd>
<dt> --deduplicate </dt>
<dd>
<p>When only filenames are shown, suppress duplicates that may
come from having multiple stages during a merge, or giving
<code>--deleted</code> and <code>--modified</code> option at the same time.
When any of the <code>-t</code>, <code>--unmerged</code>, or <code>--stage</code> option is
in use, this option has no effect.</p>
</dd>
<dt> -x &lt;pattern&gt; </dt>
<dt> --exclude=&lt;pattern&gt; </dt>
<dd>
<p>Skip untracked files matching pattern.
Note that pattern is a shell wildcard pattern. See EXCLUDE PATTERNS
below for more information.</p>
</dd>
<dt> -X &lt;file&gt; </dt>
<dt> --exclude-from=&lt;file&gt; </dt>
<dd>
<p>Read exclude patterns from &lt;file&gt;; 1 per line.</p>
</dd>
<dt> --exclude-per-directory=&lt;file&gt; </dt>
<dd>
<p>Read additional exclude patterns that apply only to the
directory and its subdirectories in &lt;file&gt;.</p>
</dd>
<dt> --exclude-standard </dt>
<dd>
<p>Add the standard Git exclusions: .git/info/exclude, .gitignore
in each directory, and the user’s global exclusion file.</p>
</dd>
<dt> --error-unmatch </dt>
<dd>
<p>If any &lt;file&gt; does not appear in the index, treat this as an
error (return 1).</p>
</dd>
<dt> --with-tree=&lt;tree-ish&gt; </dt>
<dd>
<p>When using --error-unmatch to expand the user supplied
&lt;file&gt; (i.e. path pattern) arguments to paths, pretend
that paths which were removed in the index since the
named &lt;tree-ish&gt; are still present.  Using this option
with <code>-s</code> or <code>-u</code> options does not make any sense.</p>
</dd>
<dt> -t </dt>
<dd>
<p>This feature is semi-deprecated. For scripting purpose,
<a href="/docs/git-status">git-status[1]</a> <code>--porcelain</code> and
<a href="/docs/git-diff-files">git-diff-files[1]</a> <code>--name-status</code> are almost always
superior alternatives, and users should look at
<a href="/docs/git-status">git-status[1]</a> <code>--short</code> or <a href="/docs/git-diff">git-diff[1]</a>
<code>--name-status</code> for more user-friendly alternatives.</p>



<p>This option identifies the file status with the following tags (followed by
a space) at the start of each line:</p>


<dl>
<dt> H </dt>
<dd>
<p>cached</p>
</dd>
<dt> S </dt>
<dd>
<p>skip-worktree</p>
</dd>
<dt> M </dt>
<dd>
<p>unmerged</p>
</dd>
<dt> R </dt>
<dd>
<p>removed/deleted</p>
</dd>
<dt> C </dt>
<dd>
<p>modified/changed</p>
</dd>
<dt> K </dt>
<dd>
<p>to be killed</p>
</dd>
<dt> ? </dt>
<dd>
<p>other</p>
</dd>
</dl>



</dd>
<dt> -v </dt>
<dd>
<p>Similar to <code>-t</code>, but use lowercase letters for files
that are marked as <em>assume unchanged</em> (see
<a href="/docs/git-update-index">git-update-index[1]</a>).</p>
</dd>
<dt> -f </dt>
<dd>
<p>Similar to <code>-t</code>, but use lowercase letters for files
that are marked as <em>fsmonitor valid</em> (see
<a href="/docs/git-update-index">git-update-index[1]</a>).</p>
</dd>
<dt> --full-name </dt>
<dd>
<p>When run from a subdirectory, the command usually
outputs paths relative to the current directory.  This
option forces paths to be output relative to the project
top directory.</p>
</dd>
<dt> --recurse-submodules </dt>
<dd>
<p>Recursively calls ls-files on each active submodule in the repository.
Currently there is only support for the --cached mode.</p>
</dd>
<dt> --abbrev[=&lt;n&gt;] </dt>
<dd>
<p>Instead of showing the full 40-byte hexadecimal object
lines, show the shortest prefix that is at least <em>&lt;n&gt;</em>
hexdigits long that uniquely refers the object.
Non default number of digits can be specified with --abbrev=&lt;n&gt;.</p>
</dd>
<dt> --debug </dt>
<dd>
<p>After each line that describes a file, add more data about its
cache entry.  This is intended to show as much information as
possible for manual inspection; the exact format may change at
any time.</p>
</dd>
<dt> --eol </dt>
<dd>
<p>Show &lt;eolinfo&gt; and &lt;eolattr&gt; of files.
&lt;eolinfo&gt; is the file content identification used by Git when
the "text" attribute is "auto" (or not set and core.autocrlf is not false).
&lt;eolinfo&gt; is either "-text", "none", "lf", "crlf", "mixed" or "".</p>

<p>"" means the file is not a regular file, it is not in the index or
not accessible in the working tree.</p>


<p>&lt;eolattr&gt; is the attribute that is used when checking out or committing,
it is either "", "-text", "text", "text=auto", "text eol=lf", "text eol=crlf".
Since Git 2.10 "text=auto eol=lf" and "text=auto eol=crlf" are supported.</p>


<p>Both the &lt;eolinfo&gt; in the index ("i/&lt;eolinfo&gt;")
and in the working tree ("w/&lt;eolinfo&gt;") are shown for regular files,
followed by the  ("attr/&lt;eolattr&gt;").</p>

</dd>
<dt> --sparse </dt>
<dd>
<p>If the index is sparse, show the sparse directories without expanding
to the contained files. Sparse directories will be shown with a
trailing slash, such as "x/" for a sparse directory "x".</p>
</dd>
<dt> -- </dt>
<dd>
<p>Do not interpret any more arguments as options.</p>
</dd>
<dt> &lt;file&gt; </dt>
<dd>
<p>Files to show. If no files are given all files which match the other
specified criteria are shown.</p>
</dd>
</dl>




<h2>OUTPUT</h2>


<p><em>git ls-files</em> just outputs the filenames unless <code>--stage</code> is specified in
which case it outputs:</p>



<pre>[&lt;tag&gt; ]&lt;mode&gt; &lt;object&gt; &lt;stage&gt; &lt;file&gt;</pre>



<p><em>git ls-files --eol</em> will show
	i/&lt;eolinfo&gt;&lt;SPACES&gt;w/&lt;eolinfo&gt;&lt;SPACES&gt;attr/&lt;eolattr&gt;&lt;SPACE*&gt;&lt;TAB&gt;&lt;file&gt;</p>


<p><em>git ls-files --unmerged</em> and <em>git ls-files --stage</em> can be used to examine
detailed information on unmerged paths.</p>


<p>For an unmerged path, instead of recording a single mode/SHA-1 pair,
the index records up to three such pairs; one from tree O in stage
1, A in stage 2, and B in stage 3.  This information can be used by
the user (or the porcelain) to see what should eventually be recorded at the
path. (see <a href="/docs/git-read-tree">git-read-tree[1]</a> for more information on state)</p>


<p>Without the <code>-z</code> option, pathnames with "unusual" characters are
quoted as explained for the configuration variable <code>core.quotePath</code>
(see <a href="/docs/git-config">git-config[1]</a>).  Using <code>-z</code> the filename is output
verbatim and the line is terminated by a NUL byte.</p>




<h2>EXCLUDE PATTERNS</h2>


<p><em>git ls-files</em> can use a list of "exclude patterns" when
traversing the directory tree and finding files to show when the
flags --others or --ignored are specified.  <a href="/docs/gitignore">gitignore[5]</a>
specifies the format of exclude patterns.</p>


<p>These exclude patterns come from these places, in order:</p>


<ol>
<li>
<p>The command-line flag --exclude=&lt;pattern&gt; specifies a
single pattern.  Patterns are ordered in the same order
they appear in the command line.</p>
</li>
<li>
<p>The command-line flag --exclude-from=&lt;file&gt; specifies a
file containing a list of patterns.  Patterns are ordered
in the same order they appear in the file.</p>
</li>
<li>
<p>The command-line flag --exclude-per-directory=&lt;name&gt; specifies
a name of the file in each directory <em>git ls-files</em>
examines, normally <code>.gitignore</code>.  Files in deeper
directories take precedence.  Patterns are ordered in the
same order they appear in the files.</p>
</li>
</ol>


<p>A pattern specified on the command line with --exclude or read
from the file specified with --exclude-from is relative to the
top of the directory tree.  A pattern read from a file specified
by --exclude-per-directory is relative to the directory that the
pattern file appears in.</p>




<h2>SEE ALSO</h2>


<p><a href="/docs/git-read-tree">git-read-tree[1]</a>, <a href="/docs/gitignore">gitignore[5]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-ls-tree - List the contents of a tree object</span></h2>




<h2><br>synopsis</h2>


<pre><em>git ls-tree</em> [-d] [-r] [-t] [-l] [-z]
	    [--name-only] [--name-status] [--full-name] [--full-tree] [--abbrev[=&lt;n&gt;]]
	    &lt;tree-ish&gt; [&lt;path&gt;…<U+200B>]</pre>




<h2>description</h2>


<p>Lists the contents of a given tree object, like what "/bin/ls -a" does
in the current working directory.  Note that:</p>


<ul>
<li>
<p>the behaviour is slightly different from that of "/bin/ls" in that the
<em>&lt;path&gt;</em> denotes just a list of patterns to match, e.g. so specifying
directory name (without <code>-r</code>) will behave differently, and order of the
arguments does not matter.</p>
</li>
<li>
<p>the behaviour is similar to that of "/bin/ls" in that the <em>&lt;path&gt;</em> is
taken as relative to the current working directory.  E.g. when you are
in a directory <em>sub</em> that has a directory <em>dir</em>, you can run <em>git
ls-tree -r HEAD dir</em> to list the contents of the tree (that is
<code>sub/dir</code> in <code>HEAD</code>).  You don’t want to give a tree that is not at the
root level (e.g. <code>git ls-tree -r HEAD:sub dir</code>) in this case, as that
would result in asking for <code>sub/sub/dir</code> in the <code>HEAD</code> commit.
However, the current working directory can be ignored by passing
--full-tree option.</p>
</li>
</ul>




<h2>options</h2>


<dl>
<dt> &lt;tree-ish&gt; </dt>
<dd>
<p>Id of a tree-ish.</p>
</dd>
<dt> -d </dt>
<dd>
<p>Show only the named tree entry itself, not its children.</p>
</dd>
<dt> -r </dt>
<dd>
<p>Recurse into sub-trees.</p>
</dd>
<dt> -t </dt>
<dd>
<p>Show tree entries even when going to recurse them. Has no effect
if <code>-r</code> was not passed. <code>-d</code> implies <code>-t</code>.</p>
</dd>
<dt> -l </dt>
<dt> --long </dt>
<dd>
<p>Show object size of blob (file) entries.</p>
</dd>
<dt> -z </dt>
<dd>
<p>\0 line termination on output and do not quote filenames.
See OUTPUT FORMAT below for more information.</p>
</dd>
<dt> --name-only </dt>
<dt> --name-status </dt>
<dd>
<p>List only filenames (instead of the "long" output), one per line.</p>
</dd>
<dt> --abbrev[=&lt;n&gt;] </dt>
<dd>
<p>Instead of showing the full 40-byte hexadecimal object
lines, show the shortest prefix that is at least <em>&lt;n&gt;</em>
hexdigits long that uniquely refers the object.
Non default number of digits can be specified with --abbrev=&lt;n&gt;.</p>
</dd>
<dt> --full-name </dt>
<dd>
<p>Instead of showing the path names relative to the current working
directory, show the full path names.</p>
</dd>
<dt> --full-tree </dt>
<dd>
<p>Do not limit the listing to the current working directory.
Implies --full-name.</p>
</dd>
<dt> [&lt;path&gt;…<U+200B>] </dt>
<dd>
<p>When paths are given, show them (note that this isn’t really raw
pathnames, but rather a list of patterns to match).  Otherwise
implicitly uses the root level of the tree as the sole path argument.</p>
</dd>
</dl>




<h2>Output Format</h2>



<pre>&lt;mode&gt; SP &lt;type&gt; SP &lt;object&gt; TAB &lt;file&gt;</pre>



<p>This output format is compatible with what <code>--index-info --stdin</code> of
<em>git update-index</em> expects.</p>


<p>When the <code>-l</code> option is used, format changes to</p>



<pre>&lt;mode&gt; SP &lt;type&gt; SP &lt;object&gt; SP &lt;object size&gt; TAB &lt;file&gt;</pre>



<p>Object size identified by &lt;object&gt; is given in bytes, and right-justified
with minimum width of 7 characters.  Object size is given only for blobs
(file) entries; for other entries <code>-</code> character is used in place of size.</p>


<p>Without the <code>-z</code> option, pathnames with "unusual" characters are
quoted as explained for the configuration variable <code>core.quotePath</code>
(see <a href="/docs/git-config">git-config[1]</a>).  Using <code>-z</code> the filename is output
verbatim and the line is terminated by a NUL byte.</p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-merge-base - Find as good common ancestors as possible for a merge</span></h2>




<h2><br>synopsis</h2>


<pre><em>git merge-base</em> [-a|--all] &lt;commit&gt; &lt;commit&gt;…<U+200B>
<em>git merge-base</em> [-a|--all] --octopus &lt;commit&gt;…<U+200B>
<em>git merge-base</em> --is-ancestor &lt;commit&gt; &lt;commit&gt;
<em>git merge-base</em> --independent &lt;commit&gt;…<U+200B>
<em>git merge-base</em> --fork-point &lt;ref&gt; [&lt;commit&gt;]</pre>




<h2>description</h2>


<p><em>git merge-base</em> finds best common ancestor(s) between two commits to use
in a three-way merge.  One common ancestor is <em>better</em> than another common
ancestor if the latter is an ancestor of the former.  A common ancestor
that does not have any better common ancestor is a <em>best common
ancestor</em>, i.e. a <em>merge base</em>.  Note that there can be more than one
merge base for a pair of commits.</p>




<h2>OPERATION MODES</h2>


<p>As the most common special case, specifying only two commits on the
command line means computing the merge base between the given two commits.</p>


<p>More generally, among the two commits to compute the merge base from,
one is specified by the first commit argument on the command line;
the other commit is a (possibly hypothetical) commit that is a merge
across all the remaining commits on the command line.</p>


<p>As a consequence, the <em>merge base</em> is not necessarily contained in each of the
commit arguments if more than two commits are specified. This is different
from <a href="/docs/git-show-branch">git-show-branch[1]</a> when used with the <code>--merge-base</code> option.</p>


<dl>
<dt> --octopus </dt>
<dd>
<p>Compute the best common ancestors of all supplied commits,
in preparation for an n-way merge.  This mimics the behavior
of <em>git show-branch --merge-base</em>.</p>
</dd>
<dt> --independent </dt>
<dd>
<p>Instead of printing merge bases, print a minimal subset of
the supplied commits with the same ancestors.  In other words,
among the commits given, list those which cannot be reached
from any other.  This mimics the behavior of <em>git show-branch
--independent</em>.</p>
</dd>
<dt> --is-ancestor </dt>
<dd>
<p>Check if the first &lt;commit&gt; is an ancestor of the second &lt;commit&gt;,
and exit with status 0 if true, or with status 1 if not.
Errors are signaled by a non-zero status that is not 1.</p>
</dd>
<dt> --fork-point </dt>
<dd>
<p>Find the point at which a branch (or any history that leads
to &lt;commit&gt;) forked from another branch (or any reference)
&lt;ref&gt;. This does not just look for the common ancestor of
the two commits, but also takes into account the reflog of
&lt;ref&gt; to see if the history leading to &lt;commit&gt; forked from
an earlier incarnation of the branch &lt;ref&gt; (see discussion
on this mode below).</p>
</dd>
</dl>




<h2>options</h2>


<dl>
<dt> -a </dt>
<dt> --all </dt>
<dd>
<p>Output all merge bases for the commits, instead of just one.</p>
</dd>
</dl>




<h2>DISCUSSION</h2>


<p>Given two commits <em>A</em> and <em>B</em>, <code>git merge-base A B</code> will output a commit
which is reachable from both <em>A</em> and <em>B</em> through the parent relationship.</p>


<p>For example, with this topology:</p>



<pre>	 o---o---o---B
	/
---o---1---o---o---o---A</pre>



<p>the merge base between <em>A</em> and <em>B</em> is <em>1</em>.</p>


<p>Given three commits <em>A</em>, <em>B</em> and <em>C</em>, <code>git merge-base A B C</code> will compute the
merge base between <em>A</em> and a hypothetical commit <em>M</em>, which is a merge
between <em>B</em> and <em>C</em>.  For example, with this topology:</p>



<pre>       o---o---o---o---C
      /
     /   o---o---o---B
    /   /
---2---1---o---o---o---A</pre>



<p>the result of <code>git merge-base A B C</code> is <em>1</em>.  This is because the
equivalent topology with a merge commit <em>M</em> between <em>B</em> and <em>C</em> is:</p>



<pre>       o---o---o---o---o
      /                 \
     /   o---o---o---o---M
    /   /
---2---1---o---o---o---A</pre>



<p>and the result of <code>git merge-base A M</code> is <em>1</em>.  Commit <em>2</em> is also a
common ancestor between <em>A</em> and <em>M</em>, but <em>1</em> is a better common ancestor,
because <em>2</em> is an ancestor of <em>1</em>.  Hence, <em>2</em> is not a merge base.</p>


<p>The result of <code>git merge-base --octopus A B C</code> is <em>2</em>, because <em>2</em> is
the best common ancestor of all commits.</p>


<p>When the history involves criss-cross merges, there can be more than one
<em>best</em> common ancestor for two commits.  For example, with this topology:</p>



<pre>---1---o---A
    \ /
     X
    / \
---2---o---o---B</pre>



<p>both <em>1</em> and <em>2</em> are merge-bases of A and B.  Neither one is better than
the other (both are <em>best</em> merge bases).  When the <code>--all</code> option is not given,
it is unspecified which best one is output.</p>


<p>A common idiom to check "fast-forward-ness" between two commits A
and B is (or at least used to be) to compute the merge base between
A and B, and check if it is the same as A, in which case, A is an
ancestor of B.  You will see this idiom used often in older scripts.</p>



<pre>A=$(git rev-parse --verify A)
if test "$A" = "$(git merge-base A B)"
then
	... A is an ancestor of B ...
fi</pre>



<p>In modern git, you can say this in a more direct way:</p>



<pre>if git merge-base --is-ancestor A B
then
	... A is an ancestor of B ...
fi</pre>



<p>instead.</p>




<h2>Discussion on fork-point mode</h2>


<p>After working on the <code>topic</code> branch created with <code>git switch -c
topic origin/master</code>, the history of remote-tracking branch
<code>origin/master</code> may have been rewound and rebuilt, leading to a
history of this shape:</p>



<pre>		 o---B2
		/
---o---o---B1--o---o---o---B (origin/master)
	\
	 B0
	  \
	   D0---D1---D (topic)</pre>



<p>where <code>origin/master</code> used to point at commits B0, B1, B2 and now it
points at B, and your <code>topic</code> branch was started on top of it back
when <code>origin/master</code> was at B0, and you built three commits, D0, D1,
and D, on top of it.  Imagine that you now want to rebase the work
you did on the topic on top of the updated origin/master.</p>


<p>In such a case, <code>git merge-base origin/master topic</code> would return the
parent of B0 in the above picture, but B0^..D is <strong>not</strong> the range of
commits you would want to replay on top of B (it includes B0, which
is not what you wrote; it is a commit the other side discarded when
it moved its tip from B0 to B1).</p>


<p><code>git merge-base --fork-point origin/master topic</code> is designed to
help in such a case.  It takes not only B but also B0, B1, and B2
(i.e. old tips of the remote-tracking branches your repository’s
reflog knows about) into account to see on which commit your topic
branch was built and finds B0, allowing you to replay only the
commits on your topic, excluding the commits the other side later
discarded.</p>


<p>Hence</p>



<pre>$ fork_point=$(git merge-base --fork-point origin/master topic)</pre>



<p>will find B0, and</p>



<pre>$ git rebase --onto origin/master $fork_point topic</pre>



<p>will replay D0, D1 and D on top of B to create a new history of this
shape:</p>



<pre>		 o---B2
		/
---o---o---B1--o---o---o---B (origin/master)
	\                   \
	 B0                  D0'--D1'--D' (topic - updated)
	  \
	   D0---D1---D (topic - old)</pre>



<p>A caveat is that older reflog entries in your repository may be
expired by <code>git gc</code>.  If B0 no longer appears in the reflog of the
remote-tracking branch <code>origin/master</code>, the <code>--fork-point</code> mode
obviously cannot find it and fails, avoiding to give a random and
useless result (such as the parent of B0, like the same command
without the <code>--fork-point</code> option gives).</p>


<p>Also, the remote-tracking branch you use the <code>--fork-point</code> mode
with must be the one your topic forked from its tip.  If you forked
from an older commit than the tip, this mode would not find the fork
point (imagine in the above sample history B0 did not exist,
origin/master started at B1, moved to B2 and then B, and you forked
your topic at origin/master^ when origin/master was B1; the shape of
the history would be the same as above, without B0, and the parent
of B1 is what <code>git merge-base origin/master topic</code> correctly finds,
but the <code>--fork-point</code> mode will not, because it is not one of the
commits that used to be at the tip of origin/master).</p>




<h2>See also</h2>


<p><a href="/docs/git-rev-list">git-rev-list[1]</a>,
<a href="/docs/git-show-branch">git-show-branch[1]</a>,
<a href="/docs/git-merge">git-merge[1]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-read-tree - Reads tree information into the index</span></h2>




<h2><br>synopsis</h2>


<pre><em>git read-tree</em> [[-m [--trivial] [--aggressive] | --reset | --prefix=&lt;prefix&gt;]
		[-u | -i]] [--index-output=&lt;file&gt;] [--no-sparse-checkout]
		(--empty | &lt;tree-ish1&gt; [&lt;tree-ish2&gt; [&lt;tree-ish3&gt;]])</pre>




<h2>description</h2>


<p>Reads the tree information given by &lt;tree-ish&gt; into the index,
but does not actually <strong>update</strong> any of the files it "caches". (see:
<a href="/docs/git-checkout-index">git-checkout-index[1]</a>)</p>


<p>Optionally, it can merge a tree into the index, perform a
fast-forward (i.e. 2-way) merge, or a 3-way merge, with the <code>-m</code>
flag.  When used with <code>-m</code>, the <code>-u</code> flag causes it to also update
the files in the work tree with the result of the merge.</p>


<p>Trivial merges are done by <em>git read-tree</em> itself.  Only conflicting paths
will be in unmerged state when <em>git read-tree</em> returns.</p>




<h2>options</h2>


<dl>
<dt> -m </dt>
<dd>
<p>Perform a merge, not just a read.  The command will
refuse to run if your index file has unmerged entries,
indicating that you have not finished previous merge you
started.</p>
</dd>
<dt> --reset </dt>
<dd>
<p>Same as -m, except that unmerged entries are discarded instead
of failing.  When used with <code>-u</code>, updates leading to loss of
working tree changes or untracked files or directories will not
abort the operation.</p>
</dd>
<dt> -u </dt>
<dd>
<p>After a successful merge, update the files in the work
tree with the result of the merge.</p>
</dd>
<dt> -i </dt>
<dd>
<p>Usually a merge requires the index file as well as the
files in the working tree to be up to date with the
current head commit, in order not to lose local
changes.  This flag disables the check with the working
tree and is meant to be used when creating a merge of
trees that are not directly related to the current
working tree status into a temporary index file.</p>
</dd>
<dt> -n </dt>
<dt> --dry-run </dt>
<dd>
<p>Check if the command would error out, without updating the index
or the files in the working tree for real.</p>
</dd>
<dt> -v </dt>
<dd>
<p>Show the progress of checking files out.</p>
</dd>
<dt> --trivial </dt>
<dd>
<p>Restrict three-way merge by <em>git read-tree</em> to happen
only if there is no file-level merging required, instead
of resolving merge for trivial cases and leaving
conflicting files unresolved in the index.</p>
</dd>
<dt> --aggressive </dt>
<dd>
<p>Usually a three-way merge by <em>git read-tree</em> resolves
the merge for really trivial cases and leaves other
cases unresolved in the index, so that porcelains can
implement different merge policies.  This flag makes the
command resolve a few more cases internally:</p>

<ul>
<li>
<p>when one side removes a path and the other side leaves the path
unmodified.  The resolution is to remove that path.</p>
</li>
<li>
<p>when both sides remove a path.  The resolution is to remove that path.</p>
</li>
<li>
<p>when both sides add a path identically.  The resolution
is to add that path.</p>
</li>
</ul>

</dd>
<dt> --prefix=&lt;prefix&gt; </dt>
<dd>
<p>Keep the current index contents, and read the contents
of the named tree-ish under the directory at <code>&lt;prefix&gt;</code>.
The command will refuse to overwrite entries that already
existed in the original index file.</p>
</dd>
<dt> --index-output=&lt;file&gt; </dt>
<dd>
<p>Instead of writing the results out to <code>$GIT_INDEX_FILE</code>,
write the resulting index in the named file.  While the
command is operating, the original index file is locked
with the same mechanism as usual.  The file must allow
to be rename(2)ed into from a temporary file that is
created next to the usual index file; typically this
means it needs to be on the same filesystem as the index
file itself, and you need write permission to the
directories the index file and index output file are
located in.</p>
</dd>
<dt> --[no-]recurse-submodules </dt>
<dd>
<p>Using --recurse-submodules will update the content of all active
submodules according to the commit recorded in the superproject by
calling read-tree recursively, also setting the submodules' HEAD to be
detached at that commit.</p>
</dd>
<dt> --no-sparse-checkout </dt>
<dd>
<p>Disable sparse checkout support even if <code>core.sparseCheckout</code>
is true.</p>
</dd>
<dt> --empty </dt>
<dd>
<p>Instead of reading tree object(s) into the index, just empty
it.</p>
</dd>
<dt> -q </dt>
<dt> --quiet </dt>
<dd>
<p>Quiet, suppress feedback messages.</p>
</dd>
<dt> &lt;tree-ish#&gt; </dt>
<dd>
<p>The id of the tree object(s) to be read/merged.</p>
</dd>
</dl>




<h2>MERGING</h2>


<p>If <code>-m</code> is specified, <em>git read-tree</em> can perform 3 kinds of
merge, a single tree merge if only 1 tree is given, a
fast-forward merge with 2 trees, or a 3-way merge if 3 or more trees are
provided.</p>


<h3>
Single Tree Merge</h3>

<p>If only 1 tree is specified, <em>git read-tree</em> operates as if the user did not
specify <code>-m</code>, except that if the original index has an entry for a
given pathname, and the contents of the path match with the tree
being read, the stat info from the index is used. (In other words, the
index’s stat()s take precedence over the merged tree’s).</p>


<p>That means that if you do a <code>git read-tree -m &lt;newtree&gt;</code> followed by a
<code>git checkout-index -f -u -a</code>, the <em>git checkout-index</em> only checks out
the stuff that really changed.</p>


<p>This is used to avoid unnecessary false hits when <em>git diff-files</em> is
run after <em>git read-tree</em>.</p>



<h3>
Two Tree Merge</h3>

<p>Typically, this is invoked as <code>git read-tree -m $H $M</code>, where $H
is the head commit of the current repository, and $M is the head
of a foreign tree, which is simply ahead of $H (i.e. we are in a
fast-forward situation).</p>


<p>When two trees are specified, the user is telling <em>git read-tree</em>
the following:</p>


<ol>
<li>
<p>The current index and work tree is derived from $H, but
the user may have local changes in them since $H.</p>
</li>
<li>
<p>The user wants to fast-forward to $M.</p>
</li>
</ol>


<p>In this case, the <code>git read-tree -m $H $M</code> command makes sure
that no local change is lost as the result of this "merge".
Here are the "carry forward" rules, where "I" denotes the index,
"clean" means that index and work tree coincide, and "exists"/"nothing"
refer to the presence of a path in the specified commit:</p>



<pre>	I                   H        M        Result
       -------------------------------------------------------
     0  nothing             nothing  nothing  (does not happen)
     1  nothing             nothing  exists   use M
     2  nothing             exists   nothing  remove path from index
     3  nothing             exists   exists,  use M if "initial checkout",
				     H == M   keep index otherwise
				     exists,  fail
				     H != M

        clean I==H  I==M
       ------------------
     4  yes   N/A   N/A     nothing  nothing  keep index
     5  no    N/A   N/A     nothing  nothing  keep index

     6  yes   N/A   yes     nothing  exists   keep index
     7  no    N/A   yes     nothing  exists   keep index
     8  yes   N/A   no      nothing  exists   fail
     9  no    N/A   no      nothing  exists   fail

     10 yes   yes   N/A     exists   nothing  remove path from index
     11 no    yes   N/A     exists   nothing  fail
     12 yes   no    N/A     exists   nothing  fail
     13 no    no    N/A     exists   nothing  fail

	clean (H==M)
       ------
     14 yes                 exists   exists   keep index
     15 no                  exists   exists   keep index

        clean I==H  I==M (H!=M)
       ------------------
     16 yes   no    no      exists   exists   fail
     17 no    no    no      exists   exists   fail
     18 yes   no    yes     exists   exists   keep index
     19 no    no    yes     exists   exists   keep index
     20 yes   yes   no      exists   exists   use M
     21 no    yes   no      exists   exists   fail</pre>



<p>In all "keep index" cases, the index entry stays as in the
original index file.  If the entry is not up to date,
<em>git read-tree</em> keeps the copy in the work tree intact when
operating under the -u flag.</p>


<p>When this form of <em>git read-tree</em> returns successfully, you can
see which of the "local changes" that you made were carried forward by running
<code>git diff-index --cached $M</code>.  Note that this does not
necessarily match what <code>git diff-index --cached $H</code> would have
produced before such a two tree merge.  This is because of cases
18 and 19 --- if you already had the changes in $M (e.g. maybe
you picked it up via e-mail in a patch form), <code>git diff-index
--cached $H</code> would have told you about the change before this
merge, but it would not show in <code>git diff-index --cached $M</code>
output after the two-tree merge.</p>


<p>Case 3 is slightly tricky and needs explanation.  The result from this
rule logically should be to remove the path if the user staged the removal
of the path and then switching to a new branch.  That however will prevent
the initial checkout from happening, so the rule is modified to use M (new
tree) only when the content of the index is empty.  Otherwise the removal
of the path is kept as long as $H and $M are the same.</p>



<h3>
3-Way Merge</h3>

<p>Each "index" entry has two bits worth of "stage" state. stage 0 is the
normal one, and is the only one you’d see in any kind of normal use.</p>


<p>However, when you do <em>git read-tree</em> with three trees, the "stage"
starts out at 1.</p>


<p>This means that you can do</p>



<pre>$ git read-tree -m &lt;tree1&gt; &lt;tree2&gt; &lt;tree3&gt;</pre>



<p>and you will end up with an index with all of the &lt;tree1&gt; entries in
"stage1", all of the &lt;tree2&gt; entries in "stage2" and all of the
&lt;tree3&gt; entries in "stage3".  When performing a merge of another
branch into the current branch, we use the common ancestor tree
as &lt;tree1&gt;, the current branch head as &lt;tree2&gt;, and the other
branch head as &lt;tree3&gt;.</p>


<p>Furthermore, <em>git read-tree</em> has special-case logic that says: if you see
a file that matches in all respects in the following states, it
"collapses" back to "stage0":</p>


<ul>
<li>
<p>stage 2 and 3 are the same; take one or the other (it makes no
difference - the same work has been done on our branch in
stage 2 and their branch in stage 3)</p>
</li>
<li>
<p>stage 1 and stage 2 are the same and stage 3 is different; take
stage 3 (our branch in stage 2 did not do anything since the
ancestor in stage 1 while their branch in stage 3 worked on
it)</p>
</li>
<li>
<p>stage 1 and stage 3 are the same and stage 2 is different take
stage 2 (we did something while they did nothing)</p>
</li>
</ul>


<p>The <em>git write-tree</em> command refuses to write a nonsensical tree, and it
will complain about unmerged entries if it sees a single entry that is not
stage 0.</p>


<p>OK, this all sounds like a collection of totally nonsensical rules,
but it’s actually exactly what you want in order to do a fast
merge. The different stages represent the "result tree" (stage 0, aka
"merged"), the original tree (stage 1, aka "orig"), and the two trees
you are trying to merge (stage 2 and 3 respectively).</p>


<p>The order of stages 1, 2 and 3 (hence the order of three
&lt;tree-ish&gt; command-line arguments) are significant when you
start a 3-way merge with an index file that is already
populated.  Here is an outline of how the algorithm works:</p>


<ul>
<li>
<p>if a file exists in identical format in all three trees, it will
automatically collapse to "merged" state by <em>git read-tree</em>.</p>
</li>
<li>
<p>a file that has <em>any</em> difference what-so-ever in the three trees
will stay as separate entries in the index. It’s up to "porcelain
policy" to determine how to remove the non-0 stages, and insert a
merged version.</p>
</li>
<li>
<p>the index file saves and restores with all this information, so you
can merge things incrementally, but as long as it has entries in
stages 1/2/3 (i.e., "unmerged entries") you can’t write the result. So
now the merge algorithm ends up being really simple:</p>

<ul>
<li>
<p>you walk the index in order, and ignore all entries of stage 0,
since they’ve already been done.</p>
</li>
<li>
<p>if you find a "stage1", but no matching "stage2" or "stage3", you
know it’s been removed from both trees (it only existed in the
original tree), and you remove that entry.</p>
</li>
<li>
<p>if you find a matching "stage2" and "stage3" tree, you remove one
of them, and turn the other into a "stage0" entry. Remove any
matching "stage1" entry if it exists too.  .. all the normal
trivial rules ..</p>
</li>
</ul>

</li>
</ul>


<p>You would normally use <em>git merge-index</em> with supplied
<em>git merge-one-file</em> to do this last step.  The script updates
the files in the working tree as it merges each path and at the
end of a successful merge.</p>


<p>When you start a 3-way merge with an index file that is already
populated, it is assumed that it represents the state of the
files in your work tree, and you can even have files with
changes unrecorded in the index file.  It is further assumed
that this state is "derived" from the stage 2 tree.  The 3-way
merge refuses to run if it finds an entry in the original index
file that does not match stage 2.</p>


<p>This is done to prevent you from losing your work-in-progress
changes, and mixing your random changes in an unrelated merge
commit.  To illustrate, suppose you start from what has been
committed last to your repository:</p>



<pre>$ JC=`git rev-parse --verify "HEAD^0"`
$ git checkout-index -f -u -a $JC</pre>



<p>You do random edits, without running <em>git update-index</em>.  And then
you notice that the tip of your "upstream" tree has advanced
since you pulled from him:</p>



<pre>$ git fetch git://.... linus
$ LT=`git rev-parse FETCH_HEAD`</pre>



<p>Your work tree is still based on your HEAD ($JC), but you have
some edits since.  Three-way merge makes sure that you have not
added or modified index entries since $JC, and if you haven’t,
then does the right thing.  So with the following sequence:</p>



<pre>$ git read-tree -m -u `git merge-base $JC $LT` $JC $LT
$ git merge-index git-merge-one-file -a
$ echo "Merge with Linus" | \
  git commit-tree `git write-tree` -p $JC -p $LT</pre>



<p>what you would commit is a pure merge between $JC and $LT without
your work-in-progress changes, and your work tree would be
updated to the result of the merge.</p>


<p>However, if you have local changes in the working tree that
would be overwritten by this merge, <em>git read-tree</em> will refuse
to run to prevent your changes from being lost.</p>


<p>In other words, there is no need to worry about what exists only
in the working tree.  When you have local changes in a part of
the project that is not involved in the merge, your changes do
not interfere with the merge, and are kept intact.  When they
<strong>do</strong> interfere, the merge does not even start (<em>git read-tree</em>
complains loudly and fails without modifying anything).  In such
a case, you can simply continue doing what you were in the
middle of doing, and when your working tree is ready (i.e. you
have finished your work-in-progress), attempt the merge again.</p>





<h2>SPARSE CHECKOUT</h2>


<p>"Sparse checkout" allows populating the working directory sparsely.
It uses the skip-worktree bit (see <a href="/docs/git-update-index">git-update-index[1]</a>) to tell
Git whether a file in the working directory is worth looking at.</p>


<p><em>git read-tree</em> and other merge-based commands (<em>git merge</em>, <em>git
checkout</em>…<U+200B>) can help maintaining the skip-worktree bitmap and working
directory update. <code>$GIT_DIR/info/sparse-checkout</code> is used to
define the skip-worktree reference bitmap. When <em>git read-tree</em> needs
to update the working directory, it resets the skip-worktree bit in the index
based on this file, which uses the same syntax as .gitignore files.
If an entry matches a pattern in this file, skip-worktree will not be
set on that entry. Otherwise, skip-worktree will be set.</p>


<p>Then it compares the new skip-worktree value with the previous one. If
skip-worktree turns from set to unset, it will add the corresponding
file back. If it turns from unset to set, that file will be removed.</p>


<p>While <code>$GIT_DIR/info/sparse-checkout</code> is usually used to specify what
files are in, you can also specify what files are <em>not</em> in, using
negate patterns. For example, to remove the file <code>unwanted</code>:</p>



<pre>/*
!unwanted</pre>



<p>Another tricky thing is fully repopulating the working directory when you
no longer want sparse checkout. You cannot just disable "sparse
checkout" because skip-worktree bits are still in the index and your working
directory is still sparsely populated. You should re-populate the working
directory with the <code>$GIT_DIR/info/sparse-checkout</code> file content as
follows:</p>



<pre>/*</pre>



<p>Then you can disable sparse checkout. Sparse checkout support in <em>git
read-tree</em> and similar commands is disabled by default. You need to
turn <code>core.sparseCheckout</code> on in order to have sparse checkout
support.</p>




<h2>SEE ALSO</h2>


<p><a href="/docs/git-write-tree">git-write-tree[1]</a>; <a href="/docs/git-ls-files">git-ls-files[1]</a>;
<a href="/docs/gitignore">gitignore[5]</a>; <a href="/docs/git-sparse-checkout">git-sparse-checkout[1]</a>;</p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-rev-list - Lists commit objects in reverse chronological order</span></h2>




<h2><br>synopsis</h2>


<pre><em>git rev-list</em> [&lt;options&gt;] &lt;commit&gt;…<U+200B> [[--] &lt;path&gt;…<U+200B>]</pre>




<h2>description</h2>


<p>List commits that are reachable by following the <code>parent</code> links from the
given commit(s), but exclude commits that are reachable from the one(s)
given with a <em>^</em> in front of them.  The output is given in reverse
chronological order by default.</p>


<p>You can think of this as a set operation. Commits reachable from any of
the commits given on the command line form a set, and then commits reachable
from any of the ones given with <em>^</em> in front are subtracted from that
set.  The remaining commits are what comes out in the command’s output.
Various other options and paths parameters can be used to further limit the
result.</p>


<p>Thus, the following command:</p>



<pre>$ git rev-list foo bar ^baz</pre>



<p>means "list all the commits which are reachable from <em>foo</em> or <em>bar</em>, but
not from <em>baz</em>".</p>


<p>A special notation "<em>&lt;commit1&gt;</em>..<em>&lt;commit2&gt;</em>" can be used as a
short-hand for "^<em>&lt;commit1&gt;</em> <em>&lt;commit2&gt;</em>". For example, either of
the following may be used interchangeably:</p>



<pre>$ git rev-list origin..HEAD
$ git rev-list HEAD ^origin</pre>



<p>Another special notation is "<em>&lt;commit1&gt;</em>…<U+200B><em>&lt;commit2&gt;</em>" which is useful
for merges.  The resulting set of commits is the symmetric difference
between the two operands.  The following two commands are equivalent:</p>



<pre>$ git rev-list A B --not $(git merge-base --all A B)
$ git rev-list A...B</pre>



<p><em>rev-list</em> is a very essential Git command, since it
provides the ability to build and traverse commit ancestry graphs. For
this reason, it has a lot of different options that enables it to be
used by commands as different as <em>git bisect</em> and
<em>git repack</em>.</p>




<h2>options</h2>


<h3>
Commit Limiting</h3>

<p>Besides specifying a range of commits that should be listed using the
special notations explained in the description, additional commit
limiting may be applied.</p>


<p>Using more options generally further limits the output (e.g.
<code>--since=&lt;date1&gt;</code> limits to commits newer than <code>&lt;date1&gt;</code>, and using it
with <code>--grep=&lt;pattern&gt;</code> further limits to commits whose log message
has a line that matches <code>&lt;pattern&gt;</code>), unless otherwise noted.</p>


<p>Note that these are applied before commit
ordering and formatting options, such as <code>--reverse</code>.</p>


<dl>
<dt> -&lt;number&gt; </dt>
<dt> -n &lt;number&gt; </dt>
<dt> --max-count=&lt;number&gt; </dt>
<dd>
<p>Limit the number of commits to output.</p>
</dd>
<dt> --skip=&lt;number&gt; </dt>
<dd>
<p>Skip <em>number</em> commits before starting to show the commit output.</p>
</dd>
<dt> --since=&lt;date&gt; </dt>
<dt> --after=&lt;date&gt; </dt>
<dd>
<p>Show commits more recent than a specific date.</p>
</dd>
<dt> --until=&lt;date&gt; </dt>
<dt> --before=&lt;date&gt; </dt>
<dd>
<p>Show commits older than a specific date.</p>
</dd>
<dt> --max-age=&lt;timestamp&gt; </dt>
<dt> --min-age=&lt;timestamp&gt; </dt>
<dd>
<p>Limit the commits output to specified time range.</p>
</dd>
<dt> --author=&lt;pattern&gt; </dt>
<dt> --committer=&lt;pattern&gt; </dt>
<dd>
<p>Limit the commits output to ones with author/committer
header lines that match the specified pattern (regular
expression).  With more than one <code>--author=&lt;pattern&gt;</code>,
commits whose author matches any of the given patterns are
chosen (similarly for multiple <code>--committer=&lt;pattern&gt;</code>).</p>
</dd>
<dt> --grep-reflog=&lt;pattern&gt; </dt>
<dd>
<p>Limit the commits output to ones with reflog entries that
match the specified pattern (regular expression). With
more than one <code>--grep-reflog</code>, commits whose reflog message
matches any of the given patterns are chosen.  It is an
error to use this option unless <code>--walk-reflogs</code> is in use.</p>
</dd>
<dt> --grep=&lt;pattern&gt; </dt>
<dd>
<p>Limit the commits output to ones with log message that
matches the specified pattern (regular expression).  With
more than one <code>--grep=&lt;pattern&gt;</code>, commits whose message
matches any of the given patterns are chosen (but see
<code>--all-match</code>).</p>
</dd>
<dt> --all-match </dt>
<dd>
<p>Limit the commits output to ones that match all given <code>--grep</code>,
instead of ones that match at least one.</p>
</dd>
<dt> --invert-grep </dt>
<dd>
<p>Limit the commits output to ones with log message that do not
match the pattern specified with <code>--grep=&lt;pattern&gt;</code>.</p>
</dd>
<dt> -i </dt>
<dt> --regexp-ignore-case </dt>
<dd>
<p>Match the regular expression limiting patterns without regard to letter
case.</p>
</dd>
<dt> --basic-regexp </dt>
<dd>
<p>Consider the limiting patterns to be basic regular expressions;
this is the default.</p>
</dd>
<dt> -E </dt>
<dt> --extended-regexp </dt>
<dd>
<p>Consider the limiting patterns to be extended regular expressions
instead of the default basic regular expressions.</p>
</dd>
<dt> -F </dt>
<dt> --fixed-strings </dt>
<dd>
<p>Consider the limiting patterns to be fixed strings (don’t interpret
pattern as a regular expression).</p>
</dd>
<dt> -P </dt>
<dt> --perl-regexp </dt>
<dd>
<p>Consider the limiting patterns to be Perl-compatible regular
expressions.</p>

<p>Support for these types of regular expressions is an optional
compile-time dependency. If Git wasn’t compiled with support for them
providing this option will cause it to die.</p>

</dd>
<dt> --remove-empty </dt>
<dd>
<p>Stop when a given path disappears from the tree.</p>
</dd>
<dt> --merges </dt>
<dd>
<p>Print only merge commits. This is exactly the same as <code>--min-parents=2</code>.</p>
</dd>
<dt> --no-merges </dt>
<dd>
<p>Do not print commits with more than one parent. This is
exactly the same as <code>--max-parents=1</code>.</p>
</dd>
<dt> --min-parents=&lt;number&gt; </dt>
<dt> --max-parents=&lt;number&gt; </dt>
<dt> --no-min-parents </dt>
<dt> --no-max-parents </dt>
<dd>
<p>Show only commits which have at least (or at most) that many parent
commits. In particular, <code>--max-parents=1</code> is the same as <code>--no-merges</code>,
<code>--min-parents=2</code> is the same as <code>--merges</code>.  <code>--max-parents=0</code>
gives all root commits and <code>--min-parents=3</code> all octopus merges.</p>

<p><code>--no-min-parents</code> and <code>--no-max-parents</code> reset these limits (to no limit)
again.  Equivalent forms are <code>--min-parents=0</code> (any commit has 0 or more
parents) and <code>--max-parents=-1</code> (negative numbers denote no upper limit).</p>

</dd>
<dt> --first-parent </dt>
<dd>
<p>Follow only the first parent commit upon seeing a merge
commit.  This option can give a better overview when
viewing the evolution of a particular topic branch,
because merges into a topic branch tend to be only about
adjusting to updated upstream from time to time, and
this option allows you to ignore the individual commits
brought in to your history by such a merge.</p>
</dd>
<dt> --not </dt>
<dd>
<p>Reverses the meaning of the <em>^</em> prefix (or lack thereof)
for all following revision specifiers, up to the next <code>--not</code>.</p>
</dd>
<dt> --all </dt>
<dd>
<p>Pretend as if all the refs in <code>refs/</code>, along with <code>HEAD</code>, are
listed on the command line as <em>&lt;commit&gt;</em>.</p>
</dd>
<dt> --branches[=&lt;pattern&gt;] </dt>
<dd>
<p>Pretend as if all the refs in <code>refs/heads</code> are listed
on the command line as <em>&lt;commit&gt;</em>. If <em>&lt;pattern&gt;</em> is given, limit
branches to ones matching given shell glob. If pattern lacks <em>?</em>,
<em>*</em>, or <em>[</em>, <em>/*</em> at the end is implied.</p>
</dd>
<dt> --tags[=&lt;pattern&gt;] </dt>
<dd>
<p>Pretend as if all the refs in <code>refs/tags</code> are listed
on the command line as <em>&lt;commit&gt;</em>. If <em>&lt;pattern&gt;</em> is given, limit
tags to ones matching given shell glob. If pattern lacks <em>?</em>, <em>*</em>,
or <em>[</em>, <em>/*</em> at the end is implied.</p>
</dd>
<dt> --remotes[=&lt;pattern&gt;] </dt>
<dd>
<p>Pretend as if all the refs in <code>refs/remotes</code> are listed
on the command line as <em>&lt;commit&gt;</em>. If <em>&lt;pattern&gt;</em> is given, limit
remote-tracking branches to ones matching given shell glob.
If pattern lacks <em>?</em>, <em>*</em>, or <em>[</em>, <em>/*</em> at the end is implied.</p>
</dd>
<dt> --glob=&lt;glob-pattern&gt; </dt>
<dd>
<p>Pretend as if all the refs matching shell glob <em>&lt;glob-pattern&gt;</em>
are listed on the command line as <em>&lt;commit&gt;</em>. Leading <em>refs/</em>,
is automatically prepended if missing. If pattern lacks <em>?</em>, <em>*</em>,
or <em>[</em>, <em>/*</em> at the end is implied.</p>
</dd>
<dt> --exclude=&lt;glob-pattern&gt; </dt>
<dd>
<p>Do not include refs matching <em>&lt;glob-pattern&gt;</em> that the next <code>--all</code>,
<code>--branches</code>, <code>--tags</code>, <code>--remotes</code>, or <code>--glob</code> would otherwise
consider. Repetitions of this option accumulate exclusion patterns
up to the next <code>--all</code>, <code>--branches</code>, <code>--tags</code>, <code>--remotes</code>, or
<code>--glob</code> option (other options or arguments do not clear
accumulated patterns).</p>

<p>The patterns given should not begin with <code>refs/heads</code>, <code>refs/tags</code>, or
<code>refs/remotes</code> when applied to <code>--branches</code>, <code>--tags</code>, or <code>--remotes</code>,
respectively, and they must begin with <code>refs/</code> when applied to <code>--glob</code>
or <code>--all</code>. If a trailing <em>/*</em> is intended, it must be given
explicitly.</p>

</dd>
<dt> --reflog </dt>
<dd>
<p>Pretend as if all objects mentioned by reflogs are listed on the
command line as <code>&lt;commit&gt;</code>.</p>
</dd>
<dt> --alternate-refs </dt>
<dd>
<p>Pretend as if all objects mentioned as ref tips of alternate
repositories were listed on the command line. An alternate
repository is any repository whose object directory is specified
in <code>objects/info/alternates</code>.  The set of included objects may
be modified by <code>core.alternateRefsCommand</code>, etc. See
<a href="/docs/git-config">git-config[1]</a>.</p>
</dd>
<dt> --single-worktree </dt>
<dd>
<p>By default, all working trees will be examined by the
following options when there are more than one (see
<a href="/docs/git-worktree">git-worktree[1]</a>): <code>--all</code>, <code>--reflog</code> and
<code>--indexed-objects</code>.
This option forces them to examine the current working tree
only.</p>
</dd>
<dt> --ignore-missing </dt>
<dd>
<p>Upon seeing an invalid object name in the input, pretend as if
the bad input was not given.</p>
</dd>
<dt> --stdin </dt>
<dd>
<p>In addition to the <em>&lt;commit&gt;</em> listed on the command
line, read them from the standard input. If a <code>--</code> separator is
seen, stop reading commits and start reading paths to limit the
result.</p>
</dd>
<dt> --quiet </dt>
<dd>
<p>Don’t print anything to standard output.  This form
is primarily meant to allow the caller to
test the exit status to see if a range of objects is fully
connected (or not).  It is faster than redirecting stdout
to <code>/dev/null</code> as the output does not have to be formatted.</p>
</dd>
<dt> --disk-usage </dt>
<dd>
<p>Suppress normal output; instead, print the sum of the bytes used
for on-disk storage by the selected commits or objects. This is
equivalent to piping the output into <code>git cat-file
--batch-check='%(objectsize:disk)'</code>, except that it runs much
faster (especially with <code>--use-bitmap-index</code>). See the <code>CAVEATS</code>
section in <a href="/docs/git-cat-file">git-cat-file[1]</a> for the limitations of what
"on-disk storage" means.</p>
</dd>
<dt> --cherry-mark </dt>
<dd>
<p>Like <code>--cherry-pick</code> (see below) but mark equivalent commits
with <code>=</code> rather than omitting them, and inequivalent ones with <code>+</code>.</p>
</dd>
<dt> --cherry-pick </dt>
<dd>
<p>Omit any commit that introduces the same change as
another commit on the “other side” when the set of
commits are limited with symmetric difference.</p>

<p>For example, if you have two branches, <code>A</code> and <code>B</code>, a usual way
to list all commits on only one side of them is with
<code>--left-right</code> (see the example below in the description of
the <code>--left-right</code> option). However, it shows the commits that were
cherry-picked from the other branch (for example, “3rd on b” may be
cherry-picked from branch A). With this option, such pairs of commits are
excluded from the output.</p>

</dd>
<dt> --left-only </dt>
<dt> --right-only </dt>
<dd>
<p>List only commits on the respective side of a symmetric difference,
i.e. only those which would be marked <code>&lt;</code> resp. <code>&gt;</code> by
<code>--left-right</code>.</p>

<p>For example, <code>--cherry-pick --right-only A...B</code> omits those
commits from <code>B</code> which are in <code>A</code> or are patch-equivalent to a commit in
<code>A</code>. In other words, this lists the <code>+</code> commits from <code>git cherry A B</code>.
More precisely, <code>--cherry-pick --right-only --no-merges</code> gives the exact
list.</p>

</dd>
<dt> --cherry </dt>
<dd>
<p>A synonym for <code>--right-only --cherry-mark --no-merges</code>; useful to
limit the output to the commits on our side and mark those that
have been applied to the other side of a forked history with
<code>git log --cherry upstream...mybranch</code>, similar to
<code>git cherry upstream mybranch</code>.</p>
</dd>
<dt> -g </dt>
<dt> --walk-reflogs </dt>
<dd>
<p>Instead of walking the commit ancestry chain, walk
reflog entries from the most recent one to older ones.
When this option is used you cannot specify commits to
exclude (that is, <em>^commit</em>, <em>commit1..commit2</em>,
and <em>commit1...commit2</em> notations cannot be used).</p>

<p>With <code>--pretty</code> format other than <code>oneline</code> and <code>reference</code> (for obvious reasons),
this causes the output to have two extra lines of information
taken from the reflog.  The reflog designator in the output may be shown
as <code>ref@{Nth}</code> (where <code>Nth</code> is the reverse-chronological index in the
reflog) or as <code>ref@{timestamp}</code> (with the timestamp for that entry),
depending on a few rules:</p>




<ol>
<li>
<p>If the starting point is specified as <code>ref@{Nth}</code>, show the index
format.</p>
</li>
<li>
<p>If the starting point was specified as <code>ref@{now}</code>, show the
timestamp format.</p>
</li>
<li>
<p>If neither was used, but <code>--date</code> was given on the command line, show
the timestamp in the format requested by <code>--date</code>.</p>
</li>
<li>
<p>Otherwise, show the index format.</p>
</li>
</ol>




<p>Under <code>--pretty=oneline</code>, the commit message is
prefixed with this information on the same line.
This option cannot be combined with <code>--reverse</code>.
See also <a href="/docs/git-reflog">git-reflog[1]</a>.</p>


<p>Under <code>--pretty=reference</code>, this information will not be shown at all.</p>

</dd>
<dt> --merge </dt>
<dd>
<p>After a failed merge, show refs that touch files having a
conflict and don’t exist on all heads to merge.</p>
</dd>
<dt> --boundary </dt>
<dd>
<p>Output excluded boundary commits. Boundary commits are
prefixed with <code>-</code>.</p>
</dd>
<dt> --use-bitmap-index </dt>
<dd>
<p>Try to speed up the traversal using the pack bitmap index (if
one is available). Note that when traversing with <code>--objects</code>,
trees and blobs will not have their associated path printed.</p>
</dd>
<dt> --progress=&lt;header&gt; </dt>
<dd>
<p>Show progress reports on stderr as objects are considered. The
<code>&lt;header&gt;</code> text will be printed with each progress update.</p>
</dd>
</dl>



<h3>
History Simplification</h3>

<p>Sometimes you are only interested in parts of the history, for example the
commits modifying a particular &lt;path&gt;. But there are two parts of
<em>History Simplification</em>, one part is selecting the commits and the other
is how to do it, as there are various strategies to simplify the history.</p>


<p>The following options select the commits to be shown:</p>


<dl>
<dt> &lt;paths&gt; </dt>
<dd>
<p>Commits modifying the given &lt;paths&gt; are selected.</p>
</dd>
<dt> --simplify-by-decoration </dt>
<dd>
<p>Commits that are referred by some branch or tag are selected.</p>
</dd>
</dl>


<p>Note that extra commits can be shown to give a meaningful history.</p>


<p>The following options affect the way the simplification is performed:</p>


<dl>
<dt> Default mode </dt>
<dd>
<p>Simplifies the history to the simplest history explaining the
final state of the tree. Simplest because it prunes some side
branches if the end result is the same (i.e. merging branches
with the same content)</p>
</dd>
<dt> --show-pulls </dt>
<dd>
<p>Include all commits from the default mode, but also any merge
commits that are not TREESAME to the first parent but are
TREESAME to a later parent. This mode is helpful for showing
the merge commits that "first introduced" a change to a branch.</p>
</dd>
<dt> --full-history </dt>
<dd>
<p>Same as the default mode, but does not prune some history.</p>
</dd>
<dt> --dense </dt>
<dd>
<p>Only the selected commits are shown, plus some to have a
meaningful history.</p>
</dd>
<dt> --sparse </dt>
<dd>
<p>All commits in the simplified history are shown.</p>
</dd>
<dt> --simplify-merges </dt>
<dd>
<p>Additional option to <code>--full-history</code> to remove some needless
merges from the resulting history, as there are no selected
commits contributing to this merge.</p>
</dd>
<dt> --ancestry-path </dt>
<dd>
<p>When given a range of commits to display (e.g. <em>commit1..commit2</em>
or <em>commit2 ^commit1</em>), only display commits that exist
directly on the ancestry chain between the <em>commit1</em> and
<em>commit2</em>, i.e. commits that are both descendants of <em>commit1</em>,
and ancestors of <em>commit2</em>.</p>
</dd>
</dl>


<p>A more detailed explanation follows.</p>


<p>Suppose you specified <code>foo</code> as the &lt;paths&gt;.  We shall call commits
that modify <code>foo</code> !TREESAME, and the rest TREESAME.  (In a diff
filtered for <code>foo</code>, they look different and equal, respectively.)</p>


<p>In the following, we will always refer to the same example history to
illustrate the differences between simplification settings.  We assume
that you are filtering for a file <code>foo</code> in this commit graph:</p>



<pre>	  .-A---M---N---O---P---Q
	 /     /   /   /   /   /
	I     B   C   D   E   Y
	 \   /   /   /   /   /
	  `-------------'   X</pre>



<p>The horizontal line of history A---Q is taken to be the first parent of
each merge.  The commits are:</p>


<ul>
<li>
<p><code>I</code> is the initial commit, in which <code>foo</code> exists with contents
“asdf”, and a file <code>quux</code> exists with contents “quux”. Initial
commits are compared to an empty tree, so <code>I</code> is !TREESAME.</p>
</li>
<li>
<p>In <code>A</code>, <code>foo</code> contains just “foo”.</p>
</li>
<li>
<p><code>B</code> contains the same change as <code>A</code>.  Its merge <code>M</code> is trivial and
hence TREESAME to all parents.</p>
</li>
<li>
<p><code>C</code> does not change <code>foo</code>, but its merge <code>N</code> changes it to “foobar”,
so it is not TREESAME to any parent.</p>
</li>
<li>
<p><code>D</code> sets <code>foo</code> to “baz”. Its merge <code>O</code> combines the strings from
<code>N</code> and <code>D</code> to “foobarbaz”; i.e., it is not TREESAME to any parent.</p>
</li>
<li>
<p><code>E</code> changes <code>quux</code> to “xyzzy”, and its merge <code>P</code> combines the
strings to “quux xyzzy”. <code>P</code> is TREESAME to <code>O</code>, but not to <code>E</code>.</p>
</li>
<li>
<p><code>X</code> is an independent root commit that added a new file <code>side</code>, and <code>Y</code>
modified it. <code>Y</code> is TREESAME to <code>X</code>. Its merge <code>Q</code> added <code>side</code> to <code>P</code>, and
<code>Q</code> is TREESAME to <code>P</code>, but not to <code>Y</code>.</p>
</li>
</ul>


<p><code>rev-list</code> walks backwards through history, including or excluding
commits based on whether <code>--full-history</code> and/or parent rewriting
(via <code>--parents</code> or <code>--children</code>) are used. The following settings
are available.</p>


<dl>
<dt> Default mode </dt>
<dd>
<p>Commits are included if they are not TREESAME to any parent
(though this can be changed, see <code>--sparse</code> below).  If the
commit was a merge, and it was TREESAME to one parent, follow
only that parent.  (Even if there are several TREESAME
parents, follow only one of them.)  Otherwise, follow all
parents.</p>

<p>This results in:</p>



<pre>	  .-A---N---O
	 /     /   /
	I---------D</pre>



<p>Note how the rule to only follow the TREESAME parent, if one is
available, removed <code>B</code> from consideration entirely.  <code>C</code> was
considered via <code>N</code>, but is TREESAME.  Root commits are compared to an
empty tree, so <code>I</code> is !TREESAME.</p>


<p>Parent/child relations are only visible with <code>--parents</code>, but that does
not affect the commits selected in default mode, so we have shown the
parent lines.</p>

</dd>
<dt> --full-history without parent rewriting </dt>
<dd>
<p>This mode differs from the default in one point: always follow
all parents of a merge, even if it is TREESAME to one of them.
Even if more than one side of the merge has commits that are
included, this does not imply that the merge itself is!  In
the example, we get</p>


<pre>	I  A  B  N  D  O  P  Q</pre>



<p><code>M</code> was excluded because it is TREESAME to both parents.  <code>E</code>,
<code>C</code> and <code>B</code> were all walked, but only <code>B</code> was !TREESAME, so the others
do not appear.</p>


<p>Note that without parent rewriting, it is not really possible to talk
about the parent/child relationships between the commits, so we show
them disconnected.</p>

</dd>
<dt> --full-history with parent rewriting </dt>
<dd>
<p>Ordinary commits are only included if they are !TREESAME
(though this can be changed, see <code>--sparse</code> below).</p>

<p>Merges are always included.  However, their parent list is rewritten:
Along each parent, prune away commits that are not included
themselves.  This results in</p>



<pre>	  .-A---M---N---O---P---Q
	 /     /   /   /   /
	I     B   /   D   /
	 \   /   /   /   /
	  `-------------'</pre>



<p>Compare to <code>--full-history</code> without rewriting above.  Note that <code>E</code>
was pruned away because it is TREESAME, but the parent list of P was
rewritten to contain <code>E</code>'s parent <code>I</code>.  The same happened for <code>C</code> and
<code>N</code>, and <code>X</code>, <code>Y</code> and <code>Q</code>.</p>

</dd>
</dl>


<p>In addition to the above settings, you can change whether TREESAME
affects inclusion:</p>


<dl>
<dt> --dense </dt>
<dd>
<p>Commits that are walked are included if they are not TREESAME
to any parent.</p>
</dd>
<dt> --sparse </dt>
<dd>
<p>All commits that are walked are included.</p>

<p>Note that without <code>--full-history</code>, this still simplifies merges: if
one of the parents is TREESAME, we follow only that one, so the other
sides of the merge are never walked.</p>

</dd>
<dt> --simplify-merges </dt>
<dd>
<p>First, build a history graph in the same way that
<code>--full-history</code> with parent rewriting does (see above).</p>

<p>Then simplify each commit <code>C</code> to its replacement <code>C'</code> in the final
history according to the following rules:</p>




<ul>
<li>
<p>Set <code>C'</code> to <code>C</code>.</p>
</li>
<li>
<p>Replace each parent <code>P</code> of <code>C'</code> with its simplification <code>P'</code>.  In
the process, drop parents that are ancestors of other parents or that are
root commits TREESAME to an empty tree, and remove duplicates, but take care
to never drop all parents that we are TREESAME to.</p>
</li>
<li>
<p>If after this parent rewriting, <code>C'</code> is a root or merge commit (has
zero or &gt;1 parents), a boundary commit, or !TREESAME, it remains.
Otherwise, it is replaced with its only parent.</p>
</li>
</ul>




<p>The effect of this is best shown by way of comparing to
<code>--full-history</code> with parent rewriting.  The example turns into:</p>



<pre>	  .-A---M---N---O
	 /     /       /
	I     B       D
	 \   /       /
	  `---------'</pre>



<p>Note the major differences in <code>N</code>, <code>P</code>, and <code>Q</code> over <code>--full-history</code>:</p>




<ul>
<li>
<p><code>N</code>'s parent list had <code>I</code> removed, because it is an ancestor of the
other parent <code>M</code>.  Still, <code>N</code> remained because it is !TREESAME.</p>
</li>
<li>
<p><code>P</code>'s parent list similarly had <code>I</code> removed.  <code>P</code> was then
removed completely, because it had one parent and is TREESAME.</p>
</li>
<li>
<p><code>Q</code>'s parent list had <code>Y</code> simplified to <code>X</code>. <code>X</code> was then removed, because it
was a TREESAME root. <code>Q</code> was then removed completely, because it had one
parent and is TREESAME.</p>
</li>
</ul>



</dd>
</dl>


<p>There is another simplification mode available:</p>


<dl>
<dt> --ancestry-path </dt>
<dd>
<p>Limit the displayed commits to those directly on the ancestry
chain between the “from” and “to” commits in the given commit
range. I.e. only display commits that are ancestor of the “to”
commit and descendants of the “from” commit.</p>

<p>As an example use case, consider the following commit history:</p>



<pre>	    D---E-------F
	   /     \       \
	  B---C---G---H---I---J
	 /                     \
	A-------K---------------L--M</pre>



<p>A regular <em>D..M</em> computes the set of commits that are ancestors of <code>M</code>,
but excludes the ones that are ancestors of <code>D</code>. This is useful to see
what happened to the history leading to <code>M</code> since <code>D</code>, in the sense
that “what does <code>M</code> have that did not exist in <code>D</code>”. The result in this
example would be all the commits, except <code>A</code> and <code>B</code> (and <code>D</code> itself,
of course).</p>


<p>When we want to find out what commits in <code>M</code> are contaminated with the
bug introduced by <code>D</code> and need fixing, however, we might want to view
only the subset of <em>D..M</em> that are actually descendants of <code>D</code>, i.e.
excluding <code>C</code> and <code>K</code>. This is exactly what the <code>--ancestry-path</code>
option does. Applied to the <em>D..M</em> range, it results in:</p>



<pre>		E-------F
		 \       \
		  G---H---I---J
			       \
				L--M</pre>


</dd>
</dl>


<p>Before discussing another option, <code>--show-pulls</code>, we need to
create a new example history.</p>


<p>A common problem users face when looking at simplified history is that a
commit they know changed a file somehow does not appear in the file’s
simplified history. Let’s demonstrate a new example and show how options
such as <code>--full-history</code> and <code>--simplify-merges</code> works in that case:</p>



<pre>	  .-A---M-----C--N---O---P
	 /     / \  \  \/   /   /
	I     B   \  R-'`-Z'   /
	 \   /     \/         /
	  \ /      /\        /
	   `---X--'  `---Y--'</pre>



<p>For this example, suppose <code>I</code> created <code>file.txt</code> which was modified by
<code>A</code>, <code>B</code>, and <code>X</code> in different ways. The single-parent commits <code>C</code>, <code>Z</code>,
and <code>Y</code> do not change <code>file.txt</code>. The merge commit <code>M</code> was created by
resolving the merge conflict to include both changes from <code>A</code> and <code>B</code>
and hence is not TREESAME to either. The merge commit <code>R</code>, however, was
created by ignoring the contents of <code>file.txt</code> at <code>M</code> and taking only
the contents of <code>file.txt</code> at <code>X</code>. Hence, <code>R</code> is TREESAME to <code>X</code> but not
<code>M</code>. Finally, the natural merge resolution to create <code>N</code> is to take the
contents of <code>file.txt</code> at <code>R</code>, so <code>N</code> is TREESAME to <code>R</code> but not <code>C</code>.
The merge commits <code>O</code> and <code>P</code> are TREESAME to their first parents, but
not to their second parents, <code>Z</code> and <code>Y</code> respectively.</p>


<p>When using the default mode, <code>N</code> and <code>R</code> both have a TREESAME parent, so
those edges are walked and the others are ignored. The resulting history
graph is:</p>



<pre>	I---X</pre>



<p>When using <code>--full-history</code>, Git walks every edge. This will discover
the commits <code>A</code> and <code>B</code> and the merge <code>M</code>, but also will reveal the
merge commits <code>O</code> and <code>P</code>. With parent rewriting, the resulting graph is:</p>



<pre>	  .-A---M--------N---O---P
	 /     / \  \  \/   /   /
	I     B   \  R-'`--'   /
	 \   /     \/         /
	  \ /      /\        /
	   `---X--'  `------'</pre>



<p>Here, the merge commits <code>O</code> and <code>P</code> contribute extra noise, as they did
not actually contribute a change to <code>file.txt</code>. They only merged a topic
that was based on an older version of <code>file.txt</code>. This is a common
issue in repositories using a workflow where many contributors work in
parallel and merge their topic branches along a single trunk: manu
unrelated merges appear in the <code>--full-history</code> results.</p>


<p>When using the <code>--simplify-merges</code> option, the commits <code>O</code> and <code>P</code>
disappear from the results. This is because the rewritten second parents
of <code>O</code> and <code>P</code> are reachable from their first parents. Those edges are
removed and then the commits look like single-parent commits that are
TREESAME to their parent. This also happens to the commit <code>N</code>, resulting
in a history view as follows:</p>



<pre>	  .-A---M--.
	 /     /    \
	I     B      R
	 \   /      /
	  \ /      /
	   `---X--'</pre>



<p>In this view, we see all of the important single-parent changes from
<code>A</code>, <code>B</code>, and <code>X</code>. We also see the carefully-resolved merge <code>M</code> and the
not-so-carefully-resolved merge <code>R</code>. This is usually enough information
to determine why the commits <code>A</code> and <code>B</code> "disappeared" from history in
the default view. However, there are a few issues with this approach.</p>


<p>The first issue is performance. Unlike any previous option, the
<code>--simplify-merges</code> option requires walking the entire commit history
before returning a single result. This can make the option difficult to
use for very large repositories.</p>


<p>The second issue is one of auditing. When many contributors are working
on the same repository, it is important which merge commits introduced
a change into an important branch. The problematic merge <code>R</code> above is
not likely to be the merge commit that was used to merge into an
important branch. Instead, the merge <code>N</code> was used to merge <code>R</code> and <code>X</code>
into the important branch. This commit may have information about why
the change <code>X</code> came to override the changes from <code>A</code> and <code>B</code> in its
commit message.</p>


<dl>
<dt> --show-pulls </dt>
<dd>
<p>In addition to the commits shown in the default history, show
each merge commit that is not TREESAME to its first parent but
is TREESAME to a later parent.</p>

<p>When a merge commit is included by <code>--show-pulls</code>, the merge is
treated as if it "pulled" the change from another branch. When using
<code>--show-pulls</code> on this example (and no other options) the resulting
graph is:</p>



<pre>	I---X---R---N</pre>



<p>Here, the merge commits <code>R</code> and <code>N</code> are included because they pulled
the commits <code>X</code> and <code>R</code> into the base branch, respectively. These
merges are the reason the commits <code>A</code> and <code>B</code> do not appear in the
default history.</p>


<p>When <code>--show-pulls</code> is paired with <code>--simplify-merges</code>, the
graph includes all of the necessary information:</p>



<pre>	  .-A---M--.   N
	 /     /    \ /
	I     B      R
	 \   /      /
	  \ /      /
	   `---X--'</pre>



<p>Notice that since <code>M</code> is reachable from <code>R</code>, the edge from <code>N</code> to <code>M</code>
was simplified away. However, <code>N</code> still appears in the history as an
important commit because it "pulled" the change <code>R</code> into the main
branch.</p>

</dd>
</dl>


<p>The <code>--simplify-by-decoration</code> option allows you to view only the
big picture of the topology of the history, by omitting commits
that are not referenced by tags.  Commits are marked as !TREESAME
(in other words, kept after history simplification rules described
above) if (1) they are referenced by tags, or (2) they change the
contents of the paths given on the command line.  All other
commits are marked as TREESAME (subject to be simplified away).</p>



<h3>
Bisection Helpers</h3>

<dl>
<dt> --bisect </dt>
<dd>
<p>Limit output to the one commit object which is roughly halfway between
included and excluded commits. Note that the bad bisection ref
<code>refs/bisect/bad</code> is added to the included commits (if it
exists) and the good bisection refs <code>refs/bisect/good-*</code> are
added to the excluded commits (if they exist). Thus, supposing there
are no refs in <code>refs/bisect/</code>, if</p>


<pre>	$ git rev-list --bisect foo ^bar ^baz</pre>



<p>outputs <em>midpoint</em>, the output of the two commands</p>



<pre>	$ git rev-list foo ^midpoint
	$ git rev-list midpoint ^bar ^baz</pre>



<p>would be of roughly the same length.  Finding the change which
introduces a regression is thus reduced to a binary search: repeatedly
generate and test new 'midpoint’s until the commit chain is of length
one.</p>

</dd>
<dt> --bisect-vars </dt>
<dd>
<p>This calculates the same as <code>--bisect</code>, except that refs in
<code>refs/bisect/</code> are not used, and except that this outputs
text ready to be eval’ed by the shell. These lines will assign the
name of the midpoint revision to the variable <code>bisect_rev</code>, and the
expected number of commits to be tested after <code>bisect_rev</code> is tested
to <code>bisect_nr</code>, the expected number of commits to be tested if
<code>bisect_rev</code> turns out to be good to <code>bisect_good</code>, the expected
number of commits to be tested if <code>bisect_rev</code> turns out to be bad to
<code>bisect_bad</code>, and the number of commits we are bisecting right now to
<code>bisect_all</code>.</p>
</dd>
<dt> --bisect-all </dt>
<dd>
<p>This outputs all the commit objects between the included and excluded
commits, ordered by their distance to the included and excluded
commits. Refs in <code>refs/bisect/</code> are not used. The farthest
from them is displayed first. (This is the only one displayed by
<code>--bisect</code>.)</p>

<p>This is useful because it makes it easy to choose a good commit to
test when you want to avoid to test some of them for some reason (they
may not compile for example).</p>


<p>This option can be used along with <code>--bisect-vars</code>, in this case,
after all the sorted commit objects, there will be the same text as if
<code>--bisect-vars</code> had been used alone.</p>

</dd>
</dl>



<h3>
Commit Ordering</h3>

<p>By default, the commits are shown in reverse chronological order.</p>


<dl>
<dt> --date-order </dt>
<dd>
<p>Show no parents before all of its children are shown, but
otherwise show commits in the commit timestamp order.</p>
</dd>
<dt> --author-date-order </dt>
<dd>
<p>Show no parents before all of its children are shown, but
otherwise show commits in the author timestamp order.</p>
</dd>
<dt> --topo-order </dt>
<dd>
<p>Show no parents before all of its children are shown, and
avoid showing commits on multiple lines of history
intermixed.</p>

<p>For example, in a commit history like this:</p>



<pre>    ---1----2----4----7
	\	       \
	 3----5----6----8---</pre>



<p>where the numbers denote the order of commit timestamps, <code>git
rev-list</code> and friends with <code>--date-order</code> show the commits in the
timestamp order: 8 7 6 5 4 3 2 1.</p>


<p>With <code>--topo-order</code>, they would show 8 6 5 3 7 4 2 1 (or 8 7 4 2 6 5
3 1); some older commits are shown before newer ones in order to
avoid showing the commits from two parallel development track mixed
together.</p>

</dd>
<dt> --reverse </dt>
<dd>
<p>Output the commits chosen to be shown (see Commit Limiting
section above) in reverse order. Cannot be combined with
<code>--walk-reflogs</code>.</p>
</dd>
</dl>



<h3>
Object Traversal</h3>

<p>These options are mostly targeted for packing of Git repositories.</p>


<dl>
<dt> --objects </dt>
<dd>
<p>Print the object IDs of any object referenced by the listed
commits.  <code>--objects foo ^bar</code> thus means “send me
all object IDs which I need to download if I have the commit
object <em>bar</em> but not <em>foo</em>”.</p>
</dd>
<dt> --in-commit-order </dt>
<dd>
<p>Print tree and blob ids in order of the commits. The tree
and blob ids are printed after they are first referenced
by a commit.</p>
</dd>
<dt> --objects-edge </dt>
<dd>
<p>Similar to <code>--objects</code>, but also print the IDs of excluded
commits prefixed with a “-” character.  This is used by
<a href="/docs/git-pack-objects">git-pack-objects[1]</a> to build a “thin” pack, which records
objects in deltified form based on objects contained in these
excluded commits to reduce network traffic.</p>
</dd>
<dt> --objects-edge-aggressive </dt>
<dd>
<p>Similar to <code>--objects-edge</code>, but it tries harder to find excluded
commits at the cost of increased time.  This is used instead of
<code>--objects-edge</code> to build “thin” packs for shallow repositories.</p>
</dd>
<dt> --indexed-objects </dt>
<dd>
<p>Pretend as if all trees and blobs used by the index are listed
on the command line.  Note that you probably want to use
<code>--objects</code>, too.</p>
</dd>
<dt> --unpacked </dt>
<dd>
<p>Only useful with <code>--objects</code>; print the object IDs that are not
in packs.</p>
</dd>
<dt> --object-names </dt>
<dd>
<p>Only useful with <code>--objects</code>; print the names of the object IDs
that are found. This is the default behavior.</p>
</dd>
<dt> --no-object-names </dt>
<dd>
<p>Only useful with <code>--objects</code>; does not print the names of the object
IDs that are found. This inverts <code>--object-names</code>. This flag allows
the output to be more easily parsed by commands such as
<a href="/docs/git-cat-file">git-cat-file[1]</a>.</p>
</dd>
<dt> --filter=&lt;filter-spec&gt; </dt>
<dd>
<p>Only useful with one of the <code>--objects*</code>; omits objects (usually
blobs) from the list of printed objects.  The <em>&lt;filter-spec&gt;</em>
may be one of the following:</p>

<p>The form <em>--filter=blob:none</em> omits all blobs.</p>


<p>The form <em>--filter=blob:limit=&lt;n&gt;[kmg]</em> omits blobs larger than n bytes
or units.  n may be zero.  The suffixes k, m, and g can be used to name
units in KiB, MiB, or GiB.  For example, <em>blob:limit=1k</em> is the same
as <em>blob:limit=1024</em>.</p>


<p>The form <em>--filter=object:type=(tag|commit|tree|blob)</em> omits all objects
which are not of the requested type.</p>


<p>The form <em>--filter=sparse:oid=&lt;blob-ish&gt;</em> uses a sparse-checkout
specification contained in the blob (or blob-expression) <em>&lt;blob-ish&gt;</em>
to omit blobs that would not be required for a sparse checkout on
the requested refs.</p>


<p>The form <em>--filter=tree:&lt;depth&gt;</em> omits all blobs and trees whose depth
from the root tree is &gt;= &lt;depth&gt; (minimum depth if an object is located
at multiple depths in the commits traversed). &lt;depth&gt;=0 will not include
any trees or blobs unless included explicitly in the command-line (or
standard input when --stdin is used). &lt;depth&gt;=1 will include only the
tree and blobs which are referenced directly by a commit reachable from
&lt;commit&gt; or an explicitly-given object. &lt;depth&gt;=2 is like &lt;depth&gt;=1
while also including trees and blobs one more level removed from an
explicitly-given commit or tree.</p>


<p>Note that the form <em>--filter=sparse:path=&lt;path&gt;</em> that wants to read
from an arbitrary path on the filesystem has been dropped for security
reasons.</p>


<p>Multiple <em>--filter=</em> flags can be specified to combine filters. Only
objects which are accepted by every filter are included.</p>


<p>The form <em>--filter=combine:&lt;filter1&gt;+&lt;filter2&gt;+…<U+200B>&lt;filterN&gt;</em> can also be
used to combined several filters, but this is harder than just repeating
the <em>--filter</em> flag and is usually not necessary. Filters are joined by
<em>+</em> and individual filters are %-encoded (i.e. URL-encoded).
Besides the <em>+</em> and <em>%</em> characters, the following characters are
reserved and also must be encoded: <code>~!@#$^&amp;*()[]{}\;",&lt;&gt;?</code><code>'`</code>
as well as all characters with ASCII code &lt;= <code>0x20</code>, which includes
space and newline.</p>


<p>Other arbitrary characters can also be encoded. For instance,
<em>combine:tree:3+blob:none</em> and <em>combine:tree%3A3+blob%3Anone</em> are
equivalent.</p>

</dd>
<dt> --no-filter </dt>
<dd>
<p>Turn off any previous <code>--filter=</code> argument.</p>
</dd>
<dt> --filter-provided-objects </dt>
<dd>
<p>Filter the list of explicitly provided objects, which would otherwise
always be printed even if they did not match any of the filters. Only
useful with <code>--filter=</code>.</p>
</dd>
<dt> --filter-print-omitted </dt>
<dd>
<p>Only useful with <code>--filter=</code>; prints a list of the objects omitted
by the filter.  Object IDs are prefixed with a “~” character.</p>
</dd>
<dt> --missing=&lt;missing-action&gt; </dt>
<dd>
<p>A debug option to help with future "partial clone" development.
This option specifies how missing objects are handled.</p>

<p>The form <em>--missing=error</em> requests that rev-list stop with an error if
a missing object is encountered.  This is the default action.</p>


<p>The form <em>--missing=allow-any</em> will allow object traversal to continue
if a missing object is encountered.  Missing objects will silently be
omitted from the results.</p>


<p>The form <em>--missing=allow-promisor</em> is like <em>allow-any</em>, but will only
allow object traversal to continue for EXPECTED promisor missing objects.
Unexpected missing objects will raise an error.</p>


<p>The form <em>--missing=print</em> is like <em>allow-any</em>, but will also print a
list of the missing objects.  Object IDs are prefixed with a “?” character.</p>

</dd>
<dt> --exclude-promisor-objects </dt>
<dd>
<p>(For internal use only.)  Prefilter object traversal at
promisor boundary.  This is used with partial clone.  This is
stronger than <code>--missing=allow-promisor</code> because it limits the
traversal, rather than just silencing errors about missing
objects.</p>
</dd>
<dt> --no-walk[=(sorted|unsorted)] </dt>
<dd>
<p>Only show the given commits, but do not traverse their ancestors.
This has no effect if a range is specified. If the argument
<code>unsorted</code> is given, the commits are shown in the order they were
given on the command line. Otherwise (if <code>sorted</code> or no argument
was given), the commits are shown in reverse chronological order
by commit time.
Cannot be combined with <code>--graph</code>.</p>
</dd>
<dt> --do-walk </dt>
<dd>
<p>Overrides a previous <code>--no-walk</code>.</p>
</dd>
</dl>



<h3>
Commit Formatting</h3>

<p>Using these options, <a href="/docs/git-rev-list">git-rev-list[1]</a> will act similar to the
more specialized family of commit log tools: <a href="/docs/git-log">git-log[1]</a>,
<a href="/docs/git-show">git-show[1]</a>, and <a href="/docs/git-whatchanged">git-whatchanged[1]</a></p>


<dl>
<dt> --pretty[=&lt;format&gt;] </dt>
<dt> --format=&lt;format&gt; </dt>
<dd>
<p>Pretty-print the contents of the commit logs in a given format,
where <em>&lt;format&gt;</em> can be one of <em>oneline</em>, <em>short</em>, <em>medium</em>,
<em>full</em>, <em>fuller</em>, <em>reference</em>, <em>email</em>, <em>raw</em>, <em>format:&lt;string&gt;</em>
and <em>tformat:&lt;string&gt;</em>.  When <em>&lt;format&gt;</em> is none of the above,
and has <em>%placeholder</em> in it, it acts as if
<em>--pretty=tformat:&lt;format&gt;</em> were given.</p>

<p>See the "PRETTY FORMATS" section for some additional details for each
format.  When <em>=&lt;format&gt;</em> part is omitted, it defaults to <em>medium</em>.</p>


<p>Note: you can specify the default pretty format in the repository
configuration (see <a href="/docs/git-config">git-config[1]</a>).</p>

</dd>
<dt> --abbrev-commit </dt>
<dd>
<p>Instead of showing the full 40-byte hexadecimal commit object
name, show a prefix that names the object uniquely.
"--abbrev=&lt;n&gt;" (which also modifies diff output, if it is displayed)
option can be used to specify the minimum length of the prefix.</p>

<p>This should make "--pretty=oneline" a whole lot more readable for
people using 80-column terminals.</p>

</dd>
<dt> --no-abbrev-commit </dt>
<dd>
<p>Show the full 40-byte hexadecimal commit object name. This negates
<code>--abbrev-commit</code>, either explicit or implied by other options such
as "--oneline". It also overrides the <code>log.abbrevCommit</code> variable.</p>
</dd>
<dt> --oneline </dt>
<dd>
<p>This is a shorthand for "--pretty=oneline --abbrev-commit"
used together.</p>
</dd>
<dt> --encoding=&lt;encoding&gt; </dt>
<dd>
<p>Commit objects record the character encoding used for the log message
in their encoding header; this option can be used to tell the
command to re-code the commit log message in the encoding
preferred by the user.  For non plumbing commands this
defaults to UTF-8. Note that if an object claims to be encoded
in <code>X</code> and we are outputting in <code>X</code>, we will output the object
verbatim; this means that invalid sequences in the original
commit may be copied to the output. Likewise, if iconv(3) fails
to convert the commit, we will quietly output the original
object verbatim.</p>
</dd>
<dt> --expand-tabs=&lt;n&gt; </dt>
<dt> --expand-tabs </dt>
<dt> --no-expand-tabs </dt>
<dd>
<p>Perform a tab expansion (replace each tab with enough spaces
to fill to the next display column that is multiple of <em>&lt;n&gt;</em>)
in the log message before showing it in the output.
<code>--expand-tabs</code> is a short-hand for <code>--expand-tabs=8</code>, and
<code>--no-expand-tabs</code> is a short-hand for <code>--expand-tabs=0</code>,
which disables tab expansion.</p>

<p>By default, tabs are expanded in pretty formats that indent the log
message by 4 spaces (i.e.  <em>medium</em>, which is the default, <em>full</em>,
and <em>fuller</em>).</p>

</dd>
<dt> --show-signature </dt>
<dd>
<p>Check the validity of a signed commit object by passing the signature
to <code>gpg --verify</code> and show the output.</p>
</dd>
<dt> --relative-date </dt>
<dd>
<p>Synonym for <code>--date=relative</code>.</p>
</dd>
<dt> --date=&lt;format&gt; </dt>
<dd>
<p>Only takes effect for dates shown in human-readable format, such
as when using <code>--pretty</code>. <code>log.date</code> config variable sets a default
value for the log command’s <code>--date</code> option. By default, dates
are shown in the original time zone (either committer’s or
author’s). If <code>-local</code> is appended to the format (e.g.,
<code>iso-local</code>), the user’s local time zone is used instead.</p>



<p><code>--date=relative</code> shows dates relative to the current time,
e.g. “2 hours ago”. The <code>-local</code> option has no effect for
<code>--date=relative</code>.</p>


<p><code>--date=local</code> is an alias for <code>--date=default-local</code>.</p>


<p><code>--date=iso</code> (or <code>--date=iso8601</code>) shows timestamps in a ISO 8601-like format.
The differences to the strict ISO 8601 format are:</p>


<ul>
<li>
<p>a space instead of the <code>T</code> date/time delimiter</p>
</li>
<li>
<p>a space between time and time zone</p>
</li>
<li>
<p>no colon between hours and minutes of the time zone</p>
</li>
</ul>


<p><code>--date=iso-strict</code> (or <code>--date=iso8601-strict</code>) shows timestamps in strict
ISO 8601 format.</p>


<p><code>--date=rfc</code> (or <code>--date=rfc2822</code>) shows timestamps in RFC 2822
format, often found in email messages.</p>


<p><code>--date=short</code> shows only the date, but not the time, in <code>YYYY-MM-DD</code> format.</p>


<p><code>--date=raw</code> shows the date as seconds since the epoch (1970-01-01
00:00:00 UTC), followed by a space, and then the timezone as an offset
from UTC (a <code>+</code> or <code>-</code> with four digits; the first two are hours, and
the second two are minutes). I.e., as if the timestamp were formatted
with <code>strftime("%s %z")</code>).
Note that the <code>-local</code> option does not affect the seconds-since-epoch
value (which is always measured in UTC), but does switch the accompanying
timezone value.</p>


<p><code>--date=human</code> shows the timezone if the timezone does not match the
current time-zone, and doesn’t print the whole date if that matches
(ie skip printing year for dates that are "this year", but also skip
the whole date itself if it’s in the last few days and we can just say
what weekday it was).  For older dates the hour and minute is also
omitted.</p>


<p><code>--date=unix</code> shows the date as a Unix epoch timestamp (seconds since
1970).  As with <code>--raw</code>, this is always in UTC and therefore <code>-local</code>
has no effect.</p>


<p><code>--date=format:...</code> feeds the format <code>...</code> to your system <code>strftime</code>,
except for %s, %z, and %Z, which are handled internally.
Use <code>--date=format:%c</code> to show the date in your system locale’s
preferred format.  See the <code>strftime</code> manual for a complete list of
format placeholders. When using <code>-local</code>, the correct syntax is
<code>--date=format-local:...</code>.</p>


<p><code>--date=default</code> is the default format, and is similar to
<code>--date=rfc2822</code>, with a few exceptions:</p>




<ul>
<li>
<p>there is no comma after the day-of-week</p>
</li>
<li>
<p>the time zone is omitted when the local time zone is used</p>
</li>
</ul>

</dd>
<dt> --header </dt>
<dd>
<p>Print the contents of the commit in raw-format; each record is
separated with a NUL character.</p>
</dd>
<dt> --no-commit-header </dt>
<dd>
<p>Suppress the header line containing "commit" and the object ID printed before
the specified format.  This has no effect on the built-in formats; only custom
formats are affected.</p>
</dd>
<dt> --commit-header </dt>
<dd>
<p>Overrides a previous <code>--no-commit-header</code>.</p>
</dd>
<dt> --parents </dt>
<dd>
<p>Print also the parents of the commit (in the form "commit parent…<U+200B>").
Also enables parent rewriting, see <em>History Simplification</em> above.</p>
</dd>
<dt> --children </dt>
<dd>
<p>Print also the children of the commit (in the form "commit child…<U+200B>").
Also enables parent rewriting, see <em>History Simplification</em> above.</p>
</dd>
<dt> --timestamp </dt>
<dd>
<p>Print the raw commit timestamp.</p>
</dd>
<dt> --left-right </dt>
<dd>
<p>Mark which side of a symmetric difference a commit is reachable from.
Commits from the left side are prefixed with <code>&lt;</code> and those from
the right with <code>&gt;</code>.  If combined with <code>--boundary</code>, those
commits are prefixed with <code>-</code>.</p>

<p>For example, if you have this topology:</p>



<pre>	     y---b---b  branch B
	    / \ /
	   /   .
	  /   / \
	 o---x---a---a  branch A</pre>



<p>you would get an output like this:</p>



<pre>	$ git rev-list --left-right --boundary --pretty=oneline A...B

	&gt;bbbbbbb... 3rd on b
	&gt;bbbbbbb... 2nd on b
	&lt;aaaaaaa... 3rd on a
	&lt;aaaaaaa... 2nd on a
	-yyyyyyy... 1st on b
	-xxxxxxx... 1st on a</pre>


</dd>
<dt> --graph </dt>
<dd>
<p>Draw a text-based graphical representation of the commit history
on the left hand side of the output.  This may cause extra lines
to be printed in between commits, in order for the graph history
to be drawn properly.
Cannot be combined with <code>--no-walk</code>.</p>

<p>This enables parent rewriting, see <em>History Simplification</em> above.</p>


<p>This implies the <code>--topo-order</code> option by default, but the
<code>--date-order</code> option may also be specified.</p>

</dd>
<dt> --show-linear-break[=&lt;barrier&gt;] </dt>
<dd>
<p>When --graph is not used, all history branches are flattened
which can make it hard to see that the two consecutive commits
do not belong to a linear branch. This option puts a barrier
in between them in that case. If <code>&lt;barrier&gt;</code> is specified, it
is the string that will be shown instead of the default one.</p>
</dd>
<dt> --count </dt>
<dd>
<p>Print a number stating how many commits would have been
listed, and suppress all other output.  When used together
with <code>--left-right</code>, instead print the counts for left and
right commits, separated by a tab. When used together with
<code>--cherry-mark</code>, omit patch equivalent commits from these
counts and print the count for equivalent commits separated
by a tab.</p>
</dd>
</dl>





<h2>PRETTY FORMATS</h2>


<p>If the commit is a merge, and if the pretty-format
is not <em>oneline</em>, <em>email</em> or <em>raw</em>, an additional line is
inserted before the <em>Author:</em> line.  This line begins with
"Merge: " and the hashes of ancestral commits are printed,
separated by spaces.  Note that the listed commits may not
necessarily be the list of the <strong>direct</strong> parent commits if you
have limited your view of history: for example, if you are
only interested in changes related to a certain directory or
file.</p>


<p>There are several built-in formats, and you can define
additional formats by setting a pretty.&lt;name&gt;
config option to either another format name, or a
<em>format:</em> string, as described below (see
<a href="/docs/git-config">git-config[1]</a>). Here are the details of the
built-in formats:</p>


<ul>
<li>
<p><em>oneline</em></p>


<pre>&lt;hash&gt; &lt;title-line&gt;</pre>



<p>This is designed to be as compact as possible.</p>

</li>
<li>
<p><em>short</em></p>


<pre>commit &lt;hash&gt;
Author: &lt;author&gt;</pre>




<pre>&lt;title-line&gt;</pre>


</li>
<li>
<p><em>medium</em></p>


<pre>commit &lt;hash&gt;
Author: &lt;author&gt;
Date:   &lt;author-date&gt;</pre>




<pre>&lt;title-line&gt;</pre>




<pre>&lt;full-commit-message&gt;</pre>


</li>
<li>
<p><em>full</em></p>


<pre>commit &lt;hash&gt;
Author: &lt;author&gt;
Commit: &lt;committer&gt;</pre>




<pre>&lt;title-line&gt;</pre>




<pre>&lt;full-commit-message&gt;</pre>


</li>
<li>
<p><em>fuller</em></p>


<pre>commit &lt;hash&gt;
Author:     &lt;author&gt;
AuthorDate: &lt;author-date&gt;
Commit:     &lt;committer&gt;
CommitDate: &lt;committer-date&gt;</pre>




<pre>&lt;title-line&gt;</pre>




<pre>&lt;full-commit-message&gt;</pre>


</li>
<li>
<p><em>reference</em></p>


<pre>&lt;abbrev-hash&gt; (&lt;title-line&gt;, &lt;short-author-date&gt;)</pre>



<p>This format is used to refer to another commit in a commit message and
is the same as <code>--pretty='format:%C(auto)%h (%s, %ad)'</code>.  By default,
the date is formatted with <code>--date=short</code> unless another <code>--date</code> option
is explicitly specified.  As with any <code>format:</code> with format
placeholders, its output is not affected by other options like
<code>--decorate</code> and <code>--walk-reflogs</code>.</p>

</li>
<li>
<p><em>email</em></p>


<pre>From &lt;hash&gt; &lt;date&gt;
From: &lt;author&gt;
Date: &lt;author-date&gt;
Subject: [PATCH] &lt;title-line&gt;</pre>




<pre>&lt;full-commit-message&gt;</pre>


</li>
<li>
<p><em>mboxrd</em></p>

<p>Like <em>email</em>, but lines in the commit message starting with "From "
(preceded by zero or more "&gt;") are quoted with "&gt;" so they aren’t
confused as starting a new commit.</p>

</li>
<li>
<p><em>raw</em></p>

<p>The <em>raw</em> format shows the entire commit exactly as
stored in the commit object.  Notably, the hashes are
displayed in full, regardless of whether --abbrev or
--no-abbrev are used, and <em>parents</em> information show the
true parent commits, without taking grafts or history
simplification into account. Note that this format affects the way
commits are displayed, but not the way the diff is shown e.g. with
<code>git log --raw</code>. To get full object names in a raw diff format,
use <code>--no-abbrev</code>.</p>

</li>
<li>
<p><em>format:&lt;format-string&gt;</em></p>

<p>The <em>format:&lt;format-string&gt;</em> format allows you to specify which information
you want to show. It works a little bit like printf format,
with the notable exception that you get a newline with <em>%n</em>
instead of <em>\n</em>.</p>


<p>E.g, <em>format:"The author of %h was %an, %ar%nThe title was &gt;&gt;%s&lt;&lt;%n"</em>
would show something like this:</p>



<pre>The author of fe6e0ee was Junio C Hamano, 23 hours ago
The title was &gt;&gt;t4119: test autocomputing -p&lt;n&gt; for traditional diff input.&lt;&lt;</pre>



<p>The placeholders are:</p>


<ul>
<li>
<p>Placeholders that expand to a single literal character:</p>

<dl>
<dt> <em>%n</em> </dt>
<dd>
<p>newline</p>
</dd>
<dt> <em>%%</em> </dt>
<dd>
<p>a raw <em>%</em></p>
</dd>
<dt> <em>%x00</em> </dt>
<dd>
<p>print a byte from a hex code</p>
</dd>
</dl>

</li>
<li>
<p>Placeholders that affect formatting of later placeholders:</p>

<dl>
<dt> <em>%Cred</em> </dt>
<dd>
<p>switch color to red</p>
</dd>
<dt> <em>%Cgreen</em> </dt>
<dd>
<p>switch color to green</p>
</dd>
<dt> <em>%Cblue</em> </dt>
<dd>
<p>switch color to blue</p>
</dd>
<dt> <em>%Creset</em> </dt>
<dd>
<p>reset color</p>
</dd>
<dt> <em>%C(…<U+200B>)</em> </dt>
<dd>
<p>color specification, as described under Values in the
"CONFIGURATION FILE" section of <a href="/docs/git-config">git-config[1]</a>.  By
default, colors are shown only when enabled for log output
(by <code>color.diff</code>, <code>color.ui</code>, or <code>--color</code>, and respecting
the <code>auto</code> settings of the former if we are going to a
terminal). <code>%C(auto,...)</code> is accepted as a historical
synonym for the default (e.g., <code>%C(auto,red)</code>). Specifying
<code>%C(always,...)</code> will show the colors even when color is
not otherwise enabled (though consider just using
<code>--color=always</code> to enable color for the whole output,
including this format and anything else git might color).
<code>auto</code> alone (i.e. <code>%C(auto)</code>) will turn on auto coloring
on the next placeholders until the color is switched
again.</p>
</dd>
<dt> <em>%m</em> </dt>
<dd>
<p>left (<code>&lt;</code>), right (<code>&gt;</code>) or boundary (<code>-</code>) mark</p>
</dd>
<dt> <em>%w([&lt;w&gt;[,&lt;i1&gt;[,&lt;i2&gt;]]])</em> </dt>
<dd>
<p>switch line wrapping, like the -w option of
<a href="/docs/git-shortlog">git-shortlog[1]</a>.</p>
</dd>
<dt> <em>%&lt;(&lt;N&gt;[,trunc|ltrunc|mtrunc])</em> </dt>
<dd>
<p>make the next placeholder take at
least N columns, padding spaces on
the right if necessary.  Optionally
truncate at the beginning (ltrunc),
the middle (mtrunc) or the end
(trunc) if the output is longer than
N columns.  Note that truncating
only works correctly with N &gt;= 2.</p>
</dd>
<dt> <em>%&lt;|(&lt;N&gt;)</em> </dt>
<dd>
<p>make the next placeholder take at least until Nth
columns, padding spaces on the right if necessary</p>
</dd>
<dt> <em>%&gt;(&lt;N&gt;)</em>, <em>%&gt;|(&lt;N&gt;)</em> </dt>
<dd>
<p>similar to <em>%&lt;(&lt;N&gt;)</em>, <em>%&lt;|(&lt;N&gt;)</em> respectively,
but padding spaces on the left</p>
</dd>
<dt> <em>%&gt;&gt;(&lt;N&gt;)</em>, <em>%&gt;&gt;|(&lt;N&gt;)</em> </dt>
<dd>
<p>similar to <em>%&gt;(&lt;N&gt;)</em>, <em>%&gt;|(&lt;N&gt;)</em>
respectively, except that if the next
placeholder takes more spaces than given and
there are spaces on its left, use those
spaces</p>
</dd>
<dt> <em>%&gt;&lt;(&lt;N&gt;)</em>, <em>%&gt;&lt;|(&lt;N&gt;)</em> </dt>
<dd>
<p>similar to <em>%&lt;(&lt;N&gt;)</em>, <em>%&lt;|(&lt;N&gt;)</em>
respectively, but padding both sides
(i.e. the text is centered)</p>
</dd>
</dl>

</li>
<li>
<p>Placeholders that expand to information extracted from the commit:</p>

<dl>
<dt> <em>%H</em> </dt>
<dd>
<p>commit hash</p>
</dd>
<dt> <em>%h</em> </dt>
<dd>
<p>abbreviated commit hash</p>
</dd>
<dt> <em>%T</em> </dt>
<dd>
<p>tree hash</p>
</dd>
<dt> <em>%t</em> </dt>
<dd>
<p>abbreviated tree hash</p>
</dd>
<dt> <em>%P</em> </dt>
<dd>
<p>parent hashes</p>
</dd>
<dt> <em>%p</em> </dt>
<dd>
<p>abbreviated parent hashes</p>
</dd>
<dt> <em>%an</em> </dt>
<dd>
<p>author name</p>
</dd>
<dt> <em>%aN</em> </dt>
<dd>
<p>author name (respecting .mailmap, see <a href="/docs/git-shortlog">git-shortlog[1]</a>
or <a href="/docs/git-blame">git-blame[1]</a>)</p>
</dd>
<dt> <em>%ae</em> </dt>
<dd>
<p>author email</p>
</dd>
<dt> <em>%aE</em> </dt>
<dd>
<p>author email (respecting .mailmap, see <a href="/docs/git-shortlog">git-shortlog[1]</a>
or <a href="/docs/git-blame">git-blame[1]</a>)</p>
</dd>
<dt> <em>%al</em> </dt>
<dd>
<p>author email local-part (the part before the <em>@</em> sign)</p>
</dd>
<dt> <em>%aL</em> </dt>
<dd>
<p>author local-part (see <em>%al</em>) respecting .mailmap, see
<a href="/docs/git-shortlog">git-shortlog[1]</a> or <a href="/docs/git-blame">git-blame[1]</a>)</p>
</dd>
<dt> <em>%ad</em> </dt>
<dd>
<p>author date (format respects --date= option)</p>
</dd>
<dt> <em>%aD</em> </dt>
<dd>
<p>author date, RFC2822 style</p>
</dd>
<dt> <em>%ar</em> </dt>
<dd>
<p>author date, relative</p>
</dd>
<dt> <em>%at</em> </dt>
<dd>
<p>author date, UNIX timestamp</p>
</dd>
<dt> <em>%ai</em> </dt>
<dd>
<p>author date, ISO 8601-like format</p>
</dd>
<dt> <em>%aI</em> </dt>
<dd>
<p>author date, strict ISO 8601 format</p>
</dd>
<dt> <em>%as</em> </dt>
<dd>
<p>author date, short format (<code>YYYY-MM-DD</code>)</p>
</dd>
<dt> <em>%ah</em> </dt>
<dd>
<p>author date, human style (like the <code>--date=human</code> option of
<a href="/docs/git-rev-list">git-rev-list[1]</a>)</p>
</dd>
<dt> <em>%cn</em> </dt>
<dd>
<p>committer name</p>
</dd>
<dt> <em>%cN</em> </dt>
<dd>
<p>committer name (respecting .mailmap, see
<a href="/docs/git-shortlog">git-shortlog[1]</a> or <a href="/docs/git-blame">git-blame[1]</a>)</p>
</dd>
<dt> <em>%ce</em> </dt>
<dd>
<p>committer email</p>
</dd>
<dt> <em>%cE</em> </dt>
<dd>
<p>committer email (respecting .mailmap, see
<a href="/docs/git-shortlog">git-shortlog[1]</a> or <a href="/docs/git-blame">git-blame[1]</a>)</p>
</dd>
<dt> <em>%cl</em> </dt>
<dd>
<p>committer email local-part (the part before the <em>@</em> sign)</p>
</dd>
<dt> <em>%cL</em> </dt>
<dd>
<p>committer local-part (see <em>%cl</em>) respecting .mailmap, see
<a href="/docs/git-shortlog">git-shortlog[1]</a> or <a href="/docs/git-blame">git-blame[1]</a>)</p>
</dd>
<dt> <em>%cd</em> </dt>
<dd>
<p>committer date (format respects --date= option)</p>
</dd>
<dt> <em>%cD</em> </dt>
<dd>
<p>committer date, RFC2822 style</p>
</dd>
<dt> <em>%cr</em> </dt>
<dd>
<p>committer date, relative</p>
</dd>
<dt> <em>%ct</em> </dt>
<dd>
<p>committer date, UNIX timestamp</p>
</dd>
<dt> <em>%ci</em> </dt>
<dd>
<p>committer date, ISO 8601-like format</p>
</dd>
<dt> <em>%cI</em> </dt>
<dd>
<p>committer date, strict ISO 8601 format</p>
</dd>
<dt> <em>%cs</em> </dt>
<dd>
<p>committer date, short format (<code>YYYY-MM-DD</code>)</p>
</dd>
<dt> <em>%ch</em> </dt>
<dd>
<p>committer date, human style (like the <code>--date=human</code> option of
<a href="/docs/git-rev-list">git-rev-list[1]</a>)</p>
</dd>
<dt> <em>%d</em> </dt>
<dd>
<p>ref names, like the --decorate option of <a href="/docs/git-log">git-log[1]</a></p>
</dd>
<dt> <em>%D</em> </dt>
<dd>
<p>ref names without the " (", ")" wrapping.</p>
</dd>
<dt> <em>%(describe[:options])</em> </dt>
<dd>
<p>human-readable name, like
<a href="/docs/git-describe">git-describe[1]</a>; empty string for
undescribable commits.  The <code>describe</code> string
may be followed by a colon and zero or more
comma-separated options.  Descriptions can be
inconsistent when tags are added or removed at
the same time.</p>

<ul>
<li>
<p><em>tags[=&lt;bool-value&gt;]</em>: Instead of only considering annotated tags,
consider lightweight tags as well.</p>
</li>
<li>
<p><em>abbrev=&lt;number&gt;</em>: Instead of using the default number of hexadecimal digits
(which will vary according to the number of objects in the repository with a
default of 7) of the abbreviated object name, use &lt;number&gt; digits, or as many
digits as needed to form a unique object name.</p>
</li>
<li>
<p><em>match=&lt;pattern&gt;</em>: Only consider tags matching the given
<code>glob(7)</code> pattern, excluding the "refs/tags/" prefix.</p>
</li>
<li>
<p><em>exclude=&lt;pattern&gt;</em>: Do not consider tags matching the given
<code>glob(7)</code> pattern, excluding the "refs/tags/" prefix.</p>
</li>
</ul>

</dd>
<dt> <em>%S</em> </dt>
<dd>
<p>ref name given on the command line by which the commit was reached
(like <code>git log --source</code>), only works with <code>git log</code></p>
</dd>
<dt> <em>%e</em> </dt>
<dd>
<p>encoding</p>
</dd>
<dt> <em>%s</em> </dt>
<dd>
<p>subject</p>
</dd>
<dt> <em>%f</em> </dt>
<dd>
<p>sanitized subject line, suitable for a filename</p>
</dd>
<dt> <em>%b</em> </dt>
<dd>
<p>body</p>
</dd>
<dt> <em>%B</em> </dt>
<dd>
<p>raw body (unwrapped subject and body)</p>
</dd>
<dt> <em>%GG</em> </dt>
<dd>
<p>raw verification message from GPG for a signed commit</p>
</dd>
<dt> <em>%G?</em> </dt>
<dd>
<p>show "G" for a good (valid) signature,
"B" for a bad signature,
"U" for a good signature with unknown validity,
"X" for a good signature that has expired,
"Y" for a good signature made by an expired key,
"R" for a good signature made by a revoked key,
"E" if the signature cannot be checked (e.g. missing key)
and "N" for no signature</p>
</dd>
<dt> <em>%GS</em> </dt>
<dd>
<p>show the name of the signer for a signed commit</p>
</dd>
<dt> <em>%GK</em> </dt>
<dd>
<p>show the key used to sign a signed commit</p>
</dd>
<dt> <em>%GF</em> </dt>
<dd>
<p>show the fingerprint of the key used to sign a signed commit</p>
</dd>
<dt> <em>%GP</em> </dt>
<dd>
<p>show the fingerprint of the primary key whose subkey was used
to sign a signed commit</p>
</dd>
<dt> <em>%GT</em> </dt>
<dd>
<p>show the trust level for the key used to sign a signed commit</p>
</dd>
<dt> <em>%gD</em> </dt>
<dd>
<p>reflog selector, e.g., <code>refs/stash@{1}</code> or <code>refs/stash@{2
minutes ago}</code>; the format follows the rules described for the
<code>-g</code> option. The portion before the <code>@</code> is the refname as
given on the command line (so <code>git log -g refs/heads/master</code>
would yield <code>refs/heads/master@{0}</code>).</p>
</dd>
<dt> <em>%gd</em> </dt>
<dd>
<p>shortened reflog selector; same as <code>%gD</code>, but the refname
portion is shortened for human readability (so
<code>refs/heads/master</code> becomes just <code>master</code>).</p>
</dd>
<dt> <em>%gn</em> </dt>
<dd>
<p>reflog identity name</p>
</dd>
<dt> <em>%gN</em> </dt>
<dd>
<p>reflog identity name (respecting .mailmap, see
<a href="/docs/git-shortlog">git-shortlog[1]</a> or <a href="/docs/git-blame">git-blame[1]</a>)</p>
</dd>
<dt> <em>%ge</em> </dt>
<dd>
<p>reflog identity email</p>
</dd>
<dt> <em>%gE</em> </dt>
<dd>
<p>reflog identity email (respecting .mailmap, see
<a href="/docs/git-shortlog">git-shortlog[1]</a> or <a href="/docs/git-blame">git-blame[1]</a>)</p>
</dd>
<dt> <em>%gs</em> </dt>
<dd>
<p>reflog subject</p>
</dd>
<dt> <em>%(trailers[:options])</em> </dt>
<dd>
<p>display the trailers of the body as
interpreted by
<a href="/docs/git-interpret-trailers">git-interpret-trailers[1]</a>. The
<code>trailers</code> string may be followed by a colon
and zero or more comma-separated options.
If any option is provided multiple times the
last occurrence wins.</p>

<ul>
<li>
<p><em>key=&lt;key&gt;</em>: only show trailers with specified &lt;key&gt;. Matching is done
case-insensitively and trailing colon is optional. If option is
given multiple times trailer lines matching any of the keys are
shown. This option automatically enables the <code>only</code> option so that
non-trailer lines in the trailer block are hidden. If that is not
desired it can be disabled with <code>only=false</code>.  E.g.,
<code>%(trailers:key=Reviewed-by)</code> shows trailer lines with key
<code>Reviewed-by</code>.</p>
</li>
<li>
<p><em>only[=&lt;bool&gt;]</em>: select whether non-trailer lines from the trailer
block should be included.</p>
</li>
<li>
<p><em>separator=&lt;sep&gt;</em>: specify a separator inserted between trailer
lines. When this option is not given each trailer line is
terminated with a line feed character. The string &lt;sep&gt; may contain
the literal formatting codes described above. To use comma as
separator one must use <code>%x2C</code> as it would otherwise be parsed as
next option. E.g., <code>%(trailers:key=Ticket,separator=%x2C )</code>
shows all trailer lines whose key is "Ticket" separated by a comma
and a space.</p>
</li>
<li>
<p><em>unfold[=&lt;bool&gt;]</em>: make it behave as if interpret-trailer’s <code>--unfold</code>
option was given. E.g.,
<code>%(trailers:only,unfold=true)</code> unfolds and shows all trailer lines.</p>
</li>
<li>
<p><em>keyonly[=&lt;bool&gt;]</em>: only show the key part of the trailer.</p>
</li>
<li>
<p><em>valueonly[=&lt;bool&gt;]</em>: only show the value part of the trailer.</p>
</li>
<li>
<p><em>key_value_separator=&lt;sep&gt;</em>: specify a separator inserted between
trailer lines. When this option is not given each trailer key-value
pair is separated by ": ". Otherwise it shares the same semantics
as <em>separator=&lt;sep&gt;</em> above.</p>
</li>
</ul>

</dd>
</dl>

</li>
</ul>

</li>
</ul>


<table><tr>
<td>
Note
</td>
<td>
Some placeholders may depend on other options given to the
revision traversal engine. For example, the <code>%g*</code> reflog options will
insert an empty string unless we are traversing reflog entries (e.g., by
<code>git log -g</code>). The <code>%d</code> and <code>%D</code> placeholders will use the "short"
decoration format if <code>--decorate</code> was not already provided on the command
line.
</td>
</tr></table>


<p>The boolean options accept an optional value <code>[=&lt;bool-value&gt;]</code>. The values
<code>true</code>, <code>false</code>, <code>on</code>, <code>off</code> etc. are all accepted. See the "boolean"
sub-section in "EXAMPLES" in <a href="/docs/git-config">git-config[1]</a>. If a boolean
option is given with no value, it’s enabled.</p>


<p>If you add a <code>+</code> (plus sign) after <em>%</em> of a placeholder, a line-feed
is inserted immediately before the expansion if and only if the
placeholder expands to a non-empty string.</p>


<p>If you add a <code>-</code> (minus sign) after <em>%</em> of a placeholder, all consecutive
line-feeds immediately preceding the expansion are deleted if and only if the
placeholder expands to an empty string.</p>


<p>If you add a ` ` (space) after <em>%</em> of a placeholder, a space
is inserted immediately before the expansion if and only if the
placeholder expands to a non-empty string.</p>


<ul>
<li>
<p><em>tformat:</em></p>

<p>The <em>tformat:</em> format works exactly like <em>format:</em>, except that it
provides "terminator" semantics instead of "separator" semantics. In
other words, each commit has the message terminator character (usually a
newline) appended, rather than a separator placed between entries.
This means that the final entry of a single-line format will be properly
terminated with a new line, just as the "oneline" format does.
For example:</p>



<pre>$ git log -2 --pretty=format:%h 4da45bef \
  | perl -pe '$_ .= " -- NO NEWLINE\n" unless /\n/'
4da45be
7134973 -- NO NEWLINE

$ git log -2 --pretty=tformat:%h 4da45bef \
  | perl -pe '$_ .= " -- NO NEWLINE\n" unless /\n/'
4da45be
7134973</pre>



<p>In addition, any unrecognized string that has a <code>%</code> in it is interpreted
as if it has <code>tformat:</code> in front of it.  For example, these two are
equivalent:</p>



<pre>$ git log -2 --pretty=tformat:%h 4da45bef
$ git log -2 --pretty=%h 4da45bef</pre>


</li>
</ul>




<h2>examples</h2>


<ul>
<li>
<p>Print the list of commits reachable from the current branch.</p>


<pre>git rev-list HEAD</pre>


</li>
<li>
<p>Print the list of commits on this branch, but not present in the
upstream branch.</p>


<pre>git rev-list @{upstream}..HEAD</pre>


</li>
<li>
<p>Format commits with their author and commit message (see also the
porcelain <a href="/docs/git-log">git-log[1]</a>).</p>


<pre>git rev-list --format=medium HEAD</pre>


</li>
<li>
<p>Format commits along with their diffs (see also the porcelain
<a href="/docs/git-log">git-log[1]</a>, which can do this in a single process).</p>


<pre>git rev-list HEAD |
git diff-tree --stdin --format=medium -p</pre>


</li>
<li>
<p>Print the list of commits on the current branch that touched any
file in the <code>Documentation</code> directory.</p>


<pre>git rev-list HEAD -- Documentation/</pre>


</li>
<li>
<p>Print the list of commits authored by you in the past year, on
any branch, tag, or other ref.</p>


<pre>git rev-list --author=you@example.com --since=1.year.ago --all</pre>


</li>
<li>
<p>Print the list of objects reachable from the current branch (i.e., all
commits and the blobs and trees they contain).</p>


<pre>git rev-list --objects HEAD</pre>


</li>
<li>
<p>Compare the disk size of all reachable objects, versus those
reachable from reflogs, versus the total packed size. This can tell
you whether running <code>git repack -ad</code> might reduce the repository size
(by dropping unreachable objects), and whether expiring reflogs might
help.</p>


<pre># reachable objects
git rev-list --disk-usage --objects --all
# plus reflogs
git rev-list --disk-usage --objects --all --reflog
# total disk size used
du -c .git/objects/pack/*.pack .git/objects/??/*
# alternative to du: add up "size" and "size-pack" fields
git count-objects -v</pre>


</li>
<li>
<p>Report the disk size of each branch, not including objects used by the
current branch. This can find outliers that are contributing to a
bloated repository size (e.g., because somebody accidentally committed
large build artifacts).</p>


<pre>git for-each-ref --format='%(refname)' |
while read branch
do
	size=$(git rev-list --disk-usage --objects HEAD..$branch)
	echo "$size $branch"
done |
sort -n</pre>


</li>
<li>
<p>Compare the on-disk size of branches in one group of refs, excluding
another. If you co-mingle objects from multiple remotes in a single
repository, this can show which remotes are contributing to the
repository size (taking the size of <code>origin</code> as a baseline).</p>


<pre>git rev-list --disk-usage --objects --remotes=$suspect --not --remotes=origin</pre>


</li>
</ul>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-rev-parse - Pick out and massage parameters</span></h2>




<h2><br>synopsis</h2>


<pre><em>git rev-parse</em> [&lt;options&gt;] &lt;args&gt;…<U+200B></pre>




<h2>description</h2>


<p>Many Git porcelainish commands take mixture of flags
(i.e. parameters that begin with a dash <em>-</em>) and parameters
meant for the underlying <em>git rev-list</em> command they use internally
and flags and parameters for the other commands they use
downstream of <em>git rev-list</em>.  This command is used to
distinguish between them.</p>




<h2>options</h2>


<h3>
Operation Modes</h3>

<p>Each of these options must appear first on the command line.</p>


<dl>
<dt> --parseopt </dt>
<dd>
<p>Use <em>git rev-parse</em> in option parsing mode (see PARSEOPT section below).</p>
</dd>
<dt> --sq-quote </dt>
<dd>
<p>Use <em>git rev-parse</em> in shell quoting mode (see SQ-QUOTE
section below). In contrast to the <code>--sq</code> option below, this
mode does only quoting. Nothing else is done to command input.</p>
</dd>
</dl>



<h3>
Options for --parseopt</h3>

<dl>
<dt> --keep-dashdash </dt>
<dd>
<p>Only meaningful in <code>--parseopt</code> mode. Tells the option parser to echo
out the first <code>--</code> met instead of skipping it.</p>
</dd>
<dt> --stop-at-non-option </dt>
<dd>
<p>Only meaningful in <code>--parseopt</code> mode.  Lets the option parser stop at
the first non-option argument.  This can be used to parse sub-commands
that take options themselves.</p>
</dd>
<dt> --stuck-long </dt>
<dd>
<p>Only meaningful in <code>--parseopt</code> mode. Output the options in their
long form if available, and with their arguments stuck.</p>
</dd>
</dl>



<h3>
Options for Filtering</h3>

<dl>
<dt> --revs-only </dt>
<dd>
<p>Do not output flags and parameters not meant for
<em>git rev-list</em> command.</p>
</dd>
<dt> --no-revs </dt>
<dd>
<p>Do not output flags and parameters meant for
<em>git rev-list</em> command.</p>
</dd>
<dt> --flags </dt>
<dd>
<p>Do not output non-flag parameters.</p>
</dd>
<dt> --no-flags </dt>
<dd>
<p>Do not output flag parameters.</p>
</dd>
</dl>



<h3>
Options for Output</h3>

<dl>
<dt> --default &lt;arg&gt; </dt>
<dd>
<p>If there is no parameter given by the user, use <code>&lt;arg&gt;</code>
instead.</p>
</dd>
<dt> --prefix &lt;arg&gt; </dt>
<dd>
<p>Behave as if <em>git rev-parse</em> was invoked from the <code>&lt;arg&gt;</code>
subdirectory of the working tree.  Any relative filenames are
resolved as if they are prefixed by <code>&lt;arg&gt;</code> and will be printed
in that form.</p>

<p>This can be used to convert arguments to a command run in a subdirectory
so that they can still be used after moving to the top-level of the
repository.  For example:</p>



<pre>prefix=$(git rev-parse --show-prefix)
cd "$(git rev-parse --show-toplevel)"
# rev-parse provides the -- needed for 'set'
eval "set $(git rev-parse --sq --prefix "$prefix" -- "$@")"</pre>


</dd>
<dt> --verify </dt>
<dd>
<p>Verify that exactly one parameter is provided, and that it
can be turned into a raw 20-byte SHA-1 that can be used to
access the object database. If so, emit it to the standard
output; otherwise, error out.</p>

<p>If you want to make sure that the output actually names an object in
your object database and/or can be used as a specific type of object
you require, you can add the <code>^{type}</code> peeling operator to the parameter.
For example, <code>git rev-parse "$VAR^{commit}"</code> will make sure <code>$VAR</code>
names an existing object that is a commit-ish (i.e. a commit, or an
annotated tag that points at a commit).  To make sure that <code>$VAR</code>
names an existing object of any type, <code>git rev-parse "$VAR^{object}"</code>
can be used.</p>


<p>Note that if you are verifying a name from an untrusted source, it is
wise to use <code>--end-of-options</code> so that the name argument is not mistaken
for another option.</p>

</dd>
<dt> -q </dt>
<dt> --quiet </dt>
<dd>
<p>Only meaningful in <code>--verify</code> mode. Do not output an error
message if the first argument is not a valid object name;
instead exit with non-zero status silently.
SHA-1s for valid object names are printed to stdout on success.</p>
</dd>
<dt> --sq </dt>
<dd>
<p>Usually the output is made one line per flag and
parameter.  This option makes output a single line,
properly quoted for consumption by shell.  Useful when
you expect your parameter to contain whitespaces and
newlines (e.g. when using pickaxe <code>-S</code> with
<em>git diff-*</em>). In contrast to the <code>--sq-quote</code> option,
the command input is still interpreted as usual.</p>
</dd>
<dt> --short[=length] </dt>
<dd>
<p>Same as <code>--verify</code> but shortens the object name to a unique
prefix with at least <code>length</code> characters. The minimum length
is 4, the default is the effective value of the <code>core.abbrev</code>
configuration variable (see <a href="/docs/git-config">git-config[1]</a>).</p>
</dd>
<dt> --not </dt>
<dd>
<p>When showing object names, prefix them with <em>^</em> and
strip <em>^</em> prefix from the object names that already have
one.</p>
</dd>
<dt> --abbrev-ref[=(strict|loose)] </dt>
<dd>
<p>A non-ambiguous short name of the objects name.
The option core.warnAmbiguousRefs is used to select the strict
abbreviation mode.</p>
</dd>
<dt> --symbolic </dt>
<dd>
<p>Usually the object names are output in SHA-1 form (with
possible <em>^</em> prefix); this option makes them output in a
form as close to the original input as possible.</p>
</dd>
<dt> --symbolic-full-name </dt>
<dd>
<p>This is similar to --symbolic, but it omits input that
are not refs (i.e. branch or tag names; or more
explicitly disambiguating "heads/master" form, when you
want to name the "master" branch when there is an
unfortunately named tag "master"), and show them as full
refnames (e.g. "refs/heads/master").</p>
</dd>
</dl>



<h3>
Options for Objects</h3>

<dl>
<dt> --all </dt>
<dd>
<p>Show all refs found in <code>refs/</code>.</p>
</dd>
<dt> --branches[=pattern] </dt>
<dt> --tags[=pattern] </dt>
<dt> --remotes[=pattern] </dt>
<dd>
<p>Show all branches, tags, or remote-tracking branches,
respectively (i.e., refs found in <code>refs/heads</code>,
<code>refs/tags</code>, or <code>refs/remotes</code>, respectively).</p>

<p>If a <code>pattern</code> is given, only refs matching the given shell glob are
shown.  If the pattern does not contain a globbing character (<code>?</code>,
<code>*</code>, or <code>[</code>), it is turned into a prefix match by appending <code>/*</code>.</p>

</dd>
<dt> --glob=pattern </dt>
<dd>
<p>Show all refs matching the shell glob pattern <code>pattern</code>. If
the pattern does not start with <code>refs/</code>, this is automatically
prepended.  If the pattern does not contain a globbing
character (<code>?</code>, <code>*</code>, or <code>[</code>), it is turned into a prefix
match by appending <code>/*</code>.</p>
</dd>
<dt> --exclude=&lt;glob-pattern&gt; </dt>
<dd>
<p>Do not include refs matching <em>&lt;glob-pattern&gt;</em> that the next <code>--all</code>,
<code>--branches</code>, <code>--tags</code>, <code>--remotes</code>, or <code>--glob</code> would otherwise
consider. Repetitions of this option accumulate exclusion patterns
up to the next <code>--all</code>, <code>--branches</code>, <code>--tags</code>, <code>--remotes</code>, or
<code>--glob</code> option (other options or arguments do not clear
accumulated patterns).</p>

<p>The patterns given should not begin with <code>refs/heads</code>, <code>refs/tags</code>, or
<code>refs/remotes</code> when applied to <code>--branches</code>, <code>--tags</code>, or <code>--remotes</code>,
respectively, and they must begin with <code>refs/</code> when applied to <code>--glob</code>
or <code>--all</code>. If a trailing <em>/*</em> is intended, it must be given
explicitly.</p>

</dd>
<dt> --disambiguate=&lt;prefix&gt; </dt>
<dd>
<p>Show every object whose name begins with the given prefix.
The &lt;prefix&gt; must be at least 4 hexadecimal digits long to
avoid listing each and every object in the repository by
mistake.</p>
</dd>
</dl>



<h3>
Options for Files</h3>

<dl>
<dt> --local-env-vars </dt>
<dd>
<p>List the GIT_* environment variables that are local to the
repository (e.g. GIT_DIR or GIT_WORK_TREE, but not GIT_EDITOR).
Only the names of the variables are listed, not their value,
even if they are set.</p>
</dd>
<dt> --path-format=(absolute|relative) </dt>
<dd>
<p>Controls the behavior of certain other options. If specified as absolute, the
paths printed by those options will be absolute and canonical. If specified as
relative, the paths will be relative to the current working directory if that
is possible.  The default is option specific.</p>

<p>This option may be specified multiple times and affects only the arguments that
follow it on the command line, either to the end of the command line or the next
instance of this option.</p>

</dd>
</dl>


<p>The following options are modified by <code>--path-format</code>:</p>


<dl>
<dt> --git-dir </dt>
<dd>
<p>Show <code>$GIT_DIR</code> if defined. Otherwise show the path to
the .git directory. The path shown, when relative, is
relative to the current working directory.</p>

<p>If <code>$GIT_DIR</code> is not defined and the current directory
is not detected to lie in a Git repository or work tree
print a message to stderr and exit with nonzero status.</p>

</dd>
<dt> --git-common-dir </dt>
<dd>
<p>Show <code>$GIT_COMMON_DIR</code> if defined, else <code>$GIT_DIR</code>.</p>
</dd>
<dt> --resolve-git-dir &lt;path&gt; </dt>
<dd>
<p>Check if &lt;path&gt; is a valid repository or a gitfile that
points at a valid repository, and print the location of the
repository.  If &lt;path&gt; is a gitfile then the resolved path
to the real repository is printed.</p>
</dd>
<dt> --git-path &lt;path&gt; </dt>
<dd>
<p>Resolve "$GIT_DIR/&lt;path&gt;" and takes other path relocation
variables such as $GIT_OBJECT_DIRECTORY,
$GIT_INDEX_FILE…<U+200B> into account. For example, if
$GIT_OBJECT_DIRECTORY is set to /foo/bar then "git rev-parse
--git-path objects/abc" returns /foo/bar/abc.</p>
</dd>
<dt> --show-toplevel </dt>
<dd>
<p>Show the (by default, absolute) path of the top-level directory
of the working tree. If there is no working tree, report an error.</p>
</dd>
<dt> --show-superproject-working-tree </dt>
<dd>
<p>Show the absolute path of the root of the superproject’s
working tree (if exists) that uses the current repository as
its submodule.  Outputs nothing if the current repository is
not used as a submodule by any project.</p>
</dd>
<dt> --shared-index-path </dt>
<dd>
<p>Show the path to the shared index file in split index mode, or
empty if not in split-index mode.</p>
</dd>
</dl>


<p>The following options are unaffected by <code>--path-format</code>:</p>


<dl>
<dt> --absolute-git-dir </dt>
<dd>
<p>Like <code>--git-dir</code>, but its output is always the canonicalized
absolute path.</p>
</dd>
<dt> --is-inside-git-dir </dt>
<dd>
<p>When the current working directory is below the repository
directory print "true", otherwise "false".</p>
</dd>
<dt> --is-inside-work-tree </dt>
<dd>
<p>When the current working directory is inside the work tree of the
repository print "true", otherwise "false".</p>
</dd>
<dt> --is-bare-repository </dt>
<dd>
<p>When the repository is bare print "true", otherwise "false".</p>
</dd>
<dt> --is-shallow-repository </dt>
<dd>
<p>When the repository is shallow print "true", otherwise "false".</p>
</dd>
<dt> --show-cdup </dt>
<dd>
<p>When the command is invoked from a subdirectory, show the
path of the top-level directory relative to the current
directory (typically a sequence of "../", or an empty string).</p>
</dd>
<dt> --show-prefix </dt>
<dd>
<p>When the command is invoked from a subdirectory, show the
path of the current directory relative to the top-level
directory.</p>
</dd>
<dt> --show-object-format[=(storage|input|output)] </dt>
<dd>
<p>Show the object format (hash algorithm) used for the repository
for storage inside the <code>.git</code> directory, input, or output. For
input, multiple algorithms may be printed, space-separated.
If not specified, the default is "storage".</p>
</dd>
</dl>



<h3>
Other Options</h3>

<dl>
<dt> --since=datestring </dt>
<dt> --after=datestring </dt>
<dd>
<p>Parse the date string, and output the corresponding
--max-age= parameter for <em>git rev-list</em>.</p>
</dd>
<dt> --until=datestring </dt>
<dt> --before=datestring </dt>
<dd>
<p>Parse the date string, and output the corresponding
--min-age= parameter for <em>git rev-list</em>.</p>
</dd>
<dt> &lt;args&gt;…<U+200B> </dt>
<dd>
<p>Flags and parameters to be parsed.</p>
</dd>
</dl>





<h2>SPECIFYING REVISIONS</h2>


<p>A revision parameter <em>&lt;rev&gt;</em> typically, but not necessarily, names a
commit object.  It uses what is called an <em>extended SHA-1</em>
syntax.  Here are various ways to spell object names.  The
ones listed near the end of this list name trees and
blobs contained in a commit.</p>


<table><tr>
<td>
Note
</td>
<td>
This document shows the "raw" syntax as seen by git. The shell
and other UIs might require additional quoting to protect special
characters and to avoid word splitting.
</td>
</tr></table>


<dl>
<dt> <em>&lt;sha1&gt;</em>, e.g. <em>dae86e1950b1277e545cee180551750029cfe735</em>, <em>dae86e</em> </dt>
<dd>
<p>The full SHA-1 object name (40-byte hexadecimal string), or
a leading substring that is unique within the repository.
E.g. dae86e1950b1277e545cee180551750029cfe735 and dae86e both
name the same commit object if there is no other object in
your repository whose object name starts with dae86e.</p>
</dd>
<dt> <em>&lt;describeOutput&gt;</em>, e.g. <em>v1.7.4.2-679-g3bee7fb</em> </dt>
<dd>
<p>Output from <code>git describe</code>; i.e. a closest tag, optionally
followed by a dash and a number of commits, followed by a dash, a
<em>g</em>, and an abbreviated object name.</p>
</dd>
<dt> <em>&lt;refname&gt;</em>, e.g. <em>master</em>, <em>heads/master</em>, <em>refs/heads/master</em> </dt>
<dd>
<p>A symbolic ref name.  E.g. <em>master</em> typically means the commit
object referenced by <em>refs/heads/master</em>.  If you
happen to have both <em>heads/master</em> and <em>tags/master</em>, you can
explicitly say <em>heads/master</em> to tell Git which one you mean.
When ambiguous, a <em>&lt;refname&gt;</em> is disambiguated by taking the
first match in the following rules:</p>

<ol>
<li>
<p>If <em>$GIT_DIR/&lt;refname&gt;</em> exists, that is what you mean (this is usually
useful only for <code>HEAD</code>, <code>FETCH_HEAD</code>, <code>ORIG_HEAD</code>, <code>MERGE_HEAD</code>
and <code>CHERRY_PICK_HEAD</code>);</p>
</li>
<li>
<p>otherwise, <em>refs/&lt;refname&gt;</em> if it exists;</p>
</li>
<li>
<p>otherwise, <em>refs/tags/&lt;refname&gt;</em> if it exists;</p>
</li>
<li>
<p>otherwise, <em>refs/heads/&lt;refname&gt;</em> if it exists;</p>
</li>
<li>
<p>otherwise, <em>refs/remotes/&lt;refname&gt;</em> if it exists;</p>
</li>
<li>
<p>otherwise, <em>refs/remotes/&lt;refname&gt;/HEAD</em> if it exists.</p>

<p><code>HEAD</code> names the commit on which you based the changes in the working tree.
<code>FETCH_HEAD</code> records the branch which you fetched from a remote repository
with your last <code>git fetch</code> invocation.
<code>ORIG_HEAD</code> is created by commands that move your <code>HEAD</code> in a drastic
way, to record the position of the <code>HEAD</code> before their operation, so that
you can easily change the tip of the branch back to the state before you ran
them.
<code>MERGE_HEAD</code> records the commit(s) which you are merging into your branch
when you run <code>git merge</code>.
<code>CHERRY_PICK_HEAD</code> records the commit which you are cherry-picking
when you run <code>git cherry-pick</code>.</p>


<p>Note that any of the <em>refs/*</em> cases above may come either from
the <code>$GIT_DIR/refs</code> directory or from the <code>$GIT_DIR/packed-refs</code> file.
While the ref name encoding is unspecified, UTF-8 is preferred as
some output processing may assume ref names in UTF-8.</p>

</li>
</ol>

</dd>
<dt> <em>@</em> </dt>
<dd>
<p><em>@</em> alone is a shortcut for <code>HEAD</code>.</p>
</dd>
<dt> <em>[&lt;refname&gt;]@{&lt;date&gt;}</em>, e.g. <em>master@{yesterday}</em>, <em>HEAD@{5 minutes ago}</em> </dt>
<dd>
<p>A ref followed by the suffix <em>@</em> with a date specification
enclosed in a brace
pair (e.g. <em>{yesterday}</em>, <em>{1 month 2 weeks 3 days 1 hour 1
second ago}</em> or <em>{1979-02-26 18:30:00}</em>) specifies the value
of the ref at a prior point in time.  This suffix may only be
used immediately following a ref name and the ref must have an
existing log (<em>$GIT_DIR/logs/&lt;ref&gt;</em>). Note that this looks up the state
of your <strong>local</strong> ref at a given time; e.g., what was in your local
<em>master</em> branch last week. If you want to look at commits made during
certain times, see <code>--since</code> and <code>--until</code>.</p>
</dd>
<dt> <em>&lt;refname&gt;@{&lt;n&gt;}</em>, e.g. <em>master@{1}</em> </dt>
<dd>
<p>A ref followed by the suffix <em>@</em> with an ordinal specification
enclosed in a brace pair (e.g. <em>{1}</em>, <em>{15}</em>) specifies
the n-th prior value of that ref.  For example <em>master@{1}</em>
is the immediate prior value of <em>master</em> while <em>master@{5}</em>
is the 5th prior value of <em>master</em>. This suffix may only be used
immediately following a ref name and the ref must have an existing
log (<em>$GIT_DIR/logs/&lt;refname&gt;</em>).</p>
</dd>
<dt> <em>@{&lt;n&gt;}</em>, e.g. <em>@{1}</em> </dt>
<dd>
<p>You can use the <em>@</em> construct with an empty ref part to get at a
reflog entry of the current branch. For example, if you are on
branch <em>blabla</em> then <em>@{1}</em> means the same as <em>blabla@{1}</em>.</p>
</dd>
<dt> <em>@{-&lt;n&gt;}</em>, e.g. <em>@{-1}</em> </dt>
<dd>
<p>The construct <em>@{-&lt;n&gt;}</em> means the &lt;n&gt;th branch/commit checked out
before the current one.</p>
</dd>
<dt> <em>[&lt;branchname&gt;]@{upstream}</em>, e.g. <em>master@{upstream}</em>, <em>@{u}</em> </dt>
<dd>
<p>The suffix <em>@{upstream}</em> to a branchname (short form <em>&lt;branchname&gt;@{u}</em>)
refers to the branch that the branch specified by branchname is set to build on
top of (configured with <code>branch.&lt;name&gt;.remote</code> and
<code>branch.&lt;name&gt;.merge</code>).  A missing branchname defaults to the
current one. These suffixes are also accepted when spelled in uppercase, and
they mean the same thing no matter the case.</p>
</dd>
<dt> <em>[&lt;branchname&gt;]@{push}</em>, e.g. <em>master@{push}</em>, <em>@{push}</em> </dt>
<dd>
<p>The suffix <em>@{push}</em> reports the branch "where we would push to" if
<code>git push</code> were run while <code>branchname</code> was checked out (or the current
<code>HEAD</code> if no branchname is specified). Since our push destination is
in a remote repository, of course, we report the local tracking branch
that corresponds to that branch (i.e., something in <code>refs/remotes/</code>).</p>

<p>Here’s an example to make it more clear:</p>



<pre>$ git config push.default current
$ git config remote.pushdefault myfork
$ git switch -c mybranch origin/master

$ git rev-parse --symbolic-full-name @{upstream}
refs/remotes/origin/master

$ git rev-parse --symbolic-full-name @{push}
refs/remotes/myfork/mybranch</pre>



<p>Note in the example that we set up a triangular workflow, where we pull
from one location and push to another. In a non-triangular workflow,
<em>@{push}</em> is the same as <em>@{upstream}</em>, and there is no need for it.</p>


<p>This suffix is also accepted when spelled in uppercase, and means the same
thing no matter the case.</p>

</dd>
<dt> <em>&lt;rev&gt;^[&lt;n&gt;]</em>, e.g. <em>HEAD^, v1.5.1^0</em> </dt>
<dd>
<p>A suffix <em>^</em> to a revision parameter means the first parent of
that commit object.  <em>^&lt;n&gt;</em> means the &lt;n&gt;th parent (i.e.
<em>&lt;rev&gt;^</em>
is equivalent to <em>&lt;rev&gt;^1</em>).  As a special rule,
<em>&lt;rev&gt;^0</em> means the commit itself and is used when <em>&lt;rev&gt;</em> is the
object name of a tag object that refers to a commit object.</p>
</dd>
<dt> <em>&lt;rev&gt;~[&lt;n&gt;]</em>, e.g. <em>HEAD~, master~3</em> </dt>
<dd>
<p>A suffix <em>~</em> to a revision parameter means the first parent of
that commit object.
A suffix <em>~&lt;n&gt;</em> to a revision parameter means the commit
object that is the &lt;n&gt;th generation ancestor of the named
commit object, following only the first parents.  I.e. <em>&lt;rev&gt;~3</em> is
equivalent to <em>&lt;rev&gt;^^^</em> which is equivalent to
<em>&lt;rev&gt;^1^1^1</em>.  See below for an illustration of
the usage of this form.</p>
</dd>
<dt> <em>&lt;rev&gt;^{&lt;type&gt;}</em>, e.g. <em>v0.99.8^{commit}</em> </dt>
<dd>
<p>A suffix <em>^</em> followed by an object type name enclosed in
brace pair means dereference the object at <em>&lt;rev&gt;</em> recursively until
an object of type <em>&lt;type&gt;</em> is found or the object cannot be
dereferenced anymore (in which case, barf).
For example, if <em>&lt;rev&gt;</em> is a commit-ish, <em>&lt;rev&gt;^{commit}</em>
describes the corresponding commit object.
Similarly, if <em>&lt;rev&gt;</em> is a tree-ish, <em>&lt;rev&gt;^{tree}</em>
describes the corresponding tree object.
<em>&lt;rev&gt;^0</em>
is a short-hand for <em>&lt;rev&gt;^{commit}</em>.</p>

<p><em>&lt;rev&gt;^{object}</em> can be used to make sure <em>&lt;rev&gt;</em> names an
object that exists, without requiring <em>&lt;rev&gt;</em> to be a tag, and
without dereferencing <em>&lt;rev&gt;</em>; because a tag is already an object,
it does not have to be dereferenced even once to get to an object.</p>


<p><em>&lt;rev&gt;^{tag}</em> can be used to ensure that <em>&lt;rev&gt;</em> identifies an
existing tag object.</p>

</dd>
<dt> <em>&lt;rev&gt;^{}</em>, e.g. <em>v0.99.8^{}</em> </dt>
<dd>
<p>A suffix <em>^</em> followed by an empty brace pair
means the object could be a tag,
and dereference the tag recursively until a non-tag object is
found.</p>
</dd>
<dt> <em>&lt;rev&gt;^{/&lt;text&gt;}</em>, e.g. <em>HEAD^{/fix nasty bug}</em> </dt>
<dd>
<p>A suffix <em>^</em> to a revision parameter, followed by a brace
pair that contains a text led by a slash,
is the same as the <em>:/fix nasty bug</em> syntax below except that
it returns the youngest matching commit which is reachable from
the <em>&lt;rev&gt;</em> before <em>^</em>.</p>
</dd>
<dt> <em>:/&lt;text&gt;</em>, e.g. <em>:/fix nasty bug</em> </dt>
<dd>
<p>A colon, followed by a slash, followed by a text, names
a commit whose commit message matches the specified regular expression.
This name returns the youngest matching commit which is
reachable from any ref, including HEAD.
The regular expression can match any part of the
commit message. To match messages starting with a string, one can use
e.g. <em>:/^foo</em>. The special sequence <em>:/!</em> is reserved for modifiers to what
is matched. <em>:/!-foo</em> performs a negative match, while <em>:/!!foo</em> matches a
literal <em>!</em> character, followed by <em>foo</em>. Any other sequence beginning with
<em>:/!</em> is reserved for now.
Depending on the given text, the shell’s word splitting rules might
require additional quoting.</p>
</dd>
<dt> <em>&lt;rev&gt;:&lt;path&gt;</em>, e.g. <em>HEAD:README</em>, <em>master:./README</em> </dt>
<dd>
<p>A suffix <em>:</em> followed by a path names the blob or tree
at the given path in the tree-ish object named by the part
before the colon.
A path starting with <em>./</em> or <em>../</em> is relative to the current working directory.
The given path will be converted to be relative to the working tree’s root directory.
This is most useful to address a blob or tree from a commit or tree that has
the same tree structure as the working tree.</p>
</dd>
<dt> <em>:[&lt;n&gt;:]&lt;path&gt;</em>, e.g. <em>:0:README</em>, <em>:README</em> </dt>
<dd>
<p>A colon, optionally followed by a stage number (0 to 3) and a
colon, followed by a path, names a blob object in the
index at the given path. A missing stage number (and the colon
that follows it) names a stage 0 entry. During a merge, stage
1 is the common ancestor, stage 2 is the target branch’s version
(typically the current branch), and stage 3 is the version from
the branch which is being merged.</p>
</dd>
</dl>


<p>Here is an illustration, by Jon Loeliger.  Both commit nodes B
and C are parents of commit node A.  Parent commits are ordered
left-to-right.</p>



<pre>G   H   I   J
 \ /     \ /
  D   E   F
   \  |  / \
    \ | /   |
     \|/    |
      B     C
       \   /
        \ /
         A</pre>




<pre>A =      = A^0
B = A^   = A^1     = A~1
C =      = A^2
D = A^^  = A^1^1   = A~2
E = B^2  = A^^2
F = B^3  = A^^3
G = A^^^ = A^1^1^1 = A~3
H = D^2  = B^^2    = A^^^2  = A~2^2
I = F^   = B^3^    = A^^3^
J = F^2  = B^3^2   = A^^3^2</pre>





<h2>SPECIFYING RANGES</h2>


<p>History traversing commands such as <code>git log</code> operate on a set
of commits, not just a single commit.</p>


<p>For these commands,
specifying a single revision, using the notation described in the
previous section, means the set of commits <code>reachable</code> from the given
commit.</p>


<p>Specifying several revisions means the set of commits reachable from
any of the given commits.</p>


<p>A commit’s reachable set is the commit itself and the commits in
its ancestry chain.</p>


<p>There are several notations to specify a set of connected commits
(called a "revision range"), illustrated below.</p>


<h3>
Commit Exclusions</h3>

<dl>
<dt> <em>^&lt;rev&gt;</em> (caret) Notation </dt>
<dd>
<p>To exclude commits reachable from a commit, a prefix <em>^</em>
notation is used.  E.g. <em>^r1 r2</em> means commits reachable
from <em>r2</em> but exclude the ones reachable from <em>r1</em> (i.e. <em>r1</em> and
its ancestors).</p>
</dd>
</dl>



<h3>
Dotted Range Notations</h3>

<dl>
<dt> The <em>..</em> (two-dot) Range Notation </dt>
<dd>
<p>The <em>^r1 r2</em> set operation appears so often that there is a shorthand
for it.  When you have two commits <em>r1</em> and <em>r2</em> (named according
to the syntax explained in SPECIFYING REVISIONS above), you can ask
for commits that are reachable from r2 excluding those that are reachable
from r1 by <em>^r1 r2</em> and it can be written as <em>r1..r2</em>.</p>
</dd>
<dt> The <em>…<U+200B></em> (three-dot) Symmetric Difference Notation </dt>
<dd>
<p>A similar notation <em>r1...r2</em> is called symmetric difference
of <em>r1</em> and <em>r2</em> and is defined as
<em>r1 r2 --not $(git merge-base --all r1 r2)</em>.
It is the set of commits that are reachable from either one of
<em>r1</em> (left side) or <em>r2</em> (right side) but not from both.</p>
</dd>
</dl>


<p>In these two shorthand notations, you can omit one end and let it default to HEAD.
For example, <em>origin..</em> is a shorthand for <em>origin..HEAD</em> and asks "What
did I do since I forked from the origin branch?"  Similarly, <em>..origin</em>
is a shorthand for <em>HEAD..origin</em> and asks "What did the origin do since
I forked from them?"  Note that <em>..</em> would mean <em>HEAD..HEAD</em> which is an
empty range that is both reachable and unreachable from HEAD.</p>


<p>Commands that are specifically designed to take two distinct ranges
(e.g. "git range-diff R1 R2" to compare two ranges) do exist, but
they are exceptions.  Unless otherwise noted, all "git" commands
that operate on a set of commits work on a single revision range.
In other words, writing two "two-dot range notation" next to each
other, e.g.</p>



<pre>$ git log A..B C..D</pre>



<p>does <strong>not</strong> specify two revision ranges for most commands.  Instead
it will name a single connected set of commits, i.e. those that are
reachable from either B or D but are reachable from neither A or C.
In a linear history like this:</p>



<pre>---A---B---o---o---C---D</pre>



<p>because A and B are reachable from C, the revision range specified
by these two dotted ranges is a single commit D.</p>



<h3>
Other &lt;rev&gt;^ Parent Shorthand Notations</h3>

<p>Three other shorthands exist, particularly useful for merge commits,
for naming a set that is formed by a commit and its parent commits.</p>


<p>The <em>r1^@</em> notation means all parents of <em>r1</em>.</p>


<p>The <em>r1^!</em> notation includes commit <em>r1</em> but excludes all of its parents.
By itself, this notation denotes the single commit <em>r1</em>.</p>


<p>The <em>&lt;rev&gt;^-[&lt;n&gt;]</em> notation includes <em>&lt;rev&gt;</em> but excludes the &lt;n&gt;th
parent (i.e. a shorthand for <em>&lt;rev&gt;^&lt;n&gt;..&lt;rev&gt;</em>), with <em>&lt;n&gt;</em> = 1 if
not given. This is typically useful for merge commits where you
can just pass <em>&lt;commit&gt;^-</em> to get all the commits in the branch
that was merged in merge commit <em>&lt;commit&gt;</em> (including <em>&lt;commit&gt;</em>
itself).</p>


<p>While <em>&lt;rev&gt;^&lt;n&gt;</em> was about specifying a single commit parent, these
three notations also consider its parents. For example you can say
<em>HEAD^2^@</em>, however you cannot say <em>HEAD^@^2</em>.</p>





<h2>Revision Range Summary</h2>


<dl>
<dt> <em>&lt;rev&gt;</em> </dt>
<dd>
<p>Include commits that are reachable from &lt;rev&gt; (i.e. &lt;rev&gt; and its
ancestors).</p>
</dd>
<dt> <em>^&lt;rev&gt;</em> </dt>
<dd>
<p>Exclude commits that are reachable from &lt;rev&gt; (i.e. &lt;rev&gt; and its
ancestors).</p>
</dd>
<dt> <em>&lt;rev1&gt;..&lt;rev2&gt;</em> </dt>
<dd>
<p>Include commits that are reachable from &lt;rev2&gt; but exclude
those that are reachable from &lt;rev1&gt;.  When either &lt;rev1&gt; or
&lt;rev2&gt; is omitted, it defaults to <code>HEAD</code>.</p>
</dd>
<dt> <em>&lt;rev1&gt;...&lt;rev2&gt;</em> </dt>
<dd>
<p>Include commits that are reachable from either &lt;rev1&gt; or
&lt;rev2&gt; but exclude those that are reachable from both.  When
either &lt;rev1&gt; or &lt;rev2&gt; is omitted, it defaults to <code>HEAD</code>.</p>
</dd>
<dt> <em>&lt;rev&gt;^@</em>, e.g. <em>HEAD^@</em> </dt>
<dd>
<p>A suffix <em>^</em> followed by an at sign is the same as listing
all parents of <em>&lt;rev&gt;</em> (meaning, include anything reachable from
its parents, but not the commit itself).</p>
</dd>
<dt> <em>&lt;rev&gt;^!</em>, e.g. <em>HEAD^!</em> </dt>
<dd>
<p>A suffix <em>^</em> followed by an exclamation mark is the same
as giving commit <em>&lt;rev&gt;</em> and then all its parents prefixed with
<em>^</em> to exclude them (and their ancestors).</p>
</dd>
<dt> <em>&lt;rev&gt;^-&lt;n&gt;</em>, e.g. <em>HEAD^-, HEAD^-2</em> </dt>
<dd>
<p>Equivalent to <em>&lt;rev&gt;^&lt;n&gt;..&lt;rev&gt;</em>, with <em>&lt;n&gt;</em> = 1 if not
given.</p>
</dd>
</dl>


<p>Here are a handful of examples using the Loeliger illustration above,
with each step in the notation’s expansion and selection carefully
spelt out:</p>



<pre>   Args   Expanded arguments    Selected commits
   D                            G H D
   D F                          G H I J D F
   ^G D                         H D
   ^D B                         E I J F B
   ^D B C                       E I J F B C
   C                            I J F C
   B..C   = ^B C                C
   B...C  = B ^F C              G H D E B C
   B^-    = B^..B
	  = ^B^1 B              E I J F B
   C^@    = C^1
	  = F                   I J F
   B^@    = B^1 B^2 B^3
	  = D E F               D G H E F I J
   C^!    = C ^C^@
	  = C ^C^1
	  = C ^F                C
   B^!    = B ^B^@
	  = B ^B^1 ^B^2 ^B^3
	  = B ^D ^E ^F          B
   F^! D  = F ^I ^J D           G H D F</pre>





<h2>PARSEOPT</h2>


<p>In <code>--parseopt</code> mode, <em>git rev-parse</em> helps massaging options to bring to shell
scripts the same facilities C builtins have. It works as an option normalizer
(e.g. splits single switches aggregate values), a bit like <code>getopt(1)</code> does.</p>


<p>It takes on the standard input the specification of the options to parse and
understand, and echoes on the standard output a string suitable for <code>sh(1)</code> <code>eval</code>
to replace the arguments with normalized ones.  In case of error, it outputs
usage on the standard error stream, and exits with code 129.</p>


<p>Note: Make sure you quote the result when passing it to <code>eval</code>.  See
below for an example.</p>


<h3>
Input Format</h3>

<p><em>git rev-parse --parseopt</em> input format is fully text based. It has two parts,
separated by a line that contains only <code>--</code>. The lines before the separator
(should be one or more) are used for the usage.
The lines after the separator describe the options.</p>


<p>Each line of options has this format:</p>



<pre>&lt;opt-spec&gt;&lt;flags&gt;*&lt;arg-hint&gt;? SP+ help LF</pre>



<dl>
<dt> <code>&lt;opt-spec&gt;</code> </dt>
<dd>
<p>its format is the short option character, then the long option name
separated by a comma. Both parts are not required, though at least one
is necessary. May not contain any of the <code>&lt;flags&gt;</code> characters.
<code>h,help</code>, <code>dry-run</code> and <code>f</code> are examples of correct <code>&lt;opt-spec&gt;</code>.</p>
</dd>
<dt> <code>&lt;flags&gt;</code> </dt>
<dd>
<p><code>&lt;flags&gt;</code> are of <code>*</code>, <code>=</code>, <code>?</code> or <code>!</code>.</p>

<ul>
<li>
<p>Use <code>=</code> if the option takes an argument.</p>
</li>
<li>
<p>Use <code>?</code> to mean that the option takes an optional argument. You
probably want to use the <code>--stuck-long</code> mode to be able to
unambiguously parse the optional argument.</p>
</li>
<li>
<p>Use <code>*</code> to mean that this option should not be listed in the usage
generated for the <code>-h</code> argument. It’s shown for <code>--help-all</code> as
documented in <a href="/docs/gitcli">gitcli[7]</a>.</p>
</li>
<li>
<p>Use <code>!</code> to not make the corresponding negated long option available.</p>
</li>
</ul>

</dd>
<dt> <code>&lt;arg-hint&gt;</code> </dt>
<dd>
<p><code>&lt;arg-hint&gt;</code>, if specified, is used as a name of the argument in the
help output, for options that take arguments. <code>&lt;arg-hint&gt;</code> is
terminated by the first whitespace.  It is customary to use a
dash to separate words in a multi-word argument hint.</p>
</dd>
</dl>


<p>The remainder of the line, after stripping the spaces, is used
as the help associated to the option.</p>


<p>Blank lines are ignored, and lines that don’t match this specification are used
as option group headers (start the line with a space to create such
lines on purpose).</p>



<h3>
Example</h3>


<pre>OPTS_SPEC="\
some-command [&lt;options&gt;] &lt;args&gt;...

some-command does foo and bar!
--
h,help    show the help

foo       some nifty option --foo
bar=      some cool option --bar with an argument
baz=arg   another cool option --baz with a named argument
qux?path  qux may take a path argument but has meaning by itself

  An option group Header
C?        option C with an optional argument"

eval "$(echo "$OPTS_SPEC" | git rev-parse --parseopt -- "$@" || echo exit $?)"</pre>




<h3>
Usage text</h3>

<p>When <code>"$@"</code> is <code>-h</code> or <code>--help</code> in the above example, the following
usage text would be shown:</p>



<pre>usage: some-command [&lt;options&gt;] &lt;args&gt;...

    some-command does foo and bar!

    -h, --help            show the help
    --foo                 some nifty option --foo
    --bar ...             some cool option --bar with an argument
    --baz &lt;arg&gt;           another cool option --baz with a named argument
    --qux[=&lt;path&gt;]        qux may take a path argument but has meaning by itself

An option group Header
    -C[...]               option C with an optional argument</pre>






<h2>SQ-QUOTE</h2>


<p>In <code>--sq-quote</code> mode, <em>git rev-parse</em> echoes on the standard output a
single line suitable for <code>sh(1)</code> <code>eval</code>. This line is made by
normalizing the arguments following <code>--sq-quote</code>. Nothing other than
quoting the arguments is done.</p>


<p>If you want command input to still be interpreted as usual by
<em>git rev-parse</em> before the output is shell quoted, see the <code>--sq</code>
option.</p>


<h3>
Example</h3>


<pre>$ cat &gt;your-git-script.sh &lt;&lt;\EOF
#!/bin/sh
args=$(git rev-parse --sq-quote "$@")   # quote user-supplied arguments
command="git frotz -n24 $args"          # and use it inside a handcrafted
					# command line
eval "$command"
EOF

$ sh your-git-script.sh "a b'c"</pre>






<h2>examples</h2>


<ul>
<li>
<p>Print the object name of the current commit:</p>


<pre>$ git rev-parse --verify HEAD</pre>


</li>
<li>
<p>Print the commit object name from the revision in the $REV shell variable:</p>


<pre>$ git rev-parse --verify --end-of-options $REV^{commit}</pre>



<p>This will error out if $REV is empty or not a valid revision.</p>

</li>
<li>
<p>Similar to above:</p>


<pre>$ git rev-parse --default master --verify --end-of-options $REV</pre>



<p>but if $REV is empty, the commit object name from master will be printed.</p>

</li>
</ul>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-show-ref - List references in a local repository</span></h2>




<h2><br>synopsis</h2>


<pre><em>git show-ref</em> [-q|--quiet] [--verify] [--head] [-d|--dereference]
	     [-s|--hash[=&lt;n&gt;]] [--abbrev[=&lt;n&gt;]] [--tags]
	     [--heads] [--] [&lt;pattern&gt;…<U+200B>]
<em>git show-ref</em> --exclude-existing[=&lt;pattern&gt;]</pre>




<h2>description</h2>


<p>Displays references available in a local repository along with the associated
commit IDs. Results can be filtered using a pattern and tags can be
dereferenced into object IDs. Additionally, it can be used to test whether a
particular ref exists.</p>


<p>By default, shows the tags, heads, and remote refs.</p>


<p>The --exclude-existing form is a filter that does the inverse. It reads
refs from stdin, one ref per line, and shows those that don’t exist in
the local repository.</p>


<p>Use of this utility is encouraged in favor of directly accessing files under
the <code>.git</code> directory.</p>




<h2>options</h2>


<dl>
<dt> --head </dt>
<dd>
<p>Show the HEAD reference, even if it would normally be filtered out.</p>
</dd>
<dt> --heads </dt>
<dt> --tags </dt>
<dd>
<p>Limit to "refs/heads" and "refs/tags", respectively.  These options
are not mutually exclusive; when given both, references stored in
"refs/heads" and "refs/tags" are displayed.</p>
</dd>
<dt> -d </dt>
<dt> --dereference </dt>
<dd>
<p>Dereference tags into object IDs as well. They will be shown with "^{}"
appended.</p>
</dd>
<dt> -s </dt>
<dt> --hash[=&lt;n&gt;] </dt>
<dd>
<p>Only show the SHA-1 hash, not the reference name. When combined with
--dereference the dereferenced tag will still be shown after the SHA-1.</p>
</dd>
<dt> --verify </dt>
<dd>
<p>Enable stricter reference checking by requiring an exact ref path.
Aside from returning an error code of 1, it will also print an error
message if <code>--quiet</code> was not specified.</p>
</dd>
<dt> --abbrev[=&lt;n&gt;] </dt>
<dd>
<p>Abbreviate the object name.  When using <code>--hash</code>, you do
not have to say <code>--hash --abbrev</code>; <code>--hash=n</code> would do.</p>
</dd>
<dt> -q </dt>
<dt> --quiet </dt>
<dd>
<p>Do not print any results to stdout. When combined with <code>--verify</code> this
can be used to silently check if a reference exists.</p>
</dd>
<dt> --exclude-existing[=&lt;pattern&gt;] </dt>
<dd>
<p>Make <em>git show-ref</em> act as a filter that reads refs from stdin of the
form "<code>^(?:&lt;anything&gt;\s)?&lt;refname&gt;(?:\^{})?$</code>"
and performs the following actions on each:
(1) strip "^{}" at the end of line if any;
(2) ignore if pattern is provided and does not head-match refname;
(3) warn if refname is not a well-formed refname and skip;
(4) ignore if refname is a ref that exists in the local repository;
(5) otherwise output the line.</p>
</dd>
<dt> &lt;pattern&gt;…<U+200B> </dt>
<dd>
<p>Show references matching one or more patterns. Patterns are matched from
the end of the full name, and only complete parts are matched, e.g.
<em>master</em> matches <em>refs/heads/master</em>, <em>refs/remotes/origin/master</em>,
<em>refs/tags/jedi/master</em> but not <em>refs/heads/mymaster</em> or
<em>refs/remotes/master/jedi</em>.</p>
</dd>
</dl>




<h2>OUTPUT</h2>


<p>The output is in the format: <em>&lt;SHA-1 ID&gt;</em> <em>&lt;space&gt;</em> <em>&lt;reference name&gt;</em>.</p>



<pre>$ git show-ref --head --dereference
832e76a9899f560a90ffd62ae2ce83bbeff58f54 HEAD
832e76a9899f560a90ffd62ae2ce83bbeff58f54 refs/heads/master
832e76a9899f560a90ffd62ae2ce83bbeff58f54 refs/heads/origin
3521017556c5de4159da4615a39fa4d5d2c279b5 refs/tags/v0.99.9c
6ddc0964034342519a87fe013781abf31c6db6ad refs/tags/v0.99.9c^{}
055e4ae3ae6eb344cbabf2a5256a49ea66040131 refs/tags/v1.0rc4
423325a2d24638ddcc82ce47be5e40be550f4507 refs/tags/v1.0rc4^{}
...</pre>



<p>When using --hash (and not --dereference) the output format is: <em>&lt;SHA-1 ID&gt;</em></p>



<pre>$ git show-ref --heads --hash
2e3ba0114a1f52b47df29743d6915d056be13278
185008ae97960c8d551adcd9e23565194651b5d1
03adf42c988195b50e1a1935ba5fcbc39b2b029b
...</pre>





<h2>examples</h2>


<p>To show all references called "master", whether tags or heads or anything
else, and regardless of how deep in the reference naming hierarchy they are,
use:</p>



<pre>	git show-ref master</pre>



<p>This will show "refs/heads/master" but also "refs/remote/other-repo/master",
if such references exists.</p>


<p>When using the <code>--verify</code> flag, the command requires an exact path:</p>



<pre>	git show-ref --verify refs/heads/master</pre>



<p>will only match the exact branch called "master".</p>


<p>If nothing matches, <em>git show-ref</em> will return an error code of 1,
and in the case of verification, it will show an error message.</p>


<p>For scripting, you can ask it to be quiet with the "--quiet" flag, which
allows you to do things like</p>



<pre>	git show-ref --quiet --verify -- "refs/heads/$headname" ||
		echo "$headname is not a valid branch"</pre>



<p>to check whether a particular branch exists or not (notice how we don’t
actually want to show any results, and we want to use the full refname for it
in order to not trigger the problem with ambiguous partial matches).</p>


<p>To show only tags, or only proper branch heads, use "--tags" and/or "--heads"
respectively (using both means that it shows tags and heads, but not other
random references under the refs/ subdirectory).</p>


<p>To do automatic tag object dereferencing, use the "-d" or "--dereference"
flag, so you can do</p>



<pre>	git show-ref --tags --dereference</pre>



<p>to get a listing of all tags together with what they dereference.</p>




<h2>FILES</h2>


<p><code>.git/refs/*</code>, <code>.git/packed-refs</code></p>




<h2>SEE ALSO</h2>


<p><a href="/docs/git-for-each-ref">git-for-each-ref[1]</a>,
<a href="/docs/git-ls-remote">git-ls-remote[1]</a>,
<a href="/docs/git-update-ref">git-update-ref[1]</a>,
<a href="/docs/gitrepository-layout">gitrepository-layout[5]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-symbolic-ref - Read, modify and delete symbolic refs</span></h2>




<h2><br>synopsis</h2>


<pre><em>git symbolic-ref</em> [-m &lt;reason&gt;] &lt;name&gt; &lt;ref&gt;
<em>git symbolic-ref</em> [-q] [--short] &lt;name&gt;
<em>git symbolic-ref</em> --delete [-q] &lt;name&gt;</pre>




<h2>description</h2>


<p>Given one argument, reads which branch head the given symbolic
ref refers to and outputs its path, relative to the <code>.git/</code>
directory.  Typically you would give <code>HEAD</code> as the &lt;name&gt;
argument to see which branch your working tree is on.</p>


<p>Given two arguments, creates or updates a symbolic ref &lt;name&gt; to
point at the given branch &lt;ref&gt;.</p>


<p>Given <code>--delete</code> and an additional argument, deletes the given
symbolic ref.</p>


<p>A symbolic ref is a regular file that stores a string that
begins with <code>ref: refs/</code>.  For example, your <code>.git/HEAD</code> is
a regular file whose contents is <code>ref: refs/heads/master</code>.</p>




<h2>options</h2>


<dl>
<dt> -d </dt>
<dt> --delete </dt>
<dd>
<p>Delete the symbolic ref &lt;name&gt;.</p>
</dd>
<dt> -q </dt>
<dt> --quiet </dt>
<dd>
<p>Do not issue an error message if the &lt;name&gt; is not a
symbolic ref but a detached HEAD; instead exit with
non-zero status silently.</p>
</dd>
<dt> --short </dt>
<dd>
<p>When showing the value of &lt;name&gt; as a symbolic ref, try to shorten the
value, e.g. from <code>refs/heads/master</code> to <code>master</code>.</p>
</dd>
<dt> -m </dt>
<dd>
<p>Update the reflog for &lt;name&gt; with &lt;reason&gt;.  This is valid only
when creating or updating a symbolic ref.</p>
</dd>
</dl>




<h2>NOTES</h2>


<p>In the past, <code>.git/HEAD</code> was a symbolic link pointing at
<code>refs/heads/master</code>.  When we wanted to switch to another branch,
we did <code>ln -sf refs/heads/newbranch .git/HEAD</code>, and when we wanted
to find out which branch we are on, we did <code>readlink .git/HEAD</code>.
But symbolic links are not entirely portable, so they are now
deprecated and symbolic refs (as described above) are used by
default.</p>


<p><em>git symbolic-ref</em> will exit with status 0 if the contents of the
symbolic ref were printed correctly, with status 1 if the requested
name is not a symbolic ref, or 128 if another error occurs.</p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-update-index - Register file contents in the working tree to the index</span></h2>




<h2><br>synopsis</h2>


<pre><em>git update-index</em>
	     [--add] [--remove | --force-remove] [--replace]
	     [--refresh] [-q] [--unmerged] [--ignore-missing]
	     [(--cacheinfo &lt;mode&gt;,&lt;object&gt;,&lt;file&gt;)…<U+200B>]
	     [--chmod=(+|-)x]
	     [--[no-]assume-unchanged]
	     [--[no-]skip-worktree]
	     [--[no-]ignore-skip-worktree-entries]
	     [--[no-]fsmonitor-valid]
	     [--ignore-submodules]
	     [--[no-]split-index]
	     [--[no-|test-|force-]untracked-cache]
	     [--[no-]fsmonitor]
	     [--really-refresh] [--unresolve] [--again | -g]
	     [--info-only] [--index-info]
	     [-z] [--stdin] [--index-version &lt;n&gt;]
	     [--verbose]
	     [--] [&lt;file&gt;…<U+200B>]</pre>




<h2>description</h2>


<p>Modifies the index. Each file mentioned is updated into the index and
any <em>unmerged</em> or <em>needs updating</em> state is cleared.</p>


<p>See also <a href="/docs/git-add">git-add[1]</a> for a more user-friendly way to do some of
the most common operations on the index.</p>


<p>The way <em>git update-index</em> handles files it is told about can be modified
using the various options:</p>




<h2>options</h2>


<dl>
<dt> --add </dt>
<dd>
<p>If a specified file isn’t in the index already then it’s
added.
Default behaviour is to ignore new files.</p>
</dd>
<dt> --remove </dt>
<dd>
<p>If a specified file is in the index but is missing then it’s
removed.
Default behavior is to ignore removed file.</p>
</dd>
<dt> --refresh </dt>
<dd>
<p>Looks at the current index and checks to see if merges or
updates are needed by checking stat() information.</p>
</dd>
<dt> -q </dt>
<dd>
<p>       Quiet.  If --refresh finds that the index needs an update, the
       default behavior is to error out.  This option makes
<em>git update-index</em> continue anyway.</p>
</dd>
<dt> --ignore-submodules </dt>
<dd>
<p>Do not try to update submodules.  This option is only respected
when passed before --refresh.</p>
</dd>
<dt> --unmerged </dt>
<dd>
<p>       If --refresh finds unmerged changes in the index, the default
behavior is to error out.  This option makes <em>git update-index</em>
       continue anyway.</p>
</dd>
<dt> --ignore-missing </dt>
<dd>
<p>Ignores missing files during a --refresh</p>
</dd>
<dt> --cacheinfo &lt;mode&gt;,&lt;object&gt;,&lt;path&gt; </dt>
<dt> --cacheinfo &lt;mode&gt; &lt;object&gt; &lt;path&gt; </dt>
<dd>
<p>Directly insert the specified info into the index.  For
backward compatibility, you can also give these three
arguments as three separate parameters, but new users are
encouraged to use a single-parameter form.</p>
</dd>
<dt> --index-info </dt>
<dd>
<p>Read index information from stdin.</p>
</dd>
<dt> --chmod=(+|-)x </dt>
<dd>
<p>Set the execute permissions on the updated files.</p>
</dd>
<dt> --[no-]assume-unchanged </dt>
<dd>
<p>When this flag is specified, the object names recorded
for the paths are not updated.  Instead, this option
sets/unsets the "assume unchanged" bit for the
paths.  When the "assume unchanged" bit is on, the user
promises not to change the file and allows Git to assume
that the working tree file matches what is recorded in
the index.  If you want to change the working tree file,
you need to unset the bit to tell Git.  This is
sometimes helpful when working with a big project on a
filesystem that has very slow lstat(2) system call
(e.g. cifs).</p>

<p>Git will fail (gracefully) in case it needs to modify this file
in the index e.g. when merging in a commit;
thus, in case the assumed-untracked file is changed upstream,
you will need to handle the situation manually.</p>

</dd>
<dt> --really-refresh </dt>
<dd>
<p>Like <code>--refresh</code>, but checks stat information unconditionally,
without regard to the "assume unchanged" setting.</p>
</dd>
<dt> --[no-]skip-worktree </dt>
<dd>
<p>When one of these flags is specified, the object name recorded
for the paths are not updated. Instead, these options
set and unset the "skip-worktree" bit for the paths. See
section "Skip-worktree bit" below for more information.</p>
</dd>
<dt> --[no-]ignore-skip-worktree-entries </dt>
<dd>
<p>Do not remove skip-worktree (AKA "index-only") entries even when
the <code>--remove</code> option was specified.</p>
</dd>
<dt> --[no-]fsmonitor-valid </dt>
<dd>
<p>When one of these flags is specified, the object name recorded
for the paths are not updated. Instead, these options
set and unset the "fsmonitor valid" bit for the paths. See
section "File System Monitor" below for more information.</p>
</dd>
<dt> -g </dt>
<dt> --again </dt>
<dd>
<p>Runs <em>git update-index</em> itself on the paths whose index
entries are different from those from the <code>HEAD</code> commit.</p>
</dd>
<dt> --unresolve </dt>
<dd>
<p>Restores the <em>unmerged</em> or <em>needs updating</em> state of a
file during a merge if it was cleared by accident.</p>
</dd>
<dt> --info-only </dt>
<dd>
<p>Do not create objects in the object database for all
&lt;file&gt; arguments that follow this flag; just insert
their object IDs into the index.</p>
</dd>
<dt> --force-remove </dt>
<dd>
<p>Remove the file from the index even when the working directory
still has such a file. (Implies --remove.)</p>
</dd>
<dt> --replace </dt>
<dd>
<p>By default, when a file <code>path</code> exists in the index,
<em>git update-index</em> refuses an attempt to add <code>path/file</code>.
Similarly if a file <code>path/file</code> exists, a file <code>path</code>
cannot be added.  With --replace flag, existing entries
that conflict with the entry being added are
automatically removed with warning messages.</p>
</dd>
<dt> --stdin </dt>
<dd>
<p>Instead of taking list of paths from the command line,
read list of paths from the standard input.  Paths are
separated by LF (i.e. one path per line) by default.</p>
</dd>
<dt> --verbose </dt>
<dd>
<p>Report what is being added and removed from index.</p>
</dd>
<dt> --index-version &lt;n&gt; </dt>
<dd>
<p>Write the resulting index out in the named on-disk format version.
Supported versions are 2, 3 and 4. The current default version is 2
or 3, depending on whether extra features are used, such as
<code>git add -N</code>.</p>

<p>Version 4 performs a simple pathname compression that reduces index
size by 30%-50% on large repositories, which results in faster load
time. Version 4 is relatively young (first released in 1.8.0 in
October 2012). Other Git implementations such as JGit and libgit2
may not support it yet.</p>

</dd>
<dt> -z </dt>
<dd>
<p>Only meaningful with <code>--stdin</code> or <code>--index-info</code>; paths are
separated with NUL character instead of LF.</p>
</dd>
<dt> --split-index </dt>
<dt> --no-split-index </dt>
<dd>
<p>Enable or disable split index mode. If split-index mode is
already enabled and <code>--split-index</code> is given again, all
changes in $GIT_DIR/index are pushed back to the shared index
file.</p>

<p>These options take effect whatever the value of the <code>core.splitIndex</code>
configuration variable (see <a href="/docs/git-config">git-config[1]</a>). But a warning is
emitted when the change goes against the configured value, as the
configured value will take effect next time the index is read and this
will remove the intended effect of the option.</p>

</dd>
<dt> --untracked-cache </dt>
<dt> --no-untracked-cache </dt>
<dd>
<p>Enable or disable untracked cache feature. Please use
<code>--test-untracked-cache</code> before enabling it.</p>

<p>These options take effect whatever the value of the <code>core.untrackedCache</code>
configuration variable (see <a href="/docs/git-config">git-config[1]</a>). But a warning is
emitted when the change goes against the configured value, as the
configured value will take effect next time the index is read and this
will remove the intended effect of the option.</p>

</dd>
<dt> --test-untracked-cache </dt>
<dd>
<p>Only perform tests on the working directory to make sure
untracked cache can be used. You have to manually enable
untracked cache using <code>--untracked-cache</code> or
<code>--force-untracked-cache</code> or the <code>core.untrackedCache</code>
configuration variable afterwards if you really want to use
it. If a test fails the exit code is 1 and a message
explains what is not working as needed, otherwise the exit
code is 0 and OK is printed.</p>
</dd>
<dt> --force-untracked-cache </dt>
<dd>
<p>Same as <code>--untracked-cache</code>. Provided for backwards
compatibility with older versions of Git where
<code>--untracked-cache</code> used to imply <code>--test-untracked-cache</code> but
this option would enable the extension unconditionally.</p>
</dd>
<dt> --fsmonitor </dt>
<dt> --no-fsmonitor </dt>
<dd>
<p>Enable or disable files system monitor feature. These options
take effect whatever the value of the <code>core.fsmonitor</code>
configuration variable (see <a href="/docs/git-config">git-config[1]</a>). But a warning
is emitted when the change goes against the configured value, as
the configured value will take effect next time the index is
read and this will remove the intended effect of the option.</p>
</dd>
<dt> -- </dt>
<dd>
<p>Do not interpret any more arguments as options.</p>
</dd>
<dt> &lt;file&gt; </dt>
<dd>
<p>Files to act on.
Note that files beginning with <em>.</em> are discarded. This includes
<code>./file</code> and <code>dir/./file</code>. If you don’t want this, then use
cleaner names.
The same applies to directories ending <em>/</em> and paths with <em>//</em></p>
</dd>
</dl>




<h2>USING --REFRESH</h2>


<p><code>--refresh</code> does not calculate a new sha1 file or bring the index
up to date for mode/content changes. But what it <strong>does</strong> do is to
"re-match" the stat information of a file with the index, so that you
can refresh the index for a file that hasn’t been changed but where
the stat entry is out of date.</p>


<p>For example, you’d want to do this after doing a <em>git read-tree</em>, to link
up the stat index details with the proper files.</p>




<h2>USING --CACHEINFO OR --INFO-ONLY</h2>


<p><code>--cacheinfo</code> is used to register a file that is not in the
current working directory.  This is useful for minimum-checkout
merging.</p>


<p>To pretend you have a file at path with mode and sha1, say:</p>



<pre>$ git update-index --add --cacheinfo &lt;mode&gt;,&lt;sha1&gt;,&lt;path&gt;</pre>



<p><code>--info-only</code> is used to register files without placing them in the object
database.  This is useful for status-only repositories.</p>


<p>Both <code>--cacheinfo</code> and <code>--info-only</code> behave similarly: the index is updated
but the object database isn’t.  <code>--cacheinfo</code> is useful when the object is
in the database but the file isn’t available locally.  <code>--info-only</code> is
useful when the file is available, but you do not wish to update the
object database.</p>




<h2>USING --INDEX-INFO</h2>


<p><code>--index-info</code> is a more powerful mechanism that lets you feed
multiple entry definitions from the standard input, and designed
specifically for scripts.  It can take inputs of three formats:</p>


<ol>
<li>
<p>mode SP type SP sha1          TAB path</p>

<p>This format is to stuff <code>git ls-tree</code> output into the index.</p>

</li>
<li>
<p>mode         SP sha1 SP stage TAB path</p>

<p>This format is to put higher order stages into the
index file and matches <em>git ls-files --stage</em> output.</p>

</li>
<li>
<p>mode         SP sha1          TAB path</p>

<p>This format is no longer produced by any Git command, but is
and will continue to be supported by <code>update-index --index-info</code>.</p>

</li>
</ol>


<p>To place a higher stage entry to the index, the path should
first be removed by feeding a mode=0 entry for the path, and
then feeding necessary input lines in the third format.</p>


<p>For example, starting with this index:</p>



<pre>$ git ls-files -s
100644 8a1218a1024a212bb3db30becd860315f9f3ac52 0       frotz</pre>



<p>you can feed the following input to <code>--index-info</code>:</p>



<pre>$ git update-index --index-info
0 0000000000000000000000000000000000000000	frotz
100644 8a1218a1024a212bb3db30becd860315f9f3ac52 1	frotz
100755 8a1218a1024a212bb3db30becd860315f9f3ac52 2	frotz</pre>



<p>The first line of the input feeds 0 as the mode to remove the
path; the SHA-1 does not matter as long as it is well formatted.
Then the second and third line feeds stage 1 and stage 2 entries
for that path.  After the above, we would end up with this:</p>



<pre>$ git ls-files -s
100644 8a1218a1024a212bb3db30becd860315f9f3ac52 1	frotz
100755 8a1218a1024a212bb3db30becd860315f9f3ac52 2	frotz</pre>





<h2>USING “ASSUME UNCHANGED” BIT</h2>


<p>Many operations in Git depend on your filesystem to have an
efficient <code>lstat(2)</code> implementation, so that <code>st_mtime</code>
information for working tree files can be cheaply checked to see
if the file contents have changed from the version recorded in
the index file.  Unfortunately, some filesystems have
inefficient <code>lstat(2)</code>.  If your filesystem is one of them, you
can set "assume unchanged" bit to paths you have not changed to
cause Git not to do this check.  Note that setting this bit on a
path does not mean Git will check the contents of the file to
see if it has changed<U+2009>—<U+2009>it makes Git to omit any checking and
assume it has <strong>not</strong> changed.  When you make changes to working
tree files, you have to explicitly tell Git about it by dropping
"assume unchanged" bit, either before or after you modify them.</p>


<p>In order to set "assume unchanged" bit, use <code>--assume-unchanged</code>
option.  To unset, use <code>--no-assume-unchanged</code>. To see which files
have the "assume unchanged" bit set, use <code>git ls-files -v</code>
(see <a href="/docs/git-ls-files">git-ls-files[1]</a>).</p>


<p>The command looks at <code>core.ignorestat</code> configuration variable.  When
this is true, paths updated with <code>git update-index paths...</code> and
paths updated with other Git commands that update both index and
working tree (e.g. <em>git apply --index</em>, <em>git checkout-index -u</em>,
and <em>git read-tree -u</em>) are automatically marked as "assume
unchanged".  Note that "assume unchanged" bit is <strong>not</strong> set if
<code>git update-index --refresh</code> finds the working tree file matches
the index (use <code>git update-index --really-refresh</code> if you want
to mark them as "assume unchanged").</p>




<h2>examples</h2>


<p>To update and refresh only the files already checked out:</p>



<pre>$ git checkout-index -n -f -a &amp;&amp; git update-index --ignore-missing --refresh</pre>



<dl>
<dt> On an inefficient filesystem with <code>core.ignorestat</code> set </dt>
<dd>


<pre>$ git update-index --really-refresh              <b>(1)</b>
$ git update-index --no-assume-unchanged foo.c   <b>(2)</b>
$ git diff --name-only                           <b>(3)</b>
$ edit foo.c
$ git diff --name-only                           <b>(4)</b>
M foo.c
$ git update-index foo.c                         <b>(5)</b>
$ git diff --name-only                           <b>(6)</b>
$ edit foo.c
$ git diff --name-only                           <b>(7)</b>
$ git update-index --no-assume-unchanged foo.c   <b>(8)</b>
$ git diff --name-only                           <b>(9)</b>
M foo.c</pre>



<ol>
<li>
<p>forces lstat(2) to set "assume unchanged" bits for paths that match index.</p>
</li>
<li>
<p>mark the path to be edited.</p>
</li>
<li>
<p>this does lstat(2) and finds index matches the path.</p>
</li>
<li>
<p>this does lstat(2) and finds index does <strong>not</strong> match the path.</p>
</li>
<li>
<p>registering the new version to index sets "assume unchanged" bit.</p>
</li>
<li>
<p>and it is assumed unchanged.</p>
</li>
<li>
<p>even after you edit it.</p>
</li>
<li>
<p>you can tell about the change after the fact.</p>
</li>
<li>
<p>now it checks with lstat(2) and finds it has been changed.</p>
</li>
</ol>

</dd>
</dl>




<h2>SKIP-WORKTREE BIT</h2>


<p>Skip-worktree bit can be defined in one (long) sentence: When reading
an entry, if it is marked as skip-worktree, then Git pretends its
working directory version is up to date and read the index version
instead.</p>


<p>To elaborate, "reading" means checking for file existence, reading
file attributes or file content. The working directory version may be
present or absent. If present, its content may match against the index
version or not. Writing is not affected by this bit, content safety
is still first priority. Note that Git <em>can</em> update working directory
file, that is marked skip-worktree, if it is safe to do so (i.e.
working directory version matches index version)</p>


<p>Although this bit looks similar to assume-unchanged bit, its goal is
different from assume-unchanged bit’s. Skip-worktree also takes
precedence over assume-unchanged bit when both are set.</p>




<h2>SPLIT INDEX</h2>


<p>This mode is designed for repositories with very large indexes, and
aims at reducing the time it takes to repeatedly write these indexes.</p>


<p>In this mode, the index is split into two files, $GIT_DIR/index and
$GIT_DIR/sharedindex.&lt;SHA-1&gt;. Changes are accumulated in
$GIT_DIR/index, the split index, while the shared index file contains
all index entries and stays unchanged.</p>


<p>All changes in the split index are pushed back to the shared index
file when the number of entries in the split index reaches a level
specified by the splitIndex.maxPercentChange config variable (see
<a href="/docs/git-config">git-config[1]</a>).</p>


<p>Each time a new shared index file is created, the old shared index
files are deleted if their modification time is older than what is
specified by the splitIndex.sharedIndexExpire config variable (see
<a href="/docs/git-config">git-config[1]</a>).</p>


<p>To avoid deleting a shared index file that is still used, its
modification time is updated to the current time every time a new split
index based on the shared index file is either created or read from.</p>




<h2>UNTRACKED CACHE</h2>


<p>This cache is meant to speed up commands that involve determining
untracked files such as <code>git status</code>.</p>


<p>This feature works by recording the mtime of the working tree
directories and then omitting reading directories and stat calls
against files in those directories whose mtime hasn’t changed. For
this to work the underlying operating system and file system must
change the <code>st_mtime</code> field of directories if files in the directory
are added, modified or deleted.</p>


<p>You can test whether the filesystem supports that with the
<code>--test-untracked-cache</code> option. The <code>--untracked-cache</code> option used
to implicitly perform that test in older versions of Git, but that’s
no longer the case.</p>


<p>If you want to enable (or disable) this feature, it is easier to use
the <code>core.untrackedCache</code> configuration variable (see
<a href="/docs/git-config">git-config[1]</a>) than using the <code>--untracked-cache</code> option to
<code>git update-index</code> in each repository, especially if you want to do so
across all repositories you use, because you can set the configuration
variable to <code>true</code> (or <code>false</code>) in your <code>$HOME/.gitconfig</code> just once
and have it affect all repositories you touch.</p>


<p>When the <code>core.untrackedCache</code> configuration variable is changed, the
untracked cache is added to or removed from the index the next time a
command reads the index; while when <code>--[no-|force-]untracked-cache</code>
are used, the untracked cache is immediately added to or removed from
the index.</p>


<p>Before 2.17, the untracked cache had a bug where replacing a directory
with a symlink to another directory could cause it to incorrectly show
files tracked by git as untracked. See the "status: add a failing test
showing a core.untrackedCache bug" commit to git.git. A workaround for
that is (and this might work for other undiscovered bugs in the
future):</p>



<pre>$ git -c core.untrackedCache=false status</pre>



<p>This bug has also been shown to affect non-symlink cases of replacing
a directory with a file when it comes to the internal structures of
the untracked cache, but no case has been reported where this resulted in
wrong "git status" output.</p>


<p>There are also cases where existing indexes written by git versions
before 2.17 will reference directories that don’t exist anymore,
potentially causing many "could not open directory" warnings to be
printed on "git status". These are new warnings for existing issues
that were previously silently discarded.</p>


<p>As with the bug described above the solution is to one-off do a "git
status" run with <code>core.untrackedCache=false</code> to flush out the leftover
bad data.</p>




<h2>FILE SYSTEM MONITOR</h2>


<p>This feature is intended to speed up git operations for repos that have
large working directories.</p>


<p>It enables git to work together with a file system monitor (see the
"fsmonitor-watchman" section of <a href="/docs/githooks">githooks[5]</a>) that can
inform it as to what files have been modified. This enables git to avoid
having to lstat() every file to find modified files.</p>


<p>When used in conjunction with the untracked cache, it can further improve
performance by avoiding the cost of scanning the entire working directory
looking for new files.</p>


<p>If you want to enable (or disable) this feature, it is easier to use
the <code>core.fsmonitor</code> configuration variable (see
<a href="/docs/git-config">git-config[1]</a>) than using the <code>--fsmonitor</code> option to
<code>git update-index</code> in each repository, especially if you want to do so
across all repositories you use, because you can set the configuration
variable in your <code>$HOME/.gitconfig</code> just once and have it affect all
repositories you touch.</p>


<p>When the <code>core.fsmonitor</code> configuration variable is changed, the
file system monitor is added to or removed from the index the next time
a command reads the index. When <code>--[no-]fsmonitor</code> are used, the file
system monitor is immediately added to or removed from the index.</p>




<h2>CONFIGURATION</h2>


<p>The command honors <code>core.filemode</code> configuration variable.  If
your repository is on a filesystem whose executable bits are
unreliable, this should be set to <em>false</em> (see <a href="/docs/git-config">git-config[1]</a>).
This causes the command to ignore differences in file modes recorded
in the index and the file mode on the filesystem if they differ only on
executable bit.   On such an unfortunate filesystem, you may
need to use <em>git update-index --chmod=</em>.</p>


<p>Quite similarly, if <code>core.symlinks</code> configuration variable is set
to <em>false</em> (see <a href="/docs/git-config">git-config[1]</a>), symbolic links are checked out
as plain files, and this command does not modify a recorded file mode
from symbolic link to regular file.</p>


<p>The command looks at <code>core.ignorestat</code> configuration variable.  See
<em>Using "assume unchanged" bit</em> section above.</p>


<p>The command also looks at <code>core.trustctime</code> configuration variable.
It can be useful when the inode change time is regularly modified by
something outside Git (file system crawlers and backup systems use
ctime for marking files processed) (see <a href="/docs/git-config">git-config[1]</a>).</p>


<p>The untracked cache extension can be enabled by the
<code>core.untrackedCache</code> configuration variable (see
<a href="/docs/git-config">git-config[1]</a>).</p>




<h2>NOTES</h2>


<p>Users often try to use the assume-unchanged and skip-worktree bits
to tell Git to ignore changes to files that are tracked.  This does not
work as expected, since Git may still check working tree files against
the index when performing certain operations.  In general, Git does not
provide a way to ignore changes to tracked files, so alternate solutions
are recommended.</p>


<p>For example, if the file you want to change is some sort of config file,
the repository can include a sample config file that can then be copied
into the ignored name and modified.  The repository can even include a
script to treat the sample file as a template, modifying and copying it
automatically.</p>




<h2>SEE ALSO</h2>


<p><a href="/docs/git-config">git-config[1]</a>,
<a href="/docs/git-add">git-add[1]</a>,
<a href="/docs/git-ls-files">git-ls-files[1]</a></p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-update-ref - Update the object name stored in a ref safely</span></h2>




<h2><br>synopsis</h2>


<pre><em>git update-ref</em> [-m &lt;reason&gt;] [--no-deref] (-d &lt;ref&gt; [&lt;oldvalue&gt;] | [--create-reflog] &lt;ref&gt; &lt;newvalue&gt; [&lt;oldvalue&gt;] | --stdin [-z])</pre>




<h2>description</h2>


<p>Given two arguments, stores the &lt;newvalue&gt; in the &lt;ref&gt;, possibly
dereferencing the symbolic refs.  E.g. <code>git update-ref HEAD
&lt;newvalue&gt;</code> updates the current branch head to the new object.</p>


<p>Given three arguments, stores the &lt;newvalue&gt; in the &lt;ref&gt;,
possibly dereferencing the symbolic refs, after verifying that
the current value of the &lt;ref&gt; matches &lt;oldvalue&gt;.
E.g. <code>git update-ref refs/heads/master &lt;newvalue&gt; &lt;oldvalue&gt;</code>
updates the master branch head to &lt;newvalue&gt; only if its current
value is &lt;oldvalue&gt;.  You can specify 40 "0" or an empty string
as &lt;oldvalue&gt; to make sure that the ref you are creating does
not exist.</p>


<p>It also allows a "ref" file to be a symbolic pointer to another
ref file by starting with the four-byte header sequence of
"ref:".</p>


<p>More importantly, it allows the update of a ref file to follow
these symbolic pointers, whether they are symlinks or these
"regular file symbolic refs".  It follows <strong>real</strong> symlinks only
if they start with "refs/": otherwise it will just try to read
them and update them as a regular file (i.e. it will allow the
filesystem to follow them, but will overwrite such a symlink to
somewhere else with a regular filename).</p>


<p>If --no-deref is given, &lt;ref&gt; itself is overwritten, rather than
the result of following the symbolic pointers.</p>


<p>In general, using</p>



<pre>git update-ref HEAD "$head"</pre>



<p>should be a <em>lot</em> safer than doing</p>



<pre>echo "$head" &gt; "$GIT_DIR/HEAD"</pre>



<p>both from a symlink following standpoint <strong>and</strong> an error checking
standpoint.  The "refs/" rule for symlinks means that symlinks
that point to "outside" the tree are safe: they’ll be followed
for reading but not for writing (so we’ll never write through a
ref symlink to some other tree, if you have copied a whole
archive by creating a symlink tree).</p>


<p>With <code>-d</code> flag, it deletes the named &lt;ref&gt; after verifying it
still contains &lt;oldvalue&gt;.</p>


<p>With <code>--stdin</code>, update-ref reads instructions from standard input and
performs all modifications together.  Specify commands of the form:</p>



<pre>update SP &lt;ref&gt; SP &lt;newvalue&gt; [SP &lt;oldvalue&gt;] LF
create SP &lt;ref&gt; SP &lt;newvalue&gt; LF
delete SP &lt;ref&gt; [SP &lt;oldvalue&gt;] LF
verify SP &lt;ref&gt; [SP &lt;oldvalue&gt;] LF
option SP &lt;opt&gt; LF
start LF
prepare LF
commit LF
abort LF</pre>



<p>With <code>--create-reflog</code>, update-ref will create a reflog for each ref
even if one would not ordinarily be created.</p>


<p>Quote fields containing whitespace as if they were strings in C source
code; i.e., surrounded by double-quotes and with backslash escapes.
Use 40 "0" characters or the empty string to specify a zero value.  To
specify a missing value, omit the value and its preceding SP entirely.</p>


<p>Alternatively, use <code>-z</code> to specify in NUL-terminated format, without
quoting:</p>



<pre>update SP &lt;ref&gt; NUL &lt;newvalue&gt; NUL [&lt;oldvalue&gt;] NUL
create SP &lt;ref&gt; NUL &lt;newvalue&gt; NUL
delete SP &lt;ref&gt; NUL [&lt;oldvalue&gt;] NUL
verify SP &lt;ref&gt; NUL [&lt;oldvalue&gt;] NUL
option SP &lt;opt&gt; NUL
start NUL
prepare NUL
commit NUL
abort NUL</pre>



<p>In this format, use 40 "0" to specify a zero value, and use the empty
string to specify a missing value.</p>


<p>In either format, values can be specified in any form that Git
recognizes as an object name.  Commands in any other format or a
repeated &lt;ref&gt; produce an error.  Command meanings are:</p>


<dl>
<dt> update </dt>
<dd>
<p>Set &lt;ref&gt; to &lt;newvalue&gt; after verifying &lt;oldvalue&gt;, if given.
Specify a zero &lt;newvalue&gt; to ensure the ref does not exist
after the update and/or a zero &lt;oldvalue&gt; to make sure the
ref does not exist before the update.</p>
</dd>
<dt> create </dt>
<dd>
<p>Create &lt;ref&gt; with &lt;newvalue&gt; after verifying it does not
exist.  The given &lt;newvalue&gt; may not be zero.</p>
</dd>
<dt> delete </dt>
<dd>
<p>Delete &lt;ref&gt; after verifying it exists with &lt;oldvalue&gt;, if
given.  If given, &lt;oldvalue&gt; may not be zero.</p>
</dd>
<dt> verify </dt>
<dd>
<p>Verify &lt;ref&gt; against &lt;oldvalue&gt; but do not change it.  If
&lt;oldvalue&gt; is zero or missing, the ref must not exist.</p>
</dd>
<dt> option </dt>
<dd>
<p>Modify behavior of the next command naming a &lt;ref&gt;.
The only valid option is <code>no-deref</code> to avoid dereferencing
a symbolic ref.</p>
</dd>
<dt> start </dt>
<dd>
<p>Start a transaction. In contrast to a non-transactional session, a
transaction will automatically abort if the session ends without an
explicit commit. This command may create a new empty transaction when
the current one has been committed or aborted already.</p>
</dd>
<dt> prepare </dt>
<dd>
<p>Prepare to commit the transaction. This will create lock files for all
queued reference updates. If one reference could not be locked, the
transaction will be aborted.</p>
</dd>
<dt> commit </dt>
<dd>
<p>Commit all reference updates queued for the transaction, ending the
transaction.</p>
</dd>
<dt> abort </dt>
<dd>
<p>Abort the transaction, releasing all locks if the transaction is in
prepared state.</p>
</dd>
</dl>


<p>If all &lt;ref&gt;s can be locked with matching &lt;oldvalue&gt;s
simultaneously, all modifications are performed.  Otherwise, no
modifications are performed.  Note that while each individual
&lt;ref&gt; is updated or deleted atomically, a concurrent reader may
still see a subset of the modifications.</p>




<h2>LOGGING UPDATES</h2>


<p>If config parameter "core.logAllRefUpdates" is true and the ref is one
under "refs/heads/", "refs/remotes/", "refs/notes/", or a pseudoref
like HEAD or ORIG_HEAD; or the file "$GIT_DIR/logs/&lt;ref&gt;" exists then
<code>git update-ref</code> will append a line to the log file
"$GIT_DIR/logs/&lt;ref&gt;" (dereferencing all symbolic refs before creating
the log name) describing the change in ref value.  Log lines are
formatted as:</p>



<pre>oldsha1 SP newsha1 SP committer LF</pre>



<p>Where "oldsha1" is the 40 character hexadecimal value previously
stored in &lt;ref&gt;, "newsha1" is the 40 character hexadecimal value of
&lt;newvalue&gt; and "committer" is the committer’s name, email address
and date in the standard Git committer ident format.</p>


<p>Optionally with -m:</p>



<pre>oldsha1 SP newsha1 SP committer TAB message LF</pre>



<p>Where all fields are as described above and "message" is the
value supplied to the -m option.</p>


<p>An update will fail (without changing &lt;ref&gt;) if the current user is
unable to create a new log file, append to the existing log file
or does not have committer information available.</p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-verify-pack - Validate packed Git archive files</span></h2>




<h2><br>synopsis</h2>


<pre><em>git verify-pack</em> [-v|--verbose] [-s|--stat-only] [--] &lt;pack&gt;.idx …<U+200B></pre>




<h2>description</h2>


<p>Reads given idx file for packed Git archive created with the
<em>git pack-objects</em> command and verifies idx file and the
corresponding pack file.</p>




<h2>options</h2>


<dl>
<dt> &lt;pack&gt;.idx …<U+200B> </dt>
<dd>
<p>The idx files to verify.</p>
</dd>
<dt> -v </dt>
<dt> --verbose </dt>
<dd>
<p>After verifying the pack, show list of objects contained
in the pack and a histogram of delta chain length.</p>
</dd>
<dt> -s </dt>
<dt> --stat-only </dt>
<dd>
<p>Do not verify the pack contents; only show the histogram of delta
chain length.  With <code>--verbose</code>, list of objects is also shown.</p>
</dd>
<dt> -- </dt>
<dd>
<p>Do not interpret any more arguments as options.</p>
</dd>
</dl>




<h2>OUTPUT FORMAT</h2>


<p>When specifying the -v option the format used is:</p>



<pre>SHA-1 type size size-in-packfile offset-in-packfile</pre>



<p>for objects that are not deltified in the pack, and</p>



<pre>SHA-1 type size size-in-packfile offset-in-packfile depth base-SHA-1</pre>



<p>for objects that are deltified.</p>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>



  

    
<h2><br><span class="orange">git-write-tree - Create a tree object from the current index</span></h2>




<h2><br>synopsis</h2>


<pre><em>git write-tree</em> [--missing-ok] [--prefix=&lt;prefix&gt;/]</pre>




<h2>description</h2>


<p>Creates a tree object using the current index. The name of the new
tree object is printed to standard output.</p>


<p>The index must be in a fully merged state.</p>


<p>Conceptually, <em>git write-tree</em> sync()s the current index contents
into a set of tree files.
In order to have that match what is actually in your directory right
now, you need to have done a <em>git update-index</em> phase before you did the
<em>git write-tree</em>.</p>




<h2>options</h2>


<dl>
<dt> --missing-ok </dt>
<dd>
<p>Normally <em>git write-tree</em> ensures that the objects referenced by the
directory exist in the object database.  This option disables this
check.</p>
</dd>
<dt> --prefix=&lt;prefix&gt;/ </dt>
<dd>
<p>Writes a tree object that represents a subdirectory
<code>&lt;prefix&gt;</code>.  This can be used to write the tree object
for a subproject that is in the named subdirectory.</p>
</dd>
</dl>




<h2>GIT</h2>


<p>Part of the <a href="/docs/git">git[1]</a> suite</p>

<script src='https://williamkpchan.github.io/LibDocs/readbook.js'></script>
